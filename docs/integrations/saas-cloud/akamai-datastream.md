---
id: akamai-datastream
title: Akamai DataStream
sidebar_label: Akamai DataStream
description: Monitor and analyze the performance of Akamai Edge server.
---

import useBaseUrl from '@docusaurus/useBaseUrl';

<img src={useBaseUrl('img/integrations/saas-cloud/akamai.svg')} alt="Thumbnail icon" width="100"/>

The Sumo Logic App for Akamai DataStream is designed to monitor and analyze the performance of your Akamai Edge server, and request handling pipeline. It helps to identify any issues that may be impacting your users' experience. This app is tailored to work with the logs generated by Akamai DataStream 2, which include valuable information about each request, such as the request path, status code, response time, and more.

Akamai DataStream app provides pre-built queries that allow you to analyze your logs by various parameters, including response time, status code, request path, and more. In addition, this app includes dashboards that allow you to visualize your log data to easily understand the trends and patterns. You can also use these dashboards to monitor key metrics, such as request volume, response time, and error rate, which assists you in identifying any anomalies or issues.

## Log types

This App uses Akamai Source to collect [DataStream 2 Logs](https://techdocs.akamai.com/datastream2/docs/log-format-1#sample-log-lines) for Akamai DataStream.

### Sample log messages

```json title="DataStream 2"
{
  "version": 1,
  "streamId": "12345",
  "cp": "123456",
  "reqId": "1239f220",
  "reqTimeSec": "1573840000",
  "bytes": "4995",
  "cliIP": "128.147.28.68",
  "statusCode": "206",
  "proto": "HTTPS",
  "reqHost": "test.hostname.net",
  "reqMethod": "GET",
  "reqPath": "/path1/path2/file.ext",
  "reqPort": "443",
  "rspContentLen": "5000",
  "rspContentType": "text/html",
  "UA": "Mozilla%2F5.0+%28Macintosh%3B+Intel+Mac+OS+X+10_14_3%29",
  "tlsOverheadTimeMSec": "0",
  "tlsVersion": "TLSv1",
  "objSize": "484",
  "uncompressedSize": "484",
  "overheadBytes": "232",
  "totalBytes": "0",
  "queryStr": "param=value",
  "breadcrumbs": "//BC/%5Ba=23.33.41.20,c=g,k=0,l=1%5D",
  "accLang": "en-US",
  "cookie": "cookie-content",
  "range": "37334-42356",
  "referer": "https%3A%2F%2Ftest.referrer.net%2Fen-US%2Fdocs%2FWeb%2Ftest",
  "xForwardedFor": "8.47.28.38",
  "maxAgeSec": "3600",
  "reqEndTimeMSec": "3",
  "errorCode": "ERR_ACCESS_DENIED|fwd_acl",
  "turnAroundTimeMSec": "11",
  "transferTimeMSec": "125",
  "dnsLookupTimeMSec": "50",
  "lastByte": "1",
  "edgeIP": "23.50.51.173",
  "country": "IN",
  "state": "Virginia",
  "city": "HERNDON",
  "serverCountry": "SG",
  "billingRegion": "8",
  "cacheStatus": "1",
  "securityRules": "ULnR_28976|3900000:3900001:3900005:3900006:BOT-ANOMALY-HEADER|",
  "ewUsageInfo": "//4380/4.0/1/-/0/4/#1,2\\//4380/4.0/4/-/0/4/#0,0\\//4380/4.0/5/-/1/1/#0,0",
  "ewExecutionInfo": "c:4380:7:161:162:161:n:::12473:200|C:4380:3:0:4:0:n:::6967:200|R:4380:20:99:99:1:n:::35982:200",
  "customField": "any-custom-value"
}
```

### Sample queries

```sql
_sourceCategory="akamai"
| json "version", "streamId", "cp", "reqId", "reqTimeSec", "bytes", "cliIP", "statusCode", "proto", "reqHost", "reqMethod", "reqPath", "reqPort", "rspContentLen", "rspContentType", "UA", "tlsOverheadTimeMSec", "tlsVersion", "objSize", "uncompressedSize", "overheadBytes", "totalBytes", "queryStr", "breadcrumbs", "accLang", "cookie", "range", "referer", "xForwardedFor", "maxAgeSec", "reqEndTimeMSec", "errorCode", "turnAroundTimeMSec", "transferTimeMSec", "dnsLookupTimeMSec", "lastByte", "edgeIP", "country", "state", "city", "serverCountry", "billingRegion", "cacheStatus", "securityRules", "ewUsageInfo", "ewExecutionInfo", "customField" as  version, streamId, cp, reqId, reqTimeSec, bytes, cliIP, statusCode, proto, reqHost, reqMethod, reqPath, reqPort, rspContentLen, rspContentType, UA, tlsOverheadTimeMSec, tlsVersion, objSize, uncompressedSize, overheadBytes, totalBytes, queryStr, breadcrumbs, accLang, cookie, range, referer, xForwardedFor, maxAgeSec, reqEndTimeMSec, errorCode, turnAroundTimeMSec, transferTimeMSec, dnsLookupTimeMSec, lastByte, edgeIP, country, state, city, serverCountry, billingRegion, cacheStatus, securityRules, ewUsageInfo, ewExecutionInfo, customField
```

## Setup Collection

Follow the instructions for setting up [Integration for Akamai DataStream 2](https://techdocs.akamai.com/datastream2/docs/stream-sumo-logic) source and use the same source category while installing the app.

## Installing the Akamai DataStream app

Now that you have configured Akamai DataStream 2 logs, install the Sumo Logic App for Akamai DataStream to take advantage of the pre-configured searches and dashboards.

import AppInstall from '../../reuse/apps/app-install-v2.md';

<AppInstall/>

## Viewing Akamai DataStream dashboardsâ€‹

import ViewDashboards from '../../reuse/apps/view-dashboards.md';

<ViewDashboards/>

### Overview

The **Akamai DataStream - Overview** dashboard displays the geo location of requests, requests from risky locations, cache hit ratio trend, URLs causing issues, and user agent breakdown.

<img src={useBaseUrl('img/integrations/saas-cloud/Akamai-DataStream-Overview.png')} alt="Akamai-DataStream-Overview"/>

### Performance and Qos Monitoring

The **Akamai DataStream - Performance and Qos Monitoring** dashboard analyze response time and provides analysis between response time and requests, DNS lookup delay by geolocations, and shows transfer time by the requested path.

<img src={useBaseUrl('img/integrations/saas-cloud/Akamai-DataStream-Performance-and-Qos-Monitoring.png')} alt="Akamai-DataStream-Performance-and-Qos-Monitoring"/>

### Requests Type

The **Akamai DataStream - Requests Type** dashboard provides details about visitor platforms, breakdown of browsers and OS, cache hit ratio by content type, and requests with errors.

<img src={useBaseUrl('img/integrations/saas-cloud/Akamai-DataStream-Requests-Type.png')} alt="Akamai-DataStream-Requests-Type"/>

### Akamai DataStream - Video Streaming

The **Akamai DataStream - Video Streaming** dashboard displays details related to video streaming requests, and analyzes failed vs successful video streaming requests over time.

<img src={useBaseUrl('img/integrations/saas-cloud/Akamai-DataStream-Video-Streaming.png')} alt="Akamai-DataStream-Video-Streaming"/>
