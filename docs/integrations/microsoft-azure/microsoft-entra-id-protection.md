---
id: microsoft-entra-id-protection
title: Microsoft Entra ID Protection
sidebar_label: Microsoft Entra ID Protection
description: The Sumo Logic App for Microsoft Entra ID Protection outlines the steps required to collect and analyze the alert data from the Azure security platform to the Sumo Logic platform.
---

import useBaseUrl from '@docusaurus/useBaseUrl';

<img src={useBaseUrl('img/integrations/microsoft-azure/microsoft-entra-id-protection.png')} alt="Thumbnail icon" width="50"/>

Microsoft Entra ID Protection is a cloud-based identity security solution that helps you detect, investigate, and remediate identity-based risks in real time. It is a key component of the Microsoft Entra suite, which focuses on securing access to applications and data across cloud and on-premises environments.

This document outlines the steps required to collect and analyse the [Microsoft Entra ID Protection](https://learn.microsoft.com/en-us/entra/id-protection/overview-identity-protection) alerts in the Sumo Logic platform.

## Set up collection

:::note
Skip this step if you have already configured the Microsoft Graph Security API Source.
:::

Use theÂ [Cloud-to-Cloud Integration for Microsoft Graph Security API](/docs/send-data/hosted-collectors/cloud-to-cloud-integration-framework/microsoft-graph-security-api-source/) to ingest security alerts data from the Microsoft Entra ID Protection to the Sumo Logic platform.

## Search alerts

Use the following query to retrieve alerts generated by the Microsoft Entra ID Protection.

```sql
_sourcecategory=Labs/MicrosoftGraphSecurity
| json field=_raw "serviceSource" as service_source
| where service_source = "azureAdIdentityProtection"
```

## Analyse alerts

Use the following query to extract detailed insights from the alert data:

```sql
_sourceCategory=Labs/MicrosoftGraphSecurity  
|json"id","status","severity","category","title","description","classification","determination","serviceSource","detectionSource","alertWebUrl" ,"comments[*]","evidence[*]"as  alert_id,status,severity,category,title,description,classification,determination,service_source,detection_source,alert_url,comments,evidence_info nodrop
| where service_source = "azureAdIdentityProtection"
| where severity matches "*" and status matches "*" and classification matches "*" 
| if(isNull(category),"-",category) as category
| if(isNull(classification),"-",classification) as classification
| if(isNull(determination),"-",determination) as determination
| count by _messageTime,status,severity,category,title,description,classification,determination,alert_url,alert_id
| formatDate(toLong(_messageTime), "dd-MM-yyyy HH:mm:ss") as time
| tourl (alert_url,alert_id) as alert_id
| fields time,alert_id,title,description,alert_url,status,severity,category,classification,determination
| fields -_messageTime    
| sort by time
```