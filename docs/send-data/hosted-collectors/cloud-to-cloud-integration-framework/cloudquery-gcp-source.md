---
id: cloudquery-gcp-source
title: CloudQuery GCP Source
sidebar_label: CloudQuery GCP
tags:
  - cloud-to-cloud
  - cloudquery
  - gcp
  - google cloud platform
description: Learn how to collect inventory from the GCP APIs using CloudQuery Plugin SDK and send it to Sumo Logic.
---

<head>
  <meta name="robots" content="noindex" />
</head>

<p><a href="/docs/beta"><span className="beta">Beta</span></a></p>

import CodeBlock from '@theme/CodeBlock';
import useBaseUrl from '@docusaurus/useBaseUrl';
import Example from '/files/c2c/cloudquery-gcp/example.json';
import MyComponentSource from '!!raw-loader!/files/c2c/cloudquery-gcp/example.json';

<img src={useBaseUrl('img/send-data/cloudquery-logo.png')} alt="cloudquery-icon" width="70" /><img src={useBaseUrl('img/integrations/google/google-logo.png')} alt="Thumbnail icon" width="40"/>

The goal of this C2C integration is to pull inventory from various Google Cloud Platform (GCP) APIs via the CloudQuery GCP plugin, transform them into the CloudQuery schema, and send it to Sumo Logic.

import FedDeploymentNote from '../../../reuse/fed-deployment-note.md';

<FedDeploymentNote/>

## Data collected

| Polling Interval | Data |
| :--- | :--- |
| 12 hours |  [Data service table data](https://github.com/cloudquery/cloudquery/blob/plugins-source-gcp-v10.0.0/plugins/source/gcp/resources/plugin/tables.go) |

## Setup

### Authentication

The GCP plugin authenticates using your Application Default Credentials.

We will use the credentials JSON file to authenticate with GCP.
The user will provide the credential JSON file as a string, we will create the <filename>.json file in a secure environment and will set the environment variable GOOGLE_APPLICATION_CREDENTIALS as the key with the file path as the value.

```
GOOGLE_APPLICATION_CREDENTIALS: <cred file path>
```

The user will provide the list of services and the integration will fetch all the tables supported by CloudQuery plugin(v12.4.0) for each specified service under the specific project and organization(if specified).

The CloudQuery GCP plugin contains the PluginAutoGeneratedTables() function in which we need to specify the required services with the table name to fetch the table schema for an individual service.
After getting the table schema, we will use the Sync function to populate the table data for that specific project.

Cloudquery GCP Source plugin version: v12.4.0
Cloudquery GCP git source code version: v0.10.2-pre.0.0.20231122092836-a61fa0d83d1a

## JSON schema

Sources can be configured using UTF-8 encoded JSON files with the Collector Management API. See [Use JSON to configure Sources](/docs/send-data/use-json-configure-sources) for details. 

| Parameter | Type | Required | Description |
|:---|:---|:---|:---|
| config | JSON Object | Yes | Contains the configuration parameters for the source |
| schemaRef | JSON Object | Yes | Use `{“type”: “CloudQuery GCP Inventory”}` |
| sourceType | String | Yes | Use “Universal” for CloudQuery GCP source Inventory |

### Configuration Object

| Parameter | Type | Required | Default | Description | Access |
|:---|:---|:---|:---|:---|:---|
| name | string | Yes |  | Type the desired name of the Source. The name must be unique per Collector. This value is assigned to the metadata field _source. | modifiable |
| description | string | No | Null | Type a description of the Source. | modifiable |
| credentialsJson | JSON object | Yes |  | Service account key JSON file. | modifiable |
| projectIds | array | No |  | List of Project IDs from which the data needs to be pulled. | modifiable |
| orgIds | array | No |  | List of Organization IDs from which the data needs to be pulled. | modifiable |
| limitToServices | array | Yes |  | List of services from which the data should be pulled. | modifiable |
| pollingInterval | number | Yes | 12 Hours | How frequently should we pull inventory in Hours | modifiable |

### JSON example

<CodeBlock language="json">{MyComponentSource}</CodeBlock>

[Download example](/files/c2c/cloudquery-gcp/example.json)


## FAQ

:::info
Click [here](/docs/c2c/info) for more information about Cloud-to-Cloud sources.
:::
