---
id: アラート変数
title: アラート変数
sidebar_label: アラート変数
description: アラートは変数をサポートしているため、必要な情報を使用して通知をカスタマイズできます。アラート変数を使用して、モニター、スケジュールされた検索、およびメトリックモニターからの通知ペイロードをカスタマイズできます。
---

変数は、アラート通知のJSONペイロードオブジェクトのパラメーターとして使用されます。これらの変数は、通知ペイロードのアラート構成から特定の値を動的に設定するために使用されます。これには、通知で現在のモニターステータスを提供するTriggerTypeなどが含まれます。通知が送信されると、変数はアラートの値に置き換えられます。たとえば、JSONペイロードで `{{Name}}`を指定した場合、配信されたペイロードのアラートの実際の名前に置き換えられます。

：：：ノート
変数は二重中括弧で囲む必要があります。

## アラートの一般的な変数

変数を使用して、モニターおよびスケジュールされた検索からの通知ペイロードをカスタマイズできます。以下の表は、変数のリストと、これらがサポートされている製品の領域に関する情報を示しています。また、各変数の簡単な説明も提供しました。

:::noteすべての変数は大文字と小文字を区別しません。 ：：：


|変数|説明|モニター|スケジュールされた検索|
| -- | -- | -- | -- |
| `{{Name}}` | アラートの名前。配信されたペイロードでは、この変数は、アラートの作成時にアラートに割り当てた名前に置き換えられます。| ![check](/img/reuse/check.png) | ![check](/img/reuse/check.png) |
| `{{Description}}` |
アラートの名前。配信されたペイロードでは、この変数は、アラートの作成時にアラートに割り当てた名前に置き換えられます。| ![check](/img/reuse/check.png) | ![check](/img/reuse/check.png) |
| `{{MonitorType}}` | アラートのタイプ。`Logs`または`Metrics`のいずれか。 | ![check](/img/reuse/check.png) | ![check](/img/reuse/check.png) |
| `{{Query}}` |
アラートの実行に使用されるクエリ。 | ![check](/img/reuse/check.png) | ![check](/img/reuse/check.png) |
| `{{QueryURL}}` | SumoLogic内のログまたはメトリッククエリへのURL | ![check](/img/reuse/check.png) | ![check](/img/reuse/check.png) |
| `{{ResultsJson}}` |
アラートをトリガーしたクエリ結果を含むJSONオブジェクト。このフィールドの最大200の集計結果または10の生メッセージをWebhook経由で送信できます。| ![check](/img/reuse/check.png) | ![check](/img/reuse/check.png)<br/>Not available with Email notifications |
| `{{ResultsJson.fieldName}}` | 指定されたフィールド名の値。たとえば、このペイロード仕様は次のとおりです。<br/>`{{ResultsJson.client_ip}} had {{ResultsJson.errors}} errors`<br/>次のような件名になります。<br/>`70.69.152.165 had 391 errors`<br/>このフィールドの最大200の集計結果または10の生メッセージをWebhook経由で送信できます。<br/>フィールド名は検索のフィールドと一致する（大文字と小文字を区別しない）必要があり、英数字、アンダースコア、スペースである必要があります。サポートされていない文字を含むフィールド名がある場合は、[as]（../ search/ search-query-language / search-operators / as-operator）演算子を使用して名前を変更します。<br/>ブラケット表記で配列インデックス値を提供することによる特定の結果。そのような、<br/>You can return a specific result by providing an array index value in bracket notation. Such as, `{{ResultsJson.fieldName}}[0]` to return the first result.<br/><br/>**Reserved Fields**<br/>The following are reserved field names. They are generated by Sumo Logic during collection or search operations.<ul><li>_raw</li><li>Message</li><li>_messagetime</li><li>Time</li><li>_sourceHost</li><li>Host</li><li>_sourceCategory</li><li>Category</li><li>_sourceName</li><li>Name</li><li>_collector</li><li>Collector</li><li>_timeslice</li><li>_signature</li></ul> | ![check](/img/reuse/check.png) | ![check](/img/reuse/check.png)<br/>Email notifications only return the first result. |
| `{{NumQueryResults}}` | The number of results the query returned. Results can be raw messages, time-series, or aggregates.<br/>An aggregate query returns the number of aggregate results; displayed in the **Aggregates** tab of the [Search page](/docs/search).<br/>A non-aggregate query returns the number of raw results; displayed in the **Messages** tab of the [Search page](/docs/search). | ![check](/img/reuse/check.png) | ![check](/img/reuse/check.png) |
| `{{Id}}` | The unique identifier of the monitor or search that triggered the alert. For example, `00000000000468D5`. | ![check](/img/reuse/check.png) | ![check](/img/reuse/check.png) |
| `{{DetectionMethod}}` | This is the type of Detection Method used to detect alerts. Values are based on static or outlier triggers and data type, either logs or metrics. The value will be either `LogsStaticCondition`, `MetricsStaticCondition`, `LogsOutlierCondition`, `MetricsOutlierCondition`,  `LogsMissingDataCondition`, `MetricsMissingDataCondition`, or `StaticCondition` (deprecated). | ![check](/img/reuse/check.png) | ![check](/img/reuse/check.png) |
| `{{TriggerType}}` | The status of the alert or recovery. Alert will have either `Normal`, `Critical`, `Warning`, or `Missing Data`. Recovery will have either `ResolvedCritical`, `ResolvedWarning`, or `ResolvedMissingData`. | ![check](/img/reuse/check.png) | ![x](/img/reuse/x.png) |
| `{{TriggerTimeRange}}` | The time range of the query that triggered the alert. For example, `07/13/2021 03:21:32 PM UTC to 07/13/2021 03:36:32 PM UTC` | ![check](/img/reuse/check.png) | ![check](/img/reuse/check.png) |
| `{{TriggerCondition}}` | The condition that triggered the alert. For example, `Greater than or equal to 1.0 in the last 15 minutes` | ![check](/img/reuse/check.png) | ![check](/img/reuse/check.png) |
| `{{TriggerValue}}` | The value that triggered the alert. | ![check](/img/reuse/check.png) | ![check](/img/reuse/check.png) |
| `{{TriggerTimeStart}}` | The start time of the time range that triggered the monitor in Unix format. For example, `1626189692042`. | ![check](/img/reuse/check.png) | ![check](/img/reuse/check.png) |
| `{{TriggerTimeEnd}}` | The end time of the time range that triggered the monitor in Unix format. For example, `1626190592042`. | ![check](/img/reuse/check.png) | ![check](/img/reuse/check.png) |
| `{{SourceURL}}` | The URL to the configuration or status page of the monitor in Sumo Logic. | ![check](/img/reuse/check.png) | ![x](/img/reuse/x.png) |
| `{{AlertResponseUrl}}` | When your Monitor is triggered it will generate a URL and provide it as the value of this variable where you can use it to open Alert Response. | ![check](/img/reuse/check.png) | ![x](/img/reuse/x.png) |


## Examples

### Slack payload

```json
{
     "attachments": [
         {
             "pretext": "Sumo Logic Alert for: *{{Name}}* by user USERNAME",
             "fields": [
                 {
                     "title": "Description",
                     "value": "{{Description}} {{TriggerTimeStart}}"
                 },
                 {
                     "title": "Query",
                     "value": "<{{QueryURL}}|{{Query}}>"
                 },
                 {
                     "title": "Time Range",
                     "value": "{{TriggerTimeRange}}"
                 }
             ],
             "mrkdwn_in": ["text", "pretext"],
             "color": "#29A1E6"
         }
     ]
 }
```

### PagerDuty payload

```json
{
    "service_key": "xxxxx",
    "event_type": "trigger",
    "description": "Monitor Alert on {{Name}}",
    "client": "Sumo Logic",
    "details": {
        "name": "{{Name}}",
        "query": "<{{QueryURL}} | {{Query}}>",
        "time": "{{TriggerTimeRange}} -- {{TriggerTime}} --"
    }
}
```

### Email message

```sql
Monitor Alert: {{TriggerTimeRange}} on {{Name}}
```

## Legacy Variables

This section provides the old variables available for alert notifications from Metrics Monitors and Scheduled Searches. The following table shows where the old variables are supported.

:::tip
We recommend you use the new [common variables](alert-variables.md) instead of these legacy variables. In the future, legacy variables will be deprecated.
:::

| Variables | Description | Metrics Monitors | Scheduled Searches |
| -- | -- | -- | -- |
|  `{{SearchName}}` | Description of the saved search or Monitor. In the delivered payload, this variable is replaced with the Name you assigned to the search or Monitor when you created it. | ![check](/img/reuse/check.png) | ![check](/img/reuse/check.png) |
| `{{SearchDescription}}` | Description of the saved search or Monitor. In the delivered payload, this variable is replaced by the Description you assigned to the search or Monitor when you created it. | ![check](/img/reuse/check.png) | ![check](/img/reuse/check.png) |
| `{{SearchQuery}}` | The query used to run the saved search. In the delivered payload, this variable is replaced by your saved search query or metric query. | ![check](/img/reuse/check.png) | ![check](/img/reuse/check.png) |
| `{{SearchQueryUrl}}` | The URL to the search or metrics query. In the delivered payload, this is a URL that you can click to run the saved logs or metric query. | ![check](/img/reuse/check.png) | ![check](/img/reuse/check.png) |
| `{{TimeRange}}` | The time range that triggered the alert. | ![check](/img/reuse/check.png) | ![check](/img/reuse/check.png) |
| `{{FireTime}}` | The start time of the log search or metric query that triggered the notification. | ![check](/img/reuse/check.png) | ![check](/img/reuse/check.png) |
| ` {{AggregateResultsJson}}` | JSON object containing search aggregation results. A maximum of 200 aggregate results can be sent via webhook. | ![x](/img/reuse/x.png) | ![check](/img/reuse/check.png)<br/>Not available with Email notifications |
| `{{RawResultsJson}}` | JSON object containing raw messages. A maximum of 10 raw messages can be sent via webhook. | ![x](/img/reuse/x.png) | ![check](/img/reuse/check.png)<br/>Not available with Email notifications |
| `{{NumRawResults}}` | Number of results returned by the search. | ![x](/img/reuse/x.png) | ![check](/img/reuse/check.png) |
| `{{Results.fieldname}}` | The value returned from the search result for the specified field. For example, this payload specification:<br/>`{{Results.client_ip}} had {{Results.errors}} errors`<br/>Results in a subject line like this:<br/>`70.69.152.165 had 391 errors`<br/>A maximum of 200 aggregate results or 10 raw messages for this field can be sent via webhook.<br/>A field name must match (case-insensitive) the field from your search and must be **alphanumeric characters**, **underscores**, and b. If you have a field name that has an unsupported character use the [as](../../search/search-query-language/search-operators/as.md) operator to rename it. | ![check](/img/reuse/check.png) | ![check](/img/reuse/check.png) |
| `{{AlertThreshold}}` | The condition that triggered the alert (for example, above 90 at least once in the last 5 minutes) | ![check](/img/reuse/check.png) | ![x](/img/reuse/x.png) |
| `{{AlertSource}}` | The metric and sourceHost that triggered the alert, including associated tags for that metric. | ![check](/img/reuse/check.png) | ![x](/img/reuse/x.png) |
| `{{AlertSource.fieldname}}` | The value returned from the AlertSource object for the specified field name. | ![check](/img/reuse/check.png) | ![x](/img/reuse/x.png) |
| `{{AlertID}}` | The ID of the triggered alert. | ![check](/img/reuse/check.png) | ![x](/img/reuse/x.png) |
| `{{AlertStatus}}` | Current status of the time series that triggered (for example, Critical or Warning). | ![check](/img/reuse/check.png) | ![check](/img/reuse/check.png) |
| `{{AlertCondition}}` | The condition that triggered the alert. | ![x](/img/reuse/x.png) | ![check](/img/reuse/check.png) |
