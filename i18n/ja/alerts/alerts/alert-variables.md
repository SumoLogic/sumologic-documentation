---
id: アラート変数
title: アラート変数
sidebar_label: アラート変数
description: アラートは変数をサポートしているため、必要な情報を使用して通知をカスタマイズできます。アラート変数を使用して、モニター、スケジュールされた検索、およびメトリックモニターからの通知ペイロードをカスタマイズできます。
---

変数は、アラート通知のJSONペイロードオブジェクトのパラメーターとして使用されます。これらの変数は、通知ペイロードのアラート構成から特定の値を動的に設定するために使用されます。これには、通知で現在のモニターステータスを提供するTriggerTypeなどが含まれます。通知が送信されると、変数はアラートの値に置き換えられます。たとえば、JSONペイロードで `{{Name}}`を指定した場合、配信されたペイロードのアラートの実際の名前に置き換えられます。

：：：ノート
変数は二重中括弧で囲む必要があります。

## アラートの一般的な変数

変数を使用して、モニターおよびスケジュールされた検索からの通知ペイロードをカスタマイズできます。以下の表は、変数のリストと、これらがサポートされている製品の領域に関する情報を示しています。また、各変数の簡単な説明も提供しました。

:::noteすべての変数は大文字と小文字を区別しません。 ：：：


|変数|説明|モニター|スケジュールされた検索|
| -- | -- | -- | -- |
| `{{Name}}` | アラートの名前。配信されたペイロードでは、この変数は、アラートの作成時にアラートに割り当てた名前に置き換えられます。| <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> |
| `{{Description}}` |
アラートの名前。配信されたペイロードでは、この変数は、アラートの作成時にアラートに割り当てた名前に置き換えられます。| <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> |
| `{{MonitorType}}` | アラートのタイプ。`Logs`または`Metrics`のいずれか。 | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> |
| `{{Query}}` |
アラートの実行に使用されるクエリ。 | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> |
| `{{QueryURL}}` | SumoLogic内のログまたはメトリッククエリへのURL | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> |
| `{{ResultsJson}}` |
アラートをトリガーしたクエリ結果を含むJSONオブジェクト。このフィールドの最大200の集計結果または10の生メッセージをWebhook経由で送信できます。| <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/><br/>Not available with Email notifications |
| `{{ResultsJson.fieldName}}` | 指定されたフィールド名の値。たとえば、このペイロード仕様は次のとおりです。<br/>`{{ResultsJson.client_ip}} had {{ResultsJson.errors}} errors`<br/>次のような件名になります。<br/>`70.69.152.165 had 391 errors`<br/>このフィールドの最大200の集計結果または10の生メッセージをWebhook経由で送信できます。<br/>フィールド名は検索のフィールドと一致する（大文字と小文字を区別しない）必要があり、英数字、アンダースコア、スペースである必要があります。サポートされていない文字を含むフィールド名がある場合は、[as]（../ search/ search-query-language / search-operators / as-operator）演算子を使用して名前を変更します。<br/>ブラケット表記で配列インデックス値を提供することによる特定の結果。そのような、<br/>You can return a specific result by providing an array index value in bracket notation. Such as, `{{ResultsJson.fieldName}}[0]` to return the first result.<br/><br/>**Reserved Fields**<br/>The following are reserved field names. They are generated by Sumo Logic during collection or search operations.<ul><li>_raw</li><li>Message</li><li>_messagetime</li><li>Time</li><li>_sourceHost</li><li>Host</li><li>_sourceCategory</li><li>Category</li><li>_sourceName</li><li>Name</li><li>_collector</li><li>Collector</li><li>_timeslice</li><li>_signature</li></ul> | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/><br/>Email notifications only return the first result. |
| `{{NumQueryResults}}` | The number of results the query returned. Results can be raw messages, time-series, or aggregates.<br/>An aggregate query returns the number of aggregate results; displayed in the **Aggregates** tab of the [Search page](/docs/search).<br/>A non-aggregate query returns the number of raw results; displayed in the **Messages** tab of the [Search page](/docs/search). | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> |
| `{{Id}}` | The unique identifier of the monitor or search that triggered the alert. For example, `00000000000468D5`. | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> |
| `{{DetectionMethod}}` | This is the type of Detection Method used to detect alerts. Values are based on static or outlier triggers and data type, either logs or metrics. The value will be either `LogsStaticCondition`, `MetricsStaticCondition`, `LogsOutlierCondition`, `MetricsOutlierCondition`,  `LogsMissingDataCondition`, `MetricsMissingDataCondition`, or `StaticCondition` (deprecated). | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> |
| `{{TriggerType}}` | The status of the alert or recovery. Alert will have either `Normal`, `Critical`, `Warning`, or `Missing Data`. Recovery will have either `ResolvedCritical`, `ResolvedWarning`, or `ResolvedMissingData`. | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> |  |
| `{{TriggerTimeRange}}` | The time range of the query that triggered the alert. For example, `07/13/2021 03:21:32 PM UTC to 07/13/2021 03:36:32 PM UTC` | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> |
| `{{TriggerCondition}}` | The condition that triggered the alert. For example, `Greater than or equal to 1.0 in the last 15 minutes` | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> |
| `{{TriggerValue}}` | The value that triggered the alert. | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> |
| `{{TriggerTimeStart}}` | The start time of the time range that triggered the monitor in Unix format. For example, `1626189692042`. | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> |
| `{{TriggerTimeEnd}}` | The end time of the time range that triggered the monitor in Unix format. For example, `1626190592042`. | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> |
| `{{SourceURL}}` | The URL to the configuration or status page of the monitor in Sumo Logic. | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> |  |
| `{{AlertResponseUrl}}` | When your Monitor is triggered it will generate a URL and provide it as the value of this variable where you can use it to open Alert Response. | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> |  |


## Examples

### Slack payload

```json
{
     "attachments": [
         {
             "pretext": "Sumo Logic Alert for: *{{Name}}* by user USERNAME",
             "fields": [
                 {
                     "title": "Description",
                     "value": "{{Description}} {{TriggerTimeStart}}"
                 },
                 {
                     "title": "Query",
                     "value": "<{{QueryURL}}|{{Query}}>"
                 },
                 {
                     "title": "Time Range",
                     "value": "{{TriggerTimeRange}}"
                 }
             ],
             "mrkdwn_in": ["text", "pretext"],
             "color": "#29A1E6"
         }
     ]
 }
```

### PagerDuty payload

```json
{
    "service_key": "xxxxx",
    "event_type": "trigger",
    "description": "Monitor Alert on {{Name}}",
    "client": "Sumo Logic",
    "details": {
        "name": "{{Name}}",
        "query": "<{{QueryURL}} | {{Query}}>",
        "time": "{{TriggerTimeRange}} -- {{TriggerTime}} --"
    }
}
```

### Email message

```sql
Monitor Alert: {{TriggerTimeRange}} on {{Name}}
```

## Legacy Variables

This section provides the old variables available for alert notifications from Metrics Monitors and Scheduled Searches. The following table shows where the old variables are supported.

:::tip
We recommend you use the new [common variables](alert-variables.md) instead of these legacy variables. In the future, legacy variables will be deprecated.
:::

| Variables | Description | Metrics Monitors | Scheduled Searches |
| -- | -- | -- | -- |
|  `{{SearchName}}` | Description of the saved search or Monitor. In the delivered payload, this variable is replaced with the Name you assigned to the search or Monitor when you created it. | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> |
| `{{SearchDescription}}` | Description of the saved search or Monitor. In the delivered payload, this variable is replaced by the Description you assigned to the search or Monitor when you created it. | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> |
| `{{SearchQuery}}` | The query used to run the saved search. In the delivered payload, this variable is replaced by your saved search query or metric query. | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> |
| `{{SearchQueryUrl}}` | The URL to the search or metrics query. In the delivered payload, this is a URL that you can click to run the saved logs or metric query. | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> |
| `{{TimeRange}}` | The time range that triggered the alert. | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> |
| `{{FireTime}}` | The start time of the log search or metric query that triggered the notification. | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> |
| ` {{AggregateResultsJson}}` | JSON object containing search aggregation results. A maximum of 200 aggregate results can be sent via webhook. |  | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/><br/>Not available with Email notifications |
| `{{RawResultsJson}}` | JSON object containing raw messages. A maximum of 10 raw messages can be sent via webhook. |  | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/><br/>Not available with Email notifications |
| `{{NumRawResults}}` | Number of results returned by the search. |  | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> |
| `{{Results.fieldname}}` | The value returned from the search result for the specified field. For example, this payload specification:<br/>`{{Results.client_ip}} had {{Results.errors}} errors`<br/>Results in a subject line like this:<br/>`70.69.152.165 had 391 errors`<br/>A maximum of 200 aggregate results or 10 raw messages for this field can be sent via webhook.<br/>A field name must match (case-insensitive) the field from your search and must be **alphanumeric characters**, **underscores**, and b. If you have a field name that has an unsupported character use the [as](../../search/search-query-language/search-operators/as.md) operator to rename it. | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> |
| `{{AlertThreshold}}` | The condition that triggered the alert (for example, above 90 at least once in the last 5 minutes) | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> |  |
| `{{AlertSource}}` | The metric and sourceHost that triggered the alert, including associated tags for that metric. | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> |  |
| `{{AlertSource.fieldname}}` | The value returned from the AlertSource object for the specified field name. | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> |  |
| `{{AlertID}}` | The ID of the triggered alert. | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> |  |
| `{{AlertStatus}}` | Current status of the time series that triggered (for example, Critical or Warning). | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> |
| `{{AlertCondition}}` | The condition that triggered the alert. |  | <img src={useBaseUrl('img/reuse/check.png')} alt="green check circle.png" width="20"/> |
