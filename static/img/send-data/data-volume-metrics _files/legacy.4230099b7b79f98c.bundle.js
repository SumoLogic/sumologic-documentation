(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[3170],{55570:function(e,t){var i;void 0===(i=function(){"use strict";return{mixin:{DASHBOARD_CHANNEL_COMMANDS:{SHOW_FILTERS:"showFilters",HIDE_FILTERS:"hideFilters"},DASHBOARD_CHANNEL_EVENTS:{FILTERS_ON:"filtersOn",FILTERS_OFF:"filtersOff",LINK_FILTER:"filterLinked",UNLINK_FILTER:"filterUnlinked"},getDashboardChannel:function(){return Backbone.Radio.channel("dashboard")},stopDashboardChannel:function(){try{this.getDashboardChannel().stopComplying(this)}catch(e){}}}}}.apply(t,[]))||(e.exports=i)},22077:function(e,t,i){var s,n;s=[i(63205)],void 0===(n=function(e){"use strict";var t=e.ContentLibraryUtil,i=function(e){var i=e;i.id=e.externalId,i.title=e.name,i.externalId=e.externalId,i.type=t.ItemTypes.INTERACTIVE_REPORT,i.owner={id:e.ownerId,name:e.ownerName};var s=e.relativePath;return 1===s.length?i.pathText="":(s.pop(),i.pathText=_.pluck(s,"name").join("/")),i.fullPath=(i.pathText?i.pathText+"/":"")+i.title,i.displayName=i.fullPath.length>75?i.fullPath.substring(0,75)+"...":i.fullPath,i},s=function(e,s){var n,a=[];if(_.getPath(s,"folder.children.length")?n=s.folder.children:_.getPath(s,"folderable.length")&&(n=s.folderable),n)return _.each(n,(function(s){var n={},r=null;s.interactiveReportReference&&((r=s.interactiveReportReference).type=t.ItemTypes.INTERACTIVE_REPORT,e||(r.fullPath=r.visibility+"/"+r.fullPath),n=i(r,r.type),a.push(n))}),this),a},n=function(e){var t=when.defer(),i=e?SumoApp.user.getUserRootFolder():SumoApp.user.getUserOrgFolder();return i?t.resolve(i):this.listenTo(SumoApp.sumoEvents,"userRootFolderLoaded",(function(){i=e?SumoApp.user.getUserRootFolder():SumoApp.user.getUserOrgFolder(),t.resolve(i)})),t.promise.timeout(3e4)},a=function(e){var i=t.getDashboardConfigRequestSettings(e);return this.createPromise({endpoint:i.endpoint,data:i.ajaxData,errorCode:"get_personal_dashboards"})},r=function(e){return e=_.isBoolean(e)&&e,n(e).then(_.bind(a,this)).then(_.bind(s,this,e)).then((function(e){return t=e,_.sortBy(t,(function(e){return e.fullPath}));var t}))},o=function(e){return _.flatten(e)},l=function(e){var t=e[0],i=e[1],s=_.indexBy(t,"id");return _.chain(i).map((function(e){return _.has(s,e.id)?s[e.id]:e})).compact().value()},d=function(e){return this.createPromise({endpoint:"/json/v1/content/recents?limitReports=10&limitSearches=0",errorCode:"get_dashboards",data:{limit:e}}).then((function(e){return s(!1,{folder:{children:e.folderable}})})).then((function(e){return _.map(e,(function(e){return i(e)}))})).catch((function(e){return $.logError("DashboardInfoModelMixin._load, error loading recent dashboards %s",e.message,e),[]}))};return{preInit:function(){n=_.bind(n,this),r=_.bind(r,this),d=_.bind(d,this),l=_.bind(l,this)},mixin:{getAllRecentDashboards:function(e){var t=d().then(o),i=this.getAllUserDashboards();return when.all([i,t]).then(l)},getAllUserDashboards:function(e){return r(!0)},getAllPublishedDashboards:function(){return r()}}}}.apply(t,s))||(e.exports=n)},89926:function(e,t){var i;void 0===(i=function(){"use strict";return{mixin:{init:function(){_.bindAll(this,"beforeUpdate","fetchDashboardVersion","getDashboardVersion$","postDashboardUpdate","checkForVersionChange")},fetchDashboardVersion:function(){return SumoApp.getAngularService("contentDashboardService").fetchVersion({id:this.getId(),type:"DASHBOARD",accessKey:this.get("accessKey")})},beforeUpdate:function(){var e=SumoApp.getAngularService("$q").defer();return this.fetchDashboardVersion().then(function(t){return this.checkForVersionChange(t)?(SumoApp.getAngularService("notifyActionService").denyUpdateToast().then((function(e){SumoApp.getAngularService("dashboardActionsService").runAction(e)})),e.reject(),e.promise):t}.bind(this))},getDashboardVersion$:function(){return SumoApp.getAngularService("dashboardUpdateObserveService").getDashboardVersion$({accessKey:this.get("accessKey"),accessId:this.get("accessId"),modifiedAt:this.getVersion()?this.getVersion().modifiedAt:void 0,id:this.getId(),type:"DASHBOARD",lastModifier:this.get("version").modifiedBy,creator:this.getCreator()})},postDashboardUpdate:function(e){var t=SumoApp.getAngularService("$q").defer(),i=this;return this.fetchDashboardVersion().then((function(s){return i.setVersion({modifiedAt:s.modifiedAt.valueOf(),lastModifier:{id:s.modifiedById,name:s.modifiedBy}}),t.resolve(e),t.promise}))},notifyUpdateToast:function(e){SumoApp.getAngularService("notifyActionService").showUpdateToast(e,this.isEditMode()).then((function(e){SumoApp.getAngularService("dashboardActionsService").runAction(e)}))},checkForVersionChange:function(e){return e.modifiedAt.valueOf()!==this.getVersion().modifiedAt.valueOf()}}}}.apply(t,[]))||(e.exports=i)},12840:function(e,t,i){var s,n;s=[i(60567),i(16471),i(13629),i(73112)],void 0===(n=function(e,t,i,s){"use strict";var n=t.DashboardsModule;return e.SumoViewModule.extend({mixins:[],events:{"click .cancel-button":"close","click .save-filter-button":"addFilters"},getViewName:function(){return"AddFilterToPanelDialog"},getComponent:function(){return"Filters"},getDialogView:function(){return this.getView("dialogView")},getFilterSelectorView:function(){return this.getView("filterSelectorView")},close:function(){this.getDialogView().close()},addFilters:function(e){if(!$(e.target).hasClass("btn-disabled")){var t=this.model.getPanelModel().getDashboardModel(),i=this,s=this.getFilterSelectorView().getSelectedFilters();return t.beforeUpdate().then(function(){this.model.createFilters(s).then(this.onFiltersAdded).catch((function(e){return i.logErrorMessage("addFilters","Error creating filters: %s",e.message,e),e})).then((function(e){return t.postDashboardUpdate(e)}))}.bind(this))}$(e.target).trigger("blur")},onFiltersAdded:function(e){var t=this.model.getPanelModel().getDashboardModel(),i=t.getFilters(),s=_.filter(e,(function(e){return!i.contains(e)}));t.addFilters(s),this.close()},initialize:function(e){var t=this,a=e.panelModel;if(!a)throw new SumoError("Filters.AddFilterToPanelDialog, initialize panelModel is required");_.bindAll(this,"onFiltersAdded"),this.model=new s({panelModel:a});var r=SumoApp.factory.createDialogView({el:"#add-filter-to-panel",plugin:{title:n.add_filter,width:550,close:function(){t.destroy()}}});this.$el=r.$el,this.registerView("dialogView",r);var o=new i({el:this.$el,fields:a.getFields(),existingFilters:a.getDashboardModel().getFilters(),selectedPanelModel:a});this.registerView("filterSelectorView",o),this.render()},render:function(){return this.getFilterSelectorView().render(),this}})}.apply(t,s))||(e.exports=n)},73112:function(e,t,i){var s,n;s=[i(60567)],void 0===(n=function(e){"use strict";var t=e.SumoModel,i=e.GetterSetterMixin;return t.extend({mixins:[i],defaults:{panelModel:null},getModelName:function(){return"AddFilterToPanelModel"},getComponent:function(){return"Filters"},createFilters:function(e){_.isEmpty(e)&&this.createRejectedPromise(new SumoError("Filter is required"));var t=this.getPanelModel(),i=e.chain().map((function(e){return e.setParentId(t.getParentId()),e.isNew()?e.create().then((function(e){return e.linkPanel(t.getId())})):e.linkPanel(t.getId())})).value();return when.all(i)}})}.apply(t,s))||(e.exports=n)},25086:function(e,t,i){var s,n;s=[i(60567),i(16471),i(945),i(13629)],void 0===(n=function(e,t,i,s){"use strict";var n=t.DashboardsModule;return e.SumoViewModule.extend({mixins:[],events:{"click .cancel-button":"close","click .save-filter-button":"addFilter"},getViewName:function(){return"AddGlobalFilterDialog"},getComponent:function(){return"Filters"},getDialogView:function(){return this.getView("dialogView")},getFilterSelectorView:function(){return this.getView("filterSelectorView")},addFilter:function(e){var t=this.model.getDashboardModel();return t.beforeUpdate().then(function(){if($(e.target).hasClass("btn-disabled"))$(e.target).trigger("blur");else{var i=this.getFilterSelectorView().getSelectedFilters().first();i&&this.model.createFilter(i).then(this.onFilterAdded).catch(this.onAddFilterError).then((function(e){return t.postDashboardUpdate(e)}))}}.bind(this))},onFilterAdded:function(e){this.model.getDashboardModel().addFilters(e),this.close()},onAddFilterError:function(e){return this.logErrorMessage("onAddFilterError","Error: %s",e.message),this.close(),e},close:function(){this.getDialogView().close()},initialize:function(e){var t=e.dashboardModel;_.bindAll(this,"onFilterAdded","onAddFilterError");var a=this;this.model=new i({dashboardModel:t});var r=SumoApp.factory.createDialogView({el:"#add-global-filter",plugin:{title:n.add_filter,width:550,close:function(){a.destroy()}}});this.$el=r.$el,this.registerView("dialogView",r);var o=new s({el:this.$el,fields:t.getFields(),existingFilters:t.getFilters(),singleSelect:!0});this.registerView("filterSelectorView",o),this.render()},render:function(){return this.getFilterSelectorView().render(),this}})}.apply(t,s))||(e.exports=n)},945:function(e,t,i){var s,n;s=[i(60567),i(16471)],void 0===(n=function(e,t){"use strict";var i=t.DashboardsModule,s=e.SumoModel,n=e.GetterSetterMixin;return s.extend({mixins:[n],defaults:{dashboardModel:null,selectedFilter:null,selectedPanels:null},getModelName:function(){return"AddGlobalFilterModel"},getComponent:function(){return"Filters"},createFilter:function(e){var t=this.getDashboardModel();return this.setSelectedFilter(e),e.setParentId(t.getId()),e.create().then(this.linkFilter.bind(this))},linkFilter:function(e){var t=this.getDashboardModel().getPanels().getLinkablePanels(e.getFieldName()),s=_(t).map((function(t){return e.linkPanel(t.getId())}));return when.all(s).then((function(e){return _(e).first()})).catch((function(){var t=SumoApp.getAngularService("$mdToast");t.show(t.error().textContent(i.filter_attach_failed)),e.remove().then((function(e){e.destroy()}))}))}})}.apply(t,s))||(e.exports=n)},18762:function(e,t,i){var s,n;s=[i(50308)],void 0===(n=function(e){"use strict";var t=Backbone.Collection.extend({model:e,findByName:function(e){return this.find((function(t){var i=t.getFieldName();return(i=i?i.toLowerCase():i)===e.toLowerCase()}))},indexByName:function(){var e=this.toArray();return _.indexBy(e,"fieldName")},getSelected:function(){return this.filter((function(e){return e.isSelected()}))},getUnselected:function(){return this.filter((function(e){return!e.isSelected()}))},getVisible:function(){return this.filter((function(e){return e.getVisible()}))},getWhere:function(e){if(!e.isNew)throw new SumoError("getting not new filters is not implemented");return _.isUndefined(e.userReferenced)?this.getNewFilters():e.userReferenced?this.getNewUserReferencedFilters(e.selected):this.getNewNonUserReferencedFilters(e.selected)},getByLinkedPanelId:function(e,i){return new t(this.filter((function(t){return!!_.find(t.getPanels(),(function(t){return!(t.id!==e||i&&t.isParameter)}))})))},getParamFiltersByLinkedPanelId:function(e){return new t(this.filter((function(t){return!!_.find(t.getPanels(),(function(t){return t.id===e&&t.isParameter}))})))},getNewFilters:function(){return this.filter((function(e){return e.isNew()}))},getNewUserReferencedFilters:function(e){return this.filter((function(t){var i=t.getFieldModel();return t.isNew()&&i&&i.isUserReferenced()&&(!_.isBoolean(e)||t.isSelected()===e)}))},getNewNonUserReferencedFilters:function(e){return this.filter((function(t){var i=t.getFieldModel();return t.isNew()&&i&&!i.isUserReferenced()&&(!_.isBoolean(e)||t.isSelected()===e)}))}});return t}.apply(t,s))||(e.exports=n)},50308:function(e,t,i){var s,n;s=[i(84519),i(55570),i(57895),i(60567)],void 0===(n=function(e,t,i,s){"use strict";var n=s.ResultsViewerConstants,a=s.SumoModel,r=s.GetterSetterMixin,o=s.PersistentModelMixin,l={TEXT_BOX:"textbox",NUMERIC:"numeric",DROP_DOWN:"dropdown",RANGE:"range"},d=["triggerUpdate","needsTrigger","fieldModel","currentValue","selected","error","visible"],c=a.extend({mixins:[t,o,r],defaults:{id:null,fieldName:null,label:null,defaultValue:null,parentId:null,panels:null,properties:"",type:l.TEXT_BOX,fieldModel:null,currentValue:null,selected:!1,error:!1,visible:!0,needsTrigger:!1,autoCompleteId:null,isParameterizedAutoComplete:!1},TYPES:l,getModelName:function(){return"PanelFilterModel"},getComponent:function(){return"Filters"},getPersistentObject:function(){var e=_(this.toJSON()).omit(this.getTransientAttributes());return e.defaultValue=this.getDefaultValue().toString(),e},getTransientAttributes:function(){return d},isNew:function(){return _.isNull(this.getId())},isSelected:function(){var e=this.getSelected();return _.isBoolean(e)&&e},isUserReferenced:function(){var e=this.getFieldModel();return!_.isNull(e)&&e.isUserReferenced()},hasCurrentValue:function(){return!_.isNull(this.getCurrentValue())&&!SumoUtil.isStringEmpty(this.getCurrentValue().toString())},hasDefaultValue:function(){var e=this.getDefaultValue();return!_.isNull(e)&&!SumoUtil.isStringEmpty(e.toString())},setDefaultValue:function(e,t){this.set({defaultValue:e}),t||(this.hasCurrentValue()||this.setCurrentValue(e),this.setNeedsTrigger(!0))},_getLabel:function(){return this.get("label")},getLabel:function(){var e=this.get("label");return SumoUtil.isStringEmpty(e)&&(e=this.getFieldName()),e},getEmptyDefaultValue:function(){var e=null;switch(this.getType()){case l.NUMERIC:e=new i(null,null,null);break;default:e=new i(i.OPERATORS.STRING,"")}return e},_fillUpValues:function(e){return!e||_.isEmpty(e)?e=["",""]:1===e.length&&e.push(""),e},getRenderingProperties:function(t){var s=_.extend(this.toJSON(),{__:e,OPERATORS:i.OPERATORS});return s.currentValues=this._fillUpValues(this.getCurrentValue().getValues([])),s.defaultValues=this._fillUpValues(this.getDefaultValue().getValues([])),s.hasParamAssociation=this.hasParamAssociation(),s.isSettingsDialog=t,s.hasFilterAutocomplete=SumoApp.priv.hasFlagUIDashboardFilterAutocomplete()||s.hasParamAssociation,s},validateValue:function(){var e=!1;return this.hasCurrentValue()&&(e=this.getCurrentValue().isValid()),this.setError(!e&&!this.isEmptyValue()),e},validateDefaultValue:function(){var e=!1;return this.hasDefaultValue()&&(e=this.getDefaultValue().isValid()),this.setError(!e&&!this.isDefaultEmptyValue()),e},isEmptyValue:function(){var e=!0;return this.hasCurrentValue()&&(e=this.getCurrentValue().isEmpty()),e},isDefaultEmptyValue:function(){var e=!0;return this.hasDefaultValue()&&(e=this.getDefaultValue().isEmpty()),e},triggerFilter:function(){this.trigger("filter",this)},triggerIfNeeded:function(){this.getNeedsTrigger()&&(this.triggerFilter(),this.setNeedsTrigger(!1))},_getCreateEndpoint:function(){return{url:sprintf(SumoApp.ajax.EndpointFormats.V1_INTERACTIVE_DASHBOARD_CREATE_FILTER,this.getParentId()),errorCode:"create_filter"}},onCreate:function(e){return this.setId(e.filterId),this},_getUpdateEndpoint:function(){return{url:sprintf(SumoApp.ajax.EndpointFormats.V1_INTERACTIVE_DASHBOARD_UPDATE_FILTER,this.getParentId(),this.getId()),errorCode:"update_filter"}},onUpdate:function(e){return this.trigger("update"),this.updateAPIResponse=e,this},_getRemoveEndpoint:function(){return{url:sprintf(SumoApp.ajax.EndpointFormats.V1_INTERACTIVE_DASHBOARD_DELETE_FILTER,this.getParentId(),this.getId()),errorCode:"remove_filter"}},onRemove:function(e){var t=this.getPanels();if(!_.isEmpty(t)){var i=_.pluck(t,"id");this.setPanels(null),this.notifyLinksRemoved(i)}return this.deleteAPIResponse=e,this.destroy(),this},linkPanel:function(e){return this.createPromise({endpoint:sprintf(SumoApp.ajax.EndpointFormats.V1_INTERACTIVE_DASHBOARD_LINK_FILTER,this.getParentId(),this.getId(),e),errorCode:"link_filter",type:"POST"}).then(this.onPanelLinked.bind(this,e))},onPanelLinked:function(e,t){var i=this.getPanels();return _.isArray(i)||(i=[]),i.push({id:e,isParameter:!1}),this.setPanels(i),this.notifyLinksAdded([e]),this},notifyLinksAdded:function(e){var t=this.getDashboardChannel();t.trigger(this.DASHBOARD_CHANNEL_EVENTS.LINK_FILTER,this),_.each(e,(function(e){t.trigger(this.DASHBOARD_CHANNEL_EVENTS.LINK_FILTER+":"+e,this)}),this)},unlinkPanel:function(e){return this.createPromise({endpoint:sprintf(SumoApp.ajax.EndpointFormats.V1_INTERACTIVE_DASHBOARD_UNLINK_FILTER,this.getParentId(),this.getId(),e),errorCode:"unlink_filter",type:"POST"}).then(this.onPanelUnlinked.bind(this,e))},onPanelUnlinked:function(e){var t=this.getPanels();if(_.isArray(t)){var i=_.filter(t,(function(t){return t.id!==e}));this.setPanels(i)}return this.notifyLinksRemoved([e]),this},notifyLinksRemoved:function(e){var t=this.getDashboardChannel();t.trigger(this.DASHBOARD_CHANNEL_EVENTS.UNLINK_FILTER,this),_.each(e,(function(e){t.trigger(this.DASHBOARD_CHANNEL_EVENTS.UNLINK_FILTER+":"+e,this)}),this)},isNumericField:function(e){return e===n.RecordValueType.DOUBLE||e===n.RecordValueType.LONG||e===n.RecordValueType.INT},hasParamAssociation:function(){return _.some(this.getPanels(),(function(e){return e.isParameter}))},initialize:function(){var e=this.getFieldModel();if(e){var t=e.getName();_.isNull(this.getFieldName())&&this.setFieldName(t),_.isNull(this._getLabel())&&this.setLabel(t),this.isNumericField(e.getType())&&this.setType(l.NUMERIC)}this.setDefaultValue(i.parse(this.get("defaultValue")),!0),this.hasDefaultValue()||this.setDefaultValue(this.getEmptyDefaultValue(),!0),this.hasCurrentValue()||this.setCurrentValue(this.getDefaultValue())}});return c.TYPES=l,c}.apply(t,s))||(e.exports=n)},57895:function(e,t){var i;void 0===(i=function(){"use strict";var e={STRING:"string",AND:"and",OR:"or",EQ:"eq",NEQ:"neq",LT:"lt",LTE:"lte",GT:"gt",GTE:"gte",MATCHES:"matches",IN:"in"},t={string:function(e){return e.value},json:JSON.stringify},i={string:function(){return!0},and:function(e){var t=r(e),i=r(t),s=o(e),n=r(s);return a(t)&&a(s)&&parseFloat(i)<parseFloat(n)},numeric:function(e){return SumoUtil.isNumber(e.getFirst())}},s=function(i){var s,n=null;return i&&i.operator&&(n=_.isFunction(t[i.operator])?t[i.operator](i):t.json(i)),i.operator!==e.STRING&&(n=(s=n)&&_.isString(s)?s.replace(/([^"]+)|("[^"]+")/g,(function(e,t,i){return t?t.replace(/\s/g,""):i})):s),n},n=function(e){var t=!0;if(l(e.operator))t=n(e.first)&&n(e.second);else{var i=r(e);t=SumoUtil.isStringEmpty(i)}return t},a=function(e){var t=null;return e&&e.operator&&(t=_.isFunction(i[e.operator])?i[e.operator](e):i.numeric(e)),t},r=function(e){var t=null;return e&&(t=e.first?e.first:e.value),t},o=function(e){return e&&e.second?e.second:null},l=function(t){return t===e.AND||t===e.OR},d=function(e,t,i){return{operator:e,first:t,second:i}},c=function(e,t){return{operator:e,value:t}},u=function(e,t){return e?(l(e.operator)?(u(e.first,t),u(e.second,t)):t.push(e.value),t):t},h=function(e,t,i){if(_.isObject(e)&&e.operator){var h=e;e=h.operator,t=h.first?h.first:h.value,i=h.second?h.second:null}var g=function(e,t,i){return l(e)?d(e,t,i):c(e,t)}(e,t,i);return _.extend(g,{toString:_.partial(s,g),getFirst:_.partial(r,g),getSecond:_.partial(o,g),getValues:_.partial(u,g),isValid:_.partial(a,g),isEmpty:_.partial(n,g)})};return h.OPERATORS=e,h.parse=function(t){if(SumoUtil.isStringEmpty(t))return null;var i=null;try{var s=_.isObject(t)?t:JSON.parse(t);if(_.isNumber(s)||_.isBoolean(s)||_.isNull(s))throw"Number, Boolean and 'null' values are valid JSON but need to be treated as string here";s&&s.operator?i=l(s.operator)?new h(s.operator,new h(s.first),new h(s.second)):new h(s.operator,s.value):_.isString(s)&&(i=new h(e.STRING,t))}catch(s){i=new h(e.STRING,t)}return i},h}.apply(t,[]))||(e.exports=i)},53101:function(e,t,i){var s,n;s=[i(60567),i(16471),i(21197),i(7348),i(13392),i(24987)],void 0===(n=function(e,t,i,s,n,a){"use strict";var r=t.DashboardsModule;return e.SumoViewModule.extend({mixins:[a],events:{"keyup .filter-input":"onKeyUp","keypress .filter-input:not(.second,.first)":"autocomplete","keydown .filter-input:not(.second,.first)":"onKeyDown","focus .filter-input:not(.second,.first)":"autocomplete","blur .filter-input:not(.second,.first)":"closeComplete","change .numeric-type":"onNumericTypeChange","click .delete-filter-button":"removeFilterConfirm","click .filter-settings":"showFilterSettings"},template:_.template(i),sumocomplete:null,currentElement:null,getViewName:function(){return"DashboardFilterView"},getComponent:function(){return"Filters"},onEnterKey:function(){this.model.triggerFilter(),this.closeComplete()},autocomplete:function(e){this.closeComplete(),this.sumocomplete&&(this.sumocomplete.sumocomplete("reposition"),this.sumocomplete.sumocomplete("search",document.activeElement.value+String.fromCharCode(e.which)))},onKeyDown:function(e){this.sumocomplete&&this.sumocomplete.sumocomplete("keydown",e,{event:e,result:{}})},closeComplete:function(e){this.sumocomplete&&this.sumocomplete.sumocomplete("isOpen")&&this.sumocomplete.sumocomplete("close")},removeFilterConfirm:function(){var e=this.model.getLabel(),t=sprintf(r.delete_filter_confirm,SumoUtil.encode(e));SumoApp.userMessage.question(t,{okCallback:this.removeFilter})},updateFilterURL:function(e){var t=e.getQueryManager();if(SumoApp.getAngularService("currentUserHelper").hasFeatureFlag("UIFiltersUrlSync")){var i=t.dashboardUrlFilterSyncService.getFilterSearchQuery(e.getFilters().models);if(t.setFilterSearchQuery(i),SumoUtil.isDashboardUrl()){var s=t.getFilterSearchQuery();SumoUtil.updateUrlSearchQuery("filters",s)}}},removeFilter:function(){var e=this.options.dashboardModel;return e.beforeUpdate().then(function(){var t=this;return this.model.remove().then((function(i){var s=t.model.deleteAPIResponse;return e.postDashboardUpdate().then((function(){return s}))}))}.bind(this))},onRemove:function(){var e=this;setTimeout((function(){e.updateFilterURL(e.options.dashboardModel)}))},showFilterSettings:function(){new n({model:this.model,dashboardModel:this.options.dashboardModel})},toggleError:function(){this.$(".filter-error").toggleClass("is-visible",this.model.getError())},initialize:function(){_.bindAll(this,"render","removeFilter","onRemove"),this.listenTo(this.model,"update",this.render),this.listenTo(this.model,"destroy",this.onRemove),this.listenTo(this.model,"change:error",this.toggleError)},setupNgSelectedValue:function(){var e=this.model.getCurrentValue();return e||this.model.getDefaultValue()},render:function(){var e=this.model.getRenderingProperties();e.__=_.defaults({},e.__,r),e.filterTypeTemplate=s.render(e);var t=this.template(e);return this.$el.html(t),this.setup(),this},destroy:function(){this.angularSelectScope&&(this.angularSelectScope.$destroy(),this.stopListening(),this.destroySubViews(),SumoUtil.destroyView(this))}})}.apply(t,s))||(e.exports=n)},42943:function(e,t,i){var s,n;s=[i(60567),i(16471)],void 0===(n=function(e,t){"use strict";var i=t.DashboardsModule,s=e.SumoModel,n=e.GetterSetterMixin;return s.extend({mixins:[n],defaults:{panelModel:null,dashboardModel:null,filters:null,showOverlay:!1},getModelName:function(){return"DashboardFiltersModel"},getComponent:function(){return"Filters"},setPanelModel:function(e){this.set("panelModel",e),this.getFilters().each((function(t){t.setVisible(_.isNull(e)||!!_.findWhere(t.getPanels(),{id:e.getId()}))}))},isGlobal:function(){return _.isNull(this.getPanelModel())},isInContext:function(){return!_.isNull(this.getPanelModel())},getVisibleFilters:function(){var e=this.getFilters();return this.isGlobal()?e:e.getByLinkedPanelId(this.getPanelModel().getId())},getPanelContextName:function(){return this.isGlobal()?i.all_panels:SumoUtil.encode(this.getPanelModel().getTitle())}})}.apply(t,s))||(e.exports=n)},30749:function(e,t,i){var s,n;s=[i(60567),i(16471),i(34561),i(21197),i(37922),i(55570),i(42943),i(53101),i(25086),i(12840),i(7348)],void 0===(n=function(e,t,i,s,n,a,r,o,l,d,c){"use strict";var u=t.DashboardsModule,h=e.SumoViewModule,g=e.SumoModel,p="#filter-view-%s",m=".dashboard-filter",f=".shown",S=".visible",v=".in-context",w=".filters-title-text",b=".add-filter",y=".filters-container",T=SumoUtil.getCSSName;return h.extend({mixins:[a],events:{"click .add-filter":"addFilter","click .close-filters-view":"hide"},template:_.template(i),filterTemplate:_.template(s),emptyFiltersTemplate:_.template(n),getViewName:function(){return"DashboardFiltersView"},getComponent:function(){return"Filters"},addFilter:function(){this.model.isGlobal()?new l({dashboardModel:this.model.getDashboardModel()}):new d({panelModel:this.model.getPanelModel()})},isShown:function(){return this.$el.hasClass(T(f))},show:function(e){this.model.getShowOverlay()&&this.$el.find(".filters-overlay").removeClass("is-hidden");var t=[T(f)],i=this.model.getPanelModel();if((e=e instanceof g?e:null)!==i||!this.isShown()){this.setPanelModel(e),this.model.isInContext()&&(this.listenToPanelLinkEvents(e),t.push(T(v))),this.$el.removeClass().addClass(t.join(" "));var s=this.$(w),n=this.$(b);SumoUtil.animateCSS(s,"fadeInLeft",(function(){n.addClass(T(S))})),this.notifyFiltersOn(i,e)}},notifyFiltersOn:function(e,t){var i=this.getDashboardChannel();i.trigger(this.DASHBOARD_CHANNEL_EVENTS.FILTERS_ON),_.isNull(e)||i.trigger(this.DASHBOARD_CHANNEL_EVENTS.FILTERS_OFF+":"+e.getId()),_.isNull(t)||i.trigger(this.DASHBOARD_CHANNEL_EVENTS.FILTERS_ON+":"+t.getId())},hide:function(){var e=this.model.getPanelModel();this.setPanelModel(null),this.$el.removeClass(),this.stopListeningToPanelLinkEvents(e),this.notifyFiltersOff(e)},listenToPanelLinkEvents:function(e){if(!_.isNull(e)){var t=this.getDashboardChannel(),i=":"+e.getId();this.listenTo(t,this.DASHBOARD_CHANNEL_EVENTS.LINK_FILTER+i,this.debouncedRenderFilters),this.listenTo(t,this.DASHBOARD_CHANNEL_EVENTS.UNLINK_FILTER+i,this.debouncedRenderFilters)}},stopListeningToPanelLinkEvents:function(e){if(!_.isNull(e)){var t=this.getDashboardChannel(),i=":"+e.getId();this.stopListening(t,this.DASHBOARD_CHANNEL_EVENTS.LINK_FILTER+i),this.stopListening(t,this.DASHBOARD_CHANNEL_EVENTS.UNLINK_FILTER+i)}},notifyFiltersOff:function(e){var t=this.getDashboardChannel();t.trigger(this.DASHBOARD_CHANNEL_EVENTS.FILTERS_OFF),_.isNull(e)||t.trigger(this.DASHBOARD_CHANNEL_EVENTS.FILTERS_OFF+":"+e.getId())},setPanelModel:function(e){this.model.setPanelModel(e)},setShowOverlay:function(e){this.model.setShowOverlay(e)},createFilterViews:function(){var e=this;this.destroySubViews(),this.model.getVisibleFilters().each((function(t){var i=new o({el:e.$(sprintf(p,t.getId())),model:t,dashboardModel:e.model.getDashboardModel()});e.registerView(T(p,t.getId()),i),i.setup()}))},initialize:function(e){this.model=new r({filters:e.filters,dashboardModel:e.dashboardModel,showOverlay:e.showOverlay}),this.debouncedRenderFilters=_.debounce(this.renderFilters,250);var t=this.getDashboardChannel();t.comply(this.DASHBOARD_CHANNEL_COMMANDS.SHOW_FILTERS,this.show,this),t.comply(this.DASHBOARD_CHANNEL_COMMANDS.HIDE_FILTERS,this.hide,this),this.listenTo(this.model,"change:panelModel",this.render);var i=this.model.getFilters();this.listenTo(i,"add",this.debouncedRenderFilters),this.listenTo(i,"remove",this.debouncedRenderFilters),this.listenTo(i,"reset",this.debouncedRenderFilters),this.render()},render:function(){var e=this._renderFilters(),t=this.model.getDashboardModel().canBeEdited(),i=_.extend({__:u,filtersHTML:e,isInContext:this.model.isInContext(),panelContextName:this.model.getPanelContextName(),showOverlay:this.model.getShowOverlay(),showAddFilter:t}),s=this.template(i);return this.$el.html(s),this.createFilterViews(),this},renderFilters:function(){var e=this.$(y),t=this._renderFilters();e.html(t),this.createFilterViews()},_renderFilters:function(){var e=this.filterTemplate,t=this.model.getVisibleFilters();return t.isEmpty()||!t.every((function(e){return e.getId()}))?this.emptyFiltersTemplate({__:u}):t.sortBy((function(e){return e.getLabel()})).map((function(t){var i=t.getRenderingProperties();return i.__=_.defaults({},i.__,u),i.filterTypeTemplate=c.render(i),t.getId()?sprintf('<div id="%s" class="%s parametrised">',T(p,t.getId()),T(m))+e(i)+"</div>":""})).join("")},destroy:function(){this.stopDashboardChannel(),this.destroySubViews(),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},62872:function(e,t,i){var s,n;s=[i(60567),i(16471),i(18762)],void 0===(n=function(e,t,i){"use strict";t.DashboardsModule;var s=e.SumoModel,n=e.GetterSetterMixin,a=function(e){return e.getFieldName()},r=function(e,t){if(_.isEmpty(e))return[];var i=_.chain(t).range().map((function(){return[]})).value();return _(e).each((function(e,s){i[s%t].push(e)})),i};return s.extend({mixins:[n],defaults:{fields:null,filters:null,existingFilters:null,selectedPanelModel:null,searchTerm:null,singleSelect:!1,singleSelectedFilter:null,dashboardModel:null},getModelName:function(){return"FilterSelectorModel"},getComponent:function(){return"Filters"},isSingleSelect:function(){return this.getSingleSelect()},addSelectedFilter:function(e){var t=this.getFilters().findByName(e);this.isSingleSelect()?this.setSingleSelectedFilter(t):t.setSelected(!0)},removeSelectedFilter:function(e){this.isSingleSelect()?this.setSingleSelectedFilter(null):this.getFilters().findByName(e).setSelected(!1)},getSelectedFilters:function(){return this.isSingleSelect()?new i([this.getSingleSelectedFilter()]):new i(this.getFilters().getSelected())},_getFiltersWhereSettings:function(e){var t={userReferenced:e,isNew:!0};return this.isSingleSelect()||(t.selected=!1),t},_getRecommendedFilters:function(e){var t=this.getExistingFilters(),i=[],s=this._getFiltersWhereSettings(!0),n=!this.isSingleSelect(),a=this.getSelectedPanelModel();n&&(t=t.filter((function(e){return!e.isSelected()&&!!_.find(a.getFields().models,(function(t){return t.getName().toLowerCase()===e.getFieldName().toLowerCase()}))}))),!_.isNull(a)&&t.length>0&&(t=_(t).reject((function(e){return _(e.getPanels()).contains(a.getId())})));var r=e.getWhere(s);return _.isArray(t)&&t.length>0&&(i=i.concat(t)),_.isArray(r)&&r.length>0&&(i=i.concat(r)),i},createFilterCategories:function(e){var t=this.getSearchTerm(),s=function(e,t){var s=e;if(!SumoUtil.isStringEmpty(t)){var n=t.toLowerCase();s=new i(e.filter((function(e){return-1!==e.getFieldName().toLowerCase().indexOf(n)})))}return s}(this.getFilters(),t),n=this._getFiltersWhereSettings(!1),o=null,l=!this.isSingleSelect();l&&(o=this.getFilters().getSelected());var d=this._getRecommendedFilters(s),c=s.getWhere(n),u={};return l&&(u.selected=r(_.sortBy(o,a),e)),u.recommended=r(_.sortBy(d,a),e),u.other_filters=r(_.sortBy(c,a),e),u},initFilterCollection:function(){var e=this.getFields();if(!e||e.isEmpty())throw new SumoError("Filters.FieldSelectorModel.initFilterCollection, fields is required and it should be a FieldCollection");var t=this.getExistingFilters(),s=e.map((function(e){var i=t.findByName(e.getName());return _.isUndefined(i)?{fieldModel:e}:i})),n=new i(s);this.setFilters(n)},initialize:function(){this.initFilterCollection()}})}.apply(t,s))||(e.exports=n)},13629:function(e,t,i){var s,n;s=[i(60567),i(16471),i(92213),i(72446),i(25813),i(62872),i(49513)],void 0===(n=function(e,t,i,s,n,a,r){"use strict";var o=t.DashboardsModule,l=e.SumoViewModule,d=".panel-filter-button",c=".selected",u="#filter-selector-search-container",h=".save-filter-button",g=SumoUtil.getCSSName;return l.extend({mixins:[],events:{"click .panel-filter-button":"selectFilter"},columnNumber:3,template:_.template(i),allFiltersTemplate:_.template(s),filterListTemplate:_.template(n),getViewName:function(){return"FieldSelectorView"},getComponent:function(){return"Filters"},getSearchFieldView:function(){return this.getView("searchFieldView")},getSelectedFilters:function(){return this.model.getSelectedFilters()},selectFilter:function(e){var t=$(e.currentTarget),i=t.attr("data-name"),s=g(c);t.hasClass(s)?this.model.removeSelectedFilter(i):this.model.addSelectedFilter(i),this.model.isSingleSelect()&&this.$(c).removeClass(s),t.toggleClass(s),this.model.isSingleSelect()||this.findFilters(),this.$(d).hasClass(s)?this.enableSave():this.disableSave()},disableSave:function(e){$(h).addClass("btn-disabled")},enableSave:function(e){$(h).removeClass("btn-disabled")},findFilters:function(){if(this.getSearchFieldView()){var e=this.getSearchFieldView().getTerm();this.model.setSearchTerm(e),this.$(".all-filters").html(this._filtersPartial())}},initialize:function(e){this.findFilters=_.debounce(this.findFilters,300),_.bindAll(this,"findFilters"),this.model=new a(e)},_filtersPartial:function(){var e=this.model.createFilterCategories(this.columnNumber),t=_(e).every(_.isEmpty),i={__:o,filterListTemplate:this.filterListTemplate,filterCategories:e,noResults:t,selectedClass:g(c)};return this.allFiltersTemplate(i)},render:function(){var e=o.select_field,t=this.model.getSelectedPanelModel();t&&(e=sprintf(o.add_filter_to_panel,t.getTitle()));var i=this._filtersPartial(),s=_.extend({__:o,instructions:e,allFiltersHTML:i}),n=this.template(s);this.$el.html(n);var a=this.getSearchFieldView();return a&&(this.stopListening(a),a.destroy()),a=new r({el:this.$(u),inputPlaceholder:o.filter_fields,triggerSearchOnKeyUp:!0}),this.listenTo(a,"commonSearchLaunched",this.findFilters),this.registerView("searchFieldView",a),this},destroy:function(){this.model.getFilters().each((function(e){e.setSelected(!1)})),this.destroySubViews(),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},19912:function(e,t,i){var s,n;s=[i(24010)],void 0===(n=function(e){"use strict";return Backbone.Collection.extend({model:e,where:function(e,t){var i=_.matches(e);return this[t?"find":"filter"]((function(e){return i(e.attributes)}))},findWhere:function(e){return this.where(e,!0)},getExistingFields:function(e){var t=[];return _.isEmpty(e)||(t=this.filter((function(t){return!_.isUndefined(e[t.getId()])}))),t},getKeyFields:function(){return this.where({key:!0,userReferenced:!0})},getOtherKeyFields:function(){return this.where({key:!0,userReferenced:!1})},getNonKeyFields:function(){return this.where({key:!1,userReferenced:!0})},getOtherNonKeyFields:function(){return this.where({key:!1,userReferenced:!1})}})}.apply(t,s))||(e.exports=n)},24010:function(e,t,i){var s,n;s=[i(60567)],void 0===(n=function(e){"use strict";var t=e.SumoModel,i=e.GetterSetterMixin,s=t.extend({mixins:[i],defaults:{id:null,name:null,type:null,key:!1,userReferenced:!1},isKey:function(){return this.getKey()},isUserReferenced:function(){return this.getUserReferenced()},setName:function(e){this.set({name:e,id:e})},getModelName:function(){return"PanelFieldModel"},getComponent:function(){return"Filters"},initialize:function(){SumoUtil.isStringEmpty(this.getName())||this.setId(this.getName())}});return s.TYPES={STRING:"string"},s}.apply(t,s))||(e.exports=n)},59612:function(e,t,i){var s,n;s=[i(60567),i(16471)],void 0===(n=function(e,t){"use strict";t.DashboardsModule;var i=e.SumoModel,s=e.GetterSetterMixin;return i.extend({mixins:[s],defaults:{panels:null,filterModel:null},getModelName:function(){return"PanelSelectorModel"},getComponent:function(){return"Filters"},getPanelsData:function(){var e=this.getFilterModel(),t=e.getFieldName();return this.getPanels().chain().map((function(i){var s=i.toJSON(),n=_.findWhere(e.getPanels(),{id:s.id});return s.selected=!!n,s.originalSelectedState=s.selected,s.available=i.canLinkField(t),s.cannotUnlink=s.selected&&n&&n.isParameter,s})).sortBy((function(e){return e.y+e.height})).value()}})}.apply(t,s))||(e.exports=n)},96870:function(e,t,i){var s,n;s=[i(60567),i(16471),i(38120),i(59612)],void 0===(n=function(e,t,i,s){"use strict";var n=t.DashboardsModule,a=e.SumoViewModule,r=".panel-option",o=".selected",l='[data-selected="%s"]',d='[data-id="%s"]',c=SumoUtil.getCSSName;return a.extend({mixins:[],events:{"click .panel-option.available":"selectPanel"},template:_.template(i),getViewName:function(){return"PanelSelectorView"},getComponent:function(){return"Filters"},selectPanel:function(e){$(e.currentTarget).toggleClass(c(o))},getAddedPanels:function(){var e=[];return this.$(r+o+sprintf(l,!1)).each((function(t,i){e.push(parseInt($(i).attr("data-id"),10))})),e},getRemovedPanels:function(){var e=[];return this.$(r+sprintf(l,!0)).filter(":not(.selected)").each((function(t,i){e.push(parseInt($(i).attr("data-id"),10))})),e},initialize:function(e){this.model=new s({panels:e.panels,filterModel:e.filterModel}),this.render()},render:function(){var e=this.model.getPanelsData(),t=_.extend({__:n,panels:e}),i=this.template(t);this.$el.html(i);var s=_(e).last();if(s){var a=this.$(sprintf(d,s.id));this.$el.height(parseInt(a.css("top"),10)+a.height())}return this}})}.apply(t,s))||(e.exports=n)},81878:function(e,t,i){var s,n;s=[i(16471),i(23194)],void 0===(n=function(e,t){"use strict";var i=e.DashboardsModule;return{defaults:{},mixin:{template:_.template(t),getPrefix:function(){return"default"},getSettingsCollection:function(){throw new SumoError("getSettingsCollection must be overwritten.")},getSupportedSettingsViewCollection:function(){var e=this;return _.filter(this.getSettingsCollection(),(function(t){return t.isSupported(e.model.getType(),e.model)}))},registerSubView:function(e,t,i){var s=e.view;this.registerView(t,new s(_.extend({model:this.model,el:i,dashboardModel:this.options.dashboardModel},e.viewOptions||{})))},validateSettings:function(){var e=this.mapSubViews("validateSettings");return _(e).every((function(e){return!0===e}))},beforeFocusLost:function(){return this.validateSettings()},registerSubViews:function(e){var t=this;_.each(e,(function(e,i){t.registerSubView(e,t.getPrefix()+"-"+i,t.$("#"+t.getPrefix()+"-"+i))}))},_render:function(){var e=this.getSupportedSettingsViewCollection(),t={__:i,prefix:this.getPrefix(),viewCount:e.length},s=this.template(t);return this.$el.html(s),this.registerSubViews(e),this}}}}.apply(t,s))||(e.exports=n)},13392:function(e,t,i){var s,n;s=[i(60567),i(16471),i(43897),i(34340)],void 0===(n=function(e,t,i,s){"use strict";var n=t.DashboardsModule,a=e.SumoViewModule,r=".error";return a.extend({mixins:[],events:{"click .cancel-link,.close-button":"close","click .settings-submit":"onSettingsSubmit","click .nav-item":"updateSettingsView"},template:_.template(i),selectedIdx:0,getViewName:function(){return"FilterSettingsView"},getComponent:function(){return"Filters"},getDialogView:function(){return this.getView("dialogView")},close:function(){this.getDialogView().close()},canSelectedLoseFocus:function(){var e=this.getSelectedSettingsSubView(),t=!0;return e&&_.isFunction(e.beforeFocusLost)&&(t=e.beforeFocusLost()),t||this.$(r).first().trigger("focus"),t},onSettingsSubmit:function(){var e=this.options.dashboardModel;return e.beforeUpdate().then(function(){if(this.canSelectedLoseFocus()){var t=this,i=_.compact(_.map(this.getAllViews(),(function(e){if(e.onSubmit)return e.onSubmit()})));when.all(i).then((function(){t.model.update().then((function(i){var s=t.model.updateAPIResponse;return e.postDashboardUpdate(i).then((function(){return s}))})).then((function(){t.model.triggerIfNeeded(),t.close()})).catch((function(e){SumoApp.userMessage.error(e.message),t.logErrorMessage("onSettingsSubmit","Error: ",e.message)}))})).catch((function(){$.logError("Some changes could not be saved.")}))}}.bind(this))},setSelectedIdx:function(e){this.selectedIdx=e},getSelectedIdx:function(){return this.selectedIdx},getSelectedSettingsSubView:function(){return this.getView("item-"+this.selectedIdx)},getSettingsViewCollection:function(){var e=this;return _.filter(s,(function(t){return t.isSupported(e.model.getType(),e.model)}))},updateSettingsView:function(e){var t=$(e.target);if(this.canSelectedLoseFocus()){t.addClass("selected").siblings().removeClass("selected");var i=parseInt(t.attr("data-idx"),10);this.setSelectedIdx(i),this.getView("item-"+i).render()}},registerSubViews:function(e){var t=this;_.each(e,(function(e,i){t.registerView("item-"+i,new e.view({model:t.model,dashboardModel:t.options.dashboardModel,el:t.$("#settings-sub-view")}))})),this.getView("item-"+this.getSelectedIdx()).render(),$(".item-"+this.getSelectedIdx()).addClass("selected")},initialize:function(){var e=this,t=SumoApp.factory.createDialogView({el:"#filter-settings-view",plugin:{title:n.filter_settings,width:700,close:function(){e.destroy()}}});this.registerView("dialogView",t),this.$el=t.$el,this.render()},render:function(){var e=this.getSettingsViewCollection(),t=_.extend(this.model.toJSON(),{__:n,navItems:e}),i=this.template(t);return this.$el.html(i),this.registerSubViews(e),this}})}.apply(t,s))||(e.exports=n)},34340:function(e,t,i){var s,n;s=[i(16471),i(82646),i(24839)],void 0===(n=function(e,t,i){"use strict";var s=e.DashboardsModule;return{general:{name:s.filter_general_settings,view:t,isSupported:function(){return!0}},panels:{name:s.filter_panel_settings,view:i,isSupported:function(){return!0}}}}.apply(t,s))||(e.exports=n)},82646:function(e,t,i){var s,n;s=[i(60567),i(16471),i(81878),i(85621)],void 0===(n=function(e,t,i,s){"use strict";t.DashboardsModule;return e.SumoViewModule.extend({mixins:[i],getViewName:function(){return"FilterGeneralSettingsView"},getComponent:function(){return"Filters"},getPrefix:function(){return"general"},getSettingsCollection:function(){return s},onSubmit:function(){return _.compact(_.map(this.getAllViews(),(function(e){if(e.onSubmit)return e.onSubmit()})))},render:function(){return this._render()}})}.apply(t,s))||(e.exports=n)},85621:function(e,t,i){var s,n;s=[i(16471),i(50308),i(79455),i(40704)],void 0===(n=function(e,t,i,s){"use strict";e.DashboardsModule,t.TYPES;return{filter_label:{view:i,isSupported:function(e,t){return!0}},textbox_default_value:{view:s,isSupported:function(e,t){return!0}}}}.apply(t,s))||(e.exports=n)},79455:function(e,t,i){var s,n;s=[i(60567),i(16471),i(57759),i(93e3)],void 0===(n=function(e,t,i,s){"use strict";var n=t.DashboardsModule;return e.SumoViewModule.extend({mixins:[s],COMPONENT_NAME:"Filters",events:{"change .input-filter-label":"validateSettings"},template:_.template(i),getViewName:function(){return"FilterLabelSettingsView"},getComponent:function(){return this.COMPONENT_NAME},getSectionLabel:function(){return n.filter_label_settings_view},getRenderingProperties:function(){return{label:this.model.getLabel()}},onSubmit:function(){return this.updateSettings()},getValidationErrors:function(){var e=[],t=this.$(".input-filter-label");return 0===t.val().trim().length&&e.push({$field:t,errorMessage:sprintf(n.error_no_input,n.filter_label_settings_view)}),e},updateSettings:function(){if(this.validateSettings()){var e=this.$(".input-filter-label").val().trim();this.model.setLabel(e)}return this.createResolvedPromise(!0)},render:function(){return this._render(),this}})}.apply(t,s))||(e.exports=n)},40704:function(e,t,i){var s,n;s=[i(60567),i(16471),i(42253),i(7348),i(50308),i(93e3),i(24987)],void 0===(n=function(e,t,i,s,n,a,r){"use strict";var o=t.DashboardsModule;return e.SumoViewModule.extend({mixins:[a,r],COMPONENT_NAME:"Filters",noFilterRun:!0,events:{"keyup .filter-input":"onKeyUp","change .numeric-type":"onNumericTypeChange"},template:_.template(i),originalModel:null,getViewName:function(){return"TextboxDefaultValueSettingsView"},getComponent:function(){return this.COMPONENT_NAME},getSectionLabel:function(){return o.default_value_settings_view},setFilterValue:function(e){this.model.setDefaultValue(e)},validateValue:function(){this.model.validateDefaultValue()},getRenderingProperties:function(e){var t=this.model.getRenderingProperties(e);return t.currentValue.operator=t.defaultValue.operator,t.currentValues=t.defaultValues,{filterTypeTemplate:s.render(t)}},onSubmit:function(){return this.updateSettings()},getValidationErrors:function(){var e=[],t=this.getValue();return!t||t.isValid()||t.isEmpty()||e.push({$field:this.$(".first,.second"),errorMessage:sprintf(o.invalid_value,o.default_value_settings_view)}),e},setupNgSelectedValue:function(e){var t=this.model,i=e?t.getDefaultValue():this.model.getCurrentValue(),s=i||this.model.getDefaultValue();return this.model.setDefaultValue(s),s},updateSettings:function(){return this.originalModel.setDefaultValue(this.model.getDefaultValue()),this.createResolvedPromise(!0)},initialize:function(){this.originalModel=this.model,this.model=new n(this.model.toJSON()),this.listenTo(this.model,"change:error",this.validateSettings)},render:function(e){return this._render(),this.setup(!1,e),this},destroy:function(){this.angularSelectScope&&(this.angularSelectScope.$destroy(),this.stopListening(),this.destroySubViews(),SumoUtil.destroyView(this))}})}.apply(t,s))||(e.exports=n)},24839:function(e,t,i){var s,n;s=[i(60567),i(16471),i(73024),i(93e3),i(96870)],void 0===(n=function(e,t,i,s,n){"use strict";var a=t.DashboardsModule;return e.SumoViewModule.extend({mixins:[s],events:{},COMPONENT_NAME:"Filters",template:_.template(i),getViewName:function(){return"PanelsSettingsView"},getComponent:function(){return this.COMPONENT_NAME},getPanelSelectorView:function(){return this.getView("panelSelectorView")},getSectionLabel:function(){return a.panels_settings_view},getRenderingProperties:function(){return{__:a}},beforeFocusLost:function(){return this.validateSettings()},onSubmit:function(){return this.updateSettings()},updateSettings:function(){var e=this.model,t=this.getPanelSelectorView(),i=t.getAddedPanels(),s=t.getRemovedPanels(),n=_(i).map((function(t){return e.linkPanel(t)})),a=_(s).map((function(t){return e.unlinkPanel(t)})),r=n.concat(a);return when.all(r).catch((function(){$.logError("some linking changes could not be made ")}))},render:function(){this._render();var e=this.getPanelSelectorView();return e&&e.destroy(),e=new n({el:this.$(".panel-selector-view"),panels:this.options.dashboardModel.getPanels(),filterModel:this.model}),this.registerView("panelSelectorView",e),this}})}.apply(t,s))||(e.exports=n)},24987:function(e,t,i){var s,n;s=[i(57895),i(60567),i(16471),i(89867)],void 0===(n=function(e,t,i,s){"use strict";var n=t.SelectizeViewModule,a=i.DashboardsModule,r=s.timeRangeUtil,o=".textbox-filter__select input",l=".first",d=".second",c=".numeric-type",u=".numeric-filter-field",h=".filter-error";return{init:function(){this.validateValue=_.debounce(this.validateValue,250)},mixin:{onEnterKey:$.noop,setFilterValue:function(e){this.model.setCurrentValue(e)},validateValue:function(){this.model.validateValue()},onKeyUp:function(e){var t=e.which,i=$.ui.keyCode;this.setFilterValue(this.getValue()),t===i.ENTER?this.onEnterKey():this.validateValue()},onNumericTypeChange:function(){var t=this.$(c).val();this.$(u).toggleClass("-range",t===e.OPERATORS.AND),this.setFilterValue(this.getValue()),this.validateValue()},selectValue:function(e,t){this.filterValue=e,this.setFilterValue(this.getValue()),this.noFilterRun||t||this.model.triggerFilter()},getValue:function(){var t=null,i=this.filterValue||"",s=SumoApp.priv.hasFlagUIDashboardFilterAutocomplete(),n=this.model.hasParamAssociation();switch(this.model.getType()){case this.model.TYPES.TEXT_BOX:var a=(s||n?i:this.$(o).val()).trim();t=new e(e.OPERATORS.STRING,a);break;case this.model.TYPES.NUMERIC:var r=n?e.OPERATORS.EQ:this.$(c).val();if(r!==e.OPERATORS.AND)t=new e(r,i);else{var u=this.$(l).val();if(r===e.OPERATORS.AND){var h=this.$(d).val();t=new e(r,new e(e.OPERATORS.GTE,u),new e(e.OPERATORS.LTE,h))}else t=new e(r,u)}}return t},setupAngularSelect:function(e){var t=this,s=this.model.getRenderingProperties();s.__=_.defaults({},s.__,a);var n=SumoApp.getAngularService("$rootScope").$new();n.properties=s,n.label=" ",n.dropdownVariant=i.DROPDOWN_VARIANTS.compact,n.onSelectionChange=function(e){t.selectValue(e&&e.value?e.value:"")},n.onNewItem=function(e){t.selectValue(e&&e.label?e.label:"")},n.onTextChange=function(e){t.selectValue(e||"",!0)};var o=this.setupNgSelectedValue(e);o&&(n.selectedItem=o.value),n.matchRequest=function(e){var i;if(t.model.hasParamAssociation()&&!t.model.getIsParameterizedAutoComplete()){i=SumoApp.getAngularService("$q").resolve([])}else{var s=t.options.dashboardModel,n=SumoApp.getAngularService("currentUserHelper"),a=s.getPanels().models.map((function(e){return r.parseTimeRangeDetails(e.getTimeRange())})),o=r.getMinimumContainingRange(a),l={fieldName:t.model.getFieldName(),partialToken:e,isParameterizedAutoComplete:t.model.getIsParameterizedAutoComplete(),autoCompleteId:t.model.getAutoCompleteId()||s.getId(),isMetricsRequest:t.hasMetricsAssociation()};n.hasFeatureFlag("UIIncludeTimerangeInDashboardFiltersAutocomplete")&&(l.timeRangeStart=o.startTime,l.timeRangeEnd=o.endTime),i=SumoApp.getAngularService("dashboardService").getFilterAutocomplete(s.getAccessKey(),100,l).then((function(e){return e?e.reduce((function(e,t){return e.push({label:t.label||t.value,value:t.value}),e}),[]):[]}))}return i},SumoApp.ngCompile(this.$el,n,!0),this.angularSelectScope=n},hasMetricsAssociation:function(){var e=this.options,t=e.model.getPanels()||[],i=e.dashboardModel.getPanels(),s=t.filter((function(e){return i.get(e.id).isMetrics()}));return!_.isEmpty(s)},setup:function(e,t){if(SumoApp.priv.hasFlagUIDashboardFilterAutocomplete()&&this.setupAngularSelect(t),this.model.getType()===this.model.TYPES.NUMERIC&&this.$(c).length>0){var i={el:this.$(c),create:!1};e||(i.dropdownParent="body");var s=new n(i);this.registerView("numericTypeSelect",s)}this.$(h).length>0&&this.$(h).tooltipster({theme:"quicktip"})}}}}.apply(t,s))||(e.exports=n)},7348:function(e,t,i){var s,n;s=[i(67408),i(48109)],void 0===(n=function(e,t){"use strict";var i={};return i.textbox=_.template(e),i.numeric=_.template(t),{render:function(e){var t="";return e&&e.type&&i[e.type]&&(t=i[e.type](e)),t}}}.apply(t,s))||(e.exports=n)},52108:function(e,t){var i;void 0===(i=function(){"use strict";var e={INTERACTIVE_GET_REPORT:"INTERACTIVE_GET_REPORT",CONTENT_LIBRARY_ITEM_ACTIONS:"CONTENT_LIBRARY_ITEM_ACTIONS",INTERACTIVE_DASHBOARD_CREATE_SESSIONS:"INTERACTIVE_DASHBOARD_CREATE_SESSIONS",INTERACTIVE_DASHBOARD_RESUME_SESSIONS:"INTERACTIVE_DASHBOARD_RESUME_SESSIONS",INTERACTIVE_DASHBOARD_RESULTS_ALT:"INTERACTIVE_DASHBOARD_RESULTS_ALT",INTERACTIVE_DASHBOARD_RESULTS:"INTERACTIVE_DASHBOARD_RESULTS",INTERACTIVE_DASHBOARD_TERMINATE_SESSIONS:"INTERACTIVE_DASHBOARD_TERMINATE_SESSIONS"};return{mixin:{setPublicApiEndpoints:function(){this.apiSuffix=this.getIsPublic()?"_PUBLIC":""},setEndpoints:function(){this.apiSuffix=this.apiSuffix?this.apiSuffix:"",this.apiPrefix="V2_"},onPublicUser:function(){this.setPublicApiEndpoints(),this.setEndpoints(),this.requestIdKey="accessId"},setUpApis:function(e){this.requestIdKey=e||"id",this.setEndpoints(),this.setPublicApiEndpoints(),this.listenTo(this,"change:isPublic",this.onPublicUser.bind(this)),this.requestIdKey="accessId"},getApiEndpoint:function(t){return SumoApp.ajax.EndpointFormats[this.apiPrefix+e[t]+this.apiSuffix]}}}}.apply(t,[]))||(e.exports=i)},89602:function(e,t,i){var s,n;s=[i(16471),i(86795),i(83983),i(14792),i(52108),i(84803),i(15810),i(89926),i(50055),i(18762),i(19912),i(44104),i(60567),i(57895),i(21031)],void 0===(n=function(e,t,s,n,a,r,o,l,d,c,u,h,g,p,m){"use strict";const{SearchQueryUtil:f}=t;var S=g.DashboardConstantsModule,v=e.DashboardsModule,w=g.ResultsViewerConstants,b=g.contentItemService,y=g.SumoModel,T=g.GetterSetterMixin;s=s.default;var E=e.commonEnI18n,C=e.CONTENT_ACTION_TYPES,A=i(16367).Heimdall;return y.extend({mixins:[a,r,o,l,n,h,T],defaults:{panels:null,columns:null,detailLevel:null,queryManager:null,type:"interactive",keepAliveTimer:null,filters:null,fields:null,autoToggleMode:null,isPublic:!1,paramType:SumoUtil.oldEntityParam,accessId:void 0,orgName:"",accessKey:null,livePanelStatus:null,switchingToLive:!1,panelDataCleared:!1,favoriteExternalUpdate:void 0,id:null,title:null,properties:null,mode:"view",modeState:null,liveMode:!1,previousTitle:null,errorMessage:null,errorDetails:null,error:!1,criticalErrorMessage:null,fetching:!1,lastDashboardData:null,lastResultsTs:0,dashboardDeleted:!1,sharingChanged:!1,loadInProgress:null,folderId:null,dataTimer:null,dashboardTimer:null,contentItem:null,version:null,loadDashRetryCount:0,dormantState:!1},TYPES:S.DASHBOARD_TYPES,MODES:{EDIT:"edit",VIEW:"view"},modeStates:{INTERACTIVE:"interactive",LIVE:"live",STOPPED:"stopped"},MASTER_DISENGAGED:v.master_timerange_disengaged,REVERT_TO_DEFAULT:v.revert_to_default_values,SET_AS_DEFAULT:v.set_current_as_defaults,DEFAULT_DETAIL_LEVEL:w.ViewerDetailLevel.medium,_isDestroyed:!1,timerangeStates:{},retryDashLoadTimeout:void 0,setPanels:function(e){var t=this.getPanels();_.isNull(t)&&e instanceof Backbone.Collection?this.set({panels:e}):t.reset(e)},clearLastDashboardData:function(){this.setLastDashboardData(null)},clearErrorMessage:function(){this.set({errorMessage:null})},getErrorMessage:function(){return this.get("errorMessage")},setErrorMessage:function(e){this.set({errorMessage:e})},getErrorDetails:function(){return this.get("errorDetails")},setErrorDetails:function(e){this.set({errorDetails:e})},clearCriticalErrorMessage:function(){this.set({criticalErrorMessage:null})},setCriticalErrorMessage:function(e){this.set({criticalErrorMessage:e})},getCriticalErrorMessage:function(){return this.get("criticalErrorMessage")},isFetching:function(){return this.get("fetching")},getDetailLevel:function(){return this.DEFAULT_DETAIL_LEVEL},_getProperty:function(e){var t=this.getProperties();return t?t[e]:null},_setProperty:function(e,t){var i=this.getProperties();i||(i={}),i[e]=t,this.set({properties:i}),this.trigger("change:properties")},getTheme:function(){var e=this._getProperty(S.DashboardProperties.THEME);return e||(e=S.DEFAULT_THEME),e},setTheme:function(e){this._setProperty(S.DashboardProperties.THEME,e)},getColorFamilyIndex:function(){var e=this._getProperty(S.DashboardProperties.COLOR_FAMILY),t=w.ColorFamilies.length;(_.isUndefined(e)||_.isNull(e)||!SumoUtil.isInteger(e)||e<0||e>=t)&&(e=this.getId()%w.ColorFamiliesOriginalLength,this._setProperty(S.DashboardProperties.COLOR_FAMILY,e),this.canBeEdited()&&this.save());return e},setColorFamilyIndex:function(e){this._setProperty(S.DashboardProperties.COLOR_FAMILY,e),this.save()},isEditMode:function(){return this.getMode()===this.MODES.EDIT},isViewMode:function(){return this.getMode()===this.MODES.VIEW},isInteractive:function(){return this.getType()===this.TYPES.INTERACTIVE&&!this.getIsPublic()},isLive:function(){return!1},isLiveMode:function(){return this.getLiveMode()},getMode:function(){var e=this.get("mode");return this.canBeEdited()||(e=this.MODES.VIEW),e},setDataTimer:function(e){this.stopTimer(this.getDataTimer()),this.set("dataTimer",e)},getTitleTooltip:function(){return!this.isMine()&&this.getTitle()&&this.getTitle().length>40?this.getTitle():""},getNumberOfRows:function(){var e=-1;return this.getMonitors().each((function(t){t.getY()>e&&(e=t.getY())})),e+1},hasPanels:function(){var e=this.getMonitors();return e&&e.length>0},getMaxRowPerColumn:function(){var e=S.GridsterDefaults.DEFAULT_COLUMNS,t=SumoUtil.createArrayWithDefaultValue(e,1);return this.getMonitors().each((function(e){for(var i=e.getY(),s=e.getX(),n=e.getWidth(),a=i+e.getHeight(),r=s+n,o=s-1;o<r-1;o++){t[o]<a&&(t[o]=a)}})),t},getAvailablePositions:function(e){for(var t=this.getMaxRowPerColumn(),i=_.max(t),s=t.length-e,n=[],a=t[0],r=0,o=1;o<t.length;o++){var l=o+1===t.length,d=o-r;if(a!==t[o]||l){if(a>t[o])for(var c=e-d,u=o+1;u<t.length&&u<=o+1+c&&a>t[u];u++)d++;if(l&&d++,(e<=d||i===a)&&n.push({column:r+1,row:a,length:d}),o>s)break;a=t[o],r=o}}return n},getMonitorById:function(e){return this.getMonitors().get(e)},addMonitor:function(e){this.getMonitors().add(e)},getUnoptimizedPanels:function(){return this.getMonitors().filter((function(e){return e.canBeOptimized()}))},getUnoptimizablePanels:function(){return this.getMonitors().filter((function(e){return e.cantBeOptimized()}))},updateDashboardTitle:function(e,t){var i=SumoUtil.isValidName(e);return i?(this.setPreviousTitle(this.getTitle()),this.setTitle(e.trim()),this.save(t)):t?t.reject(v.invalid_title):this.setErrorMessage(v.invalid_title),i},monitorSaveBegin:function(){this.restartTimer(this.getDashboardTimer())},updateLastDashboardData:function(){this.setLastDashboardData(this.getServerLikeDashboardObject())},monitorSaveFinished:function(){this.updateLastDashboardData()},_save:function(e){var t=null,i=this;return _.isNull(this.getId())?t=this.validateDashboard().then(this.create).then(this.onCreate):(this.restartTimer(this.getDashboardTimer()),this.clearErrorMessage(),t=this.update().then((function(){e&&e.resolve(),i.onUpdate()})).catch((function(t){i.onUpdateError(t,e)}))),t},onUpdate:function(){return this.updateLastDashboardData(),this.setPreviousTitle(this.getTitle()),SumoUtil.isDashboardUrl()||this.sendContentChangeNotification(C.EDIT),this},sendContentChangeNotification:function(e,t){var i=this,s=g.contentActionNotificationService;SumoApp.getAngularService("$q").when(t||b.fetch(i.getId())).then((function(t){s.notify({actionType:e,items:[t],destinationFolderId:i.getFolderId()})}))},convertToGridster:function(e){var t=e.columns.map((function(){return""})).length,i=Math.floor(S.GridsterDefaults.DEFAULT_COLUMNS/t),s=1===this.getNumberOfRows()?12:5;this.getMonitors().each((function(e){e.set({x:e.getX()*i+1,y:e.getY()*s+1,width:i,height:s},{silent:!0})}))},onUpdateError:function(e,t){this.setTitle(this.getPreviousTitle());var i=null,s=e.keyedErrors;if(s)if(_.has(s,"cq.general_failure")){if((i=s["cq.general_failure"].error).indexOf("Invalid name")>-1)i=v.invalid_title;else if(i.indexOf("has multiple children with the same name")>0){var n=SumoUtil.encode(this.getTitle());i=sprintf(v.invalid_title_conflicts,n)}}else _.has(s,"content1:duplicate_element")&&(i=SumoApp.getAngularService("i18n").get("keyederrors")["content1:duplicate_element"]);if(!t)throw this.setErrorDetails(e.formattedErrorDetails),this.setErrorMessage(i||e.friendlyErrorMessage),e;t.reject(i||e.friendlyErrorMessage)},validateDashboard:function(){var e=null;return SumoUtil.isValidName(this.getTitle())||(e=v.invalid_title),this.getId()||this.getFolderId()&&-1!==this.getFolderId()||(e=v.error_location_required),_.isNull(e)?this.createResolvedPromise(!0):this.createRejectedPromise({friendlyErrorMessage:e})},onPanelDeleted:function(e){this.clearErrorMessage(),this.updateLastDashboardData()},refreshDashboardDefinition:function(){this.loadDashboard()},getOrCreate:function(){return _.isNull(this.getId())?this.save():this.loadDashboard().then((function(e){if(e instanceof Error||e instanceof SumoError)throw e;return e}))},startTimer:function(e){e&&e.start()},stopTimer:function(e){e&&e.stop()},isTimerRunning:function(e){e&&e.isRunning()},restartTimer:function(e){e&&e.restart()},scheduleTimer:function(e,t){e&&e.nextPoll(t)},reloadPage:function(e){var t=window.location.href,i=t.indexOf("#");i>-1&&(t=t.substr(0,i));var s=t.indexOf("&t=");s>-1&&(t=t.substr(0,s)),t+="&t="+(new Date).getTime(),window.location.href=t},getResults:function(e){if(!this._isDestroyed){if(this.isFetching()){var t=this.getLastResultsTs();if((t&&+new Date-t)<this.GET_RESULTS_TIMEOUT)return void this.scheduleTimer(this.getDataTimer(),e)}this.clearErrorMessage(),this.clearCriticalErrorMessage();var i=this.getQueryResults(e),s=this.getDataTimer();i.done(this.processResults.bind(this,s),this.handleResultsError.bind(this,s,e))}},processResults:function(e,t){var i=null,s=!1;if(!e.isRunning())return i;if(t.monitorDataResults){var n=this;this.timer.start(!0);var a=this.timer.now();_.chain(t.monitorDataResults).compact().each((function(e){var t=n.getMonitorById(e.monitorId);if(t){var i=_.isArray(e.warnings)&&!_.isEmpty(e.warnings),a="Monitor"+t.getId();if(n.timer.mark(a+"-StartUpdate"),!e.error){try{var r=new f,o=t.getQueryString(),l=r.getFormattedFieldMapping(o);r.formatFieldsAndResults(l,e.records.fields,e.records.records)}catch(e){i||$.logError("Sumo.Ui.Dashboard.DashboardModel._getDashboardResults - Unable to update formatted fields for monitor %s:%s.  Error: %s",t.getId(),t.getTitle(),e)}e.status&&t.updateStatus(e.status),t.isNewMonitorData(e)&&t.setMonitorData(e)}SumoApp.priv.hasFlagUIDashboardsEarlyRefresh()&&!s&&(s=t.isMonitorDataEmpty()),n.timer.mark(a+"-EndUpdate"),n.timer.measure(a+"-Update",a+"-StartUpdate",a+"-EndUpdate")}})),this.timer.stop(),i={pendingQueries:t.pendingQueries,timeStamp:(new Date).getTime(),renderTime:this.timer.getTimeSince(a),needEarlyResults:s}}e.nextPoll(i)},handleResultsError:function(e,t){(t=t||{}).error=!0,e.nextPoll(t)},isCriticalError:function(e){return _.has(e.keyedErrors,"not.found")||_.has(e.keyedErrors,"content1:not_found")||_.has(e.keyedErrors,"content1:permission_denied")},isCriticalErrorStatus:function(e){var t=e.status-400;return t>=0&&t<=199},getServiceWhiteListPromise:function(){return this.createPromise({endpoint:SumoApp.ajax.Endpoints.V1_ACCOUNT_WHITELIST_ENABLED,errorCode:"service_whitelist_status",type:"GET"})},loadDashboard:function(e){if(!this._isDestroyed){this.setLoadInProgress(!0),this.clearErrorMessage(),this.clearCriticalErrorMessage();var t,i=this;return this.getIsPublic()||this.getParamType()!==SumoUtil.oldEntityParam||this.getAccessId()?this.getAccessLevel().then((function(){t=e?i.createResolvedPromise(e):i.loadLibraryInfo();var s,n=i.getDormantState(),a=i.getLoadPromise(n).then((function(e){var t=A.getPlugin("routeChangePerformance");return t&&!n&&t.done("get report"),e})).catch((function(e){var t=A.getPlugin("routeChangePerformance");return t&&!n&&t.done("get report"),SumoApp.getAngularService("$q").reject(e)}));return when.settle([a,t]).then((function(t){var n,a=null,r=t[0],o=t[1];if("rejected"===r.state&&"rejected"===o.state){s=r.reason;var l=o.reason,d=_.extend({},s.keyedErrors,l.keyedErrors);if(l.keyedErrors=d,200===l.status||this._isDestroyed)throw l;n=l}else if("rejected"===r.state){if(200===(s=r.reason).status||this._isDestroyed)throw s;n=s}else a=r.value,"rejected"!==o.state&&(a.libraryInfo=o.value);return n?i.retryDashboardLoad(n,e):i.onDashboardLoad(a)})).catch(i.onDashboardLoadError)})):(t=this.loadLibraryInfo(!0)).then((function(e){i.setAccessId(e.accessKey);var t=i.getQueryManager();return t&&t.setAccessId(e.accessKey),i.loadDashboard(e)}))}this.logWarnMessage("loadDashboard","rejected. Model destroyed")},cancelDashLoadRetry:function(){cancelTimeout(this.retryDashLoadTimeout),this.retryDashLoadTimeout=void 0},retryDashboardLoad:function(e,t){this.retryDashLoadTimeout&&this.cancelDashLoadRetry();var i=this.getLoadDashRetryCount();if(3===i)throw this.setLoadDashRetryCount(0),e;this.setLoadDashRetryCount(i+1);var s=this,n=SumoApp.getAngularService("$q").defer();return this.retryDashLoadTimeout=setTimeout((function(){s.retryDashLoadTimeout=void 0,s.loadDashboard(t).then((function(){n.resolve.apply(n,Array.prototype.slice.call(arguments))})).catch((function(){n.reject.apply(n,Array.prototype.slice.call(arguments))}))}),1e3),n.promise},onDashboardLoadError:function(e){return $.logWarn("Sumo.Ui.Dashboard.DashboardModel.loadDashboard - error: '%s'",e,e),200===e.status&&this.isCriticalError(e)?!SumoUtil.isDashboardUrl()||SumoApp.user&&0!==SumoApp.user.getId()||SumoUtil.isEmbedded()?this.setCriticalErrorMessage({title:v.dashboard_inaccessible,reason:v.dashboard_inaccessible_reason}):$("#iris-view").trigger("redirectToLogin","dashNoAccess"):($.logInfo("Sumo.UI.Dashboard.loadError: "+JSON.stringify(e)),this.setCriticalErrorMessage({title:v.dashboard_load_error,reason:v.dashboard_load_error_reason,errorDetails:e,refreshOption:!0})),this.setLoadInProgress(!1),e},triggerModelChange:function(){this.trigger("change:changeTrigger")},createPanelWithoutVersionCheck:function(e){return this.restartTimer(this.getDashboardTimer()),e.setDashboardModel(this),e.setParentId(this.getId()),e.create().then(this.onPanelAdded)},createPanel:function(e){return this.beforeUpdate().then(function(){var t=this;return this.createPanelWithoutVersionCheck(e).then((function(e){return t.postDashboardUpdate(e)}))}.bind(this))},reload:function(e){this.setLoadInProgress(!0),e?(this.getMonitors().each((function(e){e.resetMonitorData()})),this.loadDashboardAndStartPolling()):this.softReload()},initializeTimers:function(){var e=this.getDataTimer();e&&(this.listenTo(e,"poll",this.getResults),this.listenTo(e,"start",this.startQueries),this.listenTo(e,"stop",this.stopQueries));var t=this.getDashboardTimer();t&&(t.initialize(this.getId()),this.listenTo(t,"poll",this.refreshDashboardDefinition))},stopTimers:function(){this.stopTimer(this.getDataTimer()),this.stopTimer(this.getDashboardTimer())},onInitialize:function(){this.setColumns([]),this.timer=new m("DashboardModel-UpdateResults-"+this.get("dashboardId")),this.timerangeStates={}},onDestroy:function(){this.retryDashLoadTimeout&&this.cancelDashLoadRetry(),this.stopListening(),this.stopTimers(),this._isDestroyed=!0,this.trigger("destroy",this)},saveTimerangeViewState:function(e,t){this.timerangeStates[e]=t},loadTimerangeViewState:function(e){return this.timerangeStates[e]},favoriteExternalUpdate:function(e){this.setIsFavorite(e),this.setFavoriteExternalUpdate(Date.now())},titleExternalUpdate:function(e){this.setTitle(e),this.setPreviousTitle(e);var t=this.getContentItem();t&&(t.name=e)},setLiveMode:function(e){this.set("liveMode",e),this.getQueryManager().setLiveMode(e)},getComponent:function(){return"Dashboards"},getModelName:function(){return"InteractiveDashboardModel"},getURL:function(){var e=this.getId(),t=this.getAccessKey();return SumoUtil.getSimpleDashboardURL(e,"r",t)},beforeVisibilityChange:function(e){return this.createResolvedPromise(this)},getMonitors:function(){return this.getPanels()},canBeFiltered:function(){return this.getFields()&&!this.getFields().isEmpty()&&!this.getIsPublic()},hasFilters:function(){return this.getFilters()&&!this.getFilters().isEmpty()&&this.getFilters().every((function(e){return e.getId()}))},_initFilters:function(e){var t=new c(e);return this.set({filters:t}),t},setFilters:function(e){var t=this.getFilters();t?t.reset(e):this._initFilters(e);var i=SumoApp.getAngularService("currentUserHelper").hasFeatureFlag("UIFiltersUrlSync");if(SumoUtil.isDashboardUrl()&&i){var s=this.dashboardUrlFilterSyncService.getFiltersFromLocation(t.models);s&&s.forEach((function(e){var i=_.find(t.models,(function(t){return t.getFieldName()===e.fieldName}));i&&(i.setCurrentValue(p.parse(e.currentValue)),"null"==i.getCurrentValue().value&&(i.getCurrentValue().value=null))}))}},addFilters:function(e){this.getFilters().add(e)},runQuery:function(e){e.getIsDisabled()||e.getIsSumoDisabled()||this.getQueryManager().addQuery(e.getQueryAttributes())},showCreateSessionErrorToast:function(e){var t=this,i=SumoApp.getAngularService("$mdToast");i.hide(this.retryToast),this.retryToast=i.error().textContent(e).hideDelay(0).action(s.retryNow).highlightAction(!0).parent($(".backbone-dashboard")),i.show(this.retryToast).then((function(e){"ok"===e&&(clearTimeout(t.sessionCreateTimeout),t.retrySessionCreation())}))},retrySessionCreation:function(){this.getEnabledInteractivePanels();var e=SumoApp.getAngularService("$mdToast");e.hide(this.retryToast),this.retryToast=e.error().textContent(s.retrying).hideDelay(0).parent($(".backbone-dashboard")),e.show(this.retryToast),this.softReload()},onApiInternalError:function(e){var t=this,i=SumoApp.getAngularService("$mdToast"),n=t.retryTime;e.getApiInternalError()?(t.retryTime=n=n?2*n:60,SumoApp.getAngularService("currentUserHelper").hasFeatureFlag("UIShowConnectivityErrorWithDelay")?n>60&&t.showCreateSessionErrorToast(s.sessionCreateErrorRetry):t.showCreateSessionErrorToast(s.sessionCreateErrorRetry),t.sessionCreateTimeout=setTimeout(t.retrySessionCreation.bind(t),1e3*n)):(t.retryToast&&i.hide(t.retryToast),t.sessionCreateTimeout&&clearTimeout(t.sessionCreateTimeout),t.retryToast=void 0,t.retryTime=0)},runFilters:function(e){var t=this,i=this.getPanels();if(_.every(this.getFilters().getVisible(),(function(e){return e.validateValue()||e.isEmptyValue()}))){var s=i.getByLinkedFilter(e);_.each(s,(function(e){t.runQuery(e)}))}},onTimeRangeChange:function(e){this.runQuery(e)},getDashboardObject:function(){var e=this.get("properties");return{id:this.getId(),title:this.getTitle(),description:this.getDescription(),columns:[""],properties:e?JSON.stringify(e):null}},getServerLikeDashboardObject:function(){var e=this.get("properties");return{id:this.getId(),description:null,title:this.getTitle(),columns:this.getColumns(),detailLevel:this.getDetailLevel(),properties:e?JSON.stringify(e):null,sharer:this.getSharer()}},onCreate:function(e){return this.setId(e.id),this.setAccessKey(e.accessKey),SumoApp.applicationView.onDashboardCreated(null,this.toJSON(),"interactive"),this},create:function(){return SumoUtil.logPageVisit("search","interactiveDashboard/created"),SumoApp.getAngularService("contentDashboardService").create(this.getDashboardObject(),this.getFolderId())},update:function(){return this.beforeUpdate().then(function(){var e=this;return e.createPromise({endpoint:sprintf(SumoApp.ajax.EndpointFormats.V1_INTERACTIVE_UPDATE_REPORT,e.getId()),errorCode:"update_dashboard",type:"PUT",data:e.getDashboardObject()}).then((function(t){return e.postDashboardUpdate(t)}))}.bind(this))},updatePanelPosition:function(e){var t=this;return this.beforeUpdate().then(function(){var i=[];return e&&(i=e.map((function(e){return e.getMonitorObject()}))),this.createPromise({endpoint:sprintf(SumoApp.ajax.EndpointFormats.V2_INTERACTIVE_PANEL_POSITION_UPDATE,this.getAccessKey()),errorCode:"update_monitor",type:"PUT",data:i}).then((function(e){return t.postDashboardUpdate(e)}))}.bind(this))},updatePanels:function(e,t){return this.beforeUpdate().then(function(){var i=this,s=(t||this.getPanels()).map((function(t){return t.updatePanel(e)}));when.all(s).then((function(e){return i.postDashboardUpdate(e)}))}.bind(this))},onPanelAdded:function(e){return e&&this.addMonitor(e),e},save:function(e){return this._save(e)},deleteDashboard:function(){var e=this,t=this.getId(),i=this.getTitle();return this.clearErrorMessage(),this.stopTimers(),SumoUtil.logPageVisit("dashboard","interactiveDashboard/deleted"),SumoApp.getAngularService("contentDashboardService").fetchContentItem(t).then((function(e){return b.delete(e.id).then((function(){return e}))})).then((function(t){SumoUtil.isDashboardUrl()||e.sendContentChangeNotification(C.DELETE,t),SumoApp.user.logAppsAction({logType:E.dashboard_deleted,name:i}),e.set({dashboardDeleted:!0})})).catch((function(t){return e.setErrorMessage(_.map(t.errors,(function(e){return e.message}))),!1}))},enableDashboard:function(){$.logWarn("not implemented")},disableDashboard:function(){$.logWarn("not implemented")},getEnabledInteractivePanels:function(){return this.getPanels().filter((function(e){return!e.isStaticPanel()&&!e.getIsDisabled()}))},getEnabledRelativeInteractivePanelsCount:function(){return this.getPanels().filter((function(e){return!(e.isStaticPanel()||e.getIsDisabled()||e.isAbsolutePanel()||e.isLiteralPanel())})).length},getEnabledAbsoluteInteractivePanels:function(){return this.getPanels().filter((function(e){return e.isAbsolutePanel()||e.isLiteralPanel()}))},queryAllPanels:function(e){var t=this.getQueryManager(),i=this.getEnabledInteractivePanels();_.isEmpty(i)||t.resetQueries(_.map(i,(function(e){return e.getQueryAttributes()})),e)},queryPanel:function(e,t){this.getQueryManager().addQuery(e.getQueryAttributes(),t)},softReload:function(){this.queryAllPanels()},loadDashboardAndStartPolling:function(){var e=this;this.clearLastDashboardData();var t=this.getQueryManager();t&&t.stop(),this.loadDashboard().done((function(){e.queryAllPanels()}),this.onDashboardLoadError)},getLoadPromise:function(e){var t=A.getPlugin("routeChangePerformance");return t&&!e&&t.waitFor("get report"),this.createPromise({endpoint:sprintf(this.getApiEndpoint("INTERACTIVE_GET_REPORT"),this.get(this.requestIdKey)),errorCode:"get_dashboard"})},_updateLocalModelIfChanged:function(e){var t=this.canBeEdited(),i=this.getLastDashboardData(),s=!_.isEqual(e,i);if(this.setLastDashboardData(e),s){var n=this,a=_.map(e.panels,(function(e){return _.extend({},e,{dashboardModel:n,detailLevel:n.getDetailLevel()})}));this.setPanels(a),this.setFilters(e.filters),this.setFields(e.fields);var r=e.properties?JSON.parse(e.properties):{};this.set({id:e.id,title:e.title,previousTitle:e.title,modeState:e.modeState,columns:e.columns&&e.columns.length>0?e.columns:[""],properties:r}),r.layoutType!==S.LAYOUT_TYPES.IRIS&&(this.convertToGridster(e),t?(r.layoutType=S.LAYOUT_TYPES.IRIS,this._setProperty("layoutType",S.LAYOUT_TYPES.IRIS),this.save(),this.updatePanels()):this.stopTimer(this.getDashboardTimer())),this.triggerModelChange()}},getThemeBasedMspLogo:function(){var e=SumoApp.getAngularService("currentUserHelper");return this.getTheme()===S.Themes.DARK?e.getDarkMspLogo():e.getMspLogo()},onDashboardLoad:function(e){this.setLoadDashRetryCount(0);var t=e.report;t.panels=e.panels;var i=SumoApp.getAngularService("dashboardUrlTimerangeSyncService").getTimerangeFromUrl();if(this.setVersion({modifiedAt:moment(e.version.modifiedAt),lastModifier:{name:e.version.modifiedBy}}),_.each(t.panels,(function(e){_.each(i,(function(t){e.id===t.id&&(e.timeRange=t.timeRange)})),!_.isUndefined(e.metricsQueries)&&!_.isEmpty(e.metricsQueries)&&(e.viewerType="metrics")})),t.filters=e.filters,t.libraryInfo=e.libraryInfo,t.libraryInfo){this.setId(t.libraryInfo.externalId);var s=this.getQueryManager();s&&s.setReportId(t.libraryInfo.externalId),this.getIsPublic()&&(t.libraryInfo.dashboardActions=[]),this.setLibraryInfo(t.libraryInfo),this.initializeContentItem()}return this.isAccessible()||this.getIsPublic()&&this.isWorldShared()?(this._updateLocalModelIfChanged(t),t.isLive&&this.set({autoToggleMode:!0})):this.setCriticalErrorMessage(v.dashboard_inaccessible),this.loadLivePanelData(this.getIsPublic()),this.setLoadInProgress(!1),this},updateMonitorData:function(e){var t=this.getPanels().get(e.id);t?t.setPanelData(e):this.getQueryManager().stopQuery(e.id)},updatePanelStatus:function(e,t){var i=this.getPanels().get(e);if(i){var s=i.getAllStatusValues(),n=_.extend(s,t);i.setPanelData({status:n}),i.setMonitorStatusUpdated($.now())}},updateWorldPanelError:function(e){var t={worldError:e.errorMessage||v.default_world_panel_error};this.updatePanelStatus(e.panelId,t)},updateWaitingForParameter:function(e){this.updatePanelStatus(e.panelId,{waitingForParameter:!0})},canBeOpenedInLiveMode:function(){var e=this.getEnabledRelativeInteractivePanelsCount()>0,t=this.getEnabledRelativeInteractivePanelsCount()===this.getEnabledInteractivePanels().length,i=this.getVisibility();return i===this.VISIBILITIES.WORLD||i===this.VISIBILITIES.WHITELIST||e&&t},setAbsoluteTimerangeWarnings:function(){if(this.getLiveMode()){var e,t=this.getEnabledAbsoluteInteractivePanels();t.length>0&&_.each(t,(function(t){e=t.isAbsolutePanel()?v.invalid_cq_query:v.invalid_cq_query_literal,t.setWarnings([e]),t.setMonitorDataUpdated($.now())}))}},updateLivePanelStatus:function(e){this.setLivePanelStatus(e)},updateFetching:function(){var e=this.getQueryManager();e&&(this.setFetching(e.getState()===e.STATES.ACTIVE),e.getState()===e.STATES.STOPPED&&this.setLoadInProgress(!1))},keepAliveHandler:function(){var e=-1!==location.href.indexOf("dashboard.html")||-1!==location.href.indexOf("/dashboard/");!document.hidden&&e&&this.createPromise({endpoint:SumoApp.ajax.Endpoints.V1_AUTHENTICATION_STATUS,errorCode:"userinfo"}).finally($.noop)},keepAlive:function(){var e=$.later(12e4,this,this.keepAliveHandler,null,!0);this.setKeepAliveTimer(e)},toggleKeepAlive:function(e){e?this.getKeepAliveTimer()||this.keepAlive():this.getKeepAliveTimer()&&(this.getKeepAliveTimer().cancel(),this.setKeepAliveTimer(null))},getMaxPointsPerPanel:function(){return Math.floor(1e5/this.getPanels().length)},checkPublicFetchValidity:function(){var e=this;this.loadLibraryInfo().catch((function(t){0===t.status||-999===t.status||e.onDashboardLoadError(t)}))},initialize:function(){_.bindAll(this,"onTimeRangeChange","onPanelAdded","onUpdate","onUpdateError","create","keepAlive","onCreate","reloadPage","refreshDashboardDefinition","updateMonitorData","onDashboardLoad","onDashboardLoadError","keepAliveHandler"),this.dashboardUrlFilterSyncService=SumoApp.getAngularService("dashboardUrlFilterSyncService"),this.__=v;var e=new d;e.comparator="y",this.setPanels(e),this.listenTo(e,"layoutChanged",(function(e){this.updatePanelPosition(e)})),this.listenTo(e,"change:timerangeChanged",this.onTimeRangeChange);var t=this._initFilters(this.getFilters());this.listenTo(t,"filter",this.runFilters),this._initFields(this.getFields()),this.setUpApis();var i=this.getQueryManager();i&&(i.setFilters(t),i.setPanels(e),this.listenTo(i,"worldCreatePanelError",this.updateWorldPanelError),this.listenTo(i,"waitingForParameter",this.updateWaitingForParameter),this.listenTo(i,"panelStateChange",this.updateMonitorData),this.listenTo(i,"newResults",this.updateMonitorData),this.listenTo(i,"newLivePanelStatus",this.updateLivePanelStatus),this.listenTo(i,"reload",_.partial(this.reload,!0)),this.listenTo(i,"change:state",this.updateFetching),this.listenTo(i,"change:apiInternalError",this.onApiInternalError),this.listenTo(i,"change:checkPublicFetchValidity",this.checkPublicFetchValidity),this.getIsPublic()||this.keepAlive())},initializeContentItem:function(){var e=this;SumoApp.getAngularService("contentDashboardService").fetchContentItem(this.getId()).then((function(t){var i=e.getQueryManager();i&&(t.filters=i.getFilterSearchQuery(),t.timerange=e.getQueryManager().getTimerangeQuery(),e.setContentItem(t))}),(function(e){}))},clearAllPanelResults:function(){this.getPanels().forEach((function(e){e.clearPanelData()}));var e=this.getQueryManager();e&&e.clearAllQueriesData(),this.setPanelDataCleared(!0)},removeObsoleteFilters:function(){var e=this;this.getLoadPromise(!0).then((function(t){var i=t.filters;e.getFilters().filter((function(e){return!_.findWhere(i,{id:e.getId()})})).forEach((function(e){e.onRemove()}))}))},setDormant:function(e){this.setDormantState(e);var t=this.getQueryManager();!0===e&&t&&t.setDormantState()},destroy:function(){this.getKeepAliveTimer()&&this.getKeepAliveTimer().cancel();var e=this.getPanels(),t=e?e.models:void 0;t&&(e.stopListening(),t.forEach((function(e){e.destroy()})));var i=this.getQueryManager();i&&i.destroy(),this.onDestroy()}})}.apply(t,s))||(e.exports=n)},31779:function(e,t,i){var s,n;s=[i(16471)],void 0===(n=function(e){"use strict";var t=e.DashboardsModule,i=e.keyedErrors;function s(e){return{message:e,client:!0}}return{processResults:function(e,t,i){e=_.getPath(e,"logResult");var s=_.isBoolean(t)&&t,n=_.getPath(e,"searchResults"),a=_.getPath(e,"status.searchQueryStatus"),r=_.getPath(e,"dataSource");if(s&&"not_modified"===e.controlCode)return!1;if(e.error||a&&a.error||!n||n.error)!function(e,t){var i=_.isObject(e.keyedErrors)&&!_.isArray(e.keyedErrors)?e.keyedErrors:t._getKeyedErrors(e);_.has(i,"sq2:invalid_session")?(t.logWarnMessage("invalid session","restarting query: %s",t.getQueryId()),t.setState(t.STATES.FAILED),t.incrementFetchErrors()):t.incrementFetchErrors(),(t.getFetchErrors()>3||t.getFetchTimeoutErrors()>5)&&t.setState(t.STATES.ERROR)}(e,i);else{i.clearFetchTimeoutErrors(),i.setKeyedErrors(void 0);var o=e.backfillCompletion;_.isUndefined(o)&&(o=null),i.clearFetchErrors(),_.isObject(a)&&(i.setSearchedTimeRange(a.searchedTimeRange.startMillis,a.searchedTimeRange.endMillis),n.warnings=a.pendingWarnings,n.status=n.status||{},n.status.dataSource=r,n.status.backfillStatus=o),i.setBackfillStatus(o),i.setResults(n),_.isObject(a)&&!i.isError()&&(i._isQueryStatusNotStarted(a.state)?i.setState(i.STATES.NOT_STARTED):i._isQueryStatusPaused(a.state)?i.setState(i.STATES.PAUSED):i._isQueryStatusInProgress(a.state)?i.setState(i.STATES.IN_PROGRESS):i.setState(i.STATES.DONE))}return i.isError()||i.isFailed()},getPanelResultData:function(e){var n=e.getResults()||{},a=e.getKeyedErrors(),r=e.isError(),o=0;return r?(o=e.getProgress(),(_.isUndefined(a)||_.isEmpty(a))&&(a={"report:internal_error":{}})):e.isNew()||(o=e.getProgress()),n.id=e.getId(),n.monitorId=e.getId(),n.queryTimeRange={start:e.getTimeRangeStart(),end:e.getTimeRangeEnd()},n.status=_.extend(n.status||{},{queryId:e.getQueryId(),progress:o,error:r,state:e.getState(),searchedTimeRange:{start:e.getSearchedTimeRangeStart(),end:e.getSearchedTimeRangeEnd()}}),e.isPaused()&&(_.isArray(n.warnings)||(n.warnings=[]),n.warnings.push(s(t.slow_query_paused))),r&&(_.isArray(n.errors)||(n.errors=[]),_.each(a,(function(e,t){var a=null;if((a="report:too_long_unoptimized_timerange"===t?i["report:too_long_cant_optimize_timerange"]:i[t])&&e.values&&e.values.maxTimeRange){var r=e.values.maxTimeRange/864e5;a=sprintf(a,r)}else if(a&&"report:unexpected_filter_value"===t){var o=e.values;a=sprintf(a,o.fieldName,SumoUtil.encode(o.value),o.expectedType)}a||(a=t),n.errors.push(s(a))}))),n}}}.apply(t,s))||(e.exports=n)},57088:function(e,t){var i;void 0===(i=function(){var e=6e4,t=!1,i=null,s={initialize:function(t){var i=SumoApp.getAngularService("currentUserHelper");(new Date).getTime();try{e=i.getDynamicProperty("ui_dashboard_config_load_interval")||e}catch(e){$.logWarn("DashboardDefPoller.initialize Unable to update default polling values",e)}return this},start:function(){t=!0,this.poll(e)},stop:function(){t=!1,i&&i.cancel()},poll:function(e){i&&i.cancel(),i=$.later(e,this,(function(){t?(this.trigger("poll"),(new Date).getTime()):this.stop()}))},nextPoll:function(i){if(!t)return!1;var s=e;this.poll(s)},isPolling:function(){return t},restart:function(){this.stop(),this.start()}};return _.extend(s,Backbone.Events),s}.apply(t,[]))||(e.exports=i)},19290:function(e,t,i){var s,n;s=[i(69204),i(26839),i(55570),i(89602),i(81018),i(39061),i(60567),i(33618),i(68612),i(57088),i(30749),i(62610),i(86377),i(16471),i(78042),i(63205),i(66359),i(76134)],void 0===(n=function(e,t,s,n,a,r,o,l,d,c,u,h,g,p,m,f,S,v){"use strict";var w=o.DashboardConstantsModule,b=o.TooltipsterViewModule,y=o.ThemeUtilModule,T=p.DashboardsModule,E=o.SumoViewModule,C=o.contentAdminModeStateService,A=o.libraryActionsService,M=o.TimerangeInputModelModule,I=o.TimerangeInputViewModule,R=f.legacyJqueryEditable,P=o.ToastMessages,D=S.currentUserHelper,x=v.clickTrackingService,N=i(16367).Heimdall,U="#filter-view-%s",V="#dashboard-filters",L=".dashboard-filter",O=".dashboard-filter-inner",k=".panel-highlight",F=".panel-view-inner",z=".filter-highlight",H=".gridster-monitor",B=".show-all-filters",Q=".filtered",W=p.CONTENT_ACTION_TYPES,G=SumoUtil.getCSSName,q=null,K=E.extend({mixins:[s],events:{"click .dashboard-refresh":"reload","click .refresh-dashboard":"hardReload","click #hybrid-dashboard-refresh":"reloadWithEventPropagation","keyup .dashboard-refresh":"onKeyUpRefresh","click .iris-header-nav > .fullscreen":"onFullScreen","click #hybrid-dashboard-fullscreen":"onFullScreen","click #hybrid-dashboard-exitfullscreen":"onFullScreen","click #hybrid-dashboard-help":"onHelp","monitor-dimension-changed #iris-view":"onMonitorDimensionChange","click .iris-favorite":"updateFavoriteStatus","click #hybrid-dashboard-favorite":"updateFavoriteStatus","click #hybrid-dashboard-unfavorite":"updateFavoriteStatus","change #edit-mode-switch":"switchMode","click #toggle-edit-mode-edit":"hybridSwitchMode","click #toggle-edit-mode-done":"hybridSwitchMode","click #dashboard-migration-button":"showDashboardMigrationDialog","change #live-mode-switch":"toggleLiveMode","autoToggleLiveMode #live-mode-switch":"autoToggleLiveMode","click #dashboard-menu-handle":"showDashboardMenu","click #hybrid-dashboard-menu-handle":"showHybridDashboardMenu","click .signout":"signout","click #hybrid-dashboard-signout":"signout","click .create-widget":"showCreatePanelDialog","click #hybrid-dashboard-addpanel":"showCreatePanelDialog","click #dashboard-delete":"onDeleteDashboard","click #hybrid-dashboard-delete":"onDeleteDashboard","click #dashboard-enable":"onEnableDashboard","click #dashboard-disable":"onDisableDashboard","click #dashboard-toggletheme":"toggleTheme","click #hybrid-dashboard-toggletheme":"toggleTheme","click .dashboard-share":"onShareDashboard","click .show-all-filters":"showAllFilters","mouseenter .view-linked-panels":"highlightPanels","mouseleave .view-linked-panels":"highlightPanels","mouseenter .filter-status":"highlightFilters","mouseleave .filter-status":"highlightFilters","click .filter-status":"setPanelForFiltersView","click .iris-logo":"onClickLogo","logRenderDone #iris-view":"onPanelViewRender","redirectToLogin #iris-view":"redirectToLogin","click #hybrid-dashboard-runas":"onRunAs"},alreadyAutoToggled:!1,loadedInLiveMode:!1,blockQueryReload:!1,hasMarkedPageLoad:!1,initializeFiltersTimeout:void 0,currentUser:void 0,userService:void 0,isSinglePanelEmbedMode:!1,isSinglePanelEmbedModeNoHeader:!1,isSinglePanelEmbedModeNoTitle:!1,singlePanelEmbedURL:void 0,template:_.template(e),criticalErrorTemplate:_.template(t),getViewName:function(){return"DashboardIrisView"},getComponent:function(){return"Dashboard"},getLayoutView:function(){return this.getView("layoutView")},getMenuView:function(){return this.getView("menuView")},getHybridMenuView:function(){return this.getView("hybridMenuView")},getFiltersView:function(){return this.getView("filtersView")},getSharingSettingsView:function(){return this.getView("sharingSettingsView")},showAllFilters:function(){this.getDashboardChannel().command(this.DASHBOARD_CHANNEL_COMMANDS.SHOW_FILTERS)},_getFilterModelFromEl:function(e){var t=null;if(e&&e.length>0){var i=e.attr("id").split("-")[2];t=this.model.getFilters().get(parseInt(i))}return t},highlightPanels:function(e){var t=$(e.currentTarget);if("mouseenter"===e.type){var i=t.parents(L).first(),s=this._getFilterModelFromEl(i);s&&_.each(s.getPanels(),(function(e){var t=e.id;this.$("#"+t+" "+F).addClass(G(k))}),this)}else this.$(F).removeClass(G(k))},highlightFilters:function(e){var t=$(e.currentTarget);if("mouseenter"===e.type){var i=t.parents(H).first(),s=i.attr("id");if(i.length>0&&SumoUtil.isNumber(s))this.model.getFilters().getByLinkedPanelId(parseInt(s)).each((function(e){var t=sprintf(U,e.getId())+" "+O;this.$(t).addClass(G(z))}),this)}else this.$(O).removeClass(G(z))},setPanelForFiltersView:function(e){var t=$(e.currentTarget).parents(H).first(),i=t.attr("id");if(t.length>0&&SumoUtil.isNumber(i)){var s=this.model.getPanels().get(i);this.getFiltersView().setPanelModel(s)}},signout:function(e){SumoApp.userMessage.question(T.logout_confirmation,{okCallback:function(){SumoApp.dashboardLoader.onLogout(e)}})},editTitleIconHandler:function(){this.$(".iris-title").trigger("click")},hybridSwitchMode:function(e){this.switchMode(e,this.model.getMode()===this.model.MODES.VIEW)},switchMode:function(e,t){var i=t?this.model.MODES.EDIT:this.model.MODES.VIEW;this.model.setMode(i),$("#dashboard-migration-button").toggle(i===this.model.MODES.VIEW)},applyHybridEditMode:function(e){$("#toggle-edit-mode-edit").toggle(!e),$("#toggle-edit-mode-done").toggle(e),$(".iris-live-mode").toggle(!e)},applyEditMode:function(e){this.applyHybridEditMode(e),this.$el.attr("iris-mode",(e?this.model.MODES.EDIT:this.model.MODES.VIEW)+"-mode"),this.getLayoutView()&&$(".firefox").length>0&&this.getLayoutView().resizeHeaders(),this.refreshMasterTimerangeOptions()},updateUIForMode:function(){this.applyEditMode(this.model.getMode()===this.model.MODES.EDIT)},_autoToggler:function(){if(this.alreadyAutoToggled=!0,this.model.canBeOpenedInLiveMode())this.loadedInLiveMode=!0,this.$("#live-mode-switch").length?(this.$("#live-mode-switch").togglerButton({enabled:!0}),this.autoRefreshBrowser()):this.toggleLiveMode({},!0);else if(!this.model.isLiveMode()){var e=SumoApp.getAngularService("$mdToast");e.show(e.error().textContent(T.cannot_open_in_live_mode).parent($("#iris-view")))}},autoRefreshBrowser:function(){D.hasFeatureFlag("UILightDashboardAutoRefresh")&&SumoUtil.isLightDashboard()&&null===q&&(q=setInterval((function(){2===(new Date).getHours()&&window.location.reload()}),36e5))},stopRefreshBrowser:function(){null!==q&&(clearInterval(q),q=null)},autoToggleLiveMode:function(){this.alreadyAutoToggled||this.model.getLoadInProgress()||(this._autoToggler(),this.stopListening(this.model,"change:loadInProgress",this.autoToggleLiveMode))},refreshToLiveMode:function(){this.model.getMode()===this.model.MODES.EDIT?(this.stopListening(this.model,"change:autoToggleMode",this.refreshToLiveMode),this.model.set({autoToggleMode:!1})):(this.blockQueryReload=!0,this._autoToggler(),this.stopListening(this.model,"change:autoToggleMode",this.refreshToLiveMode))},loadtoursShown:!1,showOnLoadTours:function(){this.loadtoursShown||(this.showArtifactoryLaunchTour(),this.loadtoursShown=!0)},showArtifactoryLaunchTour:function(){SumoApp.runTopTourForPage("dashboard")},toggleLiveMode:function(e,t){var i=400,s=this.model.getLiveMode();if(!!s!=!!t){var n=this.getLayoutView();this.model.setLiveMode(t);var a=this.getFiltersView();if(a&&a.setShowOverlay(t),t){if($(".error-toast").remove(),this.$(".iris-title").removeClass("titleAdjuster"),this.$("#toggle-edit-mode-edit, .iris-master-timerange").animate({opacity:0},100),this.$("#toggle-edit-mode-edit").hide().animate({marginRight:0,paddingRight:0,paddingLeft:0},i,"easeInOutCubic"),this.$(".iris-master-timerange").animate({flexBasis:0,marginRight:0,marginLeft:0},i,"easeInOutCubic",$.noop()).find(".timerange-input-view").hide(),this.$(".filters-overlay").removeClass("is-hidden"),this.model.getEnabledRelativeInteractivePanelsCount()>0){this.model.setSwitchingToLive(!0);var r=$(".live-mode-status"),o=T.live_mode_status_switch;r.spinner("updateMessage",o,!0),r.show().spinner("show")}this.model.setAbsoluteTimerangeWarnings(),this.model.toggleKeepAlive(!1),this.autoRefreshBrowser()}else SumoApp.getAngularService("eventService").publish("dashboard.toggleMode"),this.$("#toggle-edit-mode-edit").show().animate({paddingRight:14,paddingLeft:13},i,"easeInOutCubic"),this.$(".iris-master-timerange").show().animate({flexBasis:150,marginRight:15},i,"easeInOutCubic").find(".timerange-input-view").show(),this.$("#toggle-edit-mode-edit, .iris-master-timerange").animate({opacity:1},i),this.$(".iris-title").addClass("titleAdjuster"),this.model.setLivePanelStatus({}),this.$(".filters-overlay").addClass("is-hidden"),this.onMasterTimerangeChange(),this.model.toggleKeepAlive(!0),this.stopRefreshBrowser();this.$el.attr("iris-live-mode",t+"-mode"),this.model.getAutoToggleMode()&&!this.alreadyAutoToggled||this.blockQueryReload||this.model.reload(!1),n&&n.setIsHybridLiveMode(t),this.toggleLiveModeTooltip(t),this.blockQueryReload=!1,this.loadedInLiveMode=!1,this.loadedInLiveMode||SumoApp.user.logAppsAction({logType:t?"dashboard_switch_to_live":"dashboard_switch_to_interactive",name:this.model.get("title")})}$("#dashboard-migration-button").toggle(s)},toggleLiveModeTooltip:function(e){var t=this.getView("liveModeTooltip"),i=e?T.live_mode_tooltip_off:T.live_mode_tooltip_on;t&&this.destroySubView("liveModeTooltip"),t=new b({el:this.$(".iris-live-mode"),content:i,theme:"popover",size:"small"}),this.registerView("liveModeTooltip",t)},toggleTheme:function(){var e=y.getNextTheme().getName(),t=this.model.getTheme()||"";this.model.setTheme(e),this.setTheme(e),this.model.update(),this.getLayoutView().onThemeChange(e,t),this.updateLogoImagePath()},showDashboardMigrationDialog:function(){var e=o.migrationDialogService,t={id:this.model.getId(),title:this.model.getTitle()};e.open(t)},updateLogoImagePath:function(){this.$(".msp__logo").attr("src",this.model.getThemeBasedMspLogo())},setTheme:function(e){y.setTheme(e)},onEnableDashboard:function(){this.model.enableDashboard()},onDisableDashboard:function(){this.model.disableDashboard()},onShareDashboard:function(e){if(!this.model.isInteractive()){var t=this.getSharingSettingsView();if(t)t.show();else t=this.model.isInteractive()?new g({model:this.model}):new h({model:this.model}),this.registerView("sharingSettingsView",t)}},onClickLogo:function(e){SumoApp.context.dashboardLoader.openSearch()},onDeleteDashboard:function(){var e=this,t=this.model.isShared()?T.delete_confirm+"<br /><br />"+T.delete_shared_dashboard:T.delete_confirm;SumoApp.userMessage.question(t,{okCallback:function(){e.model.deleteDashboard()},isHTML:!0})},maximizePanel:function(e,t){var i=this.getLayoutView().getPanelView(e).onMaximizeMonitor();t&&i.onClickPlaying()},renderFavorite:function(){var e=this.model.isFavorite();this.$(".iris-favorite").toggleClass("selected",e).attr("title",e?T.is_favorite_title:T.is_not_favorite_title)},updateFavoriteStatus:function(){var e=!this.model.isFavorite();this.model.updateFavoriteStatus(e,this.renderFavorite)},onRunAs:function(e){var t={actionType:W.RUN_AS,event:e};A.runAction(t,this.model.toJSON()).then(this.hardReload)},onMonitorDimensionChange:function(e,t){var i=this.getLayoutView();i&&i.resizeMonitor(t.monitorId,t.height,t.width)},onFocusAlert:function(e){var t=this.model.getLastResultsTs(),i=e&&e.bMonitorAdded,s=e&&e.bMonitorUpdated,n=T.focus_generic;if(i)n=T.focus_panel_added;else if(s)n=T.focus_panel_updated;else if(t>0){var a=SumoApp.dateUtil.formatDateTime()(t);n=sprintf(T.focus_last_updated,a)}alert(n)},onKeyUpRefresh:function(e){var t=e.which;13!==t&&32!==t||this.reload(e)},refreshDashboard:function(e,t){var i=e&&e.bMonitorAdded,s=e&&e.bMonitorUpdated;i&&this.model.isViewMode()&&(this.$("#edit-mode-switch").togglerButton("toggle"),this.model.setMode(this.model.MODES.EDIT),this.$el.attr("iris-mode",this.model.getMode()+"-mode")),this.model.getLiveMode()&&this.$("#live-mode-switch").togglerButton({enabled:!1}),this.updateUIForMode(),t||this.model.reload(i||s)},reloadWithEventPropagation:function(e){this.reload(e,!0)},reload:function(e,t){if(this.model.getLoadInProgress())return!1;t||(e.stopPropagation(),x.log(e),e.preventDefault());var i=!e.shiftKey&&!e.metaKey;this.model.reload(!i)},hardReload:function(){this.setRefreshButtonVisibility(!1),this.model.reload(!0)},updateFetching:function(){this.$(".dashboard-refresh").toggleClass("fa-spin",this.model.isFetching())},toggleEditIndicator:function(e){this.$(".iris-title").editableIndicator("option","enabled",e)},initializeInlineEdit:function(){this.model.canBeEdited()&&R(this.$(w.CSS.DASHBOARD_TITLE),this.saveDashboardTitle,{width:"200px",height:"24px",data:this.model.getTitle.bind(this.model),cssclass:"iris-title-edit",onedit:this.onTitleEdit.bind(this),onreset:this.cancelInlineEdit.bind(this)}).editableIndicator({defaultPosition:{my:"left center",at:"right center",of:".iris-title"},appendTo:this.$(".iris-header")})},onTitleEdit:function(){var e=this.model.isEditMode();return e&&this.toggleEditIndicator(!1),e},cancelInlineEdit:function(){this.toggleEditIndicator(!0)},saveDashboardTitle:function(e){this.toggleEditIndicator(!0);var t=this.model.getTitle();return SumoUtil.isStringEmpty(e)||(this.externalOnTitleChange(e),this.model.updateDashboardTitle(e)&&(t=e)),t!==e&&this.externalOnTitleChange(t),SumoUtil.encode(t)},showErrorMessage:function(){var e=this.model.getErrorMessage();if(_.isEmpty(e))_.getPath(this,"options.context.toaster.hideAllToasts")&&this.options.context.toaster.hideAllToasts();else{var t=this.model.getErrorDetails();D.hasFeatureFlag("UIReplaceToasterPlugin")?SumoApp.userMessage.error(P.getMessageWithSingleLineBreakInMiddle(e,t)):(_.isEmpty(t)||(e+="<br/>"+t),SumoApp.userMessage.error(e,{isHTML:!0}))}},showCriticalErrorMessage:function(e,t){this.destroy();var i=document.location.protocol,s=document.location.host,n=sprintf("%s//%s/ui/#/search/new",i,s),a=!!this.model&&this.model.getIsPublic(),r=!(SumoUtil.isEmbedded()||a);this.$el.html(this.criticalErrorTemplate({__:T,canBeClosed:!_.isNull(window.opener),searchUrl:n,showGoToSearch:r,message:t||{}})),$(".close-window").one("click",(function(){window.close()}));var o=this;$(".close-bento-tab").one("click",(function(){o.closeBentoDashboardTab()})),$("#dashboard-inaccessible input.refresh").one("click",(function(){window.location.reload()})),$(".dash-error-details .icon").on("click",(function(){$("#dashboard-inaccessible .dash-error-details").toggleClass("expanded")}))},dashboardChanged:function(){if(!this.loggedDashboardLaunch){this.loggedDashboardLaunch=!0;var e=y.getSelectedTheme(),t=null;e&&(t=e.getModelName());var i={dashboardId:this.model.getId(),dashboardName:this.model.getTitle(),dashboardType:this.model.isInteractive()?"interactive":"live",ownedByViewer:this.model.isMine(),isShared:this.model.isShared(),monitorCount:this.model.getMonitors()?this.model.getMonitors().length:"Unknown",detailLevel:this.model.getDetailLevel(),theme:t};$.logUserTelemetryAction("Launching dashboard "+$.logFormatObject(i))}this.model.canBeEdited()&&(this.destroyEditableTitle(),this.$("#edit-mode-switch").togglerButton("destroy")),this.$("#live-mode-switch").togglerButton("destroy");var s=this.getSharingSettingsView(),n=s&&s.isVisible();if(n&&s.close(),this.destroySubViews(),this.render(),this.model.hasPanels()){var r=new a({el:this.$(".iris-wrapper"),model:this.model,queryManager:this.model.getQueryManager(),isHybridLiveMode:this.model.getLiveMode(),isSinglePanelEmbedMode:this.isSinglePanelEmbedMode,isSinglePanelEmbedModeNoTitle:this.isSinglePanelEmbedModeNoTitle,singlePanelEmbedURL:this.singlePanelEmbedURL});this.registerView("layoutView",r)}var o=this.getFiltersView();if(o&&o.destroy(),this.model.isInteractive()){var l=this;this.initializeFiltersTimeout&&clearTimeout(this.initializeFiltersTimeout),this.initializeFiltersTimeout=setTimeout((function(){o=new u({el:l.$(V),filters:l.model.getFilters(),dashboardModel:l.model,showOverlay:l.model.getLiveMode()}),l.registerView("filtersView",o)}),500)}if(this.createHybridMenu(),this.model.canBeEdited()&&(this.createMenu(),this.initializeInlineEdit()),this.propertiesChanged(),n&&this.onShareDashboard(),this.model.getModeState()===this.model.modeStates.STOPPED){var d=sprintf(T.warning_cqs_stopped,D.getDynamicProperty("cqmerger_reaperThreshold"));SumoApp.userMessage.error(d,{showTime:1e6,autoDismiss:!1})}},getMinimumHeightForMonitor:function(){return this.model.INTERMEDIATE_MONITOR_MIN_HEIGHT},getMinimumWidthForMonitor:function(){return this.model.INTERMEDIATE_MONITOR_MIN_WIDTH},propertiesChanged:function(){this.getLayoutView()&&this.getLayoutView().onResize()},closeBentoDashboardTab:function(){SumoApp.getAngularService("viewServices");SumoApp.getAngularService("workspacesService").getCurrent().removeViewById(this.options.dashboardId)},dashboardDeleted:function(){SumoUtil.isDashboardUrl()?(this.destroy(),window.close()):this.closeBentoDashboardTab()},onTitleChange:function(){if(this.externalOnTitleChange){var e=this.model.getTitle();this.externalOnTitleChange(e),this.$(w.CSS.DASHBOARD_TITLE).text(SumoUtil.encode(e)).attr("title",sprintf("%s",e))}},createHybridMenu:function(){var e=new r({menuItems:[{name:"addpanel",iconPath:"fa-plus"},{name:"toggletheme",iconPath:"fa-paint-brush"},{name:"delete",iconPath:"fa-trash-o"},{name:"favorite",iconPath:"fa-star-o"},{name:"unfavorite",iconPath:"fa-star"},{name:"fullscreen",iconPath:"fa-expand"},{name:"exitfullscreen",iconPath:"fa-compress"},{name:"help",iconPath:"fa-question-circle"},{name:"runas",iconPath:""},{name:"signout",iconPath:"fa-sign-out"}],menuItemWidth:150,handleSelector:"#hybrid-dashboard-menu-handle",menuItemPrefix:"hybrid-dashboard",menuContainerId:"hybrid-dm-container",defaultPosition:{my:"right top",at:"center+5 bottom"},hasIcons:!1,el:this.$(".hybrid-dashboard-menu")});this.registerView("hybridMenuView",e)},createMenu:function(){var e=new r({menuItems:[{name:"delete",iconPath:"fa-trash-o"},{name:"toggletheme",iconPath:"fa-paint-brush"}],handleSelector:"#dashboard-menu-handle",menuItemPrefix:"dashboard",menuContainerId:"dm-container",defaultPosition:{my:"right top",at:"center+5 bottom"},hasIcons:!1,el:this.$(".dashboard-menu")});this.registerView("menuView",e)},showDashboardMenu:function(e){this.model.isViewMode()?this.notifyEditModeDisabled():(this.getMenuView().show(e),this.onDashboardMenuShow())},onDashboardMenuShow:function(){var e=this.getMenuView(),t=_.filter(this.model.getMonitors().models,(function(e){return!e.isStaticPanel()})),i=_.any(t,(function(e){return e.getMonitorDisabled()&&!e.getMonitorSumoDisabled()})),s=_.every(t,(function(e){return!e.getActive()}));!_.isEmpty(t)&&i||e.hideMenuItem("#dashboard-enable"),(_.isEmpty(t)||s)&&e.hideMenuItem("#dashboard-disable")},showHybridDashboardMenu:function(e){this.getHybridMenuView().show(e),this.onHybridDashboardMenuShow()},onHybridDashboardMenuShow:function(){var e=this.getHybridMenuView();this.isReady()?(this.model.isEditMode()?(e.showMenuItem("#hybrid-dashboard-addpanel"),e.showMenuItem("#hybrid-dashboard-toggletheme"),this.model.canBeDeleted()?e.showMenuItem("#hybrid-dashboard-delete"):e.hideMenuItem("#hybrid-dashboard-delete")):(e.hideMenuItem("#hybrid-dashboard-addpanel"),e.hideMenuItem("#hybrid-dashboard-toggletheme"),e.hideMenuItem("#hybrid-dashboard-delete")),(this.model.getIsPublic()||this.model.isLiveMode())&&e.hideMenuItem("#hybrid-dashboard-refresh"),this.model.getIsPublic()||this.isContentAdminModeEnabled?(e.hideMenuItem("#hybrid-dashboard-favorite"),e.hideMenuItem("#hybrid-dashboard-unfavorite")):this.model.isFavorite()?(e.hideMenuItem("#hybrid-dashboard-favorite"),e.showMenuItem("#hybrid-dashboard-unfavorite")):(e.hideMenuItem("#hybrid-dashboard-unfavorite"),e.showMenuItem("#hybrid-dashboard-favorite")),SumoUtil.isFullScreen()?(e.hideMenuItem("#hybrid-dashboard-fullscreen"),e.showMenuItem("#hybrid-dashboard-exitfullscreen")):(e.hideMenuItem("#hybrid-dashboard-exitfullscreen"),e.showMenuItem("#hybrid-dashboard-fullscreen")),this.model.canBeEdited()||e.hideMenuItem("#hybrid-dashboard-addpanel")):(e.hideMenuItem("#hybrid-dashboard-addpanel"),e.hideMenuItem("#hybrid-dashboard-toggletheme"),e.hideMenuItem("#hybrid-dashboard-delete"),e.hideMenuItem("#hybrid-dashboard-favorite"),e.hideMenuItem("#hybrid-dashboard-unfavorite"),e.hideMenuItem("#hybrid-dashboard-refresh"),e.hideMenuItem("#hybrid-dashboard-fullscreen"),e.hideMenuItem("#hybrid-dashboard-exitfullscreen")),SumoApp.user.herokuUser||this.model.getIsPublic()||!SumoUtil.isDashboardUrl()?e.hideMenuItem("#hybrid-dashboard-signout"):e.showMenuItem("#hybrid-dashboard-signout"),this.model.canBeEdited()||e.hideMenuItem("#hybrid-dashboard-runas")},_makeModel:function(e){var t,i;(this.options.paramType===SumoUtil.newEntityParam?i=e:t=e,this.model)&&this.model.getQueryManager().pushAllPanelsToQueue();this.model=this.model?this.model:new n({id:t,accessId:i,queryManager:new d({reportId:t,accessId:i,openedInLiveMode:this.options.openInLiveMode,isPublic:this.options.isPublic,paramType:this.options.paramType}),isPublic:this.options.isPublic,paramType:this.options.paramType}),this.postInitialize()},initialLoadLogging:function(e){var t=this.model.get("modeState");if(!_.isNull(t))try{var i="dashboard_"+(0===window.performance.navigation.type?"loaded_":"reloaded_")+("live"===t?"live":"interactive")+"_mode";SumoApp.user.logAppsAction({logType:i,name:this.model.get("title")})}catch(e){}},initialize:function(e){this.reattachDashboard=!!e.model,this.reload=_.debounce(this.reload,250,!0),this.isSinglePanelEmbedMode="true"===SumoUtil.getQueryParameterByName("singlePanelEmbed"),this.isSinglePanelEmbedModeNoHeader=this.isSinglePanelEmbedMode&&"true"===SumoUtil.getQueryParameterByName("singlePanelEmbedNoHeader"),this.isSinglePanelEmbedModeNoTitle=this.isSinglePanelEmbedMode&&"true"===SumoUtil.getQueryParameterByName("singlePanelEmbedNoTitle"),this.singlePanelEmbedURL=this.isSinglePanelEmbedMode&&SumoUtil.getQueryParameterByName("singlePanelEmbedURL"),_.bindAll(this,"render","dashboardChanged","saveDashboardTitle","onTitleChange","renderFavorite","onDashboardMenuShow","updateFetching","collapseScreen","dashboardDeleted","onMasterTimerangeChange","autoToggleLiveMode","checkRemoveOverlay","showCriticalErrorMessage","closeBentoDashboardTab","hardReload","setRefreshButtonVisibility","onDashboardDataLoad","getRunAsUserName","renderPublishedByTooltip"),this._makeModel(e.dashboardId),this.externalOnTitleChange=e.onTitleChange||_.noop,this.dashboardUrlFilterSyncService=SumoApp.getAngularService("dashboardUrlFilterSyncService"),this.fetchAdminMode(),this.currentUser=D.get()},fetchAdminMode:function(){if(SumoUtil.isLightDashboard()){var e=this;C.syncState().then((function(){e.isContentAdminModeEnabled=C.getState()})).finally((()=>{SumoApp.getAngularService("$rootScope").$apply()}))}else this.isContentAdminModeEnabled=C.getState()},showErrorVisibilityToast:function(){var e=this.model.getVisibilityError();if(e){this.model.setVisibilityError(null);var t=SumoApp.getAngularService("$mdToast");t.show(t.error().textContent(e).parent($("#application-view")).hideDelay(5e3))}},onVisibilityChange:function(){var e=this,t=this.shareButtonScope;t.$evalAsync((function(){t.item=e.model.getContentItem(),t.item?t.isLoading=!1:t.isLoading=!0}))},postInitialize:function(){this.reattachDashboard||this.render();var e=navigator.userAgent.match(/Firefox\/([0-9]+)/);if(e&&e.length>0&&$("body").addClass("browser-firefox"),this.listenTo(this.model,"change:title",this.onTitleChange),this.listenTo(this.model,"change:changeTrigger",this.dashboardChanged),this.listenTo(this.model,"change:errorMessage",this.showErrorMessage),this.listenTo(this.model,"change:criticalErrorMessage",this.showCriticalErrorMessage),this.listenTo(this.model,"change:dashboardDeleted",this.dashboardDeleted),this.listenTo(this.model,"sharingStatusChanged",this.sharingStatusChanged),this.listenTo(this.model,"change:properties",this.propertiesChanged),this.listenTo(this.model,"change:contentLibInfoLoaded",this.renderStatus),this.listenTo(this.model,"change:fetching",this.updateFetching),this.listenTo(this.model,"change:mode",this.updateUIForMode),this.listenTo(this.model,"updateVisibility",this.onVisibilityChange),this.listenTo(this.model,"change:livePanelStatus",this.updateLivePanelStatus),this.listenTo(this.model,"change:favoriteExternalUpdate",this.renderFavorite),this.listenTo(this.model,"change:contentItem",this.onVisibilityChange),this.listenTo(this.model.getQueryManager(),"change:filterSearchQuery",this.updateFiltersToShareDialog),this.listenTo(this.model.getQueryManager(),"change:timerangeQuery",this.updateTimerangeToShareDialog),this.listenTo(this.model,"change:contentLibInfoLoaded",this.onDashboardDataLoad),this.listenTo(this.model,"change:contentItem",this.renderPublishedByTooltip),this.listenTo(this.model.getMonitors(),"add",this.onPanelCreated),this.model.isInteractive()){var t=this.model.getFilters();t&&(this.listenTo(t,"add",this.onFilterLinksChanged),this.listenTo(t,"remove",this.onFilterLinksChanged))}if(this.options.openInLiveMode?this.listenTo(this.model,"change:loadInProgress",this.autoToggleLiveMode):this.listenTo(this.model,"change:autoToggleMode",this.refreshToLiveMode),this.reattachDashboard){this.reattachDashboard=!1,this.model.getLiveMode&&(this.alreadyAutoToggled=!0),this.onDashboardDataLoad(),this.dashboardChanged();var i=this.model.getQueryManager();i.setState(d.STATES.STOPPED),this.model.getPanelDataCleared()?(this.model.setPanelDataCleared(!1),i.bentoReattachSessions()):i.fetchResults()}else this.model.loadDashboardAndStartPolling();SumoApp.dashboardLoader&&SumoApp.dashboardLoader.broadcastReady();var s=this;SumoApp.getAngularService("userService").getUsers().then((function(){s.model.fetchDashboardVersion().then((function(e){s.model.setVersion({modifiedAt:e.modifiedAt,lastModifier:e.lastModifier}),s.renderPublishedByTooltip(s.model.canBeEdited(),e)}))}))},sharingStatusChanged:function(){var e=this.model.isPublished()?T.share_dashboard_toaster_message:T.unshare_dashboard_toaster_message;D.hasFeatureFlag("UIReplaceToasterPlugin")?SumoApp.userMessage.info(this.model.isPublished()?T.share_dashboard_toaster_message_str:T.unshare_dashboard_toaster_message_str):SumoApp.userMessage.info(e,{isHTML:!0}),this.model.updateLastDashboardData()},getSharingState:function(){var e=this.model.canBeEdited()&&this.model.isPublished();e?T.unpublishDashboard:T.publishDashboard;return{shared:e=this.model.isShared(),tooltip:T.sharing_settings}},onDashboardDataLoad:function(){if(this.model.getVersion()){this.disposable&&this.disposable.dispose();var e=this;this.disposable=this.model.getDashboardVersion$().filter((function(t){e.renderPublishedByTooltip(!0,t);var i=e.model.getVersion(),s=parseInt(e.currentUser.id,10);return i&&t.lastModifier.id!==s&&t.modifiedAt.valueOf()>=i.modifiedAt.valueOf()})).subscribe((function(t){e.setRefreshButtonVisibility(!0),e.renderRefreshButtonTooltip(t),e.model.notifyUpdateToast(t)}))}},getRunAsUserName:function(){var e="";if(this.model.getContentItem()){var t=D.get(),i=SumoApp.getAngularService("userService"),s=this.model.getContentItem().runAsIdOverride;if(_.isNull(s))e="Viewer";else if(s===t.id)e=t.firstName+" "+t.lastName;else if(s!==t.id){var n=i.getUserById(s);_.isUndefined(n)||(e=n.name)}}return e},renderPublishedByTooltip:function(e,t){var i,s,n,a;this.getView("publishedByTooltipster")&&this.destroySubView("publishedByTooltipster"),(t=t||this.model.getVersion())&&(i=t.lastModifier.name),s=this.model.getCreatorName(),n=this.getRunAsUserName(),a="<div class='dashboard-tooltip'><div class='attribute-display--compact -dark'><div class='attribute-display__label'>"+T.created_by+"</div><div class='attribute-tooltip__content'>"+s+"</div></div><div class='attribute-display--compact -dark'><div class='attribute-display__label'>"+T.edited_by+"</div><div class='attribute-tooltip__content'>"+i+"</div></div>",n&&(a+="<div class='attribute-display--compact -dark'><div class='attribute-display__label'>"+T.data_access_level+"</div><div class='attribute-tooltip__content'>"+n+"</div></div>"),a+="</div>";var r=new b({el:this.$(".published-by"),theme:"popover-titled",content:a,contentAsHTML:!0,size:"auto",position:"bottom"});this.registerView("publishedByTooltipster",r)},renderRefreshButtonTooltip:function(e){var t=SumoApp.getAngularService("$rootScope").$new();t.params={modifierName:e.lastModifier.name},t.message=T.refresh_tooltip_message,t.modifiedAt=e.modifiedAt;var i=this.$el.find(".refresh-dashboard");i.find("timer-tooltip-button").remove(),i.append('<timer-tooltip-button message="message" modified-at="modifiedAt" params="params"></timer-tooltip-button>'),SumoApp.ngCompile(i,t,!0)},renderNavTooltips:function(){var e;this.getView("navEditTooltipster")&&(this.destroySubView("navEditTooltipster"),this.destroySubView("navShareTooltipster"),this.destroySubView("navFilterTooltipster"),this.destroySubView("navActionsTooltipster"),this.destroySubView("navRefreshTooltipster"),this.destroySubView("navShareDashboardTooltipster"));var t="quicktip",i=y.getSelectedTheme();i&&(t=i.getQuicktipTheme()),e=new b({el:this.$("#toggle-edit-mode-edit"),theme:t,size:"auto",position:"bottom"}),this.registerView("navEditTooltipster",e),e=new b({el:this.$("#share-dashboard-dlg-btn"),theme:t,size:"auto",position:"bottom"}),this.registerView("navShareTooltipster",e),e=new b({el:this.$(".show-all-filters"),theme:t,size:"auto",position:"bottom"}),this.registerView("navFilterTooltipster",e),e=new b({el:this.$(".dashboard-refresh"),theme:t,size:"auto",position:"bottom"}),this.registerView("navRefreshTooltipster",e),e=new b({el:this.$("#share-dashboard-dlg-btn-state"),theme:t,size:"auto",position:"bottom"}),this.registerView("navShareDashboardTooltipster",e),e=new b({el:this.$("#hybrid-dashboard-menu-handle"),theme:t,size:"auto",position:"bottom"}),this.registerView("navActionsTooltipster",e)},renderStatus:function(){this.renderFavorite(),this.renderNavTooltips()},isReady:function(){return!_.isNull(this.model.getTitle())},render:function(){if(window.appRenderStart=new Date,SumoApp.performanceLogger.logAppLoadTime(new Date,"DASHBOARD"),this.isReady()&&!m.isApplicationLoadMeasured()){var e=f.UrlHelper,t=N.getPlugin("applicationLoadTimePerformance");t&&e.isPoppedOutDashboard()&&t.markAppLoaded()}SumoUtil.isLightDashboard()||this.setTheme(this.model.getTheme());var s=this.getSharingState(),n=this.model.canBeEdited(),a=this.model.isEditMode(),r=null,o="",l=this.model.getCreator();_.isNull(l)||(r=sprintf(T.published_by,l.name,""),o=encodeURI(l.name));var d=this.model.canBeEdited()&&!this.model.getIsPublic(),c=this.model.getLivePanelStatus(),u=this.model.getSwitchingToLive(),h=this.shouldShowLiveStatus(c)?sprintf(T.live_mode_panels_status,c.done,c.total):u?T.live_mode_status_switch:"",g=(D.get(),_.extend({},this.model.toJSON(),{__:T,ready:this.isReady(),noMonitors:!this.model.hasPanels(),isPublic:this.model.getIsPublic(),isInteractive:this.model.isInteractive(),isMine:this.model.isMine(),canBeEdited:n,dashboardUrl:this.model.getURL(),ownerRbac:this.model.isOwnerRbac(),titleTooltip:this.model.getTitleTooltip(),isPublished:s.shared,publishStatusToolTip:s.tooltip,ownerName:o,orgName:this.model.getOrgName(),publishedBy:r,visibility:this.model.getVisibility(),canBeFiltered:this.model.canBeFiltered(),isFiltered:this.model.hasFilters(),canSeeSharingSettings:d,herokuUser:SumoApp.user.herokuUser,hybridEnabled:!0,isHybridLiveMode:this.model.getLiveMode(),liveStatusText:h,isEditMode:this.model.getMode()===this.model.MODES.EDIT,isOptimizedDashboard:SumoUtil.isLightDashboard(),rerendered:this.rendered,creatorName:this.model.getCreatorName(),isSinglePanelEmbedMode:this.isSinglePanelEmbedMode,isSinglePanelEmbedModeNoHeader:this.isSinglePanelEmbedModeNoHeader,MSPLogo:this.model.getThemeBasedMspLogo(),currentUserHelper:D})),p=this.template(g);setTimeout(this.checkRemoveOverlay),this.$el.html(p),n?(this.$("#edit-mode-switch").togglerButton({enabled:a}).trigger("change",a),this.$el.attr("iris-mode",this.model.getMode()+"-mode")):(this.switchMode(null,!1),this.$el.attr("iris-mode","view-mode")),this.model.getContentLibraryId()&&this.renderPublishedByTooltip(n);var S=this.model.isLiveMode()&&!(n&&a);this.$("#live-mode-switch").togglerButton({enabled:S}),this.$(".live-mode-status").spinner(),this.model.getIsPublic()||this.toggleLiveModeTooltip(S),this.refreshMasterTimerangeOptions(),this.renderStatus();var v=this.$("#share-dashboard-dlg-btn-state"),w=SumoApp.getAngularService("$rootScope").$new();if(w.item=this.model.getContentItem(),w.item?w.isLoading=!1:w.isLoading=!0,w.onShareStatusChange=this.onShareStatusChange.bind(this),this.shareButtonScope=w,SumoApp.ngCompile(v,w,!0),$("body").addClass("dashboard-body"),this.refreshFullscreenToggler(),g.herokuUser&&!this.getView("herokuHeader")){var b=i(68641);this.registerView("herokuHeader",new b)}SumoUtil.isDashboardUrl()&&(window.document.title=(this.model.getTitle()&&this.model.getTitle().trim().length>0?this.model.getTitle()+" - ":"")+T.window_title),this.showOnLoadTours(),this.initialLoadLogging();var y=this.$el.find("status-page-io-icon");return SumoApp.ngCompile(y,null,!0),this.rendered=!0,this.model.getCriticalErrorMessage()&&this.showCriticalErrorMessage({},this.model.getCriticalErrorMessage()),this},onShareStatusChange:function(e){SumoUtil.isDashboardUrl()&&this.model.onExternalShareStatusChange(e),e.visibility!==p.VISIBILITIES.WORLD&&e.visibility!==p.VISIBILITIES.WHITELIST||(this.switchMode(null,!1),this.$("#live-mode-switch").trigger("enabled",!0))},updateFiltersToShareDialog:function(){var e=this.shareButtonScope,t=this;e.item&&e.$evalAsync((function(){e.item.filters=t.model.getQueryManager().getFilterSearchQuery()}))},updateTimerangeToShareDialog:function(){var e=this.shareButtonScope,t=this;e.item&&e.$evalAsync((function(){e.item.timerange=t.model.getQueryManager().getTimerangeQuery()}))},setRefreshButtonVisibility:function(e){this.$el.find(".refresh-dashboard").toggleClass("hide",!e)},checkRemoveOverlay:function(){SumoUtil.isLightDashboard()&&(this.isReady()?this.removeLoadingOverlay():(this.setTheme(this.model.getTheme()),this.removeLoadingOverlay(!0)))},removeLoadingOverlay:function(e){var t=this.$(".loading-overlay");e?t.addClass("show-header"):(t.css("opacity",0),t.hide(),t=void 0,this.setTheme(this.model.getTheme()))},refreshMasterTimerangeOptions:function(){if(this.model.isInteractive()){var e=this.model.isEditMode(),t=[{id:this.model.MASTER_DISENGAGED,name:this.model.MASTER_DISENGAGED},{id:this.model.REVERT_TO_DEFAULT,name:this.model.REVERT_TO_DEFAULT}];e&&t.push({id:this.model.SET_AS_DEFAULT,name:this.model.SET_AS_DEFAULT});var i=null,s=this.getView("timerangeMasterView");s&&(i=s.getCurrentChoice(),this.destroySubView("timerangeMasterView"));var n=new M({customOptions:t});if((s=new I({settings:{tooltips:!0,savedSearchTimeOptions:!0,changeCallback:this.onMasterTimerangeChange},model:n,el:this.$(".iris-master-timerange"),viewType:"monitor"})).updateTimeOptions(s.TIME_OPTIONS_INTERACTIVE_DASHBOARD),s.setValue(this.model.MASTER_DISENGAGED,"default"),i&&i.name!==this.model.MASTER_DISENGAGED){var a=i.name;a&&a.ast&&a.details&&(a=i.id),s.setCurrentState("ephemeral"),s.setValue(a,"ephemeral"),s.setAndUpdateValue(a)}else s.setAndUpdateValue(this.model.MASTER_DISENGAGED);this.registerView("timerangeMasterView",s)}},onMasterTimerangeChange:function(){var e=this.getView("timerangeMasterView"),t=e.getCurrentChoice(),i=this.getLayoutView(),s=this.model.isEditMode();if(i){var n=t.id;t.id===this.model.MASTER_DISENGAGED?(i.unlockTimerangeInputs(),e.setCurrentState("default")):t.id===this.model.REVERT_TO_DEFAULT?(i.revertToDefault(),e.revertToDefault()):t.id===this.model.SET_AS_DEFAULT&&s?(i.setAsDefault(),i.unlockTimerangeInputs(),e.revertToDefault()):this.validateTimerange(t)?i.lockTimerangeInputs(t):(i.unlockTimerangeInputs(),e.revertToDefault());var a={dashboardId:this.model.getId(),dashboardName:this.model.getTitle(),dashboardType:this.model.isInteractive()?"interactive":"live",ownedByViewer:this.model.isMine(),isShared:this.model.isShared(),monitorCount:this.model.getMonitors()?this.model.getMonitors().length:"Unknown",detailLevel:this.model.getDetailLevel(),masterTimeRangeSelection:n};$.logUserTelemetryAction("Dashboard Master Time Range Selection: "+$.logFormatObject(a))}},validateTimerange:function(e){var t=e.id,i=e.name;if(_.isObject(i)){if(i.startErrors||i.endErrors){var s=i.startErrors?T.invalid_start_time_range:T.invalid_end_time_range;return this.showInvalidTimeRangeError(sprintf(s,SumoUtil.encode(t))),!1}if(i.start.getTime()>i.end.getTime())return this.showInvalidTimeRangeError(T.start_after_end_time),!1}return!0},showInvalidTimeRangeError:function(e){SumoApp.userMessage.error(e,{displayType:SumoApp.userMessage.DisplayType.MSGBOX,title:T.dashboard_timerange_error_title,isHTML:!0})},onFullScreen:function(){SumoUtil.onOneFullScreenChange(function(){SumoUtil.onOneFullScreenChange(function(){this.collapseScreen(),this.refreshFullscreenToggler()}.bind(this))}.bind(this)),SumoUtil.isFullScreen()?this.collapseScreen():this.expandScreen(),this.refreshFullscreenToggler()},onHelp:function(){SumoApp.getAngularService("helpNavigationService").showHelp(4005)},refreshFullscreenToggler:function(){setTimeout((function(){var e=$(".iris-header-nav > .fullscreen");SumoUtil.isFullScreen()?(e.removeClass("icon--arrows-expand").addClass("icon--arrows-collapse"),$("#bento-nav, .ws-tabbed-pane .ws-tabsbar").hide()):(e.removeClass("icon--arrows-collapse").addClass("icon--arrows-expand"),$("#bento-nav, .ws-tabbed-pane .ws-tabsbar").show())}),100)},expandScreen:function(){SumoUtil.requestFullScreen()},collapseScreen:function(){SumoUtil.offFullScreenChange(),document.exitFullscreen()},destroyEditableTitle:function(){this.model.canBeEdited()&&this.$(w.CSS.DASHBOARD_TITLE).length>0&&(R(this.$(w.CSS.DASHBOARD_TITLE).editableIndicator("destroy"),"destroy").get(0).reset=null)},destroy:function(e){(this.disposable&&this.disposable.dispose(),this.initializeFiltersTimeout&&clearTimeout(this.initializeFiltersTimeout),this.queryManager&&(this.queryManager.clearRestartQueueTimeout(),this.queryManager.resetApiInternalError()),SumoUtil.isDashboardUrl()||$("#iris-view").is(":visible")||$("body").removeClass("dashboard-body").removeAttr("data-theme"),SumoUtil.isDashboardUrl()&&y.resetTheme(),e)&&this.getDashboardChannel().command(this.DASHBOARD_CHANNEL_COMMANDS.HIDE_FILTERS);this.destroySubViews(!e),SumoUtil.destroyView(this),this.model&&(e||(this.destroyEditableTitle(),this.model.canBeEdited()&&this.$("#edit-mode-switch").togglerButton("destroy"),this.$("#live-mode-switch").togglerButton("destroy"),this.model.destroy()),this.model=null),this.stopRefreshBrowser()},showCreatePanelDialog:function(){if(this.model.isEditMode())return new l(this.model);this.notifyEditModeDisabled()},onPanelCreated:function(){1===this.model.getMonitors().length&&this.model.reload(!0)},onFilterLinksChanged:function(){this.$(B).toggleClass(G(Q),this.model.hasFilters())},notifyEditModeDisabled:function(){SumoUtil.animateCSS(this.$(".iris-mode"),"shake")},onPanelViewRender:function(){if(!this.hasMarkedPageLoad&&SumoApp.priv.hasPerformanceLoggingEnabled()){this.hasMarkedPageLoad=!0;var e={module:K.DASHBOARD_MODULE,event:K.PAGE_LOAD_EVENT,id:this.cid};this.$el.attr("data-sumo-test","classic_dashboard_hasLoaded"),SumoApp.performanceLogger.mark(e,K.FIRST_PANEL_RENDER_CHECKPOINT);var t={name:K.MEASURE_FIRST_RESULT,from:K.NAVIGATION_START_CHECKPOINT,to:K.FIRST_PANEL_RENDER_CHECKPOINT};SumoApp.performanceLogger.measure(e,t),SumoApp.performanceLogger.send(e,t),SumoApp.performanceLogger.clearMarks(e,[K.FIRST_PANEL_RENDER_CHECKPOINT]);var i={module:K.DASHBOARD_MODULE,event:K.PAGE_LOAD_EVENT,id:this.cid};SumoApp.performanceLogger.mark(i,K.ASSETS_LOADED),t={name:K.ASSETS_LOADED,from:K.NAVIGATION_START_CHECKPOINT,to:K.LOAD_EVENT_START_CHECKPOINT},SumoApp.performanceLogger.measure(i,t),SumoApp.performanceLogger.send(i,t),SumoApp.performanceLogger.clearMarks(i,[K.ASSETS_LOADED])}},shouldShowLiveStatus:function(e){return e&&!_.isEmpty(e)&&e.total>0&&e.total!==e.done},updateLivePanelStatus:function(){var e=this.model.getLivePanelStatus(),t=$(".live-mode-status");if(this.shouldShowLiveStatus(e)){var i=sprintf(T.live_mode_panels_status,e.done,e.total);t.show(),t.spinner("updateMessage",i,!0),t.spinner("show")}else t.hide(),this.model.setLoadInProgress(!1);this.model.setAbsoluteTimerangeWarnings(),this.model.setSwitchingToLive(!1)},redirectToLogin:function(e,t){this.options.redirectToLoginPage&&this.options.redirectToLoginPage(t)}},{DASHBOARD_MODULE:"dashboard",NAVIGATION_START_CHECKPOINT:"navigationStart",LOAD_EVENT_START_CHECKPOINT:"loadEventStart",FIRST_PANEL_RENDER_CHECKPOINT:"first_panel_render",ASSETS_LOADED:"assets_loaded",PAGE_LOAD_EVENT:"page_load",MEASURE_FIRST_RESULT:"any_panel_first_result"});return K}.apply(t,s))||(e.exports=n)},15810:function(e,t,i){var s,n;s=[i(16471),i(60567),i(63205),i(88097)],void 0===(n=function(e,t,s,n){"use strict";var a=t.PublishDialogViewModule,r=e.DashboardsModule,o=s.ContentLibraryUtil,l=s.ContentLibraryUtil,d=e.contentLibraryEnI18n,c=e.LibraryEnI18nModule;c=c.default;var u=i(16367).Heimdall,h=e.CONTENT_ACTION_TYPES,g={CAN_SUBSCRIBE:"CAN_SUBSCRIBE",CAN_UNSUBSCRIBE:"CAN_UNSUBSCRIBE",CAN_PUBLISH:"CAN_PUBLISH",CAN_UNPUBLISH:"CAN_UNPUBLISH",CAN_DELETE:"CAN_DELETE",CAN_RENAME:"CAN_RENAME",CAN_EDIT:"CAN_EDIT",CAN_MOVE:"CAN_MOVE",CAN_COPY:"CAN_COPY",NONE:"NONE"},p="ORG",m="PRIVATE";return{defaults:{contentLibraryId:null,dashboardActions:g.NONE,description:null,contentLibInfoLoaded:!1,pathText:null,fullPath:null,isFavorite:null,useViewerRbac:null,sharer:null,owner:null,creator:null,lastModifier:{},modifiedAt:null},init:function(){},mixin:{actionTypes:g,getName:function(){return this.getTitle()},getTypeLabel:function(){return d.type_dashboard},isFavorite:function(){return this.get("isFavorite")},updateFavoriteStatus:function(e,i){var s=e?"POST":"DELETE",a=this.getTitle();SumoApp.ajax.call(this,{endpoint:sprintf(SumoApp.ajax.EndpointFormats.V1_CONTENT_FAVORITE,this.getContentLibraryId()),type:s,errorCode:"dashboard_favorite",success:function(){n.showCasualNotification({message:t.getFavoriteNotification(SumoUtil.encode(a),e)}),this.set("isFavorite",e),SumoUtil.isDashboardUrl()?SumoApp.context.dashboardLoader.favoriteDashboard(this.isFavorite(),this.getContentLibraryId()):this.sendContentChangeNotification(h.FAVORITE),i()},error:function(e,t){n.showCriticalNotification({message:t,autoDismiss:!0})}})},loadLibraryInfo:function(e){var i,s;e?(s=SumoApp.ajax.EndpointFormats.V1_CONTENT_LIBRARY_ITEM_ACTIONS,i=this.getId()):(s=this.getApiEndpoint("CONTENT_LIBRARY_ITEM_ACTIONS"),i=this.get(this.requestIdKey));var n=this.createResolvedPromise(null);if(i){var a=this.isInteractive()?"report":"dashboard",r=this.getDormantState(),o=u.getPlugin("routeChangePerformance");o&&!r&&o.waitFor("get content item"),n=this.createPromise({endpoint:sprintf(s,i,a),errorCode:"dashboard_contentlib_actions"}).then((function(e){o&&!r&&o.done("get content item");var i=e.folderable;e={contentLibraryId:i.id,description:i.description,dashboardActions:i.actions,sharingStatus:i.sharingStatus,isFavorite:i.favorite,visibility:i.visibility,useViewerRbac:i.useViewerRbac,accessKey:i.accessKey,externalId:i.externalId,lastModifier:{id:i.modifiedById,name:i.modifiedBy},modifiedAt:moment(i.modifiedAt),sharer:{name:i.sharerName,id:i.sharerId},owner:{name:i.ownerName,id:i.ownerId},creator:{name:i.createdBy||i.ownerName,id:i.creatorId||i.ownerId},permissions:i.permissions};var s={};s[i.type]=i;var n=t.contentConversionUtil.fromServiceResult(s);return e.dashboardActions=t.contentTypeActionsService.getBackwardCompatibleActions(n,i.actions),e})).catch((function(e){return o&&!r&&o.done("get content item"),SumoApp.getAngularService("$q").reject(e)}))}return n},getAccessLevel:function(){var e=this.createResolvedPromise(null),t=this,i=this.getAccessId(),s=this.getDormantState();if(!this.getIsPublic()&&i){var n=u.getPlugin("routeChangePerformance");n&&!s&&n.waitFor("get access level"),e=this.createPromise({endpoint:sprintf(SumoApp.ajax.EndpointFormats.V1_CONTENT_LIBRARY_ITEM_ACCESS_PUBLIC,i),errorCode:"dashboard_contentlib_actions"}).then((function(e){return n&&!s&&n.done("get access level"),e.accessLevel!==l.ContextNames.ORG&&e.accessLevel!==l.ContextNames.USER&&(t.setIsPublic(!0),t.getQueryManager().setIsPublic(!0),SumoApp.context.isPublic=!0),e})).catch((function(){n&&!s&&n.done("get access level"),t.setIsPublic(!0),t.getQueryManager().setIsPublic(!0),SumoApp.context.isPublic=!0}))}return e},getLibraryInfo:function(){return{contentLibraryId:this.getContentLibraryId(),description:this.getDescription(),dashboardActions:this.getDashboardActions(),sharingStatus:this.getSharingStatus(),isFavorite:this.isFavorite(),sharer:this.getSharer(),owner:this.getOwner(),ownerRbac:this.isOwnerRbac(),visibility:this.getVisibility()}},setLibraryInfo:function(e){_.isEqual(this.getLibraryInfo(),e)||(this.set(e),this.trigger("change:contentLibInfoLoaded"))},loadContentLibInfo:function(){},setPublishAction:function(e){if(e!==g.CAN_PUBLISH&&e!==g.CAN_UNPUBLISH)throw new SumoError("setPublishAction can only change the publish permission.");var t=this.getDashboardActions();_.isEmpty(t)||(t=_.without(t,g.CAN_PUBLISH,g.CAN_UNPUBLISH)),t.push(e),this.setDashboardActions(t)},isPublishable:function(){var e=this.getDashboardActions();return _.isString(e)&&e===g.CAN_PUBLISH||_.isArray(e)&&_.contains(e,g.CAN_PUBLISH)},getOwnerName:function(){var e=null,t=this.getOwner();return!_.isEmpty(t)&&_.isString(t.name)&&(e=t.name),e},getCreatorName:function(){var e=null,t=this.getCreator();return!_.isEmpty(t)&&_.isString(t.name)&&(e=t.name),e},isMine:function(){var e=this.getOwner(),t=parseInt(SumoApp.getAngularService("currentUserHelper").get().id);return!_.isEmpty(e)&&e.id===t},isPublished:function(){return this.getSharingStatus()===o.SharingStatuses.PUBLISHED},canBeEdited:function(){var e=this.getDashboardActions();return _.isArray(e)&&_.contains(e,g.CAN_EDIT)},canBeDeleted:function(){var e=this.getDashboardActions();return _.isArray(e)&&_.contains(e,g.CAN_DELETE)},assignSharer:function(){var e=SumoApp.getAngularService("currentUserHelper").get(),t={id:0,name:e.firstName+" "+e.lastName};this.setSharer(t),this.setSharingStatus(o.SharingStatuses.PUBLISHED)},removeSharer:function(){this.setSharer(null),this.setSharingStatus(o.SharingStatuses.PRIVATE)},shareDashboard:function(){var e=this;this.loadDashboardNames((function(){e.makeDashboardPublic()}))},publishDashboard:function(){var e={name:this.getTitle(),id:this.getContentLibraryId(),description:this.getDescription(),treeSelector:!1,instructions:r.publish_instructions},t=this;new a({context:SumoApp.context,item:e,callback:function(){t.setPublishAction(g.CAN_UNPUBLISH),t.setVisibility(p),t.assignSharer(),t.trigger("sharingStatusChanged")}}).open()},unpublishDashboard:function(e){e.preventDefault();var t=this;SumoApp.userMessage.question(r.unpublish_confirmation,{okCallback:function(){t.createPromise({type:"PUT",endpoint:sprintf(SumoApp.ajax.EndpointFormats.V1_CONTENT_LIBRARY_UNPUBLISH_ITEM,t.getContentLibraryId()),errorCode:"unpublish_item"}).then((function(){return t.removeSharer(),t.setVisibility(m),t.setPublishAction(g.CAN_PUBLISH),t.trigger("sharingStatusChanged"),!0})).catch((function(e){return _.has(e.keyedErrors,"content1:not_published")?(t.removeSharer(),t.setVisibility(p),t.setPublishAction(g.CAN_PUBLISH),t.trigger("sharingStatusChanged")):(t.setErrorDetails(e.friendlyErrorMessage),t.setErrorMessage(e.serverErrorMessage)),!1}))},isHTML:!0})},makeDashboardPublic:function(){var e=this.getId();this.clearErrorMessage(),SumoApp.ajax.call(this,{endpoint:sprintf(SumoApp.ajax.EndpointFormats.V1_DASHBOARD_SHARE_FORMAT,e),errorCode:"share_dashboard",type:"PUT",timeout:this.DASHBOARD_AJAX_TIMEOUT,success:function(){this.assignSharer(),this.set({sharingChanged:!this.get("sharingChanged")})},error:function(e,t,i){return $.logWarn("Sumo.Ui.Dashboard.makeDashboardPublic - error: '%s'",t),this.setErrorDetails(i),this.setErrorMessage(t),!1}})},makeDashboardPrivate:function(){var e=this.getId();this.clearErrorMessage(),SumoApp.ajax.call(this,{endpoint:sprintf(SumoApp.ajax.EndpointFormats.V1_DASHBOARD_UNSHARE_FORMAT,e),errorCode:"unshare_dashboard",type:"PUT",timeout:this.DASHBOARD_AJAX_TIMEOUT,success:function(){this.removeSharer(),this.set({sharingChanged:!this.get("sharingChanged")})},error:function(e,t,i){return this.setErrorDetails(i),this.setErrorMessage(t),!1}})}}}}.apply(t,s))||(e.exports=n)},85586:function(e,t,i){var s,n;s=[i(20609)],void 0===(n=function(e){"use strict";function t(t){var i,s=function(t){return _.find(t,(function(t){return _.getPath(t,"metadata.queryType")===e.QUERY_TYPES.AGGREGATE_LOGS}))||_.first(t)}(t);return _.isUndefined(s)||(i={start:s.metadata.startTime,end:s.metadata.endTime}),i}return{processResults:function(e,i,s){var n,a,r=SumoApp.getAngularService("dashboardResultNormalizer").normalize(e),o=_.isBoolean(i)&&i,l=(n=r.queryResults,a=_.getPath(r,"commonMetadata"),0===n.length?"not_modified"===a.controlCode:_.all(n,(function(e){return"not_modified"===_.getPath(e,"metadata.controlCode")})));if(o&&l)return!1;_.isEmpty(r.errors)?(s.clearFetchTimeoutErrors(),s.setKeyedErrors(void 0)):function(e,t){var i=_.indexBy(e,"key");_.has(i,"sq2:invalid_session")?(t.logWarnMessage("invalid session","restarting query: %s",t.getQueryId()),t.setState(t.STATES.FAILED),t.incrementFetchErrors()):_.has(i,"metrics:query_timeout")?t.incrementFetchTimeoutErrors():t.incrementFetchErrors(),(t.getFetchErrors()>3||t.getFetchTimeoutErrors()>5)&&t.setState(t.STATES.ERROR)}(r.errors,s);var d=o?1:null;s.clearFetchErrors();var c=t(r.queryResults);return c&&s.setSearchedTimeRange(c.start,c.end),s.setBackfillStatus(d),s.setResults(r),s.isError()||s.setState(function(e,t,i,s){var n,a=_.map(e,(function(e){return _.getPath(e,"metadata.state.code")}));return n=a.length>1?_.min(a):0===a.length?s.code:_.first(a),i._isQueryStatusNotStarted(n)?i.STATES.NOT_STARTED:i._isQueryStatusPaused(n)?i.STATES.PAUSED:i._isQueryStatusInProgress(n)||t&&!i._isQueryStatusDone(n)?i.STATES.IN_PROGRESS:i.STATES.DONE}(r.queryResults,o,s,_.getPath(r,"commonMetadata.state"))),s.isError()||s.isFailed()},getPanelResultData:function(e){var t=e.getResults()||{};return t.id=e.getId(),t.monitorId=e.getId(),t.status={queryId:e.getQueryId(),progress:e.getProgress(),error:!_.isEmpty(t.errors),state:e.getState(),searchedTimeRange:{start:e.getSearchedTimeRangeStart(),end:e.getSearchedTimeRangeEnd()},backfillStatus:e.getBackfillStatus()},t}}}.apply(t,s))||(e.exports=n)},68612:function(e,t,i){var s,n,a=i(16826);s=[i(16471),i(89867),i(99723),i(52108),i(60567)],void 0===(n=function(e,t,i,s,n){"use strict";var r=n.ThemeUtilModule,o=e.DashboardsModule,l=n.SumoModel,d=t.timeZoneServiceV2,c=n.GetterSetterMixin,u=t.keyedErrors,h={ACTIVE:"active",STOPPED:"stopped",BENTO_DORMANT:"bento_dormant"},g=2e3,p=1e4,m=Backbone.Collection.extend({model:i,getByQueryId:function(e){return this.findWhere({queryId:e})},getNewQueries:function(){return _(this.where({state:i.STATES.NEW})).sortBy((function(e){return e.getSort()}))},getInProgressQueries:function(){return this.where({state:i.STATES.IN_PROGRESS})},getPausedQueries:function(){return this.where({state:i.STATES.PAUSED})},getActiveQueries:function(){return this.filter((function(e){return e.getState()===i.STATES.IN_PROGRESS||e.getState()===i.STATES.PAUSED||e.getState()===i.STATES.NOT_STARTED||e.getState()===i.STATES.DONE&&!e.isDone()}))}}),f=l.extend({mixins:[s,c],STATES:h,restartQueueTimeout:void 0,defaults:{state:h.STOPPED,queries:null,reportId:null,destroyList:null,createLock:!1,fetchingLock:!1,timer:null,fetchErrorCount:0,offlineErrorCount:0,timeZone:null,filters:null,panels:null,liveMode:!1,openedInLiveMode:!1,apiInternalError:null,isPublic:!1,accessId:void 0,validFetchPollCount:1,checkPublicFetchValidity:null,sessionsData:null,finishedQueries:[],renderQueue:[],isInProcess:!1,panelsReadyToRender:!1,queryModelUpdateRotator$:void 0,filterSearchQuery:null,timerangeQuery:null},getComponent:function(){return"InteractiveDashboard"},getModelName:function(){return"ReportQueryManager"},incrementFetchErrorCount:function(){this.setFetchErrorCount(this.getFetchErrorCount()+1)},incrementOfflineErrorCount:function(){this.setOfflineErrorCount(this.getOfflineErrorCount()+1)},clearFetchErrorCount:function(){this.setFetchErrorCount(0)},clearOfflineErrorCount:function(){this.setOfflineErrorCount(0)},lockCreation:function(){this.setCreateLock(!0)},unlockCreation:function(){this.setCreateLock(!1)},isStopped:function(){return this.getState()===h.STOPPED},isActive:function(){return this.getState()===h.ACTIVE},isBentoDormant:function(){return this.getState()===h.BENTO_DORMANT},getFilterValues:function(){var e=null,t=this.getFilters();return t.isEmpty()||(e=t.chain().map((function(e){var t=null;return e.validateValue()&&(t=[e.getFieldName(),e.getCurrentValue().toString()]),t})).compact().object().value()),e},resetQueries:function(e,t){this.getQueries().reset(e,t)},addQuery:function(e){var t=this.getQueries(),s=t.get(e.id);return s&&(s.setState(i.STATES.INTERRUPTED),t.remove(s)),s=new i(e),t.add(s),s},stopQuery:function(e){var t=this.getQueries(),s=t.get(e);s&&(s.setState(i.STATES.INTERRUPTED),t.remove(s))},stop:function(e){this.stopTimer(),this.setState(h.STOPPED),this.resetQueries([],{stop:!0,destroy:!0===e})},setDormantState:function(){this.stopTimer(),this.setState(h.BENTO_DORMANT),this.panelDataLoadStart=void 0},stopTimer:function(){this.getTimer()&&(this.getTimer().cancel(),this.setTimer(null))},initializeQueries:function(){if(!this.getCreateLock()){var e=this.getQueries().getNewQueries(),t=this,i=this.getPanels();if(i&&(e=_.filter(e,(function(e){if(i.get(e.getId()).hasAllParamValues())return!0;t.trigger("waitingForParameter",{panelId:e.getId()})}))),!_.isEmpty(e)){this.lockCreation();var s={timeZone:d.getUserTimeZone(),panelTimerangeTuples:_.map(e,(function(e){return e.getCreateOptions()})),aggregateKeyFilters:this.getFilterValues()};if(SumoApp.getAngularService("currentUserHelper").hasFeatureFlag("UIFiltersUrlSync")&&(s.panelTimerangeTuples&&this.setTimerangeQuery(this.dashboardUrlTimerangeSyncService.getTimerangeSearchQuery(s.panelTimerangeTuples,this.getTimerangeQuery())),this.setFilterSearchQuery(this.dashboardUrlFilterSyncService.getFilterSearchQuery(this.getFilters().models)),SumoUtil.isDashboardUrl())){var n=this.getFilterSearchQuery();n&&SumoUtil.updateUrlSearchQuery("filters",n)}this.getLiveMode()?s.refreshFrequencySeconds=900:e.length===i.length?this.panelDataLoadStart=Date.now():this.panelDataLoadStart=void 0,this.getOpenedInLiveMode()&&(s.waitForBackfill=!1),this.createPromise({endpoint:sprintf(this.getApiEndpoint("INTERACTIVE_DASHBOARD_CREATE_SESSIONS"),this.get(this.requestIdKey)),errorCode:"get_dashboard_results",type:"POST",data:s}).done(this.onSessionCreateSuccess.bind(this),this.onInitializeQueriesError)}}},onSessionCreateSuccess:function(e){this.resetApiInternalError(),this.onInitializeQueries(e)},onInitializeQueries:function(e){if(e){this.unlockCreation();var t=this,i=this.getQueries(),s=e.results;_.each(s,(function(e,s){var n=i.get(s);if(n)if(n.processCreationResult(e))if(t.getIsPublic()){var a=_.getPath(e,"keyedErrors[0].values.violations")||"";t.trigger("worldCreatePanelError",{errorMessage:a,panelId:n.getPanelResultData().id}),i.remove(n)}else t.trigger("panelStateChange",n.getPanelResultData()),i.remove(n);else t.trigger("newResults",n.getPanelResultData())})),this._initializeQueries(),this.fetchResults()}},bentoReattachSessions:function(){var e=[],t=this.getQueries(),s=this;t&&t.forEach((function(e){s.cleanPushFinishedQuery(e)})),this.getFinishedQueries().forEach((function(t){t.setState(i.STATES.IN_PROGRESS),e.push(t.attributes)})),this.resetQueries(e,{silent:!0}),this.fetchResults(),this.setFinishedQueries([])},onInitializeQueriesError:function(e){this.logErrorMessage("initializeQueries","%s",e,e);var t=_.getPath(e,"resultsObj.results");if(_.isEmpty(t)){if(this.stop(),this.unlockCreation(),500===e.status||0===e.status||-999===e.status)return void this.setApiInternalError(new Date);this.setApiInternalError(!1);var i=!1,s=_.keys(e.keyedErrors)[0];if("dashboard:invalid_cq_query"===s){var n=e.keyedErrors[s].values.violations;200==e.status&&n.indexOf("time ranges in dashboard queries must be relative")>-1&&(SumoApp.userMessage.warn(o.panel_cannot_be_live_mode),this.onInitializeQueries(e.resultsObj),i=!0)}else if("content1:permission_denied"==s){var a=u["content1:permission_denied"];this.trigger("reload"),r.resetTheme(),SumoApp.userMessage.error(a),i=!0}i||this.notifyInitializeError(e)}else this.onInitializeQueries(e.resultsObj)},_resumePausedQuery:function(){var e=this,t=this.getQueries().getPausedQueries();if(t.length>0){var s=_.first(t);return this.createPromise({endpoint:sprintf(this.getApiEndpoint("INTERACTIVE_DASHBOARD_RESUME_SESSIONS"),this.get(this.requestIdKey))+"?"+this._getQueryStringQueryIds([s]),errorCode:"get_dashboard_results",type:"POST"}).then((function(){return s.setState(i.STATES.IN_PROGRESS),e})).catch((function(){return s.setState(i.STATES.ERROR),e}))}return this.createResolvedPromise(this)},fetchResults:function(){this.isActive()&&this.getQueries().getInProgressQueries().length>0||this._fetchResults()},_getQueryStringQueryIds:function(e){return _.chain(e).filter((function(e){return!_.isNull(e.getQueryId())})).map((function(e){return"sid="+e.getQueryId()})).value().join("&")},_fetchResults:function(){var e=this.getQueries().getActiveQueries();if(e.length>0){this.setState(h.ACTIVE);var t=this.getApiEndpoint("INTERACTIVE_DASHBOARD_RESULTS_ALT");this.createPromise({endpoint:sprintf(t,this.get(this.requestIdKey)),data:this._getQueryStringQueryIds(e),errorCode:"get_dashboard_results"}).then(this.processResults).catch(this.fetchResultsError).finally(this.scheduleNextFetch)}else this.scheduleNextFetch()},processResults:function(e,t){var s=this;t||(this.resetApiInternalError(),this.clearFetchErrorCount(),this.clearOfflineErrorCount(),$(".toast-container.warn-toast").is(":visible")&&$(".toast-container.warn-toast").remove());var n=this.getQueries(),a=_.sortBy(this.getQueries().getActiveQueries(),(function(e){return e.getSort()})),r=s.getLiveMode(),o=e.queryResults||{};_.each(a,(function(e){var t=o[e.getQueryId()];if(t){var a=e.processResults(t,r),l=e.getPanelResultData();a?s.trigger("panelStateChange",l):s.trigger("newResults",l)}var d=e.getResults();e.isDone()||e.isError()||e.isFailed()?(s.addToPanelQueue(e.getId()),n.remove(e)):r||_.getPath(d,"status.state")!==i.STATES.IN_PROGRESS||s.addToPanelQueue(e.getId())})),r&&(s.triggerLivePanelStatus(a),n.models.forEach((function(e){s.addToPanelQueue(e.getId())}))),this.renderWithDelay?this.popQueueAndRender():this.popAllAndRender()},addToPanelQueue:function(e){var t=this.getRenderQueue();_.contains(t,e)||isNaN(e)||t.push(e)},pushAllPanelsToQueue:function(){this.setRenderQueue(this.getPanels().models.map((function(e){return e.getId()})))},scheduleNextRender:function(e){var t=this;requestAnimationFrame((function(){t.popQueueAndRender(e)}))},restartQueue:function(){var e=this;return setTimeout((function(){e.popQueueAndRender()}),2e3)},clearRestartQueueTimeout:function(){this.restartQueueTimeout&&clearTimeout(this.restartQueueTimeout)},resetApiInternalError:function(){this.getApiInternalError()&&this.setApiInternalError(!1)},popQueueAndRender:function(e){if(this.get("panelsReadyToRender")){var t=this.getRenderQueue(),i=this.getIsInProcess();this.clearRestartQueueTimeout(),i&&0===t.length?(this.setIsInProcess(!1),this.restartQueueTimeout=null):t.length&&(e&&_.contains(t,e)?this.setRenderQueue(_.without(t,e)):e=t.shift(),this.setIsInProcess(!0),this.restartQueueTimeout=this.restartQueue(),this.getQueryModelUpdateRotator$().onNext(e))}},popAllAndRender:function(){if(this.get("panelsReadyToRender")){var e=this.getRenderQueue();this.clearRestartQueueTimeout(),this.setIsInProcess(!1),this.restartQueueTimeout=null,this.setRenderQueue([]);var t=this;e.forEach((function(e){t.getQueryModelUpdateRotator$().onNext(e)}))}},triggerLivePanelStatus:function(e){var t=_.reduce(e,(function(e,t){var i=t.getBackfillStatus();return e.total=_.isNull(i)?e.total:e.total+1,e.done=1===i?e.done+1:e.done,e}),{total:0,done:0});this.trigger("newLivePanelStatus",t)},fetchResultsError:function(e){this.logErrorMessage("There was an error fetching results: %s: %s",e.status,e.message);var t=this.getFetchErrorCount(),s=this.getOfflineErrorCount(),n=e.resultsObj,a=n&&!_.isEmpty(n.queryResults),r=SumoApp.getAngularService("currentUserHelper").hasFeatureFlag("UIShowConnectivityErrorWithDelay");if(a&&(this.processResults(n,!0),this.incrementFetchErrorCount()),0===e.status||-999===e.status)e.retry=!0,this.incrementOfflineErrorCount(),(!r||s>10&&r)&&($(".toast-container.warn-toast").is(":visible")||SumoApp.userMessage.warn(o.error_service_cannot_be_reached,{showTime:72e5,toasterClass:"warn-toast warn-toast-no-images",autoDismiss:!1}));else if(200===e.status&&t>3&&a){this.logErrorMessage("Stopping dashboard: %s: %s",e.status,e.message),this.notifyQueryError(e);var l=this.getQueries(),d=this;l.each((function(t){t.setState(i.STATES.ERROR),_.isEmpty(t.getKeyedErrors())&&t.setKeyedErrors(e.keyedErrors),d.trigger("panelStateChange",t.getPanelResultData())}))}else 500!==e.status||this.getApiInternalError()?e.retry=!0:this.setApiInternalError(new Date);return e},hasAliveQueries:function(){var e=this.getQueries();return e.length>0&&(e.getActiveQueries().length>0||e.getNewQueries().length>0)},validatePublicNextFetch:function(){if(this.getIsPublic()){var e=this.getValidFetchPollCount();e&&this.setCheckPublicFetchValidity(new Date),this.setValidFetchPollCount(e?0:1)}},scheduleNextFetch:function(e){if(!this.isBentoDormant()){this.validatePublicNextFetch();var t=e instanceof SumoError,i=this.getQueries();if(t&&!e.retry||!this.hasAliveQueries())SumoUtil.isDashboardUrl()?this.stop():this.setState(h.STOPPED),this.logPanelDataLoadTime();else{this.stopTimer();var s=i.getInProgressQueries(),n=i.getPausedQueries();0===s.length&&n.length>0?this._resumePausedQuery().then(this._fetchResults):this.setTimer($.later(this.getLiveMode()?p:g,this,this._fetchResults))}}},logPanelDataLoadTime:function(){this.panelDataLoadStart&&$.logInfo("DASHBOARD_PANELS_DATA_LOAD_TIME:"+this.getReportId()+":"+(Date.now()-this.panelDataLoadStart))},onQueryRemoved:function(e){if(e.isFailed())e.getRetryAttributes().retry<=3&&this.addQuery(e.getRetryAttributes());else if(!e.isError()){if(!SumoUtil.isDashboardUrl())return void this.cleanPushFinishedQuery(e);this.setToBeDestroyed(e)}e.setState(i.STATES.DELETED)},cleanPushFinishedQuery:function(e){var t=this.getFinishedQueries();if(t){var i,s=_.find(t,(function(t,s){return t.getId()===e.getId()&&(i=s,!0)}));s&&(t.splice(i,1),this.setToBeDestroyed(s)),t.push(e)}},setToBeDestroyed:function(e,t){this.getDestroyList().add(e,t)},destroyQueries:function(e){var t=this.getDestroyList().chain().map((function(e){return e})).compact().value();if(!_.isEmpty(t)){var i={endpoint:sprintf(this.getApiEndpoint("INTERACTIVE_DASHBOARD_TERMINATE_SESSIONS"),this.get(this.requestIdKey),this._getQueryStringQueryIds(t)),errorCode:"get_dashboard_results",type:"DELETE"};if(_.each(t,(function(e){e.destroy()})),e&&_.isBoolean(e.destroy)&&e.destroy)i.async=!1,i.success=$.noop,SumoApp.ajax.call(this,i);else this.createPromise(i).catch($.noop)}},onResetQueries:function(e,t){var i=t.previousModels?t.previousModels:[];SumoUtil.isDashboardUrl()||(i=i.concat(this.getFinishedQueries()),this.setFinishedQueries([])),_.isEmpty(i)||(t.stop?(this.setToBeDestroyed(i,{silent:!0}),this.destroyQueries(t)):this.setToBeDestroyed(i)),this.unlockCreation(),e&&!_.isEmpty(e)&&this.initializeQueries()},notifyInitializeError:function(e){SumoApp.userMessage.error(e.message)},notifyQueryError:function(e){SumoApp.userMessage.error(e.message)},initialize:function(){_.bindAll(this,"initializeQueries","onInitializeQueries","onInitializeQueriesError","popQueueAndRender","restartQueue","onQueryRemoved","processResults","_fetchResults","fetchResultsError","clearRestartQueueTimeout","scheduleNextFetch","scheduleNextRender"),this.renderWithDelay=!SumoApp.getAngularService("currentUserHelper").hasFeatureFlag("UIDashboardNoDelayedRender"),this._initializeQueries=_.debounce(this.initializeQueries,100),this._destroyQueries=_.debounce(this.destroyQueries,100),this.setFinishedQueries([]),this.dashboardUrlFilterSyncService=SumoApp.getAngularService("dashboardUrlFilterSyncService"),this.dashboardUrlTimerangeSyncService=SumoApp.getAngularService("dashboardUrlTimerangeSyncService");var e=SumoApp.getAngularService("currentUserHelper"),t=e.getDynamicProperty("ui_dashboard_results_poll_interval");_.isNumber(t)&&(g=t);var i=e.getDynamicProperty("ui_dashboard_results_slow_render_poll_interval");_.isNumber(i)&&(p=i),this.setUpApis("reportId");var s=this.getQueries(),n=new m;this.setDestroyList(n),_.isNull(s)&&(s=new m,this.setQueries(s)),this.listenTo(n,"add",this._destroyQueries),this.listenTo(s,"remove",this.onQueryRemoved),this.listenTo(s,"add",this._initializeQueries),this.listenTo(s,"reset",this.onResetQueries),this.setQueryModelUpdateRotator$(new a.Subject)},clearAllQueriesData:function(){var e=this.getQueries(),t=e?e.models:[];(this.getFinishedQueries()||[]).concat(t).forEach((function(e){e.setResults(null)}))},destroy:function(){this.stop(!0),this.stopListening(),this.trigger("destroy",this)}});return f.STATES=h,f}.apply(t,s))||(e.exports=n)},99723:function(e,t,i){var s,n;s=[i(60567),i(31779),i(85586)],void 0===(n=function(e,t,i){"use strict";var s=e.SumoModel,n=e.GetterSetterMixin,a={NEW:"new",NOT_STARTED:"not_started",IN_PROGRESS:"in_progress",PAUSED:"paused",DELETED:"deleted",DONE:"done",FAILED:"failed",INTERRUPTED:"interrupted",ERROR:"error"},r=s.extend({mixins:[n],STATES:a,defaults:{state:a.NEW,id:null,queryId:null,timeRange:null,searchedTimeRangeStart:null,searchedTimeRangeEnd:null,timeRangeStart:null,timeRangeEnd:null,results:null,backfillStatus:null,retry:0,fetchErrors:0,fetchTimeoutErrors:0,keyedErrors:null,sort:0,cantOptimize:!1,numDatapoints:200,maxTotalDatapoints:2e4},getComponent:function(){return"Reports"},getModelName:function(){return"ReportQueryModel"},setTimeRange:function(e,t){this.setTimeRangeStart(e),this.setTimeRangeEnd(t)},setSearchedTimeRange:function(e,t){this.setSearchedTimeRangeStart(e),this.setSearchedTimeRangeEnd(t)},clearFetchErrors:function(){this.setFetchErrors(0)},clearFetchTimeoutErrors:function(){this.setFetchTimeoutErrors(0)},incrementFetchErrors:function(){this.setFetchErrors(this.getFetchErrors()+1)},incrementFetchTimeoutErrors:function(){this.setFetchTimeoutErrors(this.getFetchTimeoutErrors()+1)},getRetryAttributes:function(){var e={};return SumoApp.priv.hasFlagUIDashboardIgnoreLimitDataPoints()||(e={numDatapoints:this.getNumDatapoints(),maxTotalDatapoints:this.getMaxTotalDatapoints()}),Object.assign({id:this.getId(),timeRange:this.getTimeRange(),timeRangeStart:this.getTimeRangeStart(),timeRangeEnd:this.getTimeRangeEnd(),retry:this.getRetry()+1},e)},isNew:function(){return this.getState()===a.NEW},isNotStarted:function(){return this.getState()===a.NOT_STARTED},isDone:function(){return this.getState()===a.DONE&&_.isNull(this.getResults().status.backfillStatus)},isFailed:function(){return this.getState()===a.FAILED},isError:function(){return this.getState()===a.ERROR},isPaused:function(){return this.getState()===a.PAUSED},_canRetryInitialization:function(e){return!(_.has(e,"report:too_long_unoptimized_timerange")||_.has(e,"report:too_long_timerange")||_.has(e,"report:unknown_panel")||_.has(e,"report:disabled_panel")||_.has(e,"report:disabled_panel")||_.has(e,"report:unexpected_filter_value")||_.has(e,"report:invalid_filter_value")||_.has(e,"cq.unsupported_partition_access")||_.has(e,"cq.live_query_org_limit"))},processCreationResult:function(e){return e.error?this._processCreationError(e):(this.setQueryId(e.searchQueryId),this.setTimeRange(e.startMillis,e.endMillis),this.setState(a.IN_PROGRESS)),this.isError()||this.isFailed()},_processCreationError:function(e){var t=this._getKeyedErrors(e);this._canRetryInitialization(t)?this.setState(r.STATES.FAILED):(this.setState(r.STATES.ERROR),this.setKeyedErrors(t))},_isQueryStatusNotStarted:function(e){return 0===e},_isQueryStatusInProgress:function(e){return e<=4},_isQueryStatusPaused:function(e){return 6===e||7===e},_isQueryStatusDone:function(e){return 9===e},processResults:function(e,s){return _.getPath(e,"metricsResult")?i.processResults(e,s,this):t.processResults(e,s,this)},getCreateOptions:function(){var e={},t={id:this.getId()};return SumoApp.priv.hasFlagUIDashboardIgnoreLimitDataPoints()||(e.numDatapoints=this.getNumDatapoints(),e.maxTotalDatapoints=this.getMaxTotalDatapoints()),_.isNull(this.getTimeRange())||(e.timeRange=this.getTimeRange()),Object.assign(t,e)},getProgress:function(){var e=0,t=this.getTimeRangeStart(),i=this.getTimeRangeEnd(),s=this.getSearchedTimeRangeStart(),n=this.getSearchedTimeRangeEnd();if(t&&i&&s&&n){var a=i-t,r=n-s;e=Math.max(Math.floor(100*r/a),1)}return e>100?100:e},getPanelResultData:function(){var e=this.getResults()||{};return e=_.has(e,"queryResults")?i.getPanelResultData(this):t.getPanelResultData(this)}});return r.STATES=a,r}.apply(t,s))||(e.exports=n)},81018:function(e,t,i){var s,n;s=[i(60567),i(16471),i(21196)],void 0===(n=function(e,t,i){"use strict";var s=e.DashboardConstantsModule,n=(t.DashboardsModule,e.SumoViewModule),a=e.ResultsViewerConstants;return n.extend({TIMERANGE_FROM_PANEL:"[From Panel]",TIMERANGE_REVERT_TO_DEFAULTS:"[Revert to defaults]",GRID_MARGIN:s.GridsterDefaults.GRID_MARGIN,DEFAULT_COLUMNS:s.GridsterDefaults.DEFAULT_COLUMNS,DEFAULT_ROWS:s.GridsterDefaults.DEFAULT_ROWS,MIN_MONITOR_WIDTH:s.GridsterDefaults.MIN_MONITOR_WIDTH,MIN_METRICS_MONITOR_WIDTH:s.GridsterDefaults.MIN_METRICS_MONITOR_WIDTH,MIN_MONITOR_HEIGHT:s.GridsterDefaults.MIN_MONITOR_HEIGHT,DEFAULT_MONITOR_WIDTH:s.GridsterDefaults.DEFAULT_MONITOR_WIDTH,DEFAULT_METRIC_MONITOR_WIDTH:s.GridsterDefaults.DEFAULT_METRIC_MONITOR_WIDTH,DEFAULT_MONITOR_HEIGHT:s.GridsterDefaults.DEFAULT_MONITOR_HEIGHT,MIN_METRIC_MONITOR_HEIGHT:s.GridsterDefaults.MIN_METRIC_MONITOR_HEIGHT,DEFAULT_METRIC_MONITOR_HEIGHT:s.GridsterDefaults.DEFAULT_METRIC_MONITOR_HEIGHT,MIN_CELL_HEIGHT_PIXELS:44,MAX_CELL_HEIGHT_PIXELS:60,HEADERS_HEIGHT:77,monitors:{},dashboard:{},events:{},CONTAINER_RENDERING_DELAY:200,CONTENT_RENDERING_DELAY:200,panelRenderTimeouts:{},isHybridLiveMode:!1,getViewName:function(){return"IrisLayoutView"},getComponent:function(){return"Dashboard"},getCellSize:function(){var e=this.$(".iris-content").width()-20,t=2*(this.getColumns()-1)*this.GRID_MARGIN;return Math.floor((e-t)/this.getColumns())},getCellWidthSize:function(){return this.getCellSize()},getCellHeightSize:function(e){var t=e||this.getCellSize(),i=t,s=$(window).height()-this.HEADERS_HEIGHT,n=this.getMaxOccupiedRow();t*n>(s-=2*n*this.GRID_MARGIN+10)&&(i=s/n);return i<this.MIN_CELL_HEIGHT_PIXELS?i=this.MIN_CELL_HEIGHT_PIXELS:i>this.MAX_CELL_HEIGHT_PIXELS&&(i=this.MAX_CELL_HEIGHT_PIXELS),Math.floor(i)},createGrid:function(){var e=this,t=this.$(".iris-content").addClass("gridster"),i=this.getCellWidthSize(),s=this.getCellHeightSize(i);this.gridster=t.gridster({widget_margins:[this.GRID_MARGIN,this.GRID_MARGIN],widget_base_dimensions:[i,s],min_cols:this.getColumns(),min_rows:this.DEFAULT_ROWS,max_size_x:this.getColumns(),max_size_y:12,autogenerate_stylesheet:!0,widget_selector:"div.gridster-monitor",serialize_params:function(e,t){return t?{id:e.attr("id"),column:t.col,row:t.row,width:t.size_x,height:t.size_y}:null},draggable:{handle:".ui-dragging-handle,.title-dragging-handle",stop:function(t,i,s){e.layoutChanged()}}}).data("gridster")},disableGrid:function(){this.gridster.disable()},enableGrid:function(){this.gridster.enable()},makeColumnTitleRowAbsoluteOnScroll:function(e){},getEmptyMonitorMarkup:function(e,t){var i="";t&&(0!==t.getHeight()&&0!==t.getWidth()||t.setLayoutAttributes({height:this.getDefaultMonitorHeight(t.getViewerType()),width:this.getDefaultMonitorWidth(t.getViewerType())}),i='data-col="'+t.getX()+'" data-row="'+t.getY()+'" data-sizex="'+t.getWidth()+'" data-sizey="'+t.getHeight()+'"');var n=_.getPath(this.options,"isSinglePanelEmbedModeNoTitle")?"single-panel-embed-mode-notitle":"";return sprintf('<div id="%s" class="%s gridster-monitor %s" %s></div>',e,s.CSS.WIDGET.substr(1),n,i)},createMonitors:function(){var e=this,t=this.model.getMonitors();if(!t.isEmpty()){var i="";t.each((function(t){i+=e.getEmptyMonitorMarkup(t.getId(),t)})),this.$(".iris-content").append(i),this.panelRenderTimeouts={},_.getPath(this.options,"isSinglePanelEmbedMode")||this.createGrid(),_.defer(this.centerContainer),this.createMonitorTimeout=setTimeout((function(){this.initContentRenderingTimeout=setTimeout((function(){e.initContentRendering()}),e.CONTAINER_RENDERING_DELAY)}),this.CONTENT_RENDERING_DELAY)}},initContentRendering:function(){var e=this.model.getMonitors(),t=this;e.each((function(e,i){var s=t.getMonitorData(e);t.createPanelContent(s,i)})),this.renderWithDelay||(t.options.queryManager.set("panelsReadyToRender",!0),this.options.queryManager.popAllAndRender())},resetPanelRenderStatus:function(){this.options.queryManager.set("panelsReadyToRender",!1)},createPanelContent:function(e,t){if(this.renderWithDelay){var i=this;this.panelRenderTimeouts[e.id]=setTimeout((function(){delete i.panelRenderTimeouts[e.id],(i.gridster||_.getPath(i.options,"isSinglePanelEmbedMode"))&&(i.createMonitorContent(e),Object.keys(i.panelRenderTimeouts).length||(i.options.queryManager.set("panelsReadyToRender",!0),i.options.queryManager.popQueueAndRender()))}),10*t)}else this.createMonitorContent(e)},getMonitorData:function(e){var t=e.getId(),i=$("#"+t);return i.length<=0&&(i=$(this.getEmptyMonitorMarkup(t)),this.$(".iris-content").append(i)),0!==e.getHeight()&&0!==e.getWidth()||e.setLayoutAttributes({height:this.getDefaultMonitorHeight(e.getViewerType()),width:this.getDefaultMonitorWidth(e.getViewerType())}),{element:i,model:e,id:t}},createMonitorContainer:function(e){var t=this.getMonitorData(e);return this.gridster.add_widget(t.element,e.getWidth(),e.getHeight(),e.getX(),e.getY()),t},createMonitorContent:function(e){var t=e.model,s=e.element,n=e.id,a=new i({el:s,model:t,queryManager:this.options.queryManager,isHybridLiveMode:this.isHybridLiveMode,singlePanelEmbedURL:_.getPath(this.options,"singlePanelEmbedURL")});this.registerView("panel-view-"+n,a);var r=_.getPath(this.options,"isSinglePanelEmbedMode");this.model.canBeEdited()&&!r?this.makeResizable(t,s):r||this.disableGrid()},setIsHybridLiveMode:function(e){this.isHybridLiveMode=e;var t=this.model.getMonitors();_.each(t.models,(function(t){var i=t.getId(),s=this.getView("panel-view-"+i);s&&s.setIsHybridLiveMode(e)}),this)},getDefaultMonitorHeight:function(e){var t=this.DEFAULT_MONITOR_HEIGHT;return a.ViewerType.TITLE===e?t=1:a.ViewerType.METRICS===e&&(t=this.DEFAULT_METRIC_MONITOR_HEIGHT),t},getDefaultMonitorWidth:function(e){return a.ViewerType.METRICS===e?this.DEFAULT_METRIC_MONITOR_WIDTH:this.DEFAULT_MONITOR_WIDTH},getMaxMonitorHeight:function(e){var t=null;return a.ViewerType.TITLE===e&&(t=1),t},getMinMonitorHeight:function(e){var t=this.MIN_MONITOR_HEIGHT;return a.ViewerType.TITLE===e?t=1:a.ViewerType.METRICS===e&&(t=this.MIN_METRIC_MONITOR_HEIGHT),t},getMinMonitorWidth:function(e){return a.ViewerType.METRICS===e?this.MIN_METRICS_MONITOR_WIDTH:this.MIN_MONITOR_WIDTH},getMaxMonitorWidth:function(e){return this.getColumns()},getResizableDimensions:function(e){var t=this.gridster.min_widget_width,i=this.gridster.min_widget_height,s=e.getViewerType(),n=null,a=this.getMaxMonitorHeight(s);return a&&(n=i*a),{grid:[t,i],minWidth:t*this.getMinMonitorWidth(s),minHeight:i*this.getMinMonitorHeight(s),maxWidth:t*this.getMaxMonitorWidth(s),maxHeight:n}},resetResizableGrid:function(){var e=this;$(s.CSS.WIDGET).each((function(t,i){var s=$(i);if(s.data("ui-resizable")){var n=e.model.getMonitors().get(s.attr("id")),a=e.getResizableDimensions(n);s.resizable("option",a)}}))},getResizableHandles:function(e,t){var i={e:t.find(".left-resize-handle"),se:t.find(".corner-resize-handle")};return e.getViewerType()!==a.ViewerType.TITLE&&(i.s=t.find(".bottom-resize-handle")),i},makeResizable:function(e,t){if(this.model.canBeEdited()){var i=this.getResizableDimensions(e);t.resizable(_.extend({animate:!1,helper:"resizable-outline",containment:"document",autoHide:!1,handles:this.getResizableHandles(e,t),stop:this.onMonitorResizeStop.bind(t,this,e)},i)),t.find(".ui-resizable-handle").removeAttr("style")}},onMonitorResizeStop:function(e,t,i,s){var n=$(this);setTimeout((function(){var i=e.resizeBlock(n);t.hasLayoutChanges(i)&&(e.resizeMonitor(t),e.layoutChanged(!0),n.removeAttr("style"))}),0)},resizeBlock:function(e){for(var t=$(e),i=t.resizable("option","grid"),s=t.width()-i[0]+2*this.GRID_MARGIN,n=t.height()-i[1]+2*this.GRID_MARGIN,a=1;s>0;s-=i[0])a++;for(var r=1;n>0;n-=i[1])r++;return this.gridster.resize_widget(t,a,r),{width:a,height:r}},getPanelView:function(e){var t="panel-view-"+e;return this.getView(t)},recreateMonitor:function(e){var t="panel-view-"+e,i=this.getView(t);this.model.canBeEdited()&&i.$el.data("ui-resizable")&&i.$el.resizable("destroy");var s=this.model.getMonitorById(e);i.resetModel(s),this.makeResizable(s,i.$el)},onRecreateMonitor:function(e,t){var i=t.monitorId;this.recreateMonitor(i),e.preventDefault()},resizeMonitor:function(e){if(e){var t=this.getView("panel-view-"+e.getId());if(t){var i=2*this.GRID_MARGIN,s=this.gridster.min_widget_width-i,n=this.gridster.min_widget_height-i,a=e.getWidth()*s+(e.getWidth()-1)*i-20,r=e.getHeight()*n+(e.getHeight()-1)*i-49;t.resize(a,r)}}},onThemeChange:function(e,t){this.callSubViews("onThemeChange",e,t)},revertToDefault:function(){this.callSubViews("revertToDefault")},setAsDefault:function(){this.callSubViews("setAsDefault")},lockTimerangeInputs:function(e){this.callSubViews("lockTimerange",e)},unlockTimerangeInputs:function(){this.callSubViews("unlockTimerange")},resizeMonitors:function(e){var t=this.$(".iris-content");t.forceRedraw&&t.forceRedraw(!0),this.model.getMonitors().each(this.resizeMonitor),!e&&this.model.canBeEdited()&&this.resetResizableGrid()},resizeHeaders:function(){this.callSubViews("setHeaderSize")},onResize:function(e,t){if(e&&(e.target===window||"resize"===e.type)&&this.gridster){this.gridster.$el.css({width:"",left:""});var i=this.getCellWidthSize(),s=this.getCellHeightSize(i);this.gridster.resize_widget_dimensions({widget_base_dimensions:[i,s]}),_.defer(this.centerContainer),_.defer(this.resizeMonitors)}},centerContainer:function(){if(this.gridster){var e=this.gridster.container_width,t=this.$el.width()-e,i=t/2,s=i,n=this.$el[0];if(n.scrollHeight>n.clientHeight){var a=SumoUtil.getScrollBarWidth();s=t-(i=Math.max(i-a/2,5))}this.gridster.$el.css("left",i),i+=this.GRID_MARGIN,s+=this.GRID_MARGIN,$(".iris-header,#dashboard-filters").css({"padding-left":i,"padding-right":s})}},onMonitorDeleted:function(e){this.gridster.remove_widget($("#"+e.getId()),this.layoutChanged)},onMonitorAdded:function(e){var t=this.createMonitorContainer(e);this.createMonitorContent(t)},layoutChanged:function(e){if(this.gridster){var t=this.model.getMonitors(),i=[],s=e||!1;_.each(this.gridster.serialize(),(function(e){var n=t.get(e.id),a={x:e.column,y:e.row,width:e.width,height:e.height};n.setLayoutAttributes(a)&&(i.push(n),s=!0)})),s&&t.trigger("layoutChanged",i)}},getColumns:function(){return this.model.canBeEdited()?this.DEFAULT_COLUMNS:this.getMaxOccupiedColumn()},getMaxOccupiedColumn:function(){var e=this.model.getMonitors().max((function(e){return e.getX()+e.getWidth()-1}));return e.getX()+e.getWidth()-1},getMaxOccupiedRow:function(){var e=this.model.getMonitors().max((function(e){return e.getY()+e.getHeight()-1}));return e.getY()+e.getHeight()-1},getSmallestMonitorHeight:function(){return this.model.getMonitors().min((function(e){return e.getHeight()})).getHeight()},initialize:function(){_.bindAll(this,"render","createMonitors","recreateMonitor","resizeMonitors","resizeMonitor","disableGrid","enableGrid","makeResizable","onResize","layoutChanged","onMonitorDeleted","centerContainer","initContentRendering","createMonitorContainer","createMonitorContent"),this.isHybridLiveMode=this.options.isHybridLiveMode,this.renderWithDelay=!SumoApp.getAngularService("currentUserHelper").hasFeatureFlag("UIDashboardNoDelayedRender"),this.render(),$(window).on("resize",_.debounce(this.onResize,500));var e=this.model.getMonitors();this.listenTo(e,"add",this.onMonitorAdded),this.listenTo(e,"remove",this.onMonitorDeleted)},render:function(){this.createMonitors(),this.resizeMonitors(!0)},clearPanelRenderTimeouts:function(){var e=this.model.getMonitors(),t=this;e&&e.forEach((function(e){clearTimeout(t.panelRenderTimeouts[e.getId()])})),clearTimeout(this.createMonitorTimeout),clearTimeout(this.initContentRenderingTimeout)},destroy:function(){this.resetPanelRenderStatus(),this.clearPanelRenderTimeouts(),this.gridster.destroy(),this.gridster=null,$(window).off("resize",this.onResize),this.destroySubViews(),SumoUtil.destroyView(this),this.$(".iris-content").empty()}})}.apply(t,s))||(e.exports=n)},26113:function(e,t,i){var s,n;s=[i(60567),i(16471)],void 0===(n=function(e,t){"use strict";var i=t.DashboardsModule,s=e.SumoModel,n=e.GetterSetterMixin;return s.extend({defaults:{viewerType:"title",title:null,text:null},mixins:[n],isInValid:function(){return SumoUtil.isStringEmpty(this.getTitle())?sprintf(i.error_no_input,"Title"):SumoUtil.isValidName(this.getTitle())?!("text"!==this.getViewerType()||!SumoUtil.isStringEmpty(this.getText()))&&sprintf(i.error_no_input,"Text"):i.valid_title},initialize:function(){},getComponent:function(){return"Dashboard"},getModelName:function(){return"CreateWidgetDialogModel"}})}.apply(t,s))||(e.exports=n)},33618:function(e,t,i){var s,n;s=[i(60567),i(16471),i(30525),i(26113),i(60567),i(75641),i(73714),i(10788)],void 0===(n=function(e,t,i,s,n,a,r,o){"use strict";var l=t.DashboardsModule,d=e.SumoViewModule,c=(n.ResultsViewerSettingsModel,n.ResultsViewerConstants);return d.extend({events:{"click .cancel-link":"onCancel","click .create-panel-button":"onCreate","change input, textarea":"bindAttributes","keyup input":"onKeyUp"},pristine:!0,template:_.template(i),getMarkdownEditorView:function(){return this.getView("markdownEditorView")},bindAttributes:function(e){var t=$(e.currentTarget).val(),i=$(e.currentTarget).attr("name");this.model.set(i,t)},onKeyUp:function(e){return 13===e.keyCode&&(this.bindAttributes(e),this.onCreate()),!0},setViewerType:function(e,t){if(this.$("#create-panel-dialog-container").removeClass().addClass("type-mode-"+t),this.model.getViewerType()===c.ViewerType.TEXT){var i=this.getMarkdownEditorView();this.pristine&&(i.load(),i.setMarkdown(""),this.pristine=!1)}},initialize:function(e){_.bindAll(this,"setViewerType");var t=this;this.dashboardModel=e,this.dialogView=SumoApp.factory.createDialogView({el:"#create-panel-view",plugin:{title:l.create_panel_dialog_title,width:546,close:function(e){t.destroy()}}}),this.$el=this.dialogView.$el,this.model=new s,this.listenTo(this.model,"change:viewerType",this.setViewerType),this.render()},render:function(){var e=_.extend({__:l},this.model.toJSON());this.$el.html(this.template(e));var t=this.getMarkdownEditorView();return t&&t.destroy(),t=new r({el:this.$(".epic-editor-view")}),this.registerView("markdownEditorView",t),this.$("#panel-title").trigger("focus"),this},onCancel:function(){this.dialogView.close()},onCreate:function(){var e=this.getMarkdownEditorView();this.model.getViewerType()===c.ViewerType.TEXT&&this.model.setText(e.getMarkdown());var t=this.model.isInValid(),i=null;t?SumoApp.context.errorUtil.render(this.$("#error-div"),t):(i=new a({viewerType:this.model.getViewerType(),title:this.model.getTitle(),queryString:null,timeRange:null,detailLevel:2,height:this.model.getViewerType()===c.ViewerType.TEXT?5:1,width:5,autoParsingInfo:"intelligent"}),this.model.getViewerType()===c.ViewerType.TEXT&&i.getMonitorSettingsModel().setText(this.model.getText()),this.dashboardModel.createPanel(i).then((function(e){e.setProperties(e.getPropertiesModel().stringify())}),(function(){})),this.dialogView.close())}})}.apply(t,s))||(e.exports=n)},53934:function(e,t,i){var s,n;s=[i(60567),i(16471),i(4158),i(73714)],void 0===(n=function(e,t,i,s){"use strict";var n=t.DashboardsModule;return e.SumoViewModule.extend({events:{"click .update-panel-button":"onUpdate","click .cancel-link":"onCancel","keyup input":"onKeyUp"},template:_.template(i),text:null,getMarkdownEditorView:function(){return this.getView("markdownEditorView")},onKeyUp:function(e){13===e.keyCode&&this.onCreateWidget()},render:function(){var e=_.extend({__:n},{text:this.text});this.$el.html(this.template(e));var t=this.getMarkdownEditorView();return t&&t.destroy(),(t=new s({el:this.$(".epic-editor-view")})).load(),t.setMarkdown(e.text),this.registerView("markdownEditorView",t),this.$(".preview-switch").togglerButton(),this},onCancel:function(){this.dialogView.close()},onUpdate:function(){this.updateWidget()&&this.dialogView.close()},setDefaults:function(){this.text=this.model.getMonitorSettingsModel().getText()},updateWidget:function(){this.text=this.getMarkdownEditorView().getMarkdown();var e=this.isInvalid(),t=!1===e;return t?(this.model.getMonitorSettingsModel().setText(this.text),this.model.update()):SumoApp.context.errorUtil.render(this.$("#error-div"),e),t},isInvalid:function(){return!!SumoUtil.isStringEmpty(this.text)&&sprintf(n.error_no_input,"Text")},initialize:function(e){_.bindAll(this,"render"),this.dialogView=SumoApp.factory.createDialogView({el:"#edit-text-widget-view",plugin:{title:n.edit_text_panel_dialog_title,width:546,close:function(){this.destroy()}}}),this.$el=this.dialogView.$el,this.model=e,this.setDefaults(),this.render()}})}.apply(t,s))||(e.exports=n)},73714:function(e,t,i){var s,n;s=[i(60567),i(16471),i(30215),i(60567)],void 0===(n=function(e,t,i,s){"use strict";var n=e.DashboardLinkViewModule,a=e.ThemeUtilModule,r=t.DashboardsModule,o=e.SumoViewModule,l=s.ResultsViewerSettingsModel;return o.extend({events:{"click .link-dashboard":"insertDashboardLink","change .preview-switch":"previewText","click .online-help-link":"onShowHelp"},template:_.template(i),preview:!1,defaultOptions:{basePath:"css/",theme:{base:"epiceditor/themes/base/epiceditor.css",preview:"/sumo/light_theme.css",editor:"epiceditor/themes/editor/epic-light.css"},file:{autoSave:!1},button:!1,clientSideStorage:!1,autogrow:{minHeight:150,maxHeight:300,scroll:!1}},onShowHelp:function(e){e.preventDefault(),SumoApp.getAngularService("helpNavigationService").showHelp({id:e.currentTarget.name})},previewText:function(){this.preview=!this.preview,this.preview?(this.previewMarkdownResult(),$(".link-dashboard").hide()):(this.editMarkdown(),$(".link-dashboard").show())},getMarkdown:function(){return this.editor.save(),this.editor.exportFile()},setMarkdown:function(e){this.editor.importFile(null,e)},load:function(){this.editor.load();var e=a.getSelectedTheme();if(e){var t=this.editor.iframe;$(t.documentElement).find("#epiceditor-editor-frame").attr("data-sumo-test","markdown-textbox"),$(t.documentElement).find("#epiceditor-previewer-frame").css("background",e.getColor("widget-bg"))}},getEditorDomElement:function(){return this.editor.getElement("editor").body},previewMarkdownResult:function(){this.editor.preview()},editMarkdown:function(){this.editor.edit()},appendText:function(e){var t=this.getMarkdown();this.editor.importFile(null,t+e),this.editor.load()},insertDashboardLink:function(){var e=SumoApp.factory.createDialogView({el:"#create-dashboard-link",plugin:{title:r.link_dashboard_label,width:500,close:function(){this.destroy()}}}),t=this,i=new l;new n({el:$("#create-dashboard-link"),configurationJson:i,settingsModel:i.getCommonSettings(),bDashboardLink:!0,saveHandler:function(i){var s=SumoUtil.getDashboardURL(i.id,!1,"report",i.accessKey);t.appendText("  ["+i.text+"]("+s+")"),SumoApp.sumoEvents.trigger("dashboardLinkAdded"),e.close()},exitCallback:function(){e.close()}}).render()},render:function(){var e={__:r};this.$el.html(this.template(e)),this.$(".preview-switch").togglerButton()},initialize:function(e){if(this.render(),!e||!e.theme){var t=a.getSelectedTheme();t&&_(e).extend({container:this.$(".epic-editor").get(0),theme:{base:"epiceditor/themes/base/epiceditor.css",preview:"/sumo/"+t.getStylesheetName(),editor:"epiceditor/themes/editor/epic-light.css"}})}var i=_.extend({},this.defaultOptions,e);this.editor=new EpicEditor(i)},destroy:function(){this.$(".preview-switch").is(":empty")||this.$(".preview-switch").togglerButton("destroy");var e=this.editor;this.editor=null;var t=this;e.unload((function(){SumoUtil.destroyView(t)}))}})}.apply(t,s))||(e.exports=n)},75641:function(e,t,i){var s,n;s=[i(16471),i(89867),i(86795),i(22077),i(14792),i(19912),i(60567),i(63205),i(15195),i(58876)],void 0===(n=function(e,t,i,s,n,a,r,o,l,d){"use strict";const{SearchQueryUtil:c}=i;var u=r.DashboardConstantsModule,h=r.ThemeUtilModule,g=e.DashboardsModule,p=r.ResultsViewerConstants,m=r.ResultsViewerSettingsModel,f=r.ChartUtil,S=r.SumoModel,v=r.GetterSetterMixin,w=o.TimerangeUtil,b=t.keyedErrors,y="done",T="error";return S.extend({mixins:[s,n,v],defaults:{progress:0,fetching:!1,fields:null,optimizationStatus:u.OPTIMIZE_IT_STATUS.UNOPTIMIZED,queryState:null,backfillStatus:null,worldError:null,waitingForParameter:!1,dashboardModel:null,id:null,parentId:null,queryId:null,title:null,viewerType:"column",detailLevel:2,queryString:null,metricsQueries:null,timeRange:null,savedSearchId:null,x:0,y:0,width:0,height:0,properties:null,propertiesModel:null,monitorData:null,monitorDataRecords:null,warnings:null,errors:null,monitorDataUpdated:null,monitorStatusUpdated:null,lastMonitorData:null,isDisabled:!1,isSumoDisabled:!1,modelUpdated:null,modelLoaded:null,saveAsync:!0,timerangeUserEntered:null,updateChartAxis:null,mock:!1,settingsChanged:!1,selected:!1,error:!1,liveMode:!1,dataSource:void 0,parameters:null,autoParsingInfo:null},SUGGEST_OPTIMIZATION_TIME_RANGE:864e5,MAX_TITLE_LENGTH:80,setProperties:function(e){this.set({properties:e}),this.set({propertiesModel:this._createPropertiesModel(e)},{silent:!0})},_createPropertiesModel:function(e){var t=SumoUtil.isStringEmpty(e)?null:JSON.parse(e);return new m({},t)},getDetailLevel:function(){return p.ViewerDetailLevel.medium},isEditMode:function(){return this.getDashboardModel().isEditMode()},isMine:function(){return this.getDashboardModel().isMine()},canBeEdited:function(){return this.getDashboardModel().canBeEdited()},isSelected:function(){return this.getSelected()},isMetrics:function(){var e=this.getMetricsQueries();return e&&e.length>0},getValueFields:function(){var e=null,t=this.getMonitorData(),i=_.getPath(t,"records.fields");i&&(e=(new f).getValueFields(i));return e},getNumberOfSeries:function(){var e=0,t=this.getValueFields();return t&&(e=t.length),e},getMaxValue:function(){var e=0,t=_.getPath(this.getMonitorData(),"records.records"),i=_.getPath(this.getMonitorData(),"records.fields");return t&&i&&this.isNumberField(i[1])&&(e=_.chain(t).map((function(e){return parseFloat(e.values[1],10)})).max().value())>10&&(e=Math.round(e)),e},isTimeSeriesData:function(){var e=this.getMonitorData(),t=_.getPath(e,"records.fields");if(t){var i=(new f).getKeyFields(t);return 1===i.length&&"_timeslice"===i[0]}return!1},hasNumericData:function(){var e=this.getMonitorData(),t=_.getPath(e,"records.fields");return!!t&&_(t).some((function(e){return e.key&&("long"===e.type||"double"===e.type)}))},refreshMonitor:function(){this.getDashboardModel().queryPanel(this)},updateMonitorTitle:function(e){if((e=e.trim())&&e.length>this.MAX_TITLE_LENGTH)return SumoApp.userMessage.error(sprintf(g.iris_error_max_title_length_exceeded,this.MAX_TITLE_LENGTH.toString(),e.length.toString())),!1;if(!SumoUtil.isValidName(e))return SumoApp.userMessage.error(g.invalid_monitor_title),!1;var t=this,i=this.getTitle();this.setTitle(e);return this.update(!1,!1,!0).then(null,(function(){t.setTitle(i),t.triggerModelChange()})),!0},getTimeSliceInterval:function(){return(new w).getTimesliceInterval(this.getQueryString())},getTimeRangeDisplayText:function(){return(new w).getTimeRangeDisplayText(this.getTimeRange())},getTimeRangeDuration:function(){return(new w).getRelativeTimeRangeDuration(this.getTimeRange())},hasLayoutChanges:function(e){var t=this;return _.chain(e).keys().some((function(i){return e[i]!==t.get(i)})).value()},setLayoutAttributes:function(e){var t=this.hasLayoutChanges(e);return t&&this.set(e),t},getColorFamilyIndex:function(){return this.getDashboardModel().getColorFamilyIndex()},getViewerType:function(){return this.get("viewerType")?this.get("viewerType").toLowerCase():void 0},getColorIndexByMonitorId:function(){var e=h.getSelectedTheme().getChartColors(this.getViewerType());return this.getId()%e.length},getMonitorSettingsModel:function(){var e=this.getViewerType(),t=this.getPropertiesModel().getSettings(e);if(this.isBasicChartType()){var i=t.getColorIndex();null===i&&(i=this.getColorIndexByMonitorId(),t.setColorIndex(i))}return t},updateCommonSettingsModel:function(e){var t=this.getPropertiesModel();t.updateCommonSettings(e),this.setPropertiesModel(t)},updateMonitorSettingsModel:function(e){var t=this.getPropertiesModel(),i=this.getViewerType();t.updateSettings(i,e),this.setPropertiesModel(t)},isNewMonitorData:function(e){var t=this.getLastMonitorData();if(this.getMock()){if(t)return!1;e=l.getMockData(this.getTitle())}var i=!0,s=null;return t&&t.records&&e&&e.records&&(i=!1,_.isEqual(t.warnings,e.warnings)||(i=!0,$.isDebugEnabled()&&(s=this.textDiff.trimmedDiff(SumoUtil.pp(t.warnings),SumoUtil.pp(e.warnings)),$.log("Sumo.Ui.Dashboard.MonitorModel.isNewMonitorData - Monitor warning data has changed for %s:%s:\n%s",this.getId(),this.getTitle(),s))),i||_.isEqual(t.records.records,e.records.records)||(i=!0,$.isDebugEnabled()&&(s=this.textDiff.trimmedDiff(SumoUtil.pp(t.records.records),SumoUtil.pp(e.records.records)),$.log("Sumo.Ui.Dashboard.MonitorModel.isNewMonitorData - Monitor record data has changed for %s:%s:\n%s",this.getId(),this.getTitle(),s))),!i&&$.isDebugEnabled()&&$.log("Sumo.Ui.Dashboard.MonitorModel.isNewMonitorData - Monitor field and record data has NOT changed for %s:%s",this.getId(),this.getTitle())),i},shouldUpdateMonitorData:function(e){if(this.getMock())return!0;var t=!0;return this.getMonitorDisabled()||this.getMonitorSumoDisabled()||this._isMonitorDataEmpty(e)&&this._isMonitorRecentlyStarted(e)&&(this.isMonitorDataEmpty()||(t=!1)),t},setMonitorData:function(e){this.getMock()&&(e=l.getMockData(this.getTitle())),this.shouldUpdateMonitorData(e)&&(this.set({monitorData:e}),this.setLastMonitorData(e),e&&(this.setWarnings(e.warnings),this.setErrors(e.errors)),this.updateMonitorDataRecords(e),this.setMonitorDataUpdated($.now()))},prepareUserMessages:function(e,t){return _.isArray(e)&&!_.isEmpty(e)?_.chain(e).uniq().map((function(e){var i=e;if(_.isString(e))i={message:e,client:!1};else if(!_.has(e,"message")||!_.has(e,"client"))throw new SumoError("BasePanelModelMixin.prepareUserMessages. User messages need a message and a client attribute");return i.type=t,i})).value():null},setWarnings:function(e){this.set("warnings",this.prepareUserMessages(e,"warning"))},setErrors:function(e){this.set("errors",this.prepareUserMessages(e,"error"))},resetMonitorData:function(){this.set({monitorData:null,monitorDataRecords:null,lastMonitorData:null,warnings:null,errors:null,monitorDataUpdated:$.now()})},updateMonitorDataRecords:function(e){var t=null;if(e&&e.records){var i=e.records.records;if(i&&i.length>0){var s=_.getPath(e,"status.dataSource");if(this.setDataSource(s),"MetricsSource"===s)t=this.formatMetricsRecords(i);else{var n=this.getFieldsKeys(e.records.fields);t=[];var a=this;_.each(i,(function(e){var i={};t.push(i);for(var s=a._scrubRecordKeys(e.keys),r=n.length,o=0;o<r;o++){var l=_.indexOf(s,n[o]),d=l>-1?e.values[l]:null;i[n[o]]=_.isUndefined(d)?null:d}}))}}}this.setMonitorDataRecords(t)},formatMetricsRecords:function(e){return _.map(e,(function(e){return _.object(e.keys,e.values)}))},isMonitorDataEmpty:function(){return this._isMonitorDataEmpty(this.getMonitorData())},_isMonitorDataEmpty:function(e){if(_.isNull(e)||_.isEmpty(e))return!0;if(_.isArray(e.queryResults)&&!_.isEmpty(e.queryResults))return!1;var t=e.records;if(_.isUndefined(t)||_.isNull(t)||_.isEmpty(t))return!0;var i=t.records;return!!(_.isUndefined(i)||_.isNull(i)||_.isEmpty(i))},getMonitorWarnings:function(){var e=this.getMonitorData();if(e&&e.warnings&&e.warnings.length>0){var t=[];return _.each(e.warnings,(function(e){var i=e.search(/:\s+(com|org|net)\.\w+\.\w+/);i>0&&(e=e.substr(0,i)),t.push(e)}),this),t}return null},hasErrorsOrWarnings:function(){return this.hasWarnings()||this.hasErrors()},hasWarnings:function(){return!_.isNull(this.getWarnings())},hasErrors:function(){return!_.isNull(this.getErrors())},getMonitorDataFields:function(){var e=this.getMonitorData();return e&&e.records?e.records.fields:null},getFieldsKeys:function(e){var t=[];if(e){var i=!1;_.each(e,(function(e){i=!0,e.name?t.push(e.name):t.push("")})),i||t.push("")}return t},_scrubRecordKeys:function(e){var t=[];if(e)for(var i=0;i<e.length;i++){var s=e[i];s||(s=""),t.push(s)}return t},getMonitorStartTime:function(){var e=this.getMonitorData();return e?e.queryStartTime:null},getMonitorDataLastUpdated:function(){var e=this.getMonitorData();return e?e.lastUpdated:null},_isMonitorRecentlyStarted:function(e){return!!e&&e.recentlyStarted},getMonitorDisabled:function(){return this.get("isDisabled")},setMonitorDisabled:function(e){this.set({isDisabled:e})},getMonitorSumoDisabled:function(){return this.get("isSumoDisabled")},getActive:function(){return!this.getMonitorSumoDisabled()&&!this.getMonitorDisabled()},setMonitorSumoDisabled:function(e){this.set({isSumoDisabled:e})},isTimeSliceField:function(e){return e&&"_timeslice"===e.name},isNumberField:function(e){return e&&!this.isTimeSliceField(e)&&(e.type===p.RecordValueType.INT||e.type===p.RecordValueType.LONG||e.type===p.RecordValueType.DOUBLE)},getCalculatedTimeRange:function(){var e=this.getTimeRange();return(new w).getRelativeTimeRangeTimeStamps(e)},onUpdateChartAxis:function(){this.set({updateChartAxis:$.now()})},triggerModelChange:function(e){this.trigger("change:modelUpdated",e)},showInvalidTimeRangeError:function(e){SumoApp.userMessage.error(e,{displayType:SumoApp.userMessage.DisplayType.MSGBOX,title:g.panel_timerange_error_title,isHTML:!0})},updateQueryAndTimeRange:function(e,t){var i=this;this.setTimeRange(t),this.setQueryString(e),this.update().then((function(){i.trigger("change:timerangeChanged",i)}))},updateTimerange:function(e){var t=this.get("timerangeModel"),i=this.getDashboardModel(),s=t.getTimerangeStartError(),n=t.getTimerangeEndError();if(s||n){var a=s?g.invalid_start_time_range:g.invalid_end_time_range;return this.showInvalidTimeRangeError(sprintf(a,SumoUtil.encode(e))),!1}if(t.getTimerangeStart()>t.getTimerangeEnd())return this.showInvalidTimeRangeError(g.start_after_end_time),!1;new w;var r=t.getTimeRangeJSONString(),o=this.getTimeRange();if(this.set({timerangeUserEntered:e}),_.isEmpty(r))return this.showInvalidTimeRangeError(sprintf(g.timerange_parse_failed,e)),!1;this.setTimeRange(r);var l=this;return i.isInteractive()?this.triggerTimerangeChanged():this.update().then((function(e){var t=e.getMonitorData();t&&(t.resolvedTimeRange=null,t.queryStartTime=null,t.lastUpdated=null,e.setQueryId(null),l.triggerTimerangeChanged())}),(function(e){var t,s=e.keyedErrors;if(s){if(_.has(s,"cq.general_failure"))t=s["cq.general_failure"],SumoApp.userMessage.error(t.error);else if(_.has(s,"cq.monitor_not_found")||_.has(s,"content1:not_found"))SumoApp.userMessage.error(g.error_panel_not_found),i.reload(!0);else if(_.has(s,"report:content_exception"))i.reload(!0);else if(_.has(s,"cq.timerange_too_long")){t=s["cq.timerange_too_long"];var n=new w,a=t&&t.values&&t.values.max_timerange_millis?t.values.max_timerange_millis:6048e5,r=n.getTimeTextFromMillis(a,!1),d=[r.unitValue,r.unit].join(" ").toLowerCase();SumoApp.userMessage.error(sprintf(b["cq.timerange_too_long"],d))}}else SumoApp.userMessage.error(e.message);l.setTimeRange(o),l.triggerTimerangeChanged()})),!0},triggerShowEditTimerange:function(){var e=this.get("showEditTimerangeToggle");this.set({showEditTimerangeToggle:!e})},triggerTimerangeChanged:function(){this.trigger("change:timerangeChanged",this)},isCQMonitor:function(){var e=this.getViewerType();return e!==p.ViewerType.TITLE&&e!==p.ViewerType.TEXT},isStaticPanel:function(){var e=this.getViewerType();return e===p.ViewerType.TITLE||e===p.ViewerType.TEXT},isAbsolutePanel:function(){return this.getTimeRange().indexOf("absolute")>-1},isLiteralPanel:function(){return this.getTimeRange().indexOf("literal")>-1},isTextWidget:function(){return this.getViewerType()===p.ViewerType.TEXT},isBasicChartType:function(){var e=!1;switch(this.getViewerType()){case p.ViewerType.BAR_CHART:case p.ViewerType.COLUMN_CHART:case p.ViewerType.LINE_CHART:case p.ViewerType.AREA_CHART:e=!0}return e},getChartClass:function(){var e=this.getViewerType();return(this.isBasicChartType()||e===p.ViewerType.BOXPLOT_CHART||e===p.ViewerType.METRICS?"simple-chart":"")+" has-settings"},canEditSettings:function(){return this.getViewerType()!==p.ViewerType.TITLE},canShowInSearch:function(){return!this.isStaticPanel()},canEditText:function(){return this.isTextWidget()},canEditDashboardLink:function(){var e=this.getViewerType();return e!==p.ViewerType.TEXT&&e!==p.ViewerType.TITLE},canChangeType:function(){return!this.isStaticPanel()},canEditAxis:function(){return this.isBasicChartType()},canEditSeries:function(){var e=this.getViewerType();return!this.isMonitorDataEmpty()&&(e===p.ViewerType.COLUMN_CHART||e===p.ViewerType.LINE_CHART)},canEditLegend:function(){return this.isBasicChartType()||this.getViewerType()===p.ViewerType.PIE_CHART},canEditChartProperties:function(){var e=this.getViewerType();return this.isBasicChartType()||e===p.ViewerType.PIE_CHART||e===p.ViewerType.BOXPLOT_CHART},canEditChartBands:function(){var e=this.getViewerType();return e===p.ViewerType.COLUMN_CHART||e===p.ViewerType.BAR_CHART},canShowGridLines:function(){var e=this.getViewerType();if(!(e===p.ViewerType.LINE_CHART||e===p.ViewerType.AREA_CHART))return!1;var t=this.getValueFields();if(t){if(t.length>1)return!1;var i=this.getMonitorSettingsModel().getConfiguration();return!(_.chain(_.keys(i.seriesInfo)).map((function(e){return i.seriesInfo[e].yAxis})).without(void 0).uniq().value().length>1)}return!1},canShowChartOptions:function(){return!this.isStaticPanel()&&this.canEditChartProperties()},canUpdateSeriesInfo:function(){var e=this.getViewerType();return e===p.ViewerType.COLUMN_CHART||e===p.ViewerType.LINE_CHART},canEnable:function(){return!this.isStaticPanel()&&this.getMonitorDisabled()&&!this.getMonitorSumoDisabled()},canDisable:function(){return!this.isStaticPanel()&&!this.getMonitorDisabled()&&!this.getMonitorSumoDisabled()},isLive:function(){return!1},isInteractive:function(){return"InteractivePanelModel"===this.getModelName()},onMonitorDeleted:function(){return this},onMonitorUpdated:function(e,t){return this.triggerModelChange(t),this.getDashboardModel()&&this.getDashboardModel().monitorSaveFinished(this.getId()),this},getWidthByViewerType:function(e){return p.ViewerType.METRICS===e?u.GridsterDefaults.DEFAULT_METRIC_MONITOR_WIDTH:u.GridsterDefaults.DEFAULT_MONITOR_WIDTH},getHeightByViewerType:function(e){return p.ViewerType.METRICS===e?u.GridsterDefaults.DEFAULT_METRIC_MONITOR_HEIGHT:u.GridsterDefaults.DEFAULT_MONITOR_HEIGHT},create:function(e){var t=this.getDashboardModel(),i=this.getMonitorObject();i.width=i.width||this.getWidthByViewerType(i.viewerType),i.height=i.height||this.getHeightByViewerType(i.viewerType);var s=t.getAvailablePositions(i.width,i.height),n=_.reduce(s,(function(e,t){return!e||t.row<e.row?t:e}),null);return n?(i.x=n.column,i.y=n.row):(i.x=0,i.y=0),this.setX(i.x),this.setY(i.y),this._create(i,e).then(this.onMonitorCreated).catch(this.onMonitorCreationError)},setTimeRangeState:function(e){this.get("dashboardModel").saveTimerangeViewState(this.getId(),e)},getTimeRangeState:function(){return this.get("dashboardModel").loadTimerangeViewState(this.getId())},onInitialize:function(){_.bindAll(this,"update","onMonitorCreated","onMonitorUpdated","onMonitorDeleted","onMonitorCreationError"),this.getMock()||this.setMock(SumoApp.priv.hasFlagUIDashboardIrisDesignMock()),this.ajax=SumoApp.ajax,this.modelLoaded=$.now(),this.textDiff=new d;var e=this.getProperties(),t=this._createPropertiesModel(e);this.setPropertiesModel(t)},getAllStatusValues:function(){return{queryId:this.getQueryId(),state:this.getQueryState(),progress:this.getProgress(),backfill:this.getBackfillStatus(),error:this.getError(),worldError:this.getWorldError(),waitingForParameter:this.getWaitingForParameter()}},getComponent:function(){return"Reports"},getModelName:function(){return"InteractivePanelModel"},getURL:function(){return"https://service.sumologic.com/dashboard.html?f=12345&t=r"},isFiltered:function(){return!this.getDashboardModel().getFilters().getByLinkedPanelId(this.getId()).isEmpty()},hasAllParamValues:function(){var e=this.getParamFilterValues(),t=_.values(e);return _.compact(t).length===t.length},getFilterValues:function(){var e=this.getDashboardModel().getFilters();if(e){var t=e.getByLinkedPanelId(this.getId(),!0);return this.extractFilterValues(t)}},getParamFilterValues:function(e){var t=this.getDashboardModel().getFilters();if(t){var i=t.getParamFiltersByLinkedPanelId(this.getId());return!0===e?this.extractParamFilterValues(i):this.extractFilterValues(i,!0)}},extractParamFilterValues:function(e){return e?e.reduce((function(e,t){return e[t.getFieldName()]=t.getCurrentValue().value,e}),{}):e},extractFilterValues:function(e,t){return e.reduce((function(e,i){return!t&&i.getCurrentValue().isEmpty()||(e[i.getFieldName()]=i.getCurrentValue().toString()),e}),{})},canBeFiltered:function(){var e=this.getDashboardModel();return!this.isStaticPanel()&&!e.getIsPublic()},getParameterByLabel:function(e){var t=this.getParameters();return _.find(t,(function(t){return t.label===e}))},canLinkField:function(e){var t=this.getFields();return!(this.isStaticPanel()||_.isUndefined(_.find(t.models,(function(t){return t.getName().toLowerCase()===e.toLowerCase()})))&&_.isUndefined(this.getParameterByLabel(e)))},canDisplayProgress:function(){return!this.isStaticPanel()},canBeOptimized:function(){return!this.isStaticPanel()&&this.getOptimizationStatus()===u.OPTIMIZE_IT_STATUS.UNOPTIMIZED},isOptimized:function(){return this.getOptimizationStatus()===u.OPTIMIZE_IT_STATUS.OPTIMIZED},cantBeOptimized:function(){return!this.isStaticPanel()&&this.getOptimizationStatus()===u.OPTIMIZE_IT_STATUS.CANT_OPTIMIZE},suggestOptimize:function(){return this.canBeOptimized()&&this.getTimeRangeDuration()>=this.SUGGEST_OPTIMIZATION_TIME_RANGE},getQueryAttributes:function(){return{id:this.getId(),timeRange:this.getTimeRange(),sort:this.getY()*u.GridsterDefaults.DEFAULT_COLUMNS+this.getX(),cantOptimize:this.cantBeOptimized(),numDatapoints:this.getNumDatapointsPerSeries(),maxTotalDatapoints:this.getMaxTotalDatapoints()}},getNumDatapointsPerSeries:function(){var e=Math.floor(this.getDashboardModel().getMaxPointsPerPanel()/50);return Math.min(e,800)},getMaxTotalDatapoints:function(){return this.getDashboardModel().getMaxPointsPerPanel()},setPanelData:function(e){if(e&&!_.isEmpty(e)){if(!_.isEmpty(e.records))try{var t=new c,i=this.getQueryString(),s=t.getFormattedFieldMapping(i);t.formatFieldsAndResults(s,e.records.fields,e.records.records)}catch(t){_.isEmpty(e.warnings)&&this.logErrorMessage("setPanelData","Unable to update formatted fields for panel %s. Error %s",e.id,t)}var n=e.status,a=this.isStatusChanged(n);this.updateStatus(n),this.isNewMonitorData(e)||n.state===y||n.state===T||1===e.backfillStatus?this.setMonitorData(e):a&&this.setMonitorDataUpdated($.now())}},clearPanelData:function(){var e=this.getMonitorData();e&&(e.records=null),this.setMonitorDataRecords(null);var t=this.getFields();t&&t.reset([]);var i=this.getLastMonitorData();i&&(i.records=null)},getMonitorDataTimeRange:function(){var e=this.getMonitorData();return _.getPath(e,"status.searchedTimeRange")||null},getMonitorQueryTimeRange:function(){var e=this.getMonitorData();return _.getPath(e,"queryTimeRange")||null},isStatusChanged:function(e){return!_.isEqual({queryId:e.queryId,state:e.state,progress:e.progress,backfill:e.backfillStatus,error:e.error,worldError:e.worldError,waitingForParameter:e.waitingForParameter},this.getAllStatusValues())},updateStatus:function(e){this.setQueryId(e.queryId),this.setQueryState(e.state),this.setProgress(e.progress),this.setBackfillStatus(e.backfillStatus),this.setWorldError(e.worldError),this.setWaitingForParameter(e.waitingForParameter),this.setFetching("in_progress"===e.state),this.setError(e.error),this.trigger("progress",e.progress,e.state)},isMonitorRecentlyStarted:function(){return!this.isStaticPanel()&&this.getProgress()<100&&this.getQueryState()!==y&&this.getQueryState()!==T},getMonitorObject:function(){var e=u.getPersistedPanelAttributes(),t=this,i={};return _.each(e,(function(e){i[e]=t.get(e)})),i.properties=this.getPropertiesModel().stringify(),i},getServerLikeMonitorObject:function(){var e=u.getServerMonitorAttributes(),t=this,i={};return _.each(e,(function(e){i[e]=t.get(e)})),i.optimizationStatus=this.getOptimizationStatus(),i.properties=this.getPropertiesModel().stringify(),i},validateQueryAndTimeRange:function(){var e={queryString:this.getQueryString(),timeRange:this.getTimeRange(),parameters:this.getParameters()},t=SumoApp.ajax.Endpoints.V1_PANEL_VALIDATE;return this.createPromise({endpoint:t,errorCode:"validate_monitor",type:"POST",data:e}).then((function(){return this}))},_create:function(e,t){var i=t?SumoApp.ajax.EndpointFormats.V1_INTERACTIVE_PANEL_CREATE_WITH_FILTER_MERGE:SumoApp.ajax.EndpointFormats.V1_INTERACTIVE_PANEL_CREATE;return this.createPromise({endpoint:sprintf(i,this.getParentId()),errorCode:"create_monitor",type:"POST",data:e})},onMonitorCreated:function(e){return e&&this.setId(e.panelId),this},onMonitorCreationError:function(e){var t=SumoApp.getAngularService("createDashboardPanelActionService"),i=SumoApp.getAngularService("$q"),s=SumoApp.getAngularService("i18n"),n=SumoApp.getAngularService("$mdToast"),a=e.keyedErrors[t.DUPLICATE_FILTER_ERROR_KEY],r=this;if(a)return SumoUtil.unblockPage(),t.showFilterConflictDialog(_.keys(a.values)).then((function(){return r.create(!0)})).catch((function(){return e.userRejected=!0,i.reject(e)}));var o=n.error().textContent(s.get("search.dashboard.error"));return n.show(o),i.reject(e)},deleteMonitor:function(){return this.createPromise({endpoint:sprintf(SumoApp.ajax.EndpointFormats.V1_INTERACTIVE_PANEL_DELETE,this.getParentId(),this.getId()),errorCode:"delete_monitor",type:"DELETE"}).then(this.onMonitorDeleted)},updatePanel:function(e,t){this.getDashboardModel()&&this.getDashboardModel().monitorSaveBegin(this.getId());var i=this.getMonitorObject(),s=t?SumoApp.ajax.EndpointFormats.V1_INTERACTIVE_PANEL_UPDATE_FILTER_MERGE:SumoApp.ajax.EndpointFormats.V1_INTERACTIVE_PANEL_UPDATE,n=this.createPromise({endpoint:sprintf(s,this.getParentId(),this.getId()),errorCode:"update_monitor",type:"PUT",data:i}),a=this;return n.then((function(t){return a.onMonitorUpdated(t,e)}))},_update:function(e,t){var i=this.getDashboardModel();return this.updatePanel(e,t).then((function(e){return i?i.postDashboardUpdate(e):e}))},update:function(e,t,i){return t?this._update(e,i):this.getDashboardModel().beforeUpdate().then(function(){return this._update(e,i)}.bind(this))},enable:function(){this.setIsDisabled(!1),this.update().then((function(e){e.triggerTimerangeChanged()}))},disable:function(){this.setIsDisabled(!0),this.update()},initialize:function(){this.onInitialize(),this._initFields(this.getFields())}})}.apply(t,s))||(e.exports=n)},62317:function(e,t,i){var s,n;s=[i(60567)],void 0===(n=function(e){"use strict";var t=e.PaginationMixinModule,i=e.SumoModel,s=e.GetterSetterMixin;return i.extend({mixins:[t,s],defaults:{recordCount:0},_calculatePageCount:function(){return Math.ceil(this.getRecordCount()/this.getPageSize())},setRecordCount:function(e){this.set("recordCount",e),this.setPageCount(this._calculatePageCount()),this.getPage()>=this.getPageCount()&&this.set({page:this.getPageCount()-1},{silent:!0})},initialize:function(){this.getRecordCount()>0&&this.setPageCount(this._calculatePageCount())}})}.apply(t,s))||(e.exports=n)},11692:function(e,t,i){var s,n;s=[i(57931),i(16471),i(60567),i(53934)],void 0===(n=function(e,t,i,s){"use strict";i.MenuItemModelModule;var n=i.ResultsViewerSettingsHandlerModule,a=i.SingleValueViewerUtilModule,r=(t.DashboardsModule,i.ResultsViewerConstants),o=i.ChartUtil;return Backbone.View.extend({menuItems:[{name:"showinsearch",showFontIcon:!1},{name:"changetype",showFontIcon:!1},{name:"editaxis",showFontIcon:!1},{name:"editseries",showFontIcon:!1},{name:"editlegend",showFontIcon:!1},{name:"editchartproperties",showFontIcon:!1},{name:"edittableproperties",showFontIcon:!1},{name:"editsvvproperties",showFontIcon:!1},{name:"editsvvcolorsbyvalue",showFontIcon:!1},{name:"editsvvlabels",showFontIcon:!1},{name:"editchartbands",showFontIcon:!1},{name:"showgridlines",showFontIcon:!1},{name:"sep-main-1",showFontIcon:!1,isSeparator:!0},{name:"editjson",showFontIcon:!1},{name:"editdashboardlink",showFontIcon:!1},{name:"editWidgetText",showFontIcon:!1},{name:"sep-main-2",showFontIcon:!1,isSeparator:!0},{name:"sep-main-4",showFontIcon:!1,isSeparator:!0},{name:"showchartoptions",showFontIcon:!1},{name:"sep-main-5",showFontIcon:!1,isSeparator:!0},{name:"enable",showFontIcon:!1},{name:"disable",showFontIcon:!1}],events:{"click #monitor-mi-showinsearch":"showInSearch","click #monitor-mi-changetype":"changeMonitorType","click #monitor-mi-enable":"enableMonitor","click #monitor-mi-disable":"disableMonitor","click #monitor-mi-editaxis":"editAxisSettings","click #monitor-mi-editseries":"editSeriesSettings","click #monitor-mi-editlegend":"editLegendSettings","click #monitor-mi-editjson":"editJSONProperties","click #monitor-mi-editdashboardlink":"editDashboardLink","click #monitor-mi-editWidgetText":"editWidgetText","click #monitor-mi-editchartproperties":"editChartProperties","click #monitor-mi-editchartbands":"editChartBands","click #monitor-mi-showgridlines":"showGridLines","click #monitor-mi-edittableproperties":"editTableProperties","click #monitor-mi-editsvvproperties":"editSingleValueViewerProperties","click #monitor-mi-editsvvcolorsbyvalue":"editSingleValueViewerColorsByValueRange","click #monitor-mi-editsvvlabels":"editSingleValueViewerLabels","click #monitor-mi-showchartoptions":"showChartOptions"},settingsHandler:null,showDebugMenuItems:!1,getI18n:function(){return e},showInSearch:function(e){this.options.drilldownHandler(e)},changeMonitorType:function(e){var t=this.model.getViewerType(),i=this.model.getMonitorSettingsModel();this.settingsHandler.showChangeTypeDialog(this.options.context,t,i,this.updateMonitorViewerType)},enableMonitor:function(e){this.model.enable()},disableMonitor:function(e){this.model.disable()},editLegendSettings:function(e){var t=this.model.getMonitorSettingsModel();this.settingsHandler.showChangeLegendDialog(this.options.context,t,this.updateSettings),this.updateSettings()},editAxisSettings:function(e){var t=this.model.getMonitorSettingsModel();this.settingsHandler.showChangeAxisDialog(this.options.context,t,this.updateSettings)},isXAxisNumeric:function(){var e=!1,t=this.model.getMonitorData();if(t&&t.records&&t.records.fields){var i=t.records.fields;_.each(i,(function(t){!0===t.key&&("long"!==t.type&&"double"!==t.type||(e=!0))}))}return e},showGridLines:function(e){var t=this.model.getMonitorSettingsModel(),i=this.isXAxisNumeric(),s=this.isTimeSeriesData();this.settingsHandler.showGridLinesDialog(SumoApp.context,t,i,s,this.updateSettingsGridLines)},updateSettingsGridLines:function(e){var t=this.options.monitorContentContainerId;if(t){var i=$(t);i.length>0&&i.trigger("updateChartAxis",e)}},editSeriesSettings:function(e){var t=this.model.getMonitorSettingsModel(),i=null,s=this.model.getMonitorData();s&&s.records&&s.records.fields&&(i=(new o).getValueFields(s.records.fields));this.settingsHandler.showChangeSeriesDialog(this.options.context,t,i,this.updateSettings)},editJSONProperties:function(e){var t=this;this.settingsHandler.showJsonEditor(this.options.context,this.model.getMonitorSettingsModel().getConfiguration(),(function(e){t.model.updateMonitorSettingsModel(e),t.model.update()}))},editDashboardLink:function(e){var t=this,i=this.model.getPropertiesModel();this.settingsHandler.showDashboardLinkEditor(this.model.getPropertiesModel(),i,(function(){t.model.update()}))},editChartProperties:function(e){var t=this.model.getViewerType();if(t!==r.ViewerType.PIE_CHART)if(t!==r.ViewerType.BOXPLOT_CHART){var i=this.model.getColorFamilyIndex();i||(i=0);var s=this.model.getMonitorSettingsModel();this.settingsHandler.showChartPropertiesDialog(this.options.context,i,s,this.updateSettings)}else this.editBoxPlotChartProperties(e);else this.editPieChartProperties(e)},editPieChartProperties:function(e){var t=this.model.getColorFamilyIndex();t||(t=0);var i=this.model.getMonitorSettingsModel();this.settingsHandler.showPieChartPropertiesDialog(this.options.context,t,i,this.updateSettings)},editBoxPlotChartProperties:function(e){var t=this.model.getMonitorSettingsModel();this.settingsHandler.showBoxPlotChartPropertiesDialog(this.options.context,t,this.updateSettings)},editChartBands:function(e){var t=this.model.getMonitorSettingsModel();this.settingsHandler.showChartBandsEditorDialog(this.options.context,t,this.updateSettings)},editTableProperties:function(e){var t=this.model.getMonitorSettingsModel();this.settingsHandler.showTablePropertiesDialog(this.options.context,t,!0,this.updateSettings)},editSingleValueViewerProperties:function(e){var t=this.model.getMonitorSettingsModel(),i=(new a).getFirstValueFieldType(this.model.getMonitorDataFields());this.settingsHandler.showSingleValueViewerPropertiesDialog(this.options.context,t,i,this.updateSettings)},editSingleValueViewerColorsByValueRange:function(e){var t=this.model.getMonitorSettingsModel();this.settingsHandler.showSingleValueViewerColorsByValueRangeDialog(this.options.context,t,this.updateSettings)},editSingleValueViewerLabels:function(e){var t=this.model.getMonitorSettingsModel();this.settingsHandler.showSingleValueViewerLabelsEditorDialog(this.options.context,t,this.updateSettings)},editWidgetText:function(e){return new s(this.model)},showChartOptions:function(){var e=this.options.monitorContentContainerId;if(e){var t=$(e);t.length>0&&t.trigger("showChartOptions")}},updateSettings:function(e){e||(e=this.model.getMonitorSettingsModel()),this.model.updateMonitorSettingsModel(e),this.model.update()},updateMonitorViewerType:function(e){this.model.setViewerType(e),this.model.update()},isTimeSeriesData:function(){var e=this.model.getMonitorData();if(e&&e.records&&e.records.fields){var t=e.records.fields;if(t){var i=(new o).getKeyFields(t);return!(i.length>1)&&"_timeslice"==i[0]}}return!1},getSubMenuWidth:function(){return 85},getSubMenuHeight:function(){return 72},destroy:function(){this.stopListening(),SumoUtil.destroyView(this)},initialize:function(){_.bindAll(this,"render","destroy","toggleItems","getSubMenuWidth","getSubMenuHeight","updateMonitorViewerType","updateSettings","updateSettingsGridLines"),this.settingsHandler=new n},isDebugMode:function(){return this.showDebugMenuItems},toggleItems:function(e,t){this.showDebugMenuItems=e.shiftKey;var i=this.model.getViewerType(),s=[];if(this.model.canShowInSearch()||s.push("showinsearch"),this.model.canChangeType()||s.push("changetype"),this.model.canEditAxis()||s.push("editaxis"),this.model.canEditSeries()||s.push("editseries"),this.model.canEditLegend()||s.push("editlegend"),this.model.canEditChartProperties()||s.push("editchartproperties"),this.model.canEditChartBands()||s.push("editchartbands"),this.model.canShowGridLines()||s.push("showgridlines"),this.model.canEditDashboardLink()||s.push("editdashboardlink"),i!==r.ViewerType.TABLE&&s.push("edittableproperties"),this.model.canEditText()||s.push("editWidgetText"),i!==r.ViewerType.SINGLE_VALUE_VIEWER)s.push("editsvvproperties"),s.push("editsvvcolorsbyvalue"),s.push("editsvvlabels");else{var n=new a;n.isFirstValueFieldNumber(this.model.getMonitorDataFields())||s.push("editsvvcolorsbyvalue"),n.isFirstValueFieldString(this.model.getMonitorDataFields())&&s.push("editsvvlabels")}13===s.length&&s.push("sep-main-1"),this.isDebugMode()||(s.push("editjson"),this.model.canShowChartOptions()||(s.push("sep-main-4"),s.push("showchartoptions"),s.push("sep-main-5"))),this.model.canDisable()||s.push("disable"),this.model.canEnable()||s.push("enable"),t.hideMenuItemsByName(s)},render:function(){return this}})}.apply(t,s))||(e.exports=n)},37024:function(e,t,i){var s,n;s=[i(60567),i(16471),i(83030),i(3459)],void 0===(n=function(e,t,i,s){"use strict";var n=t.DashboardsModule;return e.SumoViewModule.extend({mixins:[s],events:{"click #monitor-mi-showinsearch":"showInSearch","click .close-link,.cancel-button":"close"},isHybridLiveMode:null,template:_.template(i),getDialogView:function(){return this.getView("dialogView")},showInSearch:function(e,t){this.onDrilldown(e,t),this.close()},close:function(){this.getDialogView().close()},getWarnings:function(){var e=[];return this.model.hasErrors()&&(e=_.uniq(this.model.getErrors())),this.model.hasWarnings()&&(e=e.concat(this.model.getWarnings())),this.isHybridLiveMode&&!_.isEmpty(e)&&_.contains(e,n.slow_query_paused)&&(e=_.without(e,n.slow_query_paused)),e},getInfo:function(){var e=SumoApp.dateUtil.formatDateTime(),t=this.model.getTimeRangeDuration(),i="",s=this.model.getMonitorStartTime();s&&(i=e(s));var n="",a=this.model.getMonitorDataLastUpdated();if(a){a>=13254048e5?n=e(a):a=null}var r=null;s&&(r=a&&a>s?a-s:$.now()-s)<10&&(r=10),_.isNull(r)&&(r=10);var o=null,l=null;this.isHybridLiveMode||(_.isFunction(this.model.getProgress)&&this.model.getProgress()?l=(o=""+this.model.getProgress())+"%":(o=t&&r?r<t?(r/t).toFixed(2):1:0)<1&&(l=(100*o).toFixed(0)+"%"));var d=this.model.getMonitorDataTimeRange(),c=null,u=null;if(d){var h=d.startMillis,g=d.endMillis;h&&g&&(c=e(h),u=e(g))}return{timeRangeDisplayText:this.model.getTimeRangeDisplayText(),timeRangeDuration:t,startTime:i,lastUpdate:n,monitorProgressPct:o,monitorProgress:l,timeRangeStart:c,timeRangeEnd:u,queryId:this.model.getQueryId(),isPublic:this.model.getDashboardModel().getIsPublic()}},initialize:function(){this.isHybridLiveMode=this.options.isHybridLiveMode;var e=this,t=SumoApp.factory.createDialogView({el:"#panel-status-view",plugin:{title:this.model.hasWarnings()?n.warnings:n.info,width:448,close:function(){e.destroy()}}});this.registerView("dialogView",t),this.$el=t.$el,this.render()},render:function(){var e=this.getInfo(),t=this.getWarnings(),i=this.model.isMetrics(),s=_.extend({__:n,errorAndWarnings:t,isMetrics:i,idLabel:this.isHybridLiveMode?n.session_id:n.monitor_timerange_tooltip_query_id},this.model.toJSON(),e);return this.$el.html(this.template(s)),this}})}.apply(t,s))||(e.exports=n)},91204:function(e,t,i){var s,n;s=[i(60567),i(16471),i(54497),i(62317),i(50963),i(60567)],void 0===(n=function(e,t,i,s,n,a){"use strict";var r=a.TooltipsterViewModule,o=t.DashboardsModule,l=e.SumoViewModule,d=a.ResultsViewerConstants;return l.extend({events:{"click .first ":"firstPage","click .last ":"lastPage","click .prev ":"prevPage","click .next ":"nextPage"},template:_.template(i),cellTemplate:_.template('<td class="column <%attr= cssClass %>" title="<%attr= title %>"><%= value %></td>'),cellLinkTemplate:_.template('<td class="column <%attr= cssClass %>" title="<%attr= title %>"><a class="no-drilldown-link" href="<%attr= title %>" target="_blank" rel="noopener"><%= value %></a></td>'),headerTemplate:_.template('<td class="column <%attr= cssClass %>"><%= name %></td>'),maxColumns:99,maxRowsDetailView:null,minLenToEllipse:20,recordsCount:0,delayedEventHandler:null,$style:null,isPreview:!1,paginationModel:null,onDrilldownTableClick:function(e){e.stopPropagation(),$(e.target).hasClass("no-drilldown-link")||this.options.clickHandler&&(this.delayedEventHandler&&this.delayedEventHandler.cancel(),this.delayedEventHandler=$.later(250,this,this.options.clickHandler,e))},processFields:function(e){var t,i,s,n,a,r,o=[],l=["<thead><tr>"],d=Math.min(e.length,this.maxColumns),c=this.shouldTruncate(),u={formattedFields:o,html:""};n=this.getIndexField(),o.push(n),l.push(this.headerTemplate(n));for(var h=0;h<d;h++)r=h+1,t=e[h],n={isNumber:i=this.model.isNumberField(t),isTimeSlice:s=this.model.isTimeSliceField(t),cssClass:(i?"num":"")+(!i&&c?"truncate":"")+" col_"+r,name:a=s?"Time":t.name,nameLen:a.length,maxLen:0,totalLen:0,avgLen:0},o.push(n),l.push(this.headerTemplate(n));return l.push("</tr></thead>"),u.html=l.join(""),u},getIndexField:function(){return{isNumber:!0,isTimeSlice:!1,cssClass:"num col_0",name:"#",nameLen:"#".length,maxLen:0,totalLen:0,avgLen:0}},processRecords:function(e,t){var i,s,a,r=[],o=["<tbody>"],l={formattedRecords:r,html:""},d=Math.min(e.length,this.maxRowsDetailView),c=Math.min(t.length,this.maxColumns),u=0,h=0;_.isNull(this.paginationModel)||(u=this.paginationModel.getPage(),h=this.paginationModel.getPageSize());for(var g=0;g<d;g++){i=e[g],s={},a=["<tr>"];for(var p=0;p<c;p++){var m,f,S,v,w;if(f=(m=t[p]).isTimeSlice?"_timeslice":m.name,S=0==p?(u*h+(g+1)).toString():i[f]||"",v=this.formatFieldValue(m,S),w=n.isMarkdownUrl(S),0!=p&&(s[f]=v),SumoUtil.isUrl(S)||w){if(w){var b=SumoUtil.parseMarkDownUrl(S);v=b[0],S=0===b[1].toLowerCase().indexOf("www")?"http://"+b[1]:b[1]}a.push(this.cellLinkTemplate({cssClass:m.cssClass,title:S,value:v}))}else a.push(this.cellTemplate({cssClass:m.cssClass,title:S,value:v}));m.maxLen=Math.max(m.maxLen,v.length),m.totalLen+=v.length}a.push("</tr>"),o.push(a.join("")),r.push(s)}return o.push("</tbody>"),l.html=o.join(""),l},calculateFieldWidths:function(e,t){for(var i,s=this,n=_.chain(e).each((function(e){e.avgLen=Math.max(e.totalLen/t,e.nameLen,e.isNumber?0:s.minLenToEllipse)})).filter((function(e){return!e.isNumber})).reduce((function(e,t){return e+t.avgLen}),0).value(),a=e.length,r=0;r<a;r++)(i=e[r]).isNumber?i.pctWidth=1:i.pctWidth=parseInt(100*i.avgLen/Math.max(n,1))},setTableStyles:function(e){var t,i,s=["<style>"],n=e.length,a="#"+this.getTableId(),r=a+" {width:100%;";this.isPreview?r+="}":r+="cursor:text;}",s.push(r);var o=_.template(a+" .col_<%= j %> { width: calc(<%= w %>% - <%= d %>px); }");s.push(a+" .col_0 { width: 10px;}");for(var l=10/(e.length-1),d=1;d<n;d++)i=e[d],s.push(o({j:d,w:i.pctWidth,d:l}));s.push("</style>"),t=s.join(""),this.$style?this.$style.html(t):this.$tableStyle=$(t).appendTo($("head"))},truncateColumns:function(){if(this.shouldTruncate()){var e=this.isEllipseInMiddle(),t=this.$("td.truncate");e?this.addMiddleEllipsis(t):t.length>0&&this.addEllipsis(t)}},addMiddleEllipsis:function(e){for(var t=0;t<e.length;t++){var i=e[t];if("TBODY"===i.parentNode.parentNode.tagName){var s=i.textContent;i.textContent="";var n=document.createElement("span");n.classList.add("showStart"),n.textContent=s,i.append(n);var a=.85*i.offsetWidth;if(n.offsetWidth>a){var r=s.length/2;n.textContent=s.slice(0,r),n.classList.add("middleEllipsis");var o=document.createElement("span");o.classList.add("showEnd"),o.textContent=s.slice(r,s.length),i.append(o)}}}},addEllipsis:function(e){for(var t=0;t<e.length;t++){var i=e[t];if("TBODY"===i.parentNode.parentNode.tagName){var s=i.textContent;i.textContent="";var n=document.createElement("span");n.classList.add("endEllipsis"),n.textContent=s,i.append(n)}}},onMonitorDataChange:function(){var e=this.$(".display-table");0===e.length&&(this.render(),e=this.$(".display-table"));var t,i,s,n,a,r,o=this.model.getMonitorDataFields(),l=this.prepareRecords();if(!this.model.getMonitorDisabled()&&!this.model.isMonitorDataEmpty()){s=(t=this.processFields(o)).formattedFields,r=t.html,n=(i=this.processRecords(l,s)).formattedRecords,a=i.html;var d=this.getFontSizeClass();e.hasClass(d)||e.removeClass("smallFont mediumFont largeFont").addClass(d),this.calculateFieldWidths(s,n.length),this.setTableStyles(s),e.find("thead").replaceWith(r),e.find("tbody").replaceWith(a),this.truncateColumns()}},prepareRecords:function(){var e=this.model.getMonitorDataRecords(),t=e,i=_.isArray(e)?e.length:0,n=!1,a=!1;if(i>0)if(a=this.shouldPaginate(i),n=!_.isNull(this.paginationModel),a){n?this.paginationModel.setRecordCount(i):(this.paginationModel=new s({pageSize:100,recordCount:i}),this.listenTo(this.paginationModel,"change:page",this.changePage),this.listenTo(this.paginationModel,"change:pageCount",this.renderPagination));var r=this.paginationModel.getOffset();t=e.slice(r,r+this.paginationModel.getPageSize()),this.renderPagination()}else n&&(this.stopListening(this.paginationModel),this.paginationModel.destroy(),this.paginationModel=null,this.renderPagination());return t},renderPagination:function(){if(!this.isPreview){var e=this.$(".pagination"),t=this.getView("firstPageTooltip"),i=this.getView("prevPageTooltip"),s=this.getView("nextPageTooltip"),n=this.getView("lastPageTooltip");if(_.isNull(this.paginationModel))e.hide(),this.$el.parent().removeClass("paginate-table"),t&&this.destroySubView("firstPageTooltip"),i&&this.destroySubView("prevPageTooltip"),s&&this.destroySubView("nextPageTooltip"),n&&this.destroySubView("lastPageTooltip");else{var a=this.paginationModel.getPage(),l=this.paginationModel.getPageCount(),d=a>0,c=a<l-1;e.show().find(".pagination__page").text(a+1).end().find(".count").text(l),d?(t||this.registerView("firstPageTooltip",new r({el:e.find(".first"),content:o.pagination_first,size:"auto",position:"bottom",theme:"quicktip"})),i||this.registerView("prevPageTooltip",new r({el:e.find(".prev"),content:o.pagination_prev,size:"auto",position:"bottom",theme:"quicktip"}))):(t&&this.destroySubView("firstPageTooltip"),i&&this.destroySubView("prevPageTooltip")),c?(s||this.registerView("nextPageTooltip",new r({el:e.find(".next"),content:o.pagination_next,size:"auto",position:"bottom",theme:"quicktip"})),n||this.registerView("lastPageTooltip",new r({el:e.find(".last"),content:o.pagination_last,size:"auto",position:"bottom",theme:"quicktip"}))):(s&&this.destroySubView("nextPageTooltip"),n&&this.destroySubView("lastPageTooltip")),e.find(".back").prop("disabled",!d).toggleClass("disabled",!d),e.find(".forth").prop("disabled",!c).toggleClass("disabled",!c),this.$el.parent().addClass("paginate-table")}}},changePage:function(){this.renderPagination(),this.onMonitorDataChange()},shouldPaginate:function(e){return e>100},firstPage:function(){this.paginationModel.firstPage()},lastPage:function(){this.paginationModel.lastPage()},nextPage:function(){this.paginationModel.nextPage()},prevPage:function(){this.paginationModel.previousPage()},getFontSizeClass:function(){return this.model.getMonitorSettingsModel().getFontSize()+"Font"},shouldTruncate:function(){var e=this.model.getMonitorSettingsModel().getTextTruncationMode();return e&&e!==d.TextTruncationMode.NONE},isEllipseInMiddle:function(){var e=this.model.getMonitorSettingsModel().getTextTruncationMode();return e&&e===d.TextTruncationMode.MIDDLE},formatFieldValue:function(e,t){var i="";if(_.isUndefined(t)||_.isNull(t))return i;if(e.isTimeSlice){var s=SumoApp.dateUtil.formatDateTime(),n=1*t;i=isNaN(n)?"-":s(n)}else e.isNumber?SumoUtil.isNumber(t)&&(i=SumoUtil.formatDouble(t,5)):i=t;return i},resize:function(){this.truncateColumns()},getTableId:function(){return"panel-table-"+this.model.id},initialize:function(){_.bindAll(this,"render","resize","onMonitorDataChange","onRenderComplete"),this.maxRowsDetailView=SumoApp.priv.getDynamicProperty("ui_dashboard_results_table_monitor_limit"),this.render()},render:function(){return this.isPreview=!!this.$el.parents("#preview").length,this.model.isMonitorDataEmpty()||this.$el.html(this.template({tableId:this.getTableId()})),this.onRenderComplete(),this},onRenderComplete:function(){SumoApp.getAngularService("panelRenderNotificationService").notify(this.model.getId())},destroy:function(){this.$style&&this.$style.remove(),_.isNull(this.paginationModel)||this.paginationModel.destroy(),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},21196:function(e,t,i){var s,n;s=[i(16471),i(12557),i(55570),i(68500),i(11692),i(73482),i(60567),i(37024),i(3459),i(12364),i(63205)],void 0===(n=function(e,t,i,s,n,a,r,o,l,d,c){"use strict";var u=r.DashboardConstantsModule,h=r.TooltipsterViewModule,g=e.DashboardsModule,p=r.SumoViewModule,m=(r.ResultsViewerConstants,r.TimerangeInputViewModule),f=r.TimerangeInputModelModule,S=c.legacyJqueryEditable,v=".panel-select-highlight",w=".panel-view-inner",b=SumoUtil.getCSSName;return p.extend({mixins:[l,i],events:function(){var e={"click .drilldown-to-search":"onDrilldown","click .maximize-widget":"onMaximizeMonitor","click .userReenableMonitor":"onUserReenableMonitor","click .widget-status":"showStatus","click .widget-drilldown":"onDrilldown","click .widget-menu":"openPanelMenu","click .widget-refresh":"refreshPanel","click .delete-icon":"deleteMonitor","mouseenter .ui-dragging-handle,.title-dragging-handle":"highlightDragHandle","mouseleave .ui-dragging-handle,.title-dragging-handle":"highlightDragHandle","click .panel-settings-gear":"showSettingsDialog","click .filter-status":"showPanelFilters"};return e["resetMinorTickInterval "+u.CSS.PANEL_VIEW]="onResetMinorTickInterval",e["chartRendered "+u.CSS.PANEL_VIEW]="onChartRendered",e},template:_.template(t),lastDrilldownTs:0,showLastDrilldownSearchSuccessMsg:!1,minTimeBetweenDrilldowns:2e3,bShowTimeRangeText:!0,onHeader:!1,onSettingsMenu:!1,isShowingError:!1,titleEditorOn:!1,isHybridLiveMode:!1,MAX_INLINE_EDIT_WIDTH:200,DEFAULT_INLINE_EDIT_WIDTH:88,queryManager:null,getViewName:function(){return"PanelView"},getComponent:function(){return"Dashboard"},setIsHybridLiveMode:function(e){this.isHybridLiveMode=e;var t=this.getView("timerangeView");if(t){t.enable(!e);var i=!(this.getTimeRangeView().isLocked()||e);this.$(".widget-time-range-editable").editableIndicator("option","enabled",i)}},showPanelFilters:function(){this.model.isSelected()||this.getDashboardChannel().command(this.DASHBOARD_CHANNEL_COMMANDS.SHOW_FILTERS,this.model)},turnOnFiltersIcon:function(){this.$(".filter-status").toggleClass("filtered",!0)},updateFiltersIcon:function(){this.$(".filter-status").toggleClass("filtered",this.model.isFiltered())},turnOnFiltersHighlight:function(){this.model.setSelected(!0),this.$(w).addClass(b(v))},turnOffFiltersHighlight:function(){this.model.setSelected(!1),this.$(w).removeClass(b(v))},showSettingsDialog:function(e){var t=this.model;if(!t.isMetrics())return new a({model:t,advancedMode:e&&e.shiftKey});this.onDrilldown(e,!0)},highlightDragHandle:function(e){this.$(".panel-view-inner").toggleClass("panel-drag-highlight",e&&"mouseenter"===e.type)},showStatus:function(){new o({model:this.model,isHybridLiveMode:this.isHybridLiveMode})},refreshPanel:function(e){this.model.setFetching(!1),this.model.refreshMonitor()},updateFetching:function(){var e=this.model.getId();$("#"+e).find(".widget-refresh").toggleClass("fa-spin",this.model.getFetching())},openPanelMenu:function(e){var t=this,i=this.getPanelMenuModels();this.menuService.showMenu(e,i).then((function(e){t.handlePanelMenuClick(e.itemType,e.event)}))},getPanelMenuModels:function(){var e=[];return this.model.isStaticPanel()||e.push(d.PANEL_MENU_MODELS.FOCUS),e.push(d.PANEL_MENU_MODELS.SETTINGS),e.push(d.PANEL_MENU_MODELS.INFO),e.push(d.PANEL_MENU_MODELS.DELETE),e},handlePanelMenuClick:function(e,t){switch(e){case d.PANEL_MENU_ACTIONS.FOCUS:this.onMaximizeMonitor();break;case d.PANEL_MENU_ACTIONS.SETTINGS:this.showSettingsDialog();break;case d.PANEL_MENU_ACTIONS.INFO:this.showStatus();break;case d.PANEL_MENU_ACTIONS.DELETE:this.deleteMonitor()}},deleteMonitor:function(){var e=this.model,t=SumoUtil.isStringEmpty(e.getTitle())?g.delete_panel_untitled:sprintf(g.delete_panel,SumoUtil.encode(e.getTitle()));SumoApp.userMessage.question(t,{okCallback:this._deleteMonitor,isHTML:!0})},_deleteMonitor:function(){var e=this.model.getDashboardModel();return e.beforeUpdate().then(function(){this.model.deleteMonitor().then(this.onMonitorDeleted).then((function(t){return e.removeObsoleteFilters(),e.postDashboardUpdate(t)}))}.bind(this))},onMonitorDeleted:function(e){e.destroy(),this.destroy()},getContentContainer:function(){return this.$(u.CSS.WIDGET_CONTENT_VIEW)},getContentStateContainer:function(){return this.$(u.CSS.WIDGET_CONTENT_VIEW_STATE)},setHeaderSize:function(){this.setTimerangeVisual(),this.adjustTitleWidth()},adjustTitleWidth:function(){},getTitleWidth:function(){return this.$(".panel-view-inner").width()-(this.$(".widget-edit-menu").width()+33)-(this.$(".widget-warn-info").width()+12)-88},setSize:function(){setTimeout(this.setHeaderSize,0)},resize:function(e,t){this.setHeaderSize(),this.callSubViews("resize",e,t)},onThemeChange:function(e,t){this.callSubViews("onThemeChange",e,t);var i=this.$el.find(".widget-content-view.simple-chart");t&&i.removeClass(t),i.addClass(e)},onEditTimerange:function(e){this.$(".panel-header").removeClass("overflows").addClass("editing"),this.adjustTitleWidth()},onMaximizeMonitor:function(){return new s({model:this.model,clickHandler:this.onDrilldown})},onTimerangeLostFocus:function(e){this.onTimerangeSelectBlur(e)},onTimerangeSelectBlur:function(e){var t=this.getTimeRangeView();t&&t.cleanUpDisplay(),this.setTimerangeVisual()},getContentContainerId:function(){return"#widget-content-"+this.model.getId()},getTimeRangeText:function(){return this.model.getTimeRangeDisplayText()},getTimeRangeView:function(){return this.getView("timerangeView")},getTimeRangeTooltipHtml:function(){return""},timerangeEdited:function(e,t){var i=this.model.get("timerangeModel"),s=this.getTimeRangeView(),n=i.getTimerangeText(),a=s.getSelectNameFromId(n),r=this.$(".s2containerCssClass").select2("val");(SumoUtil.isStringEmpty(r)&&_.isObject(a)&&(r=n),i.setTimerangeText(r),_.isObject(i.getTimeRangeDetails())&&""!==r&&(t||a!==r))&&(this.model.updateTimerange(r)?(this.onTimerangeSelectBlur(t),this.saveTimerangeViewState()):s.revertToDefaultSilent())},setTimerangeVisual:function(){var e=this.$(".panel-title")[0];e&&this.$(".panel-header").removeClass("overflows").toggleClass("overflows",e.scrollWidth>e.clientWidth).removeClass("editing");var t=this.getTimeRangeText();$(".iris-master-timerange").find("span").text();SumoUtil.isStringEmpty(t)&&(t=this.model.get("timerangeUserEntered"));var i=this.getTimeRangeView();i&&(i.setTimeOptionsToDefault(),i.setValue(t,"default",!0))},showUpdatedTimerange:function(){this.setTimerangeVisual()},onTimerangeInputEnter:function(e){this.timerangeEdited(e,!0)},onKeydown:function(e){27!==e.keyCode&&9!==e.keyCode||this.showUpdatedTimerange()},onMouseup:function(e){var t=$(e.target);this.isShowingError||SumoUtil.isElementOrDescendant(t,".select2-drop")||SumoUtil.isElementOrDescendant(t,".widget-time-range-editable")||t.hasClass("widget-time-range-text")||t.hasClass("widget-time-range-icon")||this.showUpdatedTimerange()},getContentViewAttributes:function(){return{model:this.model,el:this.$(this.getContentContainerId()),clickHandler:this.onDrilldown}},onResetMinorTickInterval:function(){this.model.getMonitorSettingsModel()&&(this.onModelUpdate(),this.model.update())},onChartRendered:function(e,t){var i=this.model.getMonitorSettingsModel();if(i){var s=i.getXAxis(),n=i.getYAxis();s.minorTickInterval=t.minorTickIntervalX,s.minorGridLineColor=t.minorGridLineColorX,n[0].minorTickInterval=t.minorTickIntervalY,n[0].minorGridLineColor=t.minorGridLineColorY,i.setXAxis(s),i.setYAxis(n),this.model.updateMonitorSettingsModel(i),this.model.update()}},createTimeRangeView:function(){if(!this.model.isStaticPanel()){var e=this.model.getId().toString(),t=new f;t.setTimerangeText(this.getTimeRangeText());var i=this.$(".widget-time-range-editable");this.model.set({timerangeModel:t});var s=new m({settings:{tooltips:!0,savedSearchTimeOptions:!0,changeCallback:this.timerangeEdited,onOpening:this.onEditTimerange},model:t,el:i,viewType:"monitor",specialClass:e,dropDownClass:"panel-time-range-dropdown"});if(this.registerView("timerangeView",s),this.model.getDashboardModel().isInteractive()&&s.updateTimeOptions(s.TIME_OPTIONS_INTERACTIVE_DASHBOARD),this.$(".widget-time-range-editable").editableIndicator({appendTo:this.$(".panel-status-container"),enabled:!this.isHybridLiveMode,defaultPosition:{my:"right center",at:"right center"}}),this.loadTimerangeViewState(),i.on("timeRangeEnter",this.onTimerangeInputEnter),this.model.canBeEdited()||this.model.isInteractive()&&this.model.getDashboardModel().isShared()){var n="._"+s.getSpecialDropdownClass();$(n+" .select2-input").on("blur",this.onTimerangeSelectBlur),this.$(".widget-time-range-text").editableIndicator({appendTo:this.$(".panel-status-container"),defaultPosition:{my:"right center",at:"right+6 center-1"}})}this.isHybridLiveMode&&s.enable(!1)}},saveTimerangeViewState:function(){var e=this.getTimeRangeView();this.model.setTimeRangeState({currentState:e.getCurrentState(),valueMap:e.getValueMap()})},loadTimerangeViewState:function(){var e=this.getTimeRangeView();if(e){var t=this.model.getTimeRangeState();t?(e.setValueMap(t.valueMap),e.setCurrentState(t.currentState)):this.saveTimerangeViewState()}},toggleEditIndicator:function(e){this.$("div.panel-title").editableIndicator("option","enabled",e)},initializeInlineEdit:function(){if(this.model.getDashboardModel().canBeEdited()){var e=this.$(".panel-title"),t={cssclass:"inherit",style:"inherit",width:this.DEFAULT_INLINE_EDIT_WIDTH+"px",height:"18px",data:this.model.getTitle.bind(this.model),onedit:this.onInlineEdit,onreset:this.cancelInlineEdit,tooltip:this.model.getTitle.bind(this.model)};S(e,this.onInlineEditSubmit,t).editableIndicator({appendTo:this.$(".panel-view")}),this.setHeaderSize()}},onInlineEditSubmit:function(e,t){var i=null,s=SumoUtil.encode(e);this.toggleEditIndicator(!0),i=SumoUtil.isStringEmpty(e)?this.model.getTitle():this.model.updateMonitorTitle(s)?s:this.model.getTitle();var n=this;return setTimeout((function(){n.reSetupInlineEdit()})),i},reSetupInlineEdit:function(){this.$(".panel-title").html(""),S(this.$(".panel-title"),"destroy"),this.$(".panel-view .editable-indicator").remove();var e=this;setTimeout((function(){e.$(".panel-title").html(e.model.getTitle()),e.initializeInlineEdit()}))},onInlineEdit:function(e,t){if(!this.model.getDashboardModel().isEditMode())return!1;this.toggleEditIndicator(!1),this.$(".edit-title-icon").hide();var i=this.getTitleWidth(),s=e.width;"string"==typeof e.width&&(s=parseInt(e.width.slice(0,-2)));var n=this.MAX_INLINE_EDIT_WIDTH;return e.width=i>s&&i<n?i-20+"px":i>n?n+"px":this.DEFAULT_INLINE_EDIT_WIDTH,!0},updateProgress:function(e,t){var i="default";"error"===t?i=t:"paused"!==t&&"not_started"!==t||(i="warn"),this.updateProgressBar(e,i),this.updateBackfillStatus(),this.updateWorldPanelError()},updateWorldPanelError:function(){},setStatusTooltipster:function(e,t,i,s){var n=this.getView(i),a=e.attr("title"),r="previous";if(t)if(s&&n&&(this.destroySubView(i),n=!1,r="none"),n)n.$el.tooltipster("enable");else{var o=new h({el:e,content:a,contentAsHTML:s,theme:"quicktip",size:"auto",position:"bottom",restoration:r});this.registerView(i,o)}else n&&n.$el&&n.$el.tooltipster("disable")},updateBackfillStatus:function(){var e=this.model.get("backfillStatus"),t=this.$el.find(".live-indicator"),i=this.$el.find(".widget-refresh"),s=this.$el.find(".live-status"),n=!1;if(_.isNull(e)||_.isUndefined(e))this.model.canDisplayProgress()?(this.$(".top-bar").show(),s.removeClass("open"),this.setStatusTooltipster(s,!1,"statusIndicator"),t.removeClass("is-visible"),i.addClass("is-visible"),this.setStatusTooltipster(t,!1,"liveIndicator")):(s.removeClass("open"),this.setStatusTooltipster(s,!1,"statusIndicator"),t.removeClass("is-visible"),i.addClass("is-visible"),this.setStatusTooltipster(t,!1,"liveIndicator"));else{this.$(".top-bar").hide();var a=-1!==e?Math.round(100*e)+"%":"0%";if(e<1){var r=s.find(".live-status-content-wrapper");e>0&&(r.attr("title",sprintf("%s<br>%s",g.live_mode_complete_tooltip,g.live_mode_backfilling)),n=!0),s.find(".live-status-content").html(a),s.addClass("open"),this.setStatusTooltipster(r,!0,"statusIndicator",n),t.removeClass("is-visible"),i.addClass("is-visible"),this.setStatusTooltipster(t,!1,"liveIndicator")}else s.removeClass("open"),this.setStatusTooltipster(s,!1,"statusIndicator"),t.addClass("is-visible"),i.removeClass("is-visible"),this.setStatusTooltipster(t,!0,"liveIndicator")}},cancelInlineEdit:function(){var e=this;setTimeout((function(){e.reSetupInlineEdit()}))},onModelUpdate:function(e){this.recreateContentView(e)},onViewerTypeChange:function(){this.$(u.CSS.WIDGET_CONTENT_VIEW).removeAttr("style"),this.$(u.CSS.PANEL_VIEW).removeClass().addClass(u.CSS.PANEL_VIEW.substr(1)+" "+sprintf(u.CSS.PANEL_VIEW_TYPE,this.model.getViewerType()).substr(1)),this.recreateContentView()},recreateContentView:function(e){if(!e){var t=this.getView("contentView");t&&(t.destroy(),this.createContentsViewer(),this.model.isStaticPanel()?t.render():this.onMonitorDataChange())}},revertToDefault:function(){var e=this.getTimeRangeView();e&&e.revertToDefault()},setAsDefault:function(){var e=this.getTimeRangeView();e&&(e.setAsDefault(),this.timerangeEdited(),this.model.update(!1,!0,!0))},lockTimerange:function(e){var t=this.getTimeRangeView();t&&(t.lock(e),this.$(".widget-time-range-editable").editableIndicator("option","enabled",!1))},unlockTimerange:function(){var e=this.getTimeRangeView();e&&(e.unlock(),this.$(".widget-time-range-editable").editableIndicator("option","enabled",!0))},onServerErrorForEditTimerange:function(){this.onEditTimerange()},onQueryIdChanged:function(){},resetModel:function(){if(this.model.getDashboardModel().canBeEdited()&&S(this.$(".panel-title").editableIndicator("destroy"),"destroy"),this.destroyProgressBar(),this.model.getDashboardModel().isInteractive()){var e=this.$(".widget-time-range-editable");e.length>0&&e.editableIndicator("destroy")}this.destroySubViews(),this.render(),this.setSize(),this.createContentsViewer(),this.createTimeRangeView(),this.initializeInlineEdit(),this.initializeProgressBar(),this.model.getMonitorDataUpdated()&&this.onMonitorDataChange()},initializeProgressBar:function(){this.model.canDisplayProgress()&&this.$(".top-bar").progressBar()},updateProgressBar:function(e,t){if(this.model.canDisplayProgress()){var i=this.$(".top-bar");i.parents("html").length&&i.progressBar("option",{progress:e,barClass:t})}},destroyProgressBar:function(){this.model.canDisplayProgress()&&this.$el.parents("html").length&&this.$(".top-bar").progressBar("destroy")},initialize:function(e){var t=this;if(this.isHybridLiveMode=this.options.isHybridLiveMode,this.queryManager=e.queryManager,this.renderWithDelay=!SumoApp.getAngularService("currentUserHelper").hasFeatureFlag("UIDashboardNoDelayedRender"),_.bindAll(this,"render","onModelUpdate","recreateContentView","createContentsViewer","createTimeRangeView","getContentContainerId","setSize","resize","setHeaderSize","onMonitorDataChange","onDrilldown","onEditTimerange","onKeydown","onMouseup","_deleteMonitor","onMonitorDeleted","timerangeEdited","onTimerangeInputEnter","onTimerangeSelectBlur","drilldownToOtherDashboard","onInlineEdit","onInlineEditSubmit","cancelInlineEdit","openPanelMenu","handlePanelMenuClick","updateFetching"),this.menuService=SumoApp.getAngularService("menuService"),this.listenTo(this.model,"progress",this.updateProgress),this.listenTo(this.model,"change:viewerType",this.onViewerTypeChange),this.listenTo(this.model,"change:modelUpdated",this.onModelUpdate),this.listenTo(this.model,"change:monitorStatusUpdated",this.onMonitorDataChange),this.listenTo(this.model,"change:timerangeChanged",this.showUpdatedTimerange),this.listenTo(this.model,"change:showEditTimerangeToggle",this.onServerErrorForEditTimerange),this.listenTo(this.model,"change:queryId",this.onQueryIdChanged),this.listenTo(this.model.getDashboardModel(),"change:mode",this.setTimerangeVisual),this.listenTo(this.model,"change:fetching",this.updateFetching),this.model.isInteractive()){var i=this.getDashboardChannel(),s=":"+this.model.getId();this.listenTo(i,this.DASHBOARD_CHANNEL_EVENTS.FILTERS_ON+s,this.turnOnFiltersHighlight),this.listenTo(i,this.DASHBOARD_CHANNEL_EVENTS.FILTERS_OFF+s,this.turnOffFiltersHighlight),this.listenTo(i,this.DASHBOARD_CHANNEL_EVENTS.UNLINK_FILTER+s,this.updateFiltersIcon),this.listenTo(i,this.DASHBOARD_CHANNEL_EVENTS.LINK_FILTER+s,this.turnOnFiltersIcon)}this.render(),this.setSize(),this.createContentsViewer(),this.createTimeRangeView(),this.initializeInlineEdit(),this.initializeProgressBar(),this.renderWithDelay&&(this.panelRenderNotification$=SumoApp.getAngularService("panelRenderNotificationService").getObservable().filter((function(e){return e===t.model.getId()})).subscribe((function(e){t.queryManager.scheduleNextRender(e)}))),this.queryUpdate$=this.queryManager.getQueryModelUpdateRotator$().filter((function(e){return e===t.model.getId()})).subscribe((function(){t.onMonitorDataChange()}))},render:function(){var e=this.model.getDashboardModel().canBeEdited(),t=this.model.getBackfillStatus(),i=this.model.isMetrics(),s=SumoApp.getAngularService("currentUserHelper").hasFeatureFlag("UIDashboardIrisPanelKabob"),n=_.extend({},this.model.toJSON(),{__:g,isPublic:this.model.getDashboardModel().getIsPublic(),timeRangeText:this.getTimeRangeText(),canBeEdited:e,isInteractive:this.model.isInteractive(),isLive:!1,isStaticPanel:this.model.isStaticPanel(),canBeFiltered:this.model.canBeFiltered(),isFiltered:this.model.isFiltered(),isHybridLiveMode:this.isHybridLiveMode,liveStatusString:t&&-1!==t?Math.round(100*t)+"%":"0%",isMetrics:i,theme:this.model.getDashboardModel().getTheme(),chartClass:this.model.getChartClass(),isShowPanelKabob:s}),a=this.template(n);if(this.$el.html(a),this.model.isMetrics()){var r=this.$el.find(".panel-settings-gear");this.setStatusTooltipster(r,!0,"gearActionButton")}return this.onMonitorDataChange(),this},destroy:function(){this.renderWithDelay&&this.panelRenderNotification$.dispose(),this.queryUpdate$.dispose();try{if(this.model.getDashboardModel().canBeEdited()){var e=this.$(".panel-title");e.length>0&&e.parents("html").length&&(S(e.editableIndicator("destroy"),"destroy").get(0).reset=null)}if(this.destroyProgressBar(),this.model.getDashboardModel().isInteractive()){var t=this.$(".widget-time-range-editable");t.length>0&&t.parents("html").length&&t.editableIndicator("destroy")}if(!this.model.isStaticPanel()&&this.model.getDashboardModel().canBeEdited()){this.$el.data("resizable")&&this.$el.resizable("destroy"),this.$(".widget-time-range-text").length>0&&this.$.parents("html").length&&this.$(".widget-time-range-text").editableIndicator("destroy"),this.$(".widget-time-range-editable").off("timeRangeEnter",this.onTimerangeInputEnter);var i=this.getTimeRangeView();if(i){var s="._"+i.getSpecialDropdownClass(),n=$(s+" .select2-input");n.length>0&&n.off("blur",this.onTimerangeSelectBlur)}$(document).off("keydown",this.onKeydown),$(document).off("mouseup",this.onMouseup)}this.destroySubViews(),SumoUtil.destroyView(this)}catch(e){this.logWarnMessage("destroy","destroying panel exception: %s",e.toString(),e)}}})}.apply(t,s))||(e.exports=n)},86842:function(e,t,i){var s,n;s=[i(16471),i(60567)],void 0===(n=function(e,t){"use strict";var i=t.ChartModelModule,s=t.ChartViewModule,n=e.DashboardsModule,a=t.ResultsViewerConstants;return Backbone.View.extend({events:{exportChart:"onChartExport",showChartOptions:"onShowChartOptions",updateChartAxis:"onUpdateChartAxis"},chartModel:null,chartView:null,panelRenderNotificationService:void 0,onChartExport:function(e,t){var i=t.type;i&&this.chartView&&this.chartView.exportChart({type:i})},onShowChartOptions:function(e){this.chartView&&this.chartView.showChartOptions()},getChartOptions:function(){$.log("Sumo.Ui.Dashboard.Monitor.MonitorChartView.getChartOptions (%s)",this.cid);var e={reflow:!1,enableAnimation:!1,maxLabelLength:16,isSingleLineLabel:!0,labelRotation:-45},t=this.model.getDetailLevel();switch(t){case a.ViewerDetailLevel.small:e.zoomType="",e.showLegend=!1,e.showAxisTitle=!1,e.showLabels=!1,e.showValueLabels=!1,e.showValueGridLines=!1,e.hookupClickEvent=!0;break;case a.ViewerDetailLevel.medium:e.zoomType="",e.showLegend=!0,e.showAxisTitle=!0,e.showLabels=!0,e.showValueLabels=!0,e.showValueGridLines=!0,e.hookupClickEvent=!1;break;case a.ViewerDetailLevel.large:break;default:throw"No handler for monitor detail level ["+t+"]."}return"x"===this.options.zoomType&&(e.zoomType="x"),e},onUpdateChartAxis:function(e,t){this.chartModel.setProposedMinorTickInterval(t),this.chartView.updateChartAxis(t)},onMonitorDataChange:function(){if(!this.model.getMonitorDisabled()&&!this.model.isMonitorDataEmpty()){var e=null,t=null,i=this.model.getMonitorDataTimeRange();_.has(i,"start")?(e=i.start,t=i.end):i&&(e=i.startMillis,t=i.endMillis);var s=this.model.getMonitorQueryTimeRange()||{};this.chartModel.setChartDataStartMillis(e),this.chartModel.setChartDataEndMillis(t),this.chartModel.setChartQueryStartMillis(s.start),this.chartModel.setChartQueryEndMillis(s.end),this.chartModel.setTimeSliceInterval(this.model.getTimeSliceInterval()),this.chartModel.setEvenlySlicedData("MetricsSource"!==this.model.getDataSource()),this.chartModel.setFields(this.model.getMonitorDataFields()),this.chartModel.setChartData(this.model.getMonitorDataRecords()),this.chartModel.setQueryString(this.model.getQueryString()),this.chartModel.setLastDataUpdated($.now()),this.chartModel.isChartable()||(this.$el.html("<div class='panel-chart-view-messages'>"+n.monitor_data_not_chartable+"</div>"),this.positionMessages())}},positionMessages:function(){var e=this.$el.width(),t=this.$el.height(),i=e-5;i<10&&(i=10),this.$(".panel-chart-view-messages").width(i);var s=t/2-20;s<0&&(s=0),this.$(".panel-chart-view-messages").css("padding-top",s)},resize:function(e,t){null!==this.chartView&&this.chartView.resizeChart(e,t),this.positionMessages()},onThemeChange:function(e){this.chartView.renderChart()},initialize:function(){_.bindAll(this,"render","resize","positionMessages","getChartOptions","onMonitorDataChange","onUpdateChartAxis","onRenderComplete"),this.render();var e=this.model.getViewerType();if(e===a.ViewerType.BAR_CHART||e===a.ViewerType.COLUMN_CHART||e===a.ViewerType.LINE_CHART||e===a.ViewerType.AREA_CHART||e===a.ViewerType.PIE_CHART||e===a.ViewerType.BOXPLOT_CHART){var t=_.extend({chartType:e},this.getChartOptions());this.chartModel=new i(t,this.model.getMonitorSettingsModel()),this.chartView=new s({model:this.chartModel,el:this.$el,clickHandler:this.options.clickHandler,onRenderComplete:this.onRenderComplete.bind(this)})}else $.log("ERROR - monitor viewer type (%s) is not a chart.",e)},onRenderComplete:function(){SumoApp.getAngularService("panelRenderNotificationService").notify(this.model.getId())},render:function(){return this},destroy:function(){this.chartView&&this.chartView.destroy(),this.chartView=null,this.chartModel=null,SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},50055:function(e,t,i){var s,n;s=[i(75641)],void 0===(n=function(e){"use strict";return Backbone.Collection.extend({model:e,getByLinkedFilter:function(e){var t=this,i=e.getPanels(),s=[];return _.each(i,(function(e){s.push(t.get(e.id))})),s},getLinkablePanels:function(e){return this.filter((function(t){return t.canLinkField(e)}))}})}.apply(t,s))||(e.exports=n)},12364:function(e,t){var i;void 0===(i=function(){"use strict";var e={FOCUS:"focus",SETTINGS:"settings",INFO:"info",DELETE:"delete"};return{PANEL_MENU_ACTIONS:e,PANEL_MENU_MODELS:{FOCUS:{itemType:e.FOCUS,label:"Focus Mode"},SETTINGS:{itemType:e.SETTINGS,label:"Settings"},INFO:{itemType:e.INFO,label:"Info"},DELETE:{itemType:e.DELETE,label:"Delete"}}}}.apply(t,[]))||(e.exports=i)},3459:function(e,t,i){var s,n;s=[i(16471),i(50886),i(91089),i(60567),i(41197),i(86842),i(91204),i(94131),i(87605),i(56610),i(40283),i(45300),i(76134)],void 0===(n=function(e,t,i,s,n,a,r,o,l,d,c,u,h){"use strict";var g=i.applicationContext,p=e.DashboardsModule,m=s.ResultsViewerConstants,f=n.logService,S=h.clickTrackingService;return{mixin:{noDataTemplate:_.template(t),getContentView:function(){return this.getView("contentView")},onUserReenableMonitor:function(e){this.model.enable()},init:function(){_.bindAll(this,"onRenderComplete")},createContentsViewer:function(){var e=null,t=this.model.getViewerType(),i=m.ViewerType,s=null;this.model.canEditChartProperties()?s=a:t===i.SANKEY?s=u:t===i.TABLE?s=r:t===i.MAP?s=o:t===i.SINGLE_VALUE_VIEWER?s=l:t===i.TEXT?s=d:t===i.METRICS&&(s=c),_.isNull(s)||(e=new s(this.getContentViewAttributes()),this.registerView("contentView",e)),this.model.setMonitorDataUpdated($.now())},onRenderComplete:function(){SumoApp.getAngularService("panelRenderNotificationService").notify(this.model.getId())},getMaxChartGroup:function(){return SumoApp.getAngularService("currentUserHelper").getDynamicProperty("ui_chart_data_size_limit")||1442},_chartSizeError:function(e,t){var i=[m.ViewerType.TABLE,m.ViewerType.MAP,m.ViewerType.TEXT,m.ViewerType.TITLE,m.ViewerType.METRICS,m.ViewerType.SINGLE_VALUE_VIEWER];if(!_.getPath(e,"chartView")||i.indexOf(t)>-1)return 0;var s=e.model.getMonitorDataRecords(),n=s?s.length:0;return n>(t===m.ViewerType.SANKEY?100:this.getMaxChartGroup())?n:0},onMonitorDataChange:function(){if(this.model.isStaticPanel())this.onRenderComplete();else{var e=null,t=!1,i=!1,s=!1,n=!1,a=this.model,r=a.getError(),o=this.getContentView(),l=a.isMonitorDataEmpty(),d=a.getMonitorDisabled(),c=a.getMonitorSumoDisabled(),u=this._chartSizeError(o,a.getViewerType()),h=a.get("backfillStatus"),g=(_.isNumber(h),a.getDashboardModel().getLiveMode(),a.isMetrics()),f=_.first(a.getErrors()),S=this.model.getViewerType()===m.ViewerType.SINGLE_VALUE_VIEWER,v=this.isSingleViewMetricsPanel();if(o?o.onMonitorDataChange():n=!0,this.model.getWorldError())e=this.model.getWorldError(),s=!0;else if(this.model.getWaitingForParameter())e=p.waiting_for_parameter,s=!0;else if(d||c||u>0){t=!0,i=!0;var w=this.model.getQueryId();if(u>0){var b=a.getViewerType()===m.ViewerType.SANKEY?100:this.getMaxChartGroup(),y=sprintf(p.max_chart_groups_exceeded,b,u);this.model.setWarnings([y])}else e=c?p.panel_disabled_sumo+(w?sprintf(p.monitor_disabled_id,w):""):this.model.canBeEdited()?p.panel_disabled_user+p.panel_reenable:p.panel_disabled_user}else n||l?r?(i=!0,s=!0,"metrics:no_results"===f.key&&v||(e=f.client&&f.message||p.panel_data_error)):n||this.model.isMonitorRecentlyStarted()&&1!==this.model.get("backfillStatus")?(n=!0,i=!0,e=this.model.getDashboardModel().getLiveMode()?sprintf(p.panel_recently_started_live_mode,SumoUtil.encode(this.model.getTitle())):sprintf(p.panel_recently_started,SumoUtil.encode(this.model.getTitle()))):S||v?v||o&&o.canBeRendered()||(i=!0,s=!0,e=p.single_value_null):(i=!0,s=!0,e=p.no_monitor_data):!S||o&&o.canBeRendered()||(i=!0,s=!0,e=p.single_value_null);if(this.model.getDashboardModel().getIsPublic()&&(i=!1),_.isNull(e))this.$el.removeClass("empty"),this.getContentStateContainer().removeClass("empty"),this.$el.trigger("logRenderDone");else{var T=this.model.getPropertiesModel().getCommonSettings().getDrilldownFallbackTarget(),E=this.metricsMode||g?p.drilldown_link_metrics_text:p.drilldown_link_search_text;T&&_.has(T,"name")&&T.name&&(E=p.drilldown_link_dashboard_text);var C=this.noDataTemplate({loading:n,noData:s,msg:e,drillDownText:E,showSearchLink:i,__:p});this.getContentStateContainer().html(C),this.getContentContainer().removeAttr("style"),this.$el.addClass("empty")}this.$(".widget-status").toggleClass("widget-warning",t||this.model.hasErrorsOrWarnings()).toggleClass("panel-error",r),this.model.isMetrics()||this.onRenderComplete()}},isSingleViewMetricsPanel:function(){var e=!1;try{e="Single"===JSON.parse(this.model.getProperties()).settings.metrics.configuration.global.chartType}catch(e){}return e},onDrilldown:function(e,t){var i=this.options.singlePanelEmbedURL;if(i)"none"!==i&&window.open(i,"_blank","noopener");else{var s=this.model.getMonitorObject();s.isMine=this.model.canBeEdited();var n=this.model.getDashboardModel();s.parentType=n.getType(),s.accessKey=n.getAccessKey(),s.version=this.model.getDashboardModel().getVersion(),s.autoParsingInfo=this.model.getAutoParsingInfo();var a="interactive"===s.parentType,r=this.model.isMetrics(),o=e&&"monitor-mi-showinsearch"===$(e.currentTarget).attr("id"),l=+new Date;if(l<this.lastDrilldownTs+this.minTimeBetweenDrilldowns)return e&&e.stopPropagation(),this.lastDrilldownTs=l,void(!0===this.showLastDrilldownSearchSuccessMsg&&(this.showLastDrilldownSearchSuccessMsg=!1,SumoApp.userMessage.info(p.monitor_drilldown_search_success)));var d=this.model.getPropertiesModel().getCommonSettings().getDrilldownFallbackTarget();if(o||t||!d||!d.id&&!d.name){this.lastDrilldownTs=l,e&&e.stopPropagation&&(e.stopPropagation(),S.log(e));var c=SumoApp.context.dashboardLoader;_.isUndefined(c)&&(c={sendSearchDrillDown:function(e,t){e.timeZone=SumoApp.dateUtil.getDefaultTimeZone(),SumoApp.getAngularService("workspacesService").getCurrent().handleSearchDrillDown({data:e,isMetrics:t})}});var u=this.model.getMonitorDataTimeRange();if(a){var h=this.model.getFilterValues(),m=this.model.getParamFilterValues(),f={fromInteractiveDashboard:a,parentType:s.parentType,parentId:s.parentId,parentAccessKey:s.accessKey,id:s.id,version:s.version,timeRange:s.timeRange,appliedFilterValues:_.extend({},h,m),dashboardPanel:{isMine:s.isMine,parentType:s.parentType},fromSettings:t||!1,permissions:n.get("permissions"),autoParsingInfo:s.autoParsingInfo};SumoApp.getAngularService("currentUserHelper").hasFeatureFlag("UISinglePointDrilldown")&&e&&e.point&&(u=e.point.startTime?'[{"t":"absolute","d":'+e.point.startTime+'},{"t":"absolute","d":'+e.point.endTime+"}]":s.timeRange,f.drilldownFilters=e.point.clickFilter,f.timeRange=u,f.drilldownConfig=e.point.drilldownConfig),c.sendSearchDrillDown(f,r)}else{if((f=new g.SearchQueryData).setMonitorObject(s),f.setQueryName(this.model.getTitle()),f.setQueryString(this.model.getQueryString()),f.setMonitorModified(!1),u&&u.startMillis&&u.endMillis)f.setStartTimestamp(u.startMillis),f.setEndTimestamp(u.endMillis);else{var v=this.model.getCalculatedTimeRange();if(!v)return void SumoApp.userMessage.error(p.drilldown_error_no_timerange,{displayType:SumoApp.userMessage.DisplayType.MSGBOX,title:p.drilldown_error_title,isHTML:!0});f.setStartTimestamp(v.start),f.setEndTimestamp(v.end||l)}f.setExecuteSearch(!0),c.sendSearchDrillDown(f.toJSON(),!1)}this.showLastDrilldownSearchSuccessMsg=!0}else this.drilldownToOtherDashboard(d)}},isFallbackTargetEmpty:function(e){return!e||!e.id&&!e.name},findTargetDashboard:function(e,t){var i=null;if(_.isEmpty(t)||this.isFallbackTargetEmpty(e))return i;var s=this.model.getDashboardModel().getOwner().id;if(e.id&&(i=_(t).findWhere({id:e.id})),!i&&e.name)if(1===(i=_(t).where({name:e.name})).length)i=i[0];else if(i.length>1){var n=_.find(i,(function(e){return e.owner.id===s}));i=n||i[0]}else i=null;return i},drilldownToOtherDashboard:function(e){var t=this,i=SumoUtil.isDashboardUrl()?SumoApp.context.dashboardLoader:{showDashboard:function(e,t,i){SumoApp.getAngularService("applicationViewShimService").dashboardDrillDown({dashboardId:e,type:t,dashboardKey:i})}},s=this.model.getDashboardModel();if(s.getIsPublic()){if(e.key){var n=s.getApiEndpoint("CONTENT_LIBRARY_ITEM_ACTIONS");s.createPromise({endpoint:sprintf(n,e.key,"report"),errorCode:"dashboard_contentlib_actions"}).then((function(e){e.folderable.type="interactiveReportReference"===e.folderable.type?"report":e.folderable.type,t.dashboardDrilldown(i,e.folderable)})).catch((function(e){}))}}else{var a=SumoApp.getAngularService("contentDashboardService");a.fetchContentItem(e.id).then((function(e){t.dashboardDrilldown(i,e)})).catch((function(s){var n,r,o=s.keyedErrors,l=_.find(o,(function(e){return"content1:permission_denied"===e.key}));_.find(o,(function(e){return"content1:not_found"===e.key}))?a.getViewableDashboardList().then((function(s){var a=_.filter(s,(function(t){return t.name===e.name}));if(0===a.length)n=p.drilldown_error_title,r=sprintf(p.drilldown_error_no_content_found,_.escape(e.name)),f.userTelemetry("Linked Dashboard Id Not Found: "+e.id+":"+e.name),SumoApp.userMessage.error(r,{displayType:SumoApp.userMessage.DisplayType.MSGBOX,title:n,isHTML:!0});else{if(1===a.length){var o=_.first(a);return t.dashboardDrilldown(i,o)}if(a.length>1){var l=t.model.getDashboardModel().getOwner().id,d=_.find(a,(function(e){return e.ownerId===l}));o=d||_.first(a);return t.dashboardDrilldown(i,o)}}})):(l?(n=p.dashboard_inaccessible,r=p.dashboard_inaccessible_reason):(n=p.drilldown_error_title,r=sprintf(p.drilldown_error_no_target_dashboard,e.name)),SumoApp.userMessage.error(r,{displayType:SumoApp.userMessage.DisplayType.MSGBOX,title:n,isHTML:!0}))}))}},dashboardDrilldown:function(e,t){if(!_.isNull(t)){this.lastDrilldownTs=$.now();var i=t.accessKey;e.showDashboard(t.id,t.type,i)}else{var s=sprintf(p.drilldown_error_no_target_dashboard,targetDashboard.name);SumoApp.userMessage.error(s,{displayType:SumoApp.userMessage.DisplayType.MSGBOX,title:p.drilldown_error_title,isHTML:!0})}}}}}.apply(t,s))||(e.exports=n)},68500:function(e,t,i){var s,n;s=[i(16471),i(43574),i(45558),i(86842),i(91204),i(94131),i(87605),i(30508),i(60567),i(3459)],void 0===(n=function(e,t,i,s,n,a,r,o,l,d){"use strict";var c=e.DashboardsModule;return l.SumoViewModule.extend({mixins:[d],events:{"click .drilldown-to-search":"onDrilldown","click .paused":"onClickPaused","click .playing":"onClickPlaying","click .userReenableMonitor":"onUserReenableMonitor"},template:_.template(t),titleTemplate:_.template(i),lastDrilldownTs:0,showLastDrilldownSearchSuccessMsg:!1,minTimeBetweenDrilldowns:2e3,bShowTimeRangeText:!0,onHeader:!1,onSettingsMenu:!1,isShowingError:!1,TIMERANGE_WIDTH:150,MAX_INLINE_EDIT_WIDTH:180,DEFAULT_INLINE_EDIT_WIDTH:120,autoUpdate:!0,messageBoxIsVisible:!1,getViewName:function(){return"IrisMonitorLightboxView"},getComponent:function(){return"Dashboard"},getDialogView:function(){return this.getView("dialogView")},onClickPaused:function(){this.toggleAutoUpdate()},onClickPlaying:function(){this.toggleAutoUpdate()},close:function(){this.getDialogView().close()},resize:function(){var e=$(window).width()-50,t=$(window).height()-50;e>=400&&($("#maximize-panel").dialog("option","width",e),$(".ui-widget-overlay").width("100%")),t>=250&&($("#maximize-panel").dialog("option","height",t),$(".ui-widget-overlay").height("100%"));var i=this.$el.height(),s=this.$el.width();0!==i&&0!==s&&this.callSubViews("resize")},_setUpdateButton:function(e){$(".panel-lightbox-title-controls").find("div").hide(),$(e).show()},_modelUptodate:function(){return this.model.getDashboardModel().getMonitorById(this.model.id).modelLoaded===this.model.modelLoaded},_showHideDataLoadingSpinner:function(e){if(this.model.getDashboardModel().getMonitorById(this.model.id)){if(0===$("#monitor-obsolete-view:visible").length)if(this._modelUptodate())$(".panel-lightbox-title-spinner .panel-data-loading-spinner-icon-in-header").toggle(e);else new o({parentView:this})}else if(!this.messageBoxIsVisible){$(".panel-lightbox-title-spinner .panel-data-loading-spinner-icon-in-header").hide();var t=this;SumoApp.userMessage.error(c.panel_obsolete_deleted_text,{displayType:SumoApp.userMessage.DisplayType.MSGBOX,title:c.panel_obsolete_deleted_title,callback:function(){t.messageBoxIsVisible=!1,$("#maximize-panel").dialog("close")},isHTML:!0}),this.messageBoxIsVisible=!0}},showHideDataLoadingSpinner:function(){var e=this.model.getDashboardModel();this._showHideDataLoadingSpinner(e.isFetching())},getContentContainer:function(){return this.$("#panel-lightbox-content-"+this.model.getId())},getContentStateContainer:function(){return this.$("#panel-lightbox-content-"+this.model.getId())},getTimeRangeText:function(){return this.model.getTimeRangeDisplayText()},toggleAutoUpdate:function(){var e=this.model.getDashboardModel();this.autoUpdate?(this._showHideDataLoadingSpinner(!1),this.stopListening(e,"change:fetching"),this.stopListening(this.model,"change:monitorDataUpdated"),this.autoUpdate=!1,this._setUpdateButton(".paused")):(this.listenTo(e,"change:fetching",this.showHideDataLoadingSpinner),this.listenTo(this.model,"change:monitorDataUpdated",this.onMonitorDataChange),this.autoUpdate=!0,this._setUpdateButton(".playing"))},enableZoom:function(e){var t=this.getView("monitor-chart");!0===e?(t.chartModel.setZoomType(""),t.chartView.renderChart()):(t.chartModel.setZoomType("x"),t.chartView.renderChart())},getContentViewAttributes:function(){return{model:this.model,el:this.getContentContainer(),zoomType:"x",clickHandler:this.options.clickHandler}},onModelUpdate:function(){this.onMonitorDataChange()},disableAutoUpdateButtons:function(){$(".playing").off("click",this.onClickPlaying),$(".paused").off("click",this.onClickPaused),$(".panel-lightbox-title-spinner .panel-data-loading-spinner-icon-in-header").hide(),this._setUpdateButton(".updateDisabled")},initialize:function(){_.bindAll(this,"render","onModelUpdate","createContentsViewer","disableAutoUpdateButtons","getContentContainer","resize","showHideDataLoadingSpinner","onMonitorDataChange","onClickPlaying","onClickPaused");var e=$(window).width()-50,t=$(window).height()-100,i=this,s=SumoApp.factory.createDialogView({el:"#maximize-panel",plugin:{title:this.model.getTitle(),width:e,height:t,position:{my:"center",at:"center"},draggable:!1,close:function(){i.destroy()}}});this.registerView("dialogView",s),this.$el=s.$el,this.listenTo(this.model,"change:modelUpdated",this.onModelUpdate),this.listenTo(this.model,"change:monitorDataUpdated",this.onMonitorDataChange);var n=this.model.getDashboardModel();this.listenTo(n,"change:fetching",this.showHideDataLoadingSpinner),$(window).on("resize",_.debounce(this.resize,300)),this.render(),this.createContentsViewer(),this.model.getMonitorDataUpdated()&&this.onMonitorDataChange(),this.toggleAutoUpdate()},render:function(){var e=this.model.getDashboardModel(),t=e.getMonitorById(this.model.id),i=t&&t.isMetrics(),s=this.model.getPropertiesModel().getCommonSettings().getDrilldownFallbackTargetName()?c.drilldown_link_dashboard_text:c.drilldown_link_search_text,n=this.model.getChartClass()+" "+e.getTheme(),a=$.extend(this.model.toJSON(),{__:c,timeRangeText:this.getTimeRangeText(),drilldownText:s,viewerType:this.model.getViewerType(),isMetrics:i,isLiveMode:e.isLiveMode(),chartClass:n}),r=this.template(a);this.$el.html(r);var o=this.titleTemplate(a);return $(o).insertAfter(".ui-dialog-title"),$(".ui-dialog-title").addClass("panel-lightbox-title-name"),$(".playing").on("click",this.onClickPlaying),$(".paused").on("click",this.onClickPaused),this},destroy:function(){$(window).off("resize",this.resize),this.disableAutoUpdateButtons(),this.destroySubViews(),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},94131:function(e,t,i){var s,n;s=[i(16471),i(60567),i(9403)],void 0===(n=function(e,t,i){"use strict";var s=t.MapModelModule,n=e.DashboardsModule,a=t.ResultsViewerConstants;return Backbone.View.extend({mapModel:null,mapView:null,scope:null,getMapOptions:function(){return{}},onMonitorDataChange:function(){if(!this.model.isMonitorDataEmpty()){this.mapModel.setFields(this.model.getMonitorDataFields()),this.mapModel.setMapData(this.model.getMonitorDataRecords());var e,t=this.mapModel.isGuardDuty(),i=SumoApp.getAngularService("geojsonService"),s=this.mapModel.getCountField();e=i.convertToGeoJson(this.model.getMonitorDataRecords(),s,t);var a=i.getBounds(e),r="done"==this.model.getQueryState();SumoApp.getAngularService("safeApply")(this.mapChartScope,this.updateMapChartScope.bind(this,e,a,r)),this.mapModel.setLastDataUpdated($.now()),this.mapModel.isMapable()||this.mapModel.isGuardDuty()||(this.$el.html("<div class='panel-map-view-messages'>"+n.panel_data_not_mapable+"</div>"),this.positionMessages())}},updateMapChartScope:function(e,t,i){this.mapChartScope.geoData=e,this.mapChartScope.geoDataBounds=t,this.mapChartScope.hasLoadedAllResults=i},positionMessages:function(){var e=this.$el.width(),t=this.$el.height(),i=e-5;i<10&&(i=10),this.$(".panel-map-view-messages").width(i);var s=t/2-20;s<0&&(s=0),this.$(".panel-map-view-messages").css("padding-top",s)},resize:function(){null!==this.mapView&&this.mapView.resizeMap(),SumoApp.getAngularService("safeApply")(this.mapChartScope,function(){this.mapChartScope.resize=!this.mapChartScope.resize}.bind(this)),this.positionMessages()},initialize:function(){_.bindAll(this,"render","resize","positionMessages","getMapOptions","onMonitorDataChange","onRenderComplete"),this.render();var e=this.model.getViewerType();if(e===a.ViewerType.MAP){var t=this.getMapOptions();this.mapModel=new s(t,this.model.getMonitorSettingsModel());var r=this.model.getPropertiesModel(),o=r.getCommonSettings().getDrilldownFallbackTarget(),l=o&&_.has(o,"name")&&o.name?n.drilldown_link_dashboard_text:n.drilldown_link_search_text;this.options.clickHandler&&[].push({text:l,clickHandler:this.options.clickHandler}),this.$el.html('<map-chart map-theme cluster-click class="map-chart" model-id="modelId" geo-data="geoData"\nzoom-to-fit geo-data-bounds="geoDataBounds" has-loaded-all-results="hasLoadedAllResults"resize="resize" initial-center-point="initialCenterPoint" initial-zoom="initialZoom" cluster-map-layer heat-map-layer benchmark-map-layer map-type="mapType"></map-chart>'),this.mapChartScope=SumoApp.getAngularService("$rootScope").$new(),this.mapChartScope.geoDataBounds=i.WORLD_BOUNDS,this.mapChartScope.hasLoadedAllResults=!1;var d=document.getElementById("mapboxChart-"+this.model.getId());this.mapChartScope.modelId=d?this.model.getId()+"-1":this.model.getId();var c=SumoApp.getAngularService("geojsonService"),u=this.$el.find(".map-chart"),h=c.convertBoundsToCenterAndZoom(i.WORLD_BOUNDS,512,u.parent().width()),g=h.center,p=h.zoom,m=r.attributes.settings.map.attributes.configuration.maptype;this.mapChartScope.initialCenterPoint=g,this.mapChartScope.initialZoom=p,this.mapChartScope.mapType=m;var f=SumoApp.ngCompile(u,this.mapChartScope,!0);this.mapChartScope.$on("$destroy",function(){f.remove()}.bind(this))}else $.log("ERROR - monitor viewer type (%s) is not a map.",e)},onRenderComplete:function(){SumoApp.getAngularService("panelRenderNotificationService").notify(this.model.getId())},render:function(){return this},destroy:function(){this.mapView&&this.mapView.destroy(),this.mapModel&&this.mapModel.destroy(),this.mapView=null,this.mapModel=null,this.mapChartScope&&(this.mapChartScope.$destroy(),this.mapChartScope=void 0),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},40283:function(e,t,i){var s,n,a=i(16826);s=[i(16471),i(60567),i(38294)],void 0===(n=function(e,t,i){"use strict";var s=t.ThemeUtilModule,n=e.DashboardsModule;return Backbone.View.extend({events:{},template:_.template(i),onThemeChange:function(e,t){this.getScope().$evalAsync((function(t){t.theme=e}))},onMonitorDataChange:function(){var e=this.chartSettings&&this.chartSettings.isSingleValueChart();if(!this.model.getMonitorDisabled()&&(e||!this.model.isMonitorDataEmpty())){var t=this.model.getMonitorData();this.renderData(t)}},renderData:function(e){return this.getScope().$evalAsync((function(t){t.subject.onNext(e)})),SumoApp.getAngularService("chartEventNotificationService").getObservable([this.getChartId()],["chart"],["load"]).take(1).timeout(3e3,a.Observable.of(!0))},resize:function(e,t){var i=this;setTimeout((function(){i.reflowChart()}),10)},handleLegentItemClick:function(e){e.browserEvent.preventDefault();var t=_.getPath(e,"target.options.id");t&&this.trackToggleSeriesVisibility(t)},trackToggleSeriesVisibility:function(e){var t=this.disabledSeries.indexOf(e);-1===t?(this.disabledSeries.push(e),this.chartActions.setSeriesVisibility(this.getChartId(),e,!1)):(this.disabledSeries.splice(t,1),this.chartActions.setSeriesVisibility(this.getChartId(),e,!0))},initialize:function(){_.bindAll(this,"render","resize","onMonitorDataChange","onChartSettingsChanged"),this.metricsQueryRowParserService=SumoApp.getAngularService("metricsQueryRowParserService"),this.chartActions=SumoApp.getAngularService("chartModelActions").getActionCreators(),SumoApp.getAngularService("chartEventNotificationService").getObservable([this.getChartId()],["legend"],["legenditemclick"]).subscribe(this.handleLegentItemClick.bind(this)),this.disabledSeries=[],this.chartModelHelper=SumoApp.getAngularService("chartModelHelper"),this.chartSettingsSubscription$=this.chartModelHelper.getObservable(this.getChartId()).subscribe(this.onChartSettingsChanged);var e=$.extend(!0,{},this.model.getMonitorSettingsModel().get("configuration"),{viewType:"dashboard",noLogs:this.model.getDashboardModel().getIsPublic()});this.chartActions.add(_.extend({id:this.getChartId()},e)),this.render()},reflowChart:function(){var e=this;e.getScope().$evalAsync((function(t){e.chartActions.mergeSettings({id:t.chartSettings.id||e.chartId,update:{reflow:Date.now()}})}))},onChartSettingsChanged:function(e){var t=this;t.chartSettings=e,t.getScope().$evalAsync((function(e){e.chartSettings=t.chartSettings}))},getChartId:function(){return this.chartId||(this.chartId="dash-metrics-chart-"+this.model.get("id").toString()+Date.now()),this.chartId},render:function(){this.destroyScope();var e=_.extend(this.model.toJSON(),{__:n}),t=this.template(e);return this.$el.html(t),SumoApp.ngCompile(this.$el.children()[0],this.getScope(),!0),this.bindLegendClick(),this},bindLegendClick:function(){var e=SumoApp.getAngularService("chartEventNotificationService").getObservable([this.chartId],["series"],["legenditemclick"]);this.eventSubscription=e.subscribe((function(e){var t=$(_.getPath(e,"event.target.legendItem.element"));_.getPath(e,"event.target.visible")?t.addClass("legend-inactive"):t.removeClass("legend-inactive")}))},unsubscribeFromChartStream:function(){this.eventSubscription&&(this.eventSubscription.dispose(),this.eventSubscription=null)},unsubscribeFromChartSettingsStream:function(){this.chartSettingsSubscription$&&(this.chartSettingsSubscription$.dispose(),this.chartSettingsSubscription$=void 0)},destroy:function(){this.unsubscribeFromChartStream(),this.unsubscribeFromChartSettingsStream(),this.chartActions=void 0,this.destroyScope(),SumoUtil.destroyView(this)},destroyScope:function(){this.$scope&&(this.$scope.$destroy(),this.$scope=void 0)},getScope:function(){if(!this.$scope){var e=SumoApp.getAngularService("$rootScope").$new();e.theme=s.getSelectedTheme().getName(),e.dataInterceptor=SumoApp.getAngularService("dataInterceptorService"),e.subject=new a.Subject,e.chartSettings=this.chartSettings,e.chartActions=this.chartActions,e.id=this.model.getId(),this.$scope=e}return this.$scope}})}.apply(t,s))||(e.exports=n)},15195:function(e,t,i){var s,n;s=[i(60567)],void 0===(n=function(e){"use strict";var t=e.ResultsViewerConstants;return{getMockData:function(e){var t=e&&e.replace(/.*?(\d+)[^\d]*$/,"$1"),i=SumoUtil.randomNumberBetween(0,this.data.length-1);if(!SumoUtil.isStringEmpty(t)){var s=parseInt(t,10);_.isNumber(s)&&s>=0&&s<this.data.length&&(i=s)}var n=this.data[i];if(0===i&&this.addRandomRecords(n.fields,n.records,n.keys,101),n)return{records:{fields:n.fields,records:n.records},warnings:["This is canned data for testing."]}},addRandomRecords:function(e,i,s,n,a,r){n=n||30,a=a||5,r=r||180;for(var o=i[i.length-1],l=Math.max(0,n-i.length),d=0;d<l;d++){var c=jQuery.extend({},o);c.keys=s;for(var u=[],h=0;h<e.length;h++){var g=e[h];g.type===t.RecordValueType.INT||g.type===t.RecordValueType.LONG||g.type===t.RecordValueType.DOUBLE?u.push(Math.floor(1e5*Math.random())):u.push(SumoUtil.getMockupText(a,r))}c.values=u,i.push(c)}return i},data:[{fields:[{name:"phrase_long_field_name_test_width",type:"string",key:!0},{name:"Number",type:"int",key:!1},{name:"_count",type:"int",key:!1}],keys:["phrase_long_field_name_test_width","Number","_count"],records:[]},{fields:[{name:"blade",type:"string",key:!0},{name:"file",type:"string",key:!0},{name:"_count",type:"int",key:!1}],records:[{values:["666",null,"blade value is set to null"],keys:["_count","file","blade"]},{values:["6661",null,"script and html test <script>alert(0)<\/script><h2>Header style?</h2>"],keys:["_count","file","blade"]},{values:["856","ops/assemblies/latest/receiver-17.0-SNAPSHOT/logs/receiver.log","00000000000003DF"],keys:["_count","file","blade"]},{values:["857","ops/assemblies/latest/meta-17.0-SNAPSHOT/logs/nerv.log","00000000000003DF"],keys:["_count","file","blade"]},{values:["857","ops/assemblies/latest/search-17.0-SNAPSHOT/logs/search.log","00000000000003DF"],keys:["_count","file","blade"]},{values:["857","ops/assemblies/latest/config-17.0-SNAPSHOT/logs/config.log","00000000000003DF"],keys:["_count","file","blade"]},{values:["857","ops/assemblies/latest/service-17.0-SNAPSHOT/logs/service.log","00000000000003DF"],keys:["_count","file","blade"]},{values:["857","ops/assemblies/latest/stream-17.0-SNAPSHOT/logs/stream.log","00000000000003DF"],keys:["_count","file","blade"]},{values:["857","ops/assemblies/latest/raw-17.0-SNAPSHOT/logs/raw.log","00000000000003DF"],keys:["_count","file","blade"]},{values:["857","ops/assemblies/latest/katta-sumo-17.0-SNAPSHOT/logs/katta-startNode.log","00000000000003DF"],keys:["_count","file","blade"]},{values:["857","ops/assemblies/latest/meta-17.0-SNAPSHOT/logs/meta.log","00000000000003DF"],keys:["_count","file","blade"]},{values:["857","ops/assemblies/latest/katta-sumo-17.0-SNAPSHOT/logs/katta-startMaster.log","00000000000003DF"],keys:["_count","file","blade"]},{values:["857","ops/assemblies/latest/meta-17.0-SNAPSHOT/logs/nerv.log","00000000000003DF"]},{values:["857","ops/assemblies/latest/search-17.0-SNAPSHOT/logs/search.log","00000000000003DF"],keys:["_count","file","blade"]},{values:["857","ops/assemblies/latest/config-17.0-SNAPSHOT/logs/config.log","00000000000003DF"],keys:["_count","file","blade"]},{values:["857","ops/assemblies/latest/service-17.0-SNAPSHOT/logs/service.log","00000000000003DF"],keys:["_count","file","blade"]},{values:["857","ops/assemblies/latest/stream-17.0-SNAPSHOT/logs/stream.log","00000000000003DF"],keys:["_count","file","blade"]},{values:["857","ops/assemblies/latest/raw-17.0-SNAPSHOT/logs/raw.log","00000000000003DF"],keys:["_count","file","blade"]},{values:["857","ops/assemblies/latest/katta-sumo-17.0-SNAPSHOT/logs/katta-startNode.log","00000000000003DF"],keys:["_count","file","blade"]},{values:["857","ops/assemblies/latest/meta-17.0-SNAPSHOT/logs/meta.log","00000000000003DF"],keys:["_count","file","blade"]},{values:["857","ops/assemblies/latest/katta-sumo-17.0-SNAPSHOT/logs/katta-startMaster.log","00000000000003DF"],keys:["_count","file","blade"]}]},{fields:[{name:"etime",type:"double",key:!0},{name:"etime1",type:"double",key:!0},{name:"_avg",type:"double",key:!1},{name:"_min",type:"double",key:!1},{name:"_max",type:"double",key:!1},{name:"_stddev",type:"double",key:!1},{name:"_count",type:"int",key:!1}],records:[{values:[null,"13.0","14.60485","97","14.60485","14.604850000000006","0.0"],keys:["_max","etime1","etime","_count","_min","_avg","_stddev"]},{values:["14.60485","97","14.60485","14.604850000000006","0.0"],keys:["etime","_count","_min","_avg","_stddev"]},{values:["666","NaN",NaN,null,"","15.7283","15.728299999999994","0.0"],keys:["_max","etime1","etime","_count","_min","_avg","_stddev"]},{values:["7.86415E-10",".000000069","7.86415E10","25.0E30","7.86415","7.864149999999998","0.0"],keys:["_max","etime1","etime","_count","_min","_avg","_stddev"]},{values:["10.11105","9.0","10.11105","77","10.11105","10.111049999999986","0.0"],keys:["_max","etime1","etime","_count","_min","_avg","_stddev"]},{values:["20.2221","18.0","20.2221","10","20.2221","20.222100000000005","0.0"],keys:["_max","etime1","etime","_count","_min","_avg","_stddev"]},{values:["6.7407","6.0","6.7407","20","6.7407","6.740700000000002","0.0"],keys:["_max","etime1","etime","_count","_min","_avg","_stddev"]},{values:["13.4814","12.0","13.4814","267","13.4814","13.481400000000024","0.0"],keys:["_max","etime1","etime","_count","_min","_avg","_stddev"]},{values:["3.37035","3.0","3.37035","9","3.37035","3.370350000000001","0.0"],keys:["_max","etime1","etime","_count","_min","_avg","_stddev"]},{values:["23.59245","21.0","23.59245","21","23.59245","23.592449999999992","0.0"],keys:["_max","etime1","etime","_count","_min","_avg","_stddev"]},{values:["19.09865","17.0","19.09865","16","19.09865","19.09865","0.0"],keys:["_max","etime1","etime","_count","_min","_avg","_stddev"]},{values:["22.469","20.0","22.469","6","22.469","22.468999999999998","0.0"],keys:["_max","etime1","etime","_count","_min","_avg","_stddev"]},{values:["24.7159","22.0","24.7159","15","24.7159","24.715899999999994","0.0"],keys:["_max","etime1","etime","_count","_min","_avg","_stddev"]},{values:["12.35795","11.0","12.35795","41","12.35795","12.35794999998995","0.0"],keys:["_max","etime1","etime","_count","_min","_avg","_stddev"]},{values:["5.61725","5.0","5.61725","12","5.61725","5.617249999999999","0.0"],keys:["_max","etime1","etime","_count","_min","_avg","_stddev"]},{values:["11.2345","10.0","11.2345","282","11.2345","11.234500000000022","0.0"],keys:["_max","etime1","etime","_count","_min","_avg","_stddev"]},{values:["21.345550000000003","19.0","21.345550000000003","7","21.345550000000003","21.345550000000003","0.0"],keys:["_max","etime1","etime","_count","_min","_avg","_stddev"]},{values:["16.851750000000003","15.0","16.851750000000003","26","16.851750000000003","16.851749999999996","0.0"],keys:["_max","etime1","etime","_count","_min","_avg","_stddev"]},{values:["2.2469","2.0","2.2469","4","2.2469","2.2469","0.0"],keys:["_max","etime1","etime","_count","_min","_avg","_stddev"]},{values:["35.9504","32.0","35.9504","1","35.9504","35.9504","0.0"],keys:["_max","etime1","etime","_count","_min","_avg","_stddev"]},{values:["17.9752","16.0","17.9752","22","17.9752","17.975199999999994","0.0"],keys:["_max","etime1","etime","_count","_min","_avg","_stddev"]},{values:["8.9876","8.0","8.9876","53","8.9876","8.98759999999999","0.0"],keys:["_max","etime1","etime","_count","_min","_avg","_stddev"]},{values:["4.4938","4.0","4.4938","5","4.4938","4.4938","0.0"],keys:["_max","etime1","etime","_count","_min","_avg","_stddev"]},{values:["1.12345","1.0","1.12345","16","1.12345","1.12345","0.0"],keys:["_max","etime1","etime","_count","_min","_avg","_stddev"]},{values:["14.60485","13.0","14.60485","97","14.60485","14.604850000000006","0.0"],keys:["_max","etime1","etime","_count","_min","_avg","_stddev"]}]},{fields:[{name:"_count",type:"int",key:!1}],records:[{values:["8424"],keys:["_count"]}]},{fields:[{name:"file",type:"string",key:!0},{name:"_count",type:"int",key:!1}],records:[{values:["824","ops/assemblies/latest/meta-17.0-SNAPSHOT/logs/nerv.log"],keys:["_count","file"]}]},{fields:[{name:"_sourceCategory",type:"string",key:!0},{name:"etime1",type:"double",key:!0},{name:"_avg",type:"double",key:!1},{name:"_min",type:"double",key:!1},{name:"_max",type:"double",key:!1},{name:"_stddev",type:"double",key:!1},{name:"_count",type:"int",key:!1}],records:[{values:["nite-monitor-1","13.0","14.60485","97","14.60485","14.604850000000006","0.0"],keys:["_sourceCategory","_max","etime1","_count","_min","_avg","_stddev"]},{values:["nite-monitor-1","14.0","15.7283","70","15.7283","15.728299999999994","0.0"],keys:["_sourceCategory","_max","etime1","_count","_min","_avg","_stddev"]},{values:["nite-monitor-1","7.0","7.86415","25","7.86415","7.864149999999998","0.0"],keys:["_sourceCategory","_max","etime1","_count","_min","_avg","_stddev"]},{values:["nite-monitor-1","9.0","10.11105","77","10.11105","10.111049999999986","0.0"],keys:["_sourceCategory","_max","etime1","_count","_min","_avg","_stddev"]},{values:["nite-monitor-1","18.0","20.2221","10","20.2221","20.222100000000005","0.0"],keys:["_sourceCategory","_max","etime1","_count","_min","_avg","_stddev"]},{values:["nite-monitor-1","6.0","6.7407","20","6.7407","6.740700000000002","0.0"],keys:["_sourceCategory","_max","etime1","_count","_min","_avg","_stddev"]},{values:["nite-monitor-1","12.0","13.4814","267","13.4814","13.481400000000024","0.0"],keys:["_sourceCategory","_max","etime1","_count","_min","_avg","_stddev"]},{values:["nite-monitor-1","3.0","3.37035","9","3.37035","3.370350000000001","0.0"],keys:["_sourceCategory","_max","etime1","_count","_min","_avg","_stddev"]},{values:["nite-monitor-1","21.0","23.59245","21","23.59245","23.592449999999992","0.0"],keys:["_sourceCategory","_max","etime1","_count","_min","_avg","_stddev"]},{values:["nite-monitor-1","17.0","19.09865","16","19.09865","19.09865","0.0"],keys:["_sourceCategory","_max","etime1","_count","_min","_avg","_stddev"]},{values:["nite-monitor-1","20.0","22.469","6","22.469","22.468999999999998","0.0"],keys:["_sourceCategory","_max","etime1","_count","_min","_avg","_stddev"]},{values:["nite-monitor-1","22.0","24.7159","15","24.7159","24.715899999999994","0.0"],keys:["_sourceCategory","_max","etime1","_count","_min","_avg","_stddev"]},{values:["nite-monitor-1","11.0","12.35795","41","12.35795","12.35794999998995","0.0"],keys:["_sourceCategory","_max","etime1","_count","_min","_avg","_stddev"]},{values:["nite-monitor-1","5.0","5.61725","12","5.61725","5.617249999999999","0.0"],keys:["_sourceCategory","_max","etime1","_count","_min","_avg","_stddev"]},{values:["nite-monitor-1","10.0","11.2345","282","11.2345","11.234500000000022","0.0"],keys:["_sourceCategory","_max","etime1","_count","_min","_avg","_stddev"]},{values:["nite-monitor-1","19.0","21.345550000000003","7","21.345550000000003","21.345550000000003","0.0"],keys:["_sourceCategory","_max","etime1","_count","_min","_avg","_stddev"]},{values:["nite-monitor-1","15.0","16.851750000000003","26","16.851750000000003","16.851749999999996","0.0"],keys:["_sourceCategory","_max","etime1","_count","_min","_avg","_stddev"]},{values:["nite-monitor-1","2.0","2.2469","4","2.2469","2.2469","0.0"],keys:["_sourceCategory","_max","etime1","_count","_min","_avg","_stddev"]},{values:["nite-monitor-1","32.0","35.9504","1","35.9504","35.9504","0.0"],keys:["_sourceCategory","_max","etime1","_count","_min","_avg","_stddev"]},{values:["nite-monitor-1","16.0","17.9752","22","17.9752","17.975199999999994","0.0"],keys:["_sourceCategory","_max","etime1","_count","_min","_avg","_stddev"]},{values:["nite-monitor-1","8.0","8.9876","53","8.9876","8.98759999999999","0.0"],keys:["_sourceCategory","_max","etime1","_count","_min","_avg","_stddev"]},{values:["nite-monitor-1","4.0","4.4938","5","4.4938","4.4938","0.0"],keys:["_sourceCategory","_max","etime1","_count","_min","_avg","_stddev"]},{values:["nite-monitor-1","1.0","1.12345","16","1.12345","1.12345","0.0"],keys:["_sourceCategory","_max","etime1","_count","_min","_avg","_stddev"]},{values:["nite-monitor-1","13.0","14.60485","97","14.60485","14.604850000000006","0.0"],keys:["_sourceCategory","_max","etime1","_count","_min","_avg","_stddev"]}]},{fields:[{name:"_sourcecategory",type:"string",key:!0},{name:"_timeslice",type:"long",key:!0},{name:"_count",type:"int",key:!1}],records:[{keys:["_sourcecategory","_timeslice","_count"],values:["cq","1341558000000","153"]},{keys:["_sourcecategory","_timeslice","_count"],values:["cq_metrics_reporter","1341558000000","15"]},{keys:["_sourcecategory","_timeslice","_count"],values:["service_metrics_reporter","1341558000000","15"]},{keys:["_sourcecategory","_timeslice","_count"],values:["bill","1341558000000","10"]},{keys:["_sourcecategory","_timeslice","_count"],values:["stream","1341558000000","36"]},{keys:["_sourcecategory","_timeslice","_count"],values:["raw_metrics_reporter","1341558000000","15"]},{keys:["_sourcecategory","_timeslice","_count"],values:["nerv","1341558000000","14"]},{keys:["_sourcecategory","_timeslice","_count"],values:["receiver_metrics_reporter","1341558000000","15"]},{keys:["_sourcecategory","_timeslice","_count"],values:["collector_metrics_reporter","1341558000000","206"]},{keys:["_sourcecategory","_timeslice","_count"],values:["zookeeper","1341558000000","387"]},{keys:["_sourcecategory","_timeslice","_count"],values:["search_metrics_reporter","1341558000000","15"]},{keys:["_sourcecategory","_timeslice","_count"],values:["meta_metrics_reporter","1341558000000","15"]},{keys:["_sourcecategory","_timeslice","_count"],values:["service","1341558000000","270"]},{keys:["_sourcecategory","_timeslice","_count"],values:["raw","1341558000000","20"]},{keys:["_sourcecategory","_timeslice","_count"],values:["nova_metrics_reporter","1341558000000","15"]},{keys:["_sourcecategory","_timeslice","_count"],values:["config","1341558000000","2"]},{keys:["_sourcecategory","_timeslice","_count"],values:["config_metrics_reporter","1341558000000","15"]},{keys:["_sourcecategory","_timeslice","_count"],values:["<script>alert(1);<\/script>","1343758000000","235"]}]},{fields:[{name:"_sourcecategory",type:"string",key:!0},{name:"_avg",type:"double",key:!1},{name:"_sum",type:"double",key:!1}],records:[{keys:["_sourcecategory","_sum"],values:["cq","0.0"]},{keys:["_sourcecategory","_avg","_sum"],values:["collector_metrics_reporter","11914.555555555555","1608465.0"]},{keys:["_sourcecategory","_avg","_sum"],values:["nova_metrics_reporter","2457619.8653846155","1.27796233E8"]},{keys:["_sourcecategory","_sum"],values:["service","0.0"]},{keys:["_sourcecategory","_avg","_sum"],values:["config_metrics_reporter","7853.784722222223","1130945.0"]}]},{fields:[{name:"_sourcecategory",type:"string",key:!0},{name:"_avg",type:"double",key:!1},{name:"_sum",type:"double",key:!1}],records:[]}]}}.apply(t,s))||(e.exports=n)},30508:function(e,t,i){var s,n;s=[i(60567),i(16471),i(63205),i(8303)],void 0===(n=function(e,t,i,s){"use strict";var n=t.DashboardsModule,a=e.SumoViewModule,r=i.FaqHelperModule;return a.extend({events:{"click #preserve-type":"onPreserveClick","click #reload-type":"onReloadClick"},template:_.template(s),parentView:null,getViewName:function(){return"IrisMonitorObsoleteView"},getComponent:function(){return"Dashboard"},getDialogView:function(){return this.getView("dialogView")},onPreserveClick:function(){this.parentView.onClickPaused(),this.parentView.disableAutoUpdateButtons(),this.getDialogView().close()},onReloadClick:function(){this.parentView.close(),SumoApp.dashboardView.maximizePanel(this.model.getId(),!0),this.getDialogView().close()},initialize:function(){this.parentView=this.options.parentView,this.model=this.options.parentView.model,_.bindAll(this,"render","onPreserveClick","onReloadClick");var e=this,t=SumoApp.factory.createDialogView({el:"#monitor-obsolete-dialog",plugin:{title:n.panel_obsolete_title,width:700,dialogClass:"no-close monitor-obsolete-modal",closeOnEscape:!1,close:function(){e.destroy()}}});this.registerView("dialogView",t),this.$el=t.$el,this.render()},render:function(){var e=this.model.isMine()?n.panel_obsolete_subtitle1_owner:n.panel_obsolete_subtitle1,t=$.extend(this.model.toJSON(),{__:n,subtitle1:e}),i=this.template(t);return this.$el.html(i),this.addFAQDiv(),this},addFAQDiv:function(){var e=[n.panel_obsolete_faq_q1,n.panel_obsolete_faq_q2,n.panel_obsolete_faq_q3],t=[n.panel_obsolete_faq_a1,n.panel_obsolete_faq_a2,n.panel_obsolete_faq_a3],i=(new r).createFAQView("#monitor-obsolete-faq-div","slc-faq-div",n.panel_obsolete_faq_title,e,t,SumoApp.context);this.registerView("faqView",i)}})}.apply(t,s))||(e.exports=n)},45300:function(e,t,i){var s,n;s=[i(16471),i(60567)],void 0===(n=function(e,t){"use strict";var i=t.SankeyDiagramModule,s=t.SankeyModelModule,n=e.DashboardsModule,a=t.ResultsViewerConstants,r=t.ChartUtil;return Backbone.View.extend({events:{},viewer:null,viewerModel:null,darkThemeConst:"dark-theme",lightThemeConst:"light-theme",onMonitorDataChange:function(){var e=this.model.getMonitorData()?this.model.getMonitorData().records:void 0;this.viewerModel.setFields(e?e.fields:void 0),this.viewerModel.setRecords(this.model.getMonitorDataRecords()),this.viewerModel.setRecordsUpdated($.now()),this.render()},resize:function(){null!==this.viewer&&this.viewer.onResize()},onThemeChange:function(e){e===this.darkThemeConst?this.$el.removeClass(this.lightThemeConst).addClass(this.darkThemeConst):this.$el.removeClass(this.darkThemeConst).addClass(this.lightThemeConst)},initialize:function(){_.bindAll(this,"render","resize","onMonitorDataChange","onDrilldown"),this.chartUtil=new r;var e={defaultColor:a.DefaultChartColors[0]};this.viewerModel=new s(e),this.onMonitorDataChange()},render:function(){var e=this.viewerModel.getFields();e&&0!==e.length&&(this.chartUtil.isSankeyApplicable(e)?this.viewer||(this.viewer=new i({context:this.options.context,model:this.viewerModel,el:this.$el,onDrilldown:this.onDrilldown})):this.renderNotApplicable())},onDrilldown:function(e){if(SumoApp.applicationView.onTransactionDrilldownSearch){var t=this.model.getMonitorDataTimeRange();SumoApp.applicationView.onTransactionDrilldownSearch(_.extend({},e,{searchExpression:this.model.getQueryString(),startMillis:t.start,endMillis:t.end}))}},renderNotApplicable:function(){this.$el.empty(),$("<div>").appendTo(this.$el).addClass("sankey-not-applicable-box").html(n.monitor_sankey_not_applicable)},destroy:function(){this.viewer&&this.viewer.destroy(),this.viewer=null,this.viewerModel=null,SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},86281:function(e,t,i){var s,n;s=[i(60567),i(16471)],void 0===(n=function(e,t){"use strict";t.DashboardsModule;var i=e.SumoModel,s=e.GetterSetterMixin;return i.extend({mixins:[s],defaults:{selectedIdx:0,panelModel:null},getComponent:function(){return"Dashboard"},getModelName:function(){return"PanelSettingsModel"}})}.apply(t,s))||(e.exports=n)},73482:function(e,t,i){var s,n;s=[i(57931),i(56249),i(86281),i(26379),i(86842),i(60567),i(91204),i(94131),i(87605),i(56610),i(75641),i(3459)],void 0===(n=function(e,t,i,s,n,a,r,o,l,d,c,u){"use strict";var h=a.SumoViewModule,g=(a.ResultsViewerConstants,".error");return h.extend({mixins:[u],events:{"click .cancel-link,.close-button":"close","click .nav-item":"updateSettingsView","click .settings-submit":"onSettingsSubmit"},template:_.template(t),advancedMode:!1,metricsMode:!1,getViewName:function(){return"PanelSettingsView"},getComponent:function(){return"Dashboard"},getDialogView:function(){return this.getView("dialogView")},close:function(){this.getDialogView().close()},onClose:function(){this.remove()},canSelectedLoseFocus:function(){var e=this.getSelectedSettingsSubView(),t=!0;return e&&_.isFunction(e.beforeFocusLost)&&(t=e.beforeFocusLost()),t||this.$(g).first().trigger("focus"),t},updateSettingsView:function(e){var t=$(e.target);if(this.canSelectedLoseFocus()){t.addClass("selected").siblings().removeClass("selected");var i=parseInt(t.attr("data-idx"),10);this.panelSettingsModel.setSelectedIdx(i),this.getView("item-"+i).render()}},renderPreview:function(){if(this.model.get("querySettingsUpdated"))this.setPreviewWarning();else{var e=this.getView("contentView");e&&e.destroy(),this.setPreview()}},onViewerTypeChange:function(){if(this.model.canUpdateSeriesInfo()){var e=this.model.getMonitorSettingsModel(),t=this.model.getMonitorData();e.updateSeriesInfo(t)}this.listenToCurrentSettingsModel(),this.render()},getSettingsViewCollection:function(){var e=this;return _.filter(s,(function(t){return t.supportsViewerType(e.model.getViewerType(),e.model,e.options.model,e.advancedMode)}))},registerSubView:function(e,t,i){this.registerView(t,new e({model:this.model,originalModel:this.options.model,el:i}))},getContentViewAttributes:function(){return{model:this.model,el:this.getContentContainer(),zoomType:"x"}},getContentContainer:function(){return this.$("#preview-content-view")},getContentStateContainer:function(){return this.$("#preview-content-view")},setPreviewWarning:function(){var e=this.$("#preview");if(!e.hasClass("show-preview-warning")){var t=SumoApp.getAngularService("$rootScope").$new();t.icon="exclamation-triangle",SumoApp.ngCompile(this.$("form-message"),t,!0),e.addClass("show-preview-warning")}},setPreview:function(){this.createContentsViewer(),this.model.getMonitorDataUpdated()&&this.onMonitorDataChange()},getContentContainerId:function(){return"#widget-content-"+this.model.getId()},getSelectedSettingsSubView:function(){return this.getView("item-"+this.panelSettingsModel.getSelectedIdx())},registerSubViews:function(){var e=this;_.each(this.items,(function(t,i){e.registerSubView(t.view,"item-"+i,e.$("#settings-sub-view"))})),this.getSelectedSettingsSubView().render(),$(".item-"+this.panelSettingsModel.getSelectedIdx()).addClass("selected")},listenToCurrentSettingsModel:function(){this.currentSettingsModel&&this.stopListening(this.currentSettingsModel),this.currentSettingsModel=this.model.getMonitorSettingsModel(),this.listenTo(this.currentSettingsModel,"changeSettingsModel",this.renderPreview)},onSettingsSubmit:function(){var e=this,t=this.model,i=this.options.model;if(this.canSelectedLoseFocus())if(t.get("querySettingsUpdated")){var s=this.validateQuery();SumoUtil.blockPage(),s.then((function(){e.setModelProperties(i),i.updateQueryAndTimeRange(t.getQueryString(),t.getTimeRange())})).catch((function(e){var t=SumoApp.getAngularService("$rootScope").$new();t.errors=e.errors,SumoApp.ngCompile($("form-errors"),t,!0)})).finally(SumoUtil.unblockPage)}else this.setModelProperties(i),i.update(!1,!1,!0)},setModelProperties:function(e){var t=this.model;e.setViewerType(t.getViewerType()),e.setProperties(t.getPropertiesModel().stringify()),this.getDialogView().close()},validateQuery:function(){var e=this.model,t=SumoApp.getAngularService("contentDashboardService"),i={queryString:e.getQueryString(),timeRange:e.getTimeRange()};return t.validatePanel(i)},initialize:function(t){this.metricsMode=t.model.isMetrics();var s=t.model,n=this,a=SumoApp.factory.createDialogView({el:"#panel-settings",plugin:{title:e.settings,position:$(window).height()<825?{my:"center top",at:"center top"}:"",width:770,close:function(){n.destroy()}}});this.registerView("dialogView",a),this.$el=a.$el,this.advancedMode=t.advancedMode;var r={title:"random",viewerType:s.getViewerType(),detailLevel:2,timeRange:s.getTimeRange(),properties:s.getProperties(),mock:!1,dashboardModel:s.getDashboardModel(),isDisabled:!1,queryString:s.getQueryString(),id:s.getId()};this.model=new c(r),this.panelSettingsModel=new i;var o=this.model.getMonitorSettingsModel(),l=s.getMonitorData();this.model.setMonitorData(l),this.model.canUpdateSeriesInfo()&&o.updateSeriesInfo(l),this.listenTo(this.model,"change:viewerType",this.onViewerTypeChange),this.listenToCurrentSettingsModel(),this.render()},render:function(){this.items=this.getSettingsViewCollection();var t=this.model.getDashboardModel().getTheme(),i=this.model.getChartClass();i+=" "+t;var s=_.extend(this.model.toJSON(),{__:e,navItems:this.items,chartClass:i});return this.$el.html(this.template(s)),this.renderPreview(),this.registerSubViews(),this},destroy:function(){this.panelSettingsModel=null,this.destroySubViews(),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},87605:function(e,t,i){var s,n;s=[i(16471),i(60567)],void 0===(n=function(e,t){"use strict";var i=t.SingleValueViewerModule,s=t.ThemeUtilModule,n=(e.DashboardsModule,t.SingleValueViewerModelModule),a=t.ResultsViewerConstants;return Backbone.View.extend({events:{},viewer:null,viewerModel:null,canBeRendered:function(){return this.viewer&&this.viewer.canBeRendered()},onMonitorDataChange:function(){this.viewerModel&&this.viewerModel.setAttributes({fields:this.model.getMonitorDataFields(),records:this.model.getMonitorDataRecords(),recordsUpdated:$.now()})},resize:function(){null!==this.viewer&&this.viewer.onResize()},onThemeChange:function(e){this.canBeRendered()&&this.viewer.render()},initialize:function(){_.bindAll(this,"render","resize","onMonitorDataChange","onRenderComplete"),this.render();var e={},t=s.getSelectedTheme().getChartColors(a.ViewerType.SINGLE_VALUE_VIEWER),r=this.model.getColorIndexByMonitorId();t&&(e.defaultColor=t[r]);var o=this.model.getMonitorSettingsModel();this.viewerModel=new n(e,o),this.viewer=new i({context:this.options.context,model:this.viewerModel,el:this.$el,clickHandler:this.options.clickHandler}),this.onRenderComplete()},onRenderComplete:function(){SumoApp.getAngularService("panelRenderNotificationService").notify(this.model.getId())},render:function(){return this},destroy:function(){this.viewer&&this.viewer.destroy(),this.viewer=null,this.viewerModel=null,SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},56610:function(e,t,i){var s,n;s=[i(16471)],void 0===(n=function(e){"use strict";e.DashboardsModule;return Backbone.View.extend({initialize:function(){_.bindAll(this,"render","onRenderComplete"),this.DOMPurify=i(96114),this.render()},render:function(){var e=this.model.getMonitorSettingsModel().getText();return this.$el.html('<div class="markdown-container">'+this.DOMPurify.sanitize(marked.parse(e,{allowExternal:!0}),{USE_PROFILES:{html:!0},FORBID_ATTR:["style"],FORBID_TAGS:["style"]})+"</div>"),this.$el.find("a").attr("target","_blank"),this.$el.find("a").attr("rel","noopener"),this.onRenderComplete(),this},onRenderComplete:function(){SumoApp.getAngularService("panelRenderNotificationService").notify(this.model.getId())},destroy:function(){SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},50491:function(e,t,i){var s,n;s=[i(16471),i(90356),i(63205)],void 0===(n=function(e,t,i){"use strict";var s=e.DashboardsModule,n=i.TimerangeUtil;return Backbone.View.extend({events:{"click #button-submit":"submitRequest","click #link-cancel":"closeView","submit form#monitor-timerange-selector-form":"onSubmitPreventDefault"},template:_.template(t),onSubmitPreventDefault:function(e){e.preventDefault()},submitRequest:function(){var e=this.$("#input-time-range-new").is(":checked");this.options.saveCallback&&this.options.saveCallback(e),this.options.exitCallback()},closeView:function(e){this.options.exitCallback(),e&&e.preventDefault()},initialize:function(){$.log("Sumo.Ui.Dashboard.Monitor.MonitorTimeRangeSelectorView.initialize (%s)",this.cid),_.bindAll(this,"render"),this.render()},render:function(){$.log("Sumo.Ui.Dashboard.Monitor.MonitorTimeRangeSelectorView.render (%s)",this.cid);var e=this.options.newTimeRange,t=this.options.originalTimeRange,i=new n,a=i.getTimeRangeDisplayText(e),r=i.getTimeRangeDisplayText(t),o={__:s,newTimeRangeText:a,originalTimeRangeText:r},l=this.template(o);return this.$el.html(l),this.$("#input-time-range-original").prop("checked",!0),this},destroy:function(){$.log("Sumo.Ui.Dashboard.Monitor.MonitorTimeRangeSelectorView.destroy (%s)",this.cid),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},95788:function(e,t,i){var s,n;s=[i(57931),i(61605),i(93e3),i(60567)],void 0===(n=function(e,t,i,s){"use strict";var n=s.SumoViewModule,a=(s.ResultsViewerConstants,".json-text-editor");return n.extend({mixins:[i],events:{"blur .json-text-editor":"updateSettings"},template:_.template(t),getViewName:function(){return"AdvancedEditSettings"},getComponent:function(){return this.COMPONENT_NAME},getSectionLabel:function(){return e.advanced_edit_settings},getRenderingProperties:function(){return{jsonConfig:SumoUtil.pp(this.model.getMonitorSettingsModel().getConfiguration())}},getValidationErrors:function(){var t=[];return this.updateSettings()||t.push({$field:this.$(a),errorMessage:e.invalid_json_configuration}),t},updateSettings:function(){var e=!0,t=this.model.getMonitorSettingsModel(),i=null;try{var s=this.$(a).val().replace(/\n/g,"");i=JSON.parse(s),t.setConfiguration(i),t.trigger("changeSettingsModel")}catch(t){e=!1}return e},render:function(){return this._render(),this}})}.apply(t,s))||(e.exports=n)},17451:function(e,t,i){var s,n;s=[i(57931),i(24356),i(37876),i(93e3),i(60567)],void 0===(n=function(e,t,i,s,n){"use strict";var a=n.ThemeUtilModule,r=n.SumoViewModule,o=n.ResultsViewerConstants,l=".minor-gridlines",d="#minor-gridlines-color";return r.extend({mixins:[i,s],events:{"change .minor-gridlines":"updateSettings","change #minor-gridlines-color":"updateSettings"},template:_.template(t),defaultColor:"#E0E0E0",getViewName:function(){return"AxisGridlinesSettingsView"},getComponent:function(){return this.COMPONENT_NAME},getSectionLabel:function(){return e.gridlines},getRenderingProperties:function(){var e="default",t=this.getTickInterval(),i=this.getRecommendedTickInterval();t&&(e="custom");var s="default-color",n=this.getTickColor();return n&&n!==this.defaultColor&&(s="custom-color"),{option:e,colorOption:s,tickInterval:t,smartTickInterval:i,customColor:"custom-color"===s?n:null}},getRecommendedTickInterval:function(){var e=0;this.isXAxis()&&this.model.isTimeSeriesData()?e=this.model.getTimeSliceInterval()/1e3:e=this.model.getMaxValue()/10;return e>10&&(e=Math.round(e)),Math.max(e,this.getMinimumTickInterval())},getMinimumTickInterval:function(){var e=0;this.isXAxis()&&this.model.isTimeSeriesData()?e=this.model.getTimeRangeDuration()/1e3*.01:e=.01*this.model.getMaxValue();return e>10&&(e=Math.round(e)),e},isXAxis:function(){return!0===this.options.xAxis},getValidationErrors:function(){var t=[],i=this.$(l).buttonGroup("getSelectedOption"),s=null;if("custom"===i.value){s=i.editable;var n=SumoUtil.isNumber(s);if(n||"auto"===s){if(n){s=parseFloat(s);var a=this.getMinimumTickInterval();s<a&&t.push({$field:this.$(l),errorMessage:sprintf(e.minor_grid_lines_too_low,a)})}}else t.push({$field:this.$(l),errorMessage:e.minor_grid_lines_positive})}return t},updateSettings:function(){this.validateSettings()&&(this.updateGridlinesSettings(),this.updateColorSettings())},updateGridlinesSettings:function(){var e=this.$(l).buttonGroup("getSelectedOption"),t=null;"custom"===e.value&&(t=parseFloat(e.editable),_.isNaN(t)?t=null:this.isXAxis()&&this.model.isTimeSeriesData()&&(t*=1e3)),this.setTickInterval(t)},setupColorPicker:function(){var t=o.ColorPickerPalette,i=a.getSelectedTheme();i&&(t=i.getColorPickerPalette(o.ViewerType.SINGLE_VALUE_VIEWER));var s=this.defaultColor,n=this.getTickColor();SumoUtil.hookupColorPicker({cancelText:e.color_picker_cancel_text,chooseText:e.color_picker_choose_text,palette:t,elm:this.$(d),color:n,nullColor:s})},updateColorSettings:function(){var e=this.$(d).val();this.setTickColor(e)},getTickInterval:function(){var e=null;this.isXAxis()?(e=this.model.getMonitorSettingsModel().getXAxis().minorTickInterval,this.model.isTimeSeriesData()&&(e/=1e3)):e=this.getSelectedYAxis().minorTickInterval;return e},setTickInterval:function(e){var t=this.model.getMonitorSettingsModel();this.isXAxis()?t.setXAxisMinorTickInterval(e):t.setYAxisMinorTickInterval(e)},getTickColor:function(){var e=null;this.isXAxis()?e=this.model.getMonitorSettingsModel().getXAxis().minorGridLineColor:e=this.getSelectedYAxis().minorGridLineColor;return e},setTickColor:function(e){e=e||this.defaultColor;var t=this.model.getMonitorSettingsModel();this.isXAxis()?t.setXAxisMinorGridLineColor(e):t.setYAxisMinorGridLineColor(e)},render:function(){return!this.isXAxis()&&_.isEmpty(this.getSelectedYAxis())||(this._render(),this.$("[data-button-group]").buttonGroup(),this.setupColorPicker()),this}})}.apply(t,s))||(e.exports=n)},44374:function(e,t,i){var s,n;s=[i(57931),i(60567),i(3692)],void 0===(n=function(e,t,i){"use strict";var s=t.SumoViewModule;t.ResultsViewerConstants;return s.extend({events:{},template:_.template(i),updateSettings:function(){},getViewName:function(){return"AxisLabelSettingsView"},getComponent:function(){return"DashboardSettings"},initialize:function(){this.render()},render:function(){return this}})}.apply(t,s))||(e.exports=n)},16601:function(e,t,i){var s,n;s=[i(57931),i(37876),i(93e3),i(60567),i(73710)],void 0===(n=function(e,t,i,s,n){"use strict";var a=s.SumoViewModule,r=(s.ResultsViewerConstants,".min-range"),o=".max-range";return a.extend({mixins:[t,i],events:{"change input":"updateSettings"},template:_.template(n),getViewName:function(){return"AxisScaleSettingsView"},getComponent:function(){return this.COMPONENT_NAME},getSectionLabel:function(){return e.range},getRenderingProperties:function(){var e=this.getSelectedYAxis();return{min:e.min,max:e.max}},parseNumberValue:function(e){var t=null,i=e.replace(/,/g,"");return SumoUtil.isNumber(i)&&(t=parseFloat(i)),t},getValidationErrors:function(){var t=[],i=this.$(r),s=this.$(o),n=this.parseNumberValue(i.val()),a=this.parseNumberValue(s.val());return SumoUtil.isStringEmpty(i.val())||SumoUtil.isNumber(i.val())||t.push({$field:i,errorMessage:e.error_numeric}),SumoUtil.isStringEmpty(s.val())||SumoUtil.isNumber(s.val())||t.push({$field:s,errorMessage:e.error_numeric}),n&&a&&n>a&&t.push({$field:s,errorMessage:e.range_error_minimum_greater_than_maximum}),t},updateSettings:function(){var e=this.parseNumberValue(this.$(r).val()),t=this.parseNumberValue(this.$(o).val());this.validateSettings()&&this.setRange(e,t)},setRange:function(e,t){var i=this.getSelectedYAxis();i.min=e,i.max=t,this.setSelectedYAxis(i)},render:function(){return this._render(),this}})}.apply(t,s))||(e.exports=n)},10846:function(e,t,i){var s,n;s=[i(57931),i(93381),i(37876),i(93e3),i(60567)],void 0===(n=function(e,t,i,s,n){"use strict";var a=n.SumoViewModule,r=n.ResultsViewerConstants;return a.extend({mixins:[i,s],events:{"change .scale-mode":"updateSettings"},template:_.template(t),getViewName:function(){return"AxisScaleSettingsView"},getComponent:function(){return this.COMPONENT_NAME},getSectionLabel:function(){return e.scale},getRenderingProperties:function(){return{scaleMode:this.getScaleMode()}},updateSettings:function(e,t){var i=t.value;this.setScaleMode(i)},getScaleMode:function(){return this.getSelectedYAxis().logScale?r.AxisScaleMode.LOG:r.AxisScaleMode.LINEAR},setScaleMode:function(e){var t=this.getSelectedYAxis();t.logScale=e===r.AxisScaleMode.LOG,this.setSelectedYAxis(t)},render:function(){return this._render(),this.$("[data-button-group]").buttonGroup({initialValue:this.getScaleMode()}),this}})}.apply(t,s))||(e.exports=n)},75681:function(e,t,i){var s,n;s=[i(57931),i(86652),i(93e3),i(60567),i(10846),i(16601)],void 0===(n=function(e,t,i,s,n,a){"use strict";var r=s.SumoViewModule;s.ResultsViewerConstants;return r.extend({mixins:[i],events:{"change .use-secondary-y-input":"updateSecondaryYSettings","change .chart-type":"updateChartTypeSettings"},template:_.template(t),getViewName:function(){return"SecondaryYAxisSettingsView"},getComponent:function(){return this.COMPONENT_NAME},createDomSafeSeriesNames:function(e){var t={};return _(e).each((function(e,i){if(i){var s=i.replace(/[\W]+/g,(function(e){return _.map(e.split(""),(function(e){return e.charCodeAt(0)})).join("")}));t[i]="series-name-"+s}else t[i]="series-name-empty-object"})),t},getSeriesName:function(e){var t=this.model.getMonitorSettingsModel().getSeriesInfo();return _.invert(this.createDomSafeSeriesNames(t))[e.split("--")[0]]},getSectionLabel:function(){return e.secondary_y_axis},getRenderingProperties:function(){var e=this.model.getMonitorSettingsModel().getSeriesInfo();return{seriesInfo:e,domSafeSeriesNames:this.createDomSafeSeriesNames(e)}},updateSecondaryYSettings:function(e){var t=this.model.getMonitorSettingsModel(),i=t.getSeriesInfo(),s=$(e.target),n=s.attr("id"),a=this.getSeriesName(n),r=s.is(":checked");i[a].yAxis=r?1:0;var o=t.getYAxis();r&&o.length<2&&(o.push({title:null,bands:null,logScale:!1,min:0,max:null}),t.setYAxis(o)),t.setSeriesInfo(i)},updateChartTypeSettings:function(e,t){var i=this.model.getMonitorSettingsModel(),s=i.getSeriesInfo(),n=$(e.target).attr("id");s[this.getSeriesName(n)].chartType=t.value,i.setSeriesInfo(s)},render:function(){this._render(),this.registerView("scale",new n({model:this.model,el:$("#scale"),secondary:!0})),this.registerView("range",new a({model:this.model,el:$("#range"),secondary:!0}));var e=this.model.getMonitorSettingsModel().getSeriesInfo(),t=this.createDomSafeSeriesNames(e);return _(_.keys(e)).each((function(i){var s=e[i].chartType,n=t[i];this.$("#"+n+"--chart-type").buttonGroup({initialValue:s})}),this),this}})}.apply(t,s))||(e.exports=n)},80915:function(e,t,i){var s,n;s=[i(57931),i(93e3),i(60567),i(99347)],void 0===(n=function(e,t,i,s){"use strict";var n=i.SumoViewModule,a=(i.ResultsViewerConstants,".axis-title"),r=".axis-label";return n.extend({mixins:[t],events:{"change .axis-title":"updateTitleFontSize","change .axis-label":"updateLabelFontSize"},template:_.template(s),getViewName:function(){return"LabelAndTitleSettingsView"},getComponent:function(){return this.COMPONENT_NAME},getSectionLabel:function(){return e.axis_title_label_header},getRenderingProperties:function(){var e=this.model.getMonitorSettingsModel();return{title:e.getXTitleFontSizeOption(),label:e.getXLabelFontSizeOption()}},getValidationErrors:function(){var t=[],i=this.$(a).val(),s=this.$(r).val();return SumoUtil.isStringEmpty(i)||SumoUtil.isNumber(i)||t.push({$field:$(a),errorMessage:e.error_numeric}),(i<1||i>50)&&t.push({$field:$(a),errorMessage:e.error_1_to_50_out_of_range}),SumoUtil.isStringEmpty(s)||SumoUtil.isNumber(s)||t.push({$field:$(r),errorMessage:e.error_numeric}),(s<1||s>25)&&t.push({$field:$(r),errorMessage:e.error_1_to_25_out_of_range}),t},updateTitleFontSize:function(){var e=this.$(a).val();this.validateSettings()&&this.setTitleFontSize(e)},updateLabelFontSize:function(){var e=this.$(r).val();this.validateSettings()&&this.setLabelFontSize(e)},setTitleFontSize:function(e){this.model.getMonitorSettingsModel().setXTitleFontSizeOption(e)},setLabelFontSize:function(e){this.model.getMonitorSettingsModel().setXLabelFontSizeOption(e)},render:function(){return this._render(),this}})}.apply(t,s))||(e.exports=n)},57966:function(e,t,i){var s,n;s=[i(60567),i(57931),i(95644),i(11270)],void 0===(n=function(e,t,i,s){"use strict";return e.SumoViewModule.extend({mixins:[i],getViewName:function(){return"XAxisSettingsView"},getComponent:function(){return"Dashboard"},getPrefix:function(){return"xaxis"},getSettingsCollection:function(){return s},render:function(){return this._render()}})}.apply(t,s))||(e.exports=n)},11270:function(e,t,i){var s,n;s=[i(57931),i(60567),i(44374),i(10846),i(16601),i(17451),i(80915)],void 0===(n=function(e,t,i,s,n,a,r){"use strict";var o=t.ResultsViewerConstants;return{scale:{view:s,supportsViewerType:function(e){return o.ViewerType.BAR_CHART===e}},range:{view:n,supportsViewerType:function(e){return o.ViewerType.BAR_CHART===e}},gridlines:{view:a,supportsViewerType:function(e,t){return(o.ViewerType.LINE_CHART===e||o.ViewerType.AREA_CHART===e)&&t.hasNumericData()&&t.canShowGridLines()},viewOptions:{xAxis:!0}},labelAndTitle:{view:r,supportsViewerType:function(e){return[o.ViewerType.LINE_CHART,o.ViewerType.BAR_CHART,o.ViewerType.COLUMN_CHART,o.ViewerType.AREA_CHART].indexOf(e)>-1}}}}.apply(t,s))||(e.exports=n)},91834:function(e,t,i){var s,n;s=[i(57931),i(93e3),i(60567),i(99347)],void 0===(n=function(e,t,i,s){"use strict";var n=i.SumoViewModule,a=(i.ResultsViewerConstants,".axis-title"),r=".axis-label";return n.extend({mixins:[t],events:{"change .axis-title":"updateTitleFontSize","change .axis-label":"updateLabelFontSize"},template:_.template(s),getViewName:function(){return"LabelAndTitleSettingsView"},getComponent:function(){return this.COMPONENT_NAME},getSectionLabel:function(){return e.axis_title_label_header},getRenderingProperties:function(){var e=this.model.getMonitorSettingsModel();return{title:e.getYTitleFontSizeOption(),label:e.getYLabelFontSizeOption()}},getValidationErrors:function(){var t=[],i=this.$(a).val(),s=this.$(r).val();return SumoUtil.isStringEmpty(i)||SumoUtil.isNumber(i)||t.push({$field:$(a),errorMessage:e.error_numeric}),(i<1||i>50)&&t.push({$field:$(a),errorMessage:e.error_1_to_50_out_of_range}),SumoUtil.isStringEmpty(s)||SumoUtil.isNumber(s)||t.push({$field:$(r),errorMessage:e.error_numeric}),(s<1||s>25)&&t.push({$field:$(r),errorMessage:e.error_1_to_25_out_of_range}),t},updateTitleFontSize:function(){var e=this.$(a).val();this.validateSettings()&&this.setTitleFontSize(e)},updateLabelFontSize:function(){var e=this.$(r).val();this.validateSettings()&&this.setLabelFontSize(e)},setTitleFontSize:function(e){this.model.getMonitorSettingsModel().setYTitleFontSizeOption(e)},setLabelFontSize:function(e){this.model.getMonitorSettingsModel().setYLabelFontSizeOption(e)},render:function(){return this._render(),this}})}.apply(t,s))||(e.exports=n)},37876:function(e,t){var i;void 0===(i=function(){"use strict";return{defaults:{},mixin:{isPrimary:function(){return!this.options.secondary},isAxisUsed:function(e){var t=this.model.getMonitorSettingsModel(),i=t.getSeriesInfo&&t.getSeriesInfo();return _.isEmpty(i)?0===e:_(i).some((function(t){return t.yAxis===e}))},getSelectedYAxis:function(){var e=this.model.getMonitorSettingsModel().getYAxis(),t=this.isPrimary()?0:1;return this.isAxisUsed(t)?e[t]:{}},setSelectedYAxis:function(e){var t=this.model.getMonitorSettingsModel();this.isPrimary()?t.setPrimaryYAxis(e):t.setSecondaryYAxis(e)}}}}.apply(t,[]))||(e.exports=i)},97919:function(e,t,i){var s,n;s=[i(60567),i(57931),i(95644),i(54923)],void 0===(n=function(e,t,i,s){"use strict";return e.SumoViewModule.extend({mixins:[i],getViewName:function(){return"YAxisSettingsView"},getComponent:function(){return"Dashboard"},getPrefix:function(){return"yaxis"},getSettingsCollection:function(){return s},render:function(){return this._render()}})}.apply(t,s))||(e.exports=n)},54923:function(e,t,i){var s,n;s=[i(57931),i(60567),i(44374),i(10846),i(16601),i(17451),i(91834),i(75681)],void 0===(n=function(e,t,i,s,n,a,r,o){"use strict";var l=t.ResultsViewerConstants;return{stacking:{view:i,supportsViewerType:function(e){return!1}},scale:{view:s,supportsViewerType:function(e){return l.ViewerType.COLUMN_CHART===e||l.ViewerType.LINE_CHART===e||l.ViewerType.AREA_CHART===e}},range:{view:n,supportsViewerType:function(e){return l.ViewerType.COLUMN_CHART===e||l.ViewerType.LINE_CHART===e||l.ViewerType.AREA_CHART===e||l.ViewerType.BOXPLOT_CHART===e}},gridlines:{view:a,supportsViewerType:function(e,t){return t.canShowGridLines()},viewOptions:{xAxis:!1}},labelAndTitle:{view:r,supportsViewerType:function(e){return[l.ViewerType.LINE_CHART,l.ViewerType.BAR_CHART,l.ViewerType.COLUMN_CHART,l.ViewerType.AREA_CHART].indexOf(e)>-1}},secondary_y_axis:{view:o,supportsViewerType:function(e){return l.ViewerType.COLUMN_CHART===e||l.ViewerType.LINE_CHART===e}}}}.apply(t,s))||(e.exports=n)},49339:function(e,t,i){var s,n;s=[i(60567),i(56165)],void 0===(n=function(e,t){"use strict";var i=e.ThemeUtilModule,s=e.ResultsViewerSettings,n=e.ResultsViewerConstants;return Backbone.View.extend({events:{"click .min-value":"onMinValueClick","click .max-value":"onMaxValueClick","click .band-color":"onBandColorClick","change .chart-band-input":"updateRange","click .action-add-cancel":"onAddCancelClick","click .action-delete":"onDeleteActionClick"},template:_.template(t),_NULL_COLOR:"#fff",onMinValueClick:function(e){this.model.setMode(n.EditorMode.EDIT),$.later(30,this,(function(){this.$(".input-min-value").trigger("focus")}))},onMaxValueClick:function(e){this.model.setMode(n.EditorMode.EDIT),$.later(30,this,(function(){this.$(".input-max-value").trigger("focus")}))},onBandColorClick:function(e){this.model.setMode(n.EditorMode.EDIT),$.later(30,this,(function(){this.$(".input-band-color").spectrum("show")}))},onAddCancelClick:function(){this.options.cancelAddHandler&&this.options.cancelAddHandler()},updateRange:function(){this.validateAndSave()},onDeleteActionClick:function(){if(this.options.deleteHandler){var e=this.model.getChartBandModel();this.options.deleteHandler(e)}},handleError:function(){var e=this.$(".errors"),t=this.model.getError();null===t?(this.options.context.errorUtil.destroy(e),e.hide()):(this.options.context.errorUtil.render(e,t,null),e.show(),SumoUtil.scrollElementIntoView(e,$("#chart-bands-container")))},onModeChange:function(){this.applyMode()},applyMode:function(){var e=this.model.getMode();switch(e){case n.EditorMode.VIEW:this.$(".min-value").show(),this.$(".input-min-value").hide(),this.$(".max-value").show(),this.$(".input-max-value").hide(),this.$(".band-color-viewer").show(),this.$(".band-color-picker").hide(),this.$(".band-actions").show(),this.$(".add-actions").hide(),this.$(".edit-actions").hide();break;case n.EditorMode.EDIT:this.$(".min-value").hide(),this.$(".input-min-value").show(),this.$(".max-value").hide(),this.$(".input-max-value").show(),this.$(".band-color-viewer").hide(),this.$(".band-color-picker").show(),this.$(".band-actions").show(),this.$(".add-actions").hide(),this.$(".edit-actions").show();break;case n.EditorMode.ADD:this.$(".min-value").hide(),this.$(".input-min-value").show(),this.$(".max-value").hide(),this.$(".input-max-value").show(),this.$(".band-color-viewer").hide(),this.$(".band-color-picker").show(),this.$(".band-actions").hide(),this.$(".add-actions").show(),this.$(".edit-actions").hide(),this.$(".input-min-value").trigger("focus");break;default:throw"Sumo.Ui.Util.ResultsViewer.ChartBandEditorView.applyMode - No handler for mode ["+e+"]."}},setModelValues:function(){var e=this.model.getChartBandModel(),t=e.getMin(),i=t?SumoUtil.formatNumber(t):s.CHART_BAND_MIN_MAX_ANY;this.$(".min-value").text(i),this.$(".input-min-value").val(t);var n=e.getMax(),a=n?SumoUtil.formatNumber(n):s.CHART_BAND_MIN_MAX_ANY;this.$(".max-value").text(a),this.$(".input-max-value").val(n);var r=e.getColor();SumoUtil.isStringEmpty(r)?(this.$(".band-color").css("background-color",this._NULL_COLOR),this.$(".input-band-color").val(null)):(this.$(".band-color").css("background-color",r),this.$(".input-band-color").val(r))},hasAnyInputs:function(){var e=this.$(".input-min-value").val();if(!1===SumoUtil.isStringEmpty(e))return!0;var t=this.$(".input-max-value").val();if(!1===SumoUtil.isStringEmpty(t))return!0;var i=this.$(".input-band-color").val();return!1===SumoUtil.isStringEmpty(i)&&i!==this._NULL_COLOR},validateInputs:function(){this.model.setError(null);var e=this.$(".input-min-value").val();if(SumoUtil.isStringEmpty(e))e=null;else if(!SumoUtil.isNumber(e))return this.model.setError(s.CHART_BAND_ERROR_MIN_VALUE_SHOULD_BE_A_NUMBER),!1;var t=this.$(".input-max-value").val();if(SumoUtil.isStringEmpty(t))t=null;else if(!SumoUtil.isNumber(t))return this.model.setError(s.CHART_BAND_ERROR_MAX_VALUE_SHOULD_BE_A_NUMBER),!1;if(null!==t&&null!==e&&Number(t)<Number(e))return this.model.setError(s.CHART_BAND_ERROR_MAX_VALUE_SHOULD_GREATER_THAN_MIN),!1;var i=this.$(".input-band-color").val();return!SumoUtil.isStringEmpty(i)&&i!==this._NULL_COLOR||(this.model.setError(s.CHART_BAND_ERROR_COLOR_REQUIRED),!1)},setValuesToModel:function(){var e=this.model.getChartBandModel(),t=this.$(".input-min-value").val();SumoUtil.isStringEmpty(t)&&(t=null),e.setMin(t);var i=this.$(".input-max-value").val();SumoUtil.isStringEmpty(i)&&(i=null),e.setMax(i);var s=this.$(".input-band-color").val();e.setColor(s)},validateAndSave:function(){if(!1===this.validateInputs())return!1;this.setValuesToModel();var e=this.model.getMode();if(e===n.EditorMode.EDIT)this.setModelValues(),this.model.setMode(n.EditorMode.VIEW),this.options.editHandler&&this.options.editHandler();else if(e===n.EditorMode.ADD&&this.options.addHandler){var t=this.model.getChartBandModel();this.options.addHandler(t)}return!0},initialize:function(){$.log("Sumo.Ui.Util.ResultsViewer.ChartBandEditorView.initialize (%s)",this.cid),_.bindAll(this,"render","validateInputs","handleError","validateAndSave","hasAnyInputs","onModeChange","applyMode","setModelValues","setValuesToModel"),this.listenTo(this.model,"change:mode",this.onModeChange),this.listenTo(this.model,"change:error",this.handleError),this.render(),this.setModelValues();var e=n.ColorPickerPalette,t=n.NULL_COLOR,a=i.getSelectedTheme();if(a){var r=this.options.viewerType||"generic";e=a.getColorPickerPalette(r)}var o=this.model.getChartBandModel();SumoUtil.hookupColorPicker({elm:this.$(".input-band-color"),color:o.getColor(),cancelText:s.COLOR_PICKER_CANCEL_LINK_TEXT,chooseText:s.COLOR_PICKER_CHOOSE_BUTTON_TEXT,palette:e,nullColor:t}),this.applyMode()},render:function(){$.log("Sumo.Ui.Util.ResultsViewer.ChartBandEditorView.render (%s)",this.cid);var e=_.extend({__:s},this.model.toJSON()),t=this.template(e);return this.$el.html(t),this},destroy:function(){$.log("Sumo.Ui.Util.ResultsViewer.ChartBandEditorView.destroy (%s)",this.cid),this.$(".input-band-color").spectrum("destroy"),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},56752:function(e,t,i){var s,n;s=[i(57931),i(34985),i(93e3),i(60567),i(49339)],void 0===(n=function(e,t,i,s,n){"use strict";var a=s.ChartBandEditorModelModule,r=s.ChartBandModelModule,o=s.ChartBandsCollectionModule,l=s.SumoViewModule,d=s.ResultsViewerConstants;return l.extend({mixins:[i],events:{"click #chart-band-add-action":"onAddClick"},template:_.template(t),bandsCollection:null,addPending:!1,getViewName:function(){return"ColorByRangeSettingsView"},getComponent:function(){return this.COMPONENT_NAME},getBandEditorViewId:function(e){return"band-editor-view-"+e.cid},onAddClick:function(e){e.preventDefault(),this.addBandEditor()},addBandEditor:function(){this.addPending=!0;var e=$("<div>").appendTo(this.$("#chart-bands-container")),t=new r({color:"#FFFFFF"}),i=this.getBandEditorViewId(t);e.attr("id",i);var s=new a({chartBandModel:t,mode:d.EditorMode.ADD}),o=this,l=new n({viewerType:this.model.getViewerType(),context:SumoApp.context,el:e,model:s,cancelAddHandler:function(){o.onAddCanceled(i)},addHandler:this.onAddBand});this.subviews.register(i,l),this.$("#chart-band-add-action").hide()},onAddCanceled:function(e){this.removeBandEditor(e),this.addPending=!1,0===this.bandsCollection.length?this.addBandEditor():this.$("#chart-band-add-action").show()},onAddBand:function(e){this.addPending=!1;var t=this.getBandEditorViewId(e);this.removeBandEditor(t),this.bandsCollection.push(e),this.updateSettings(),this.$("#chart-band-add-action").show();var i=$(".right-panel");i.scrollTop(i[0].scrollHeight)},onEditBand:function(){this.updateSettings(),this.$("#chart-band-add-action").show()},onBandAdded:function(e){var t=$("<div>"),i=this.getBandEditorViewId(e);t.attr("id",i);var s=new a({chartBandModel:e,mode:d.EditorMode.VIEW}),r=new n({context:SumoApp.context,el:t,model:s,deleteHandler:this.onRemoveBand,editHandler:this.onEditBand});this.subviews.register(i,r),this.$("#chart-bands-container").append(t)},onRemoveBand:function(e){e&&(this.bandsCollection.remove(e),this.updateSettings())},onBandRemoved:function(e){var t=this.getBandEditorViewId(e);this.removeBandEditor(t),0!==this.bandsCollection.length||this.addPending||this.addBandEditor()},removeBandEditor:function(e){this.subviews.remove(e),this.$("#"+e).remove()},getSectionLabel:function(){return e.color_by_range_settings_view},getRenderingProperties:function(){return{}},updateSettings:function(e,t){var i=this.model.getMonitorSettingsModel(),s=!0;if(this.subviews.iterate((function(e,t){var i=e.model;if("getMode"in i){var n=i.getMode();if(n!==d.EditorMode.VIEW){var a=!0;if(n===d.EditorMode.ADD&&"hasAnyInputs"in e&&!1===e.hasAnyInputs()&&(a=!1),a&&"validateAndSave"in e)!1===e.validateAndSave()&&(s=!1)}}})),s){var n=null;this.bandsCollection&&this.bandsCollection.length>0&&(n=this.bandsCollection.toJSON()),this.model.getViewerType()===d.ViewerType.SINGLE_VALUE_VIEWER?i.setColorsByValueRange(n):i.setYAxisBands(n)}},render:function(){this.bandsCollection=new o,_.bindAll(this,"getBandEditorViewId","addBandEditor","onAddCanceled","onAddBand","onBandAdded","onBandRemoved","onRemoveBand","removeBandEditor","onEditBand"),this.bandsCollection.on("add",this.onBandAdded,this),this.bandsCollection.on("remove",this.onBandRemoved,this),this._render();var e,t=this.model.getMonitorSettingsModel();if(e=this.model.getViewerType()===d.ViewerType.SINGLE_VALUE_VIEWER?t.getColorsByValueRange():t.getYAxisBands())for(var i=0;i<e.length;i++){var s=e[i],n=new r(s);this.bandsCollection.push(n)}return 0===this.bandsCollection.length&&this.addBandEditor(),this},destroy:function(){$.log("Sumo.Ui.Util.ResultsViewer.ChartBandsEditorView.destroy (%s)",this.cid),this.bandsCollection&&this.bandsCollection.off(),this.subviews.destroy(),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},66283:function(e,t,i){var s,n;s=[i(57931),i(16638),i(93e3),i(60567)],void 0===(n=function(e,t,i,s){"use strict";var n=s.ThemeUtilModule,a=s.SumoViewModule;s.ResultsViewerConstants;return a.extend({mixins:[i],events:{"click .color-box":"changeColorIndex"},template:_.template(t),getViewName:function(){return"ColorIndexSettingsView"},getComponent:function(){return this.COMPONENT_NAME},getSectionLabel:function(){return e.color_index},getRenderingProperties:function(){var e=n.getSelectedTheme(),t=null,i=null,s=this.model.getNumberOfSeries();if(e){i=e.getChartColorFamilies(this.model.getViewerType());var a=s<10?_(i).omit("SIGNAL","D3_CATEGORY20","D3_CATEGORY20B"):_(i).pick("D3_CATEGORY20","D3_CATEGORY20B");t=_(a).map((function(e,t){return{name:t,colors:e.slice(0,9)}}))}return{chartColors:t}},changeColorIndex:function(e){var t=$(e.currentTarget);this.$el.find(".selected").removeClass("selected"),this.updateSettings({colorFamily:t.parent().attr("data-color-family"),colorIndex:t.attr("data-idx")})},highlightSelectedColors:function(){var e=this.model.getMonitorSettingsModel(),t=parseInt(e.getColorIndex(),10);t||(t=0);var i,s=e.getColorFamily();s?i=this.$("div[data-color-family="+s+"]"):s=(i=this.$(".color-family").first()).attr("data-color-family");var a=this.model.getNumberOfSeries(),r=n.getSelectedTheme().getChartColorFamilies(this.model.getViewerType())[s];if(r=a<10?r.slice(0,9):r,i.addClass("selected"),a>0)for(var o=0;o<a;o++){var l=Math.floor((t+o)%r.length);i.find("#color-box-"+l).addClass("selected")}else i.find("#color-box-"+t).addClass("selected")},setupHoverState:function(){var e=this.model.getNumberOfSeries(),t=this.$(".color-box");t.on("mouseenter",(function(t){var i=$(t.target);if(e<2)i.addClass("hover");else{for(var s=i.siblings().addBack(),n=s.length,a=i.attr("data-idx"),r=[],o=0;o<e;o++)r.push((a+o)%n);s.each((function(e,t){_(r).contains(e)&&$(t).addClass("hover")}))}})).on("mouseleave",(function(){t.removeClass("hover")}))},updateSettings:function(e){var t=this.model.getMonitorSettingsModel(),i=t.getColorSettings(),s=e.colorIndex,n=e.colorFamily;i.index=s,i.family=n,t.setColorSettings(i),this.highlightSelectedColors()},render:function(){return this._render(),this.highlightSelectedColors(),this.setupHoverState(),this}})}.apply(t,s))||(e.exports=n)},82363:function(e,t,i){var s,n;s=[i(60567),i(95644),i(77819)],void 0===(n=function(e,t,i){"use strict";var s=e.SumoViewModule;e.ResultsViewerConstants;return s.extend({mixins:[t],getViewName:function(){return"ColorSettingsView"},getComponent:function(){return"Dashboard"},getPrefix:function(){return"color"},getSettingsCollection:function(){return i},render:function(){return this._render()}})}.apply(t,s))||(e.exports=n)},77819:function(e,t,i){var s,n;s=[i(57931),i(60567),i(66283),i(31278),i(56752)],void 0===(n=function(e,t,i,s,n){"use strict";var a=t.ResultsViewerConstants;return{color_index:{view:i,supportsViewerType:function(e){return e!==a.ViewerType.SINGLE_VALUE_VIEWER}},svv_data:{view:s,supportsViewerType:function(e){return a.ViewerType.SINGLE_VALUE_VIEWER===e}},color_by_range:{view:n,supportsViewerType:function(e){return e===a.ViewerType.COLUMN_CHART||e===a.ViewerType.BAR_CHART||e===a.ViewerType.SINGLE_VALUE_VIEWER}}}}.apply(t,s))||(e.exports=n)},11978:function(e,t,i){var s,n;s=[i(60567),i(22077)],void 0===(n=function(e,t){"use strict";var i=e.SumoModel,s=e.GetterSetterMixin,n=e.ModelErrorHandlerMixin;return i.extend({mixins:[t,n,s],defaults:{dashboardModel:null,dashboards:[]},getModelName:function(){return"DashboardLinkSettingsModel"},getComponent:function(){return"Dashboards"},saveUserDashboards:function(e){var t=_(e).sortBy((function(e){return e.title}));this.setDashboards(t)},loadDashboardError:function(e){var t=e.formattedErrorDetails?e.formattedErrorDetails:e.friendlyErrorMessage;SumoApp.userMessage.error(t),this.handleWrappedError(e)},initialize:function(){_.bindAll(this,"saveUserDashboards","loadDashboardError"),this.getAllUserDashboards().then(this.saveUserDashboards).catch(this.loadDashboardError)}})}.apply(t,s))||(e.exports=n)},80797:function(e,t,i){var s,n;s=[i(57931),i(89758),i(93e3),i(11978),i(60567)],void 0===(n=function(e,t,i,s,n){"use strict";var a=n.SumoViewModule;n.ResultsViewerConstants;return a.extend({mixins:[i],events:{"click #dashboard-link":"enableDashboardLinking","change #input-dashboard":"updateSettings"},template:_.template(t),getViewName:function(){return"DashboardLinkSettingsView"},getComponent:function(){return this.COMPONENT_NAME},getSectionLabel:function(){return e.dashboard_linking},getCleanDashboardName:function(e){var t=e,i=e.lastIndexOf("/");return-1!==i&&(t=e.substring(i+1)),t},isFallbackTargetEmpty:function(e){return!e||!e.id&&!e.name},findSelectedDashboardIndex:function(e,t){var i=-1;if(_.isEmpty(e)||this.isFallbackTargetEmpty(t))return i;var s=null;return t.id&&(s=_(e).findWhere({id:t.id})),!s&&t.name&&(s=_(e).findWhere({name:this.getCleanDashboardName(t.name)})),s&&(i=_(e).indexOf(s)),i},getRenderingProperties:function(){var t=this.model.getPropertiesModel().getCommonSettings(),i=t.getDrilldownFallbackTarget(),s=this.dashboardLinkSettingsModel.getDashboards(),n=this.findSelectedDashboardIndex(s,i),a=-1!==n;return _.isEmpty(s)||a||this.isFallbackTargetEmpty(i)||(t.clearDrillDownFallbackTarget(),SumoApp.userMessage.error(e.broken_link)),{__:e,enabled:a,dashboards:s,selectedDashboardIndex:n}},updateSettings:function(){var e=this.model.getPropertiesModel().getCommonSettings(),t=parseInt(this.$("#input-dashboard").val()),i=_(this.dashboardLinkSettingsModel.getDashboards()).findWhere({id:t}),s=null;i&&(s=this.getCleanDashboardName(i.fullPath));var n={id:t,name:s,key:i.accessKey};e.setDrilldownFallbackTarget(n)},enableDashboardLinking:function(){var e=this.$("#dashboard-link").is(":checked"),t=this.model.getPropertiesModel().getCommonSettings(),i=this.dashboardLinkSettingsModel.getDashboards();_.isEmpty(i)?t.clearDrillDownFallbackTarget():e?t.setDrilldownFallbackTarget({id:i[0].id,name:i[0].title}):t.clearDrillDownFallbackTarget(),this.render()},initialize:function(){return this.dashboardLinkSettingsModel=new s({dashboardModel:this.model.getDashboardModel()}),this.listenTo(this.dashboardLinkSettingsModel,"change:dashboards",this.render),this},render:function(){return this._render(),this}})}.apply(t,s))||(e.exports=n)},29697:function(e,t,i){var s,n;s=[i(60567),i(57931),i(87252),i(93e3)],void 0===(n=function(e,t,i,s){"use strict";return e.SumoViewModule.extend({mixins:[s],events:{"change .font-size":"updateSettings"},template:_.template(i),getViewName:function(){return"QuerySettingsView"},getComponent:function(){return this.COMPONENT_NAME},getSectionLabel:function(){return t.font_size},getRenderingProperties:function(){return{fontSize:this.getFontSize()}},getFontSize:function(){return this.model.getMonitorSettingsModel().getFontSize()},updateSettings:function(e,t){this.model.getMonitorSettingsModel().setFontSize(t.value)},render:function(){return this._render(),this.$("[data-button-group]").buttonGroup({initialValue:this.getFontSize()}),this}})}.apply(t,s))||(e.exports=n)},18555:function(e,t,i){var s,n;s=[i(60567),i(57931),i(95644),i(51744)],void 0===(n=function(e,t,i,s){"use strict";return e.SumoViewModule.extend({mixins:[i],getViewName:function(){return"GeneralSettingsView"},getComponent:function(){return"Dashboard"},getPrefix:function(){return"general"},getSettingsCollection:function(){return s},render:function(){return this._render()}})}.apply(t,s))||(e.exports=n)},51744:function(e,t,i){var s,n;s=[i(57931),i(60567),i(92486),i(4820),i(74738),i(29697),i(16585),i(74202),i(27161),i(56472),i(29457),i(80797),i(52486)],void 0===(n=function(e,t,i,s,n,a,r,o,l,d,c,u,h){"use strict";var g=t.ResultsViewerConstants;return{stacking:{view:i,supportsViewerType:function(e){return g.isBasicChartType(e)}},legend:{view:s,supportsViewerType:function(e){return g.isBasicChartType(e)||e===g.ViewerType.PIE_CHART}},label_truncation:{view:n,supportsViewerType:function(e){return g.isBasicChartType(e)||g.ViewerType.TABLE===e||g.ViewerType.PIE_CHART===e||g.ViewerType.BOXPLOT_CHART===e}},font_size:{view:a,supportsViewerType:function(e){return g.ViewerType.TABLE===e}},pie_display:{view:r,supportsViewerType:function(e){return g.ViewerType.PIE_CHART===e}},pie_slices:{view:o,supportsViewerType:function(e){return g.ViewerType.PIE_CHART===e}},map_type:{view:h,supportsViewerType:function(e){if(SumoApp.getAngularService("currentUserHelper").hasFeatureFlag("MapboxHeatMapChart"))return g.ViewerType.MAP===e}},svv_numeric:{view:l,supportsViewerType:function(e){return g.ViewerType.SINGLE_VALUE_VIEWER===e}},svv_labels:{view:d,supportsViewerType:function(e){return g.ViewerType.SINGLE_VALUE_VIEWER===e}},svv_no_data:{view:c,supportsViewerType:function(e){return g.ViewerType.SINGLE_VALUE_VIEWER===e}},dashboard_linking:{view:u,supportsViewerType:function(e){return e!==g.ViewerType.TEXT||e!==g.ViewerType.TITLE}}}}.apply(t,s))||(e.exports=n)},74738:function(e,t,i){var s,n;s=[i(57931),i(3692),i(93e3),i(60567)],void 0===(n=function(e,t,i,s){"use strict";var n=s.SumoViewModule,a=s.ResultsViewerConstants;return n.extend({mixins:[i],events:{"change .truncation-mode":"updateLabelTruncation"},template:_.template(t),getViewName:function(){return"LabelsSettingsView"},getComponent:function(){return this.COMPONENT_NAME},getSectionLabel:function(){return this.isTablePanel()?e.text_truncation:e.label_truncation},getRenderingProperties:function(){return{truncationMode:this.getTruncationMode(),isTable:this.isTablePanel()}},updateLabelTruncation:function(e,t){var i=t.value;"null"===i&&(i=null),this.setTruncationMode(i)},setTruncationMode:function(e){var t=this.model.getMonitorSettingsModel();this.isTablePanel()?t.setTextTruncationMode(e):this.isPiePanel()?t.setLabelTruncationMode(e):t.setXAxisLabelTruncationMode(e)},getTruncationMode:function(){var e=this.model.getMonitorSettingsModel();return this.isTablePanel()?e.getTextTruncationMode():this.isPiePanel()?e.getLabelTruncationMode():e.getXAxisLabelTruncationMode()},isTablePanel:function(){var e=this.model.getMonitorSettingsModel();return!_.isFunction(e.getChartType)||e.getChartType()===a.ViewerType.TABLE},isPiePanel:function(){var e=this.model.getMonitorSettingsModel();return!_.isFunction(e.getChartType)||e.getChartType()===a.ViewerType.PIE_CHART},render:function(){return this._render(),this.$("[data-button-group]").buttonGroup({initialValue:this.getTruncationMode()}),this}})}.apply(t,s))||(e.exports=n)},4820:function(e,t,i){var s,n;s=[i(57931),i(6180),i(93e3),i(60567)],void 0===(n=function(e,t,i,s){"use strict";var n=s.SumoViewModule,a=s.ResultsViewerConstants;return n.extend({mixins:[i],events:{"change .legend-mode":"updateLegendPosition"},template:_.template(t),getViewName:function(){return"QuerySettingsView"},getComponent:function(){return this.COMPONENT_NAME},getSectionLabel:function(){return e.legend},getRenderingProperties:function(){return{legendPosition:this.getLegendPosition()}},getLegendPosition:function(){var e=this.model.getMonitorSettingsModel();return e.getLegendEnabled()?e.getLegendPosition():a.ChartLegendPosition.NONE},updateLegendPosition:function(e,t){var i=this.model.getMonitorSettingsModel(),s=t.value!==a.ChartLegendPosition.NONE;i.setLegendEnabled(s);var n=s?t.value:a.ChartLegendPosition.RIGHT;i.setLegendPosition(n)},render:function(){return this._render(),this.$("[data-button-group]").buttonGroup({initialValue:this.getLegendPosition()}),this}})}.apply(t,s))||(e.exports=n)},52486:function(e,t,i){var s,n;s=[i(57931),i(15951),i(93e3),i(60567)],void 0===(n=function(e,t,i,s){"use strict";var n=s.MapUtilModule,a=s.SumoViewModule;s.ResultsViewerConstants;return a.extend({mixins:[i],events:{"change .map-type":"updateSettings"},template:_.template(t),getViewName:function(){return"MapTypeSettingsView"},getComponent:function(){return this.COMPONENT_NAME},getSectionLabel:function(){return e.map_type},isGuardDuty:function(){return(new n).isGuardDuty(this.model.getMonitorDataFields())},getRenderingProperties:function(){return{mapType:this.getMapType(),isGuardDuty:this.isGuardDuty()}},getMapType:function(){return this.model.getMonitorSettingsModel().getMapType()},updateSettings:function(e,t){this.model.getMonitorSettingsModel().setMapType(t.value)},render:function(){return this._render(),this.$("[data-button-group]").buttonGroup({initialValue:this.getMapType()}),this}})}.apply(t,s))||(e.exports=n)},16585:function(e,t,i){var s,n;s=[i(57931),i(4286),i(93e3),i(60567)],void 0===(n=function(e,t,i,s){"use strict";var n=s.SumoViewModule;s.ResultsViewerConstants;return n.extend({mixins:[i],events:{"change .donut-display":"updateSettings"},template:_.template(t),getViewName:function(){return"PieDisplaySettingsView"},getComponent:function(){return this.COMPONENT_NAME},getSectionLabel:function(){return e.pie_display},getRenderingProperties:function(){return{isDonutDisplay:this.model.getMonitorSettingsModel().isDonutMode()}},updateSettings:function(e,t){this.model.getMonitorSettingsModel().setDonutMode("true"===t.value)},render:function(){return this._render(),this.$("[data-button-group]").buttonGroup(),this}})}.apply(t,s))||(e.exports=n)},74202:function(e,t,i){var s,n;s=[i(57931),i(12869),i(93e3),i(60567)],void 0===(n=function(e,t,i,s){"use strict";var n=s.SumoViewModule,a=(s.ResultsViewerConstants,".slices-number");return n.extend({mixins:[i],events:{"change .slice-borders":"updateSettings","change .slices-number":"updateSettings"},template:_.template(t),getViewName:function(){return"PieSlicesSettingsView"},getComponent:function(){return this.COMPONENT_NAME},getSectionLabel:function(){return e.pie_slices},getRenderingProperties:function(){var e=this.model.getMonitorSettingsModel(),t=e.getMaxNumOfPieSlices(),i=t?"custom":"all";return{sliceBorderOption:e.getShowSliceBorders(),sliceNumberOption:i,maxSlices:t}},getValidationErrors:function(){var t=[],i=null,s=this.$(a).buttonGroup("getSelectedOption");return"custom"===s.value&&(i=Number(s.editable),(_.isNaN(i)||i<2)&&t.push({$field:this.$(a),errorMessage:e.pie_n_slices_error})),t},updateSettings:function(){var e=this.model.getMonitorSettingsModel(),t="true"===this.$(".slice-borders").buttonGroup("value"),i=null,s=this.$(a).buttonGroup("getSelectedOption");this.validateSettings()&&("custom"===s.value&&(i=Number(s.editable)),e.setShowSliceBorders(t),e.setMaxNumOfPieSlices(i))},render:function(){return this._render(),this.$("[data-button-group]").buttonGroup(),this}})}.apply(t,s))||(e.exports=n)},92486:function(e,t,i){var s,n;s=[i(57931),i(18305),i(93e3),i(60567)],void 0===(n=function(e,t,i,s){"use strict";var n=s.SumoViewModule,a=s.ResultsViewerConstants,r=".stacking-mode";return n.extend({mixins:[i],events:{"change .stacking-mode":"updateChartStacking"},template:_.template(t),getViewName:function(){return"StackSettingsView"},getComponent:function(){return this.COMPONENT_NAME},getSectionLabel:function(){return e.stacking},getRenderingProperties:function(){return{stackingMode:this.getStackingMode()}},getStackingMode:function(){return this.model.getMonitorSettingsModel().getStackingOption()},updateChartStacking:function(e,t){var i=t.value,s=this.model.getMonitorSettingsModel();i===a.ChartStackingMode.NONE&&(i=null);var n=s.getSeriesInfo();if(a.ChartStackingMode.PERCENT===i&&!_.isEmpty(n)){var r=s.getChartType();if(_.some(n,(function(e){return e.chartType&&e.chartType!==r})))return}if(a.ChartStackingMode.NONE!==i&&!_.isEmpty(n)){var o=_.filter(n,(function(e){return e.chartType&&"column"===e.chartType})),l=null;for(var d in o){var c=o[d];if(null!==l){if(l!==c.yAxis)return}else l=c.yAxis}}s.setStackingOption(i)},getValidationErrors:function(){var t=[],i=this.model.getMonitorSettingsModel(),s=i.getStackingOption();return SumoApp.getAngularService("currentUserHelper").hasFeatureFlag("UICanvasChart")&&null!==s&&i.getSmoothLineOption()&&t.push({$field:$(r),errorMessage:e.error_chart_stacking_not_avail_with_smooth_line}),t},render:function(){return this._render(),this.$("[data-button-group]").buttonGroup({initialValue:this.getStackingMode()}),this}})}.apply(t,s))||(e.exports=n)},31278:function(e,t,i){var s,n;s=[i(57931),i(95512),i(93e3),i(60567)],void 0===(n=function(e,t,i,s){"use strict";var n=s.ThemeUtilModule,a=s.SumoViewModule,r=s.ResultsViewerConstants;return a.extend({mixins:[i],events:{"change .color-picker":"updateSettings","change #background-color-enabled":"updateSettings"},template:_.template(t),getViewName:function(){return"SvvDataSettingsView"},getComponent:function(){return this.COMPONENT_NAME},setupColorPicker:function(){var t=r.ColorPickerPalette,i=n.getSelectedTheme();i&&(t=i.getColorPickerPalette(r.ViewerType.SINGLE_VALUE_VIEWER));var s=this.model.getMonitorSettingsModel().getColorOverride();_.isEmpty(s)&&(s=i.getChartColors(r.ViewerType.SINGLE_VALUE_VIEWER)[this.model.getColorIndexByMonitorId()]);SumoUtil.hookupColorPicker({cancelText:e.color_picker_cancel_text,chooseText:e.color_picker_choose_text,palette:t,elm:this.$(".color-picker"),color:s,nullColor:""})},getSectionLabel:function(){return e.svv_color_settings_view},getRenderingProperties:function(){var t=this.model.getMonitorSettingsModel(),i=t.getBackgroundColorEnabled(),s=t.getColorOverride();_.isEmpty(s)&&(s=n.getSelectedTheme().getChartColors(r.ViewerType.SINGLE_VALUE_VIEWER)[this.model.getColorIndexByMonitorId()]);return{__:e,color:s,enabled:i}},updateSettings:function(){var e=this.model.getMonitorSettingsModel(),t=this.$("#background-color-enabled").is(":checked"),i=this.$(".color-picker").val();e.setColorOverride(i),e.setBackgroundColorEnabled(t)},render:function(){return this._render(),this.setupColorPicker(),this}})}.apply(t,s))||(e.exports=n)},56472:function(e,t,i){var s,n;s=[i(57931),i(66442),i(93e3),i(60567)],void 0===(n=function(e,t,i,s){"use strict";var n=s.SumoViewModule,a=(s.ResultsViewerConstants,".title-label"),r=".description-label";return n.extend({mixins:[i],events:{"change input":"updateSettings"},template:_.template(t),getViewName:function(){return"SVVLabelsSettingsView"},getComponent:function(){return this.COMPONENT_NAME},getSectionLabel:function(){return e.svv_labels},getRenderingProperties:function(){var e=this.model.getMonitorSettingsModel().getLabels();return{title:_.getPath(e,"prefix.text"),description:_.getPath(e,"postfix.text")}},updateSettings:function(){var e=this.model.getMonitorSettingsModel(),t=e.getLabels(),i=`${this.$(a).val()||""}`.trim();t.prefix.enabled=!SumoUtil.isStringEmpty(i),t.prefix.text=i;var s=`${this.$(r).val()||""}`.trim();t.postfix.enabled=!SumoUtil.isStringEmpty(s),t.postfix.text=s,e.setLabels(t)},render:function(){return this._render(),this}})}.apply(t,s))||(e.exports=n)},29457:function(e,t,i){var s,n;s=[i(57931),i(24419),i(93e3),i(60567)],void 0===(n=function(e,t,i,s){"use strict";var n=s.ThemeUtilModule,a=s.SumoViewModule,r=s.ResultsViewerConstants;return a.extend({mixins:[i],events:{"change #no-data-enabled":"toggleNoDataSection","change .value-label":"updateSettings","change .color-picker":"updateSettings"},template:_.template(t),getViewName:function(){return"SVVNoDataSettingsView"},getComponent:function(){return this.COMPONENT_NAME},getSectionLabel:function(){return e.svv_no_data},getRenderingProperties:function(){var e=this.model.getMonitorSettingsModel().getSettingsForNoData();return{enabled:e.enabled,color:e.color,value:e.value,isString:e.isString}},toggleNoDataSection:function(){this.$("#no-data-enabled").is(":checked")?(this.$(".value-label").removeAttr("disabled"),this.$(".color-picker").spectrum("enable")):(this.$(".value-label").attr("disabled","disabled"),this.$(".color-picker").spectrum("disable")),this.updateSettings()},updateSettings:function(e,t){var i=this.model.getMonitorSettingsModel(),s=i.getSettingsForNoData(),n=this.$("#no-data-enabled").is(":checked"),a=this.$(".color-picker").val(),r=this.$(".value-label").val(),o=null,l=!1;SumoUtil.isNumber(r)?o=Number(r):(o=`${r||""}`.trim(),l=!0),s.enabled=n,s.isString=l,s.value=o,s.color=a,i.setSettingsForNoData(s)},setupColorPicker:function(){var t=r.ColorPickerPalette,i=n.getSelectedTheme();i&&(t=i.getColorPickerPalette(r.ViewerType.SINGLE_VALUE_VIEWER));var s=this.model.getMonitorSettingsModel().getSettingsForNoData().color;SumoUtil.hookupColorPicker({cancelText:e.color_picker_cancel_text,chooseText:e.color_picker_choose_text,palette:t,elm:this.$(".color-picker"),color:s,nullColor:""})},render:function(){return this._render(),this.setupColorPicker(),this}})}.apply(t,s))||(e.exports=n)},27161:function(e,t,i){var s,n;s=[i(57931),i(21878),i(93e3),i(60567)],void 0===(n=function(e,t,i,s){"use strict";var n=s.SingleValueViewerUtilModule,a=s.SumoViewModule,r=s.ResultsViewerConstants;return a.extend({mixins:[i],events:{"change .show-number":"updateSettings","change .unit":"updateSettings"},template:_.template(t),getViewName:function(){return"SVVNumericSettingsView"},getComponent:function(){return this.COMPONENT_NAME},getSectionLabel:function(){return e.svv_numeric_value},getRenderingProperties:function(){var e=this.isNumericValue(),t=null,i=!1;if(e){var s=this.getNumericValueSettings();i=s.showNumber,t=s.unit}return{isNumericValue:e,unit:t,showNumber:i}},getNumericValueSettings:function(){return this.model.getMonitorSettingsModel().getSettingsForNumberValue()},isNumericValue:function(){var e=this.getValueType();return r.RecordValueType.DOUBLE===e||r.RecordValueType.LONG===e||r.RecordValueType.INT===e},getValueType:function(){return(new n).getFirstValueFieldType(this.model.getMonitorDataFields())},updateSettings:function(e){var t=this.model.getMonitorSettingsModel(),i=this.getNumericValueSettings(),s="true"===this.$("[data-button-group]").buttonGroup("value"),n=this.$(".unit").val();i.showNumber=s,i.unit=n,t.setSettingsForNumberValue(i)},render:function(){return this.isNumericValue()&&(this._render(),this.$("[data-button-group]").buttonGroup()),this}})}.apply(t,s))||(e.exports=n)},77235:function(e,t,i){var s,n;s=[i(60567),i(57931),i(95644),i(28196)],void 0===(n=function(e,t,i,s){"use strict";return e.SumoViewModule.extend({mixins:[i],getViewName:function(){return"LineAndMarkerSettingsView"},getComponent:function(){return"Dashboard"},getPrefix:function(){return"line"},getSettingsCollection:function(){return s},render:function(){return this._render()}})}.apply(t,s))||(e.exports=n)},28196:function(e,t,i){var s,n;s=[i(57931),i(60567),i(93794),i(42978)],void 0===(n=function(e,t,i,s){"use strict";var n=t.ResultsViewerConstants;return{line_thickness:{view:i,supportsViewerType:function(e){return e===n.ViewerType.LINE_CHART||e===n.ViewerType.AREA_CHART}},marker_setting:{view:s,supportsViewerType:function(e){return e===n.ViewerType.LINE_CHART||e===n.ViewerType.AREA_CHART}}}}.apply(t,s))||(e.exports=n)},93794:function(e,t,i){var s,n;s=[i(57931),i(93e3),i(60567),i(41629)],void 0===(n=function(e,t,i,s){"use strict";var n=i.SumoViewModule,a=(i.ResultsViewerConstants,".line-smoothness"),r="label[for=line-smoothness]",o=".line-thickness";return n.extend({mixins:[t],events:{"change .line-smoothness":"enableSmoothLineOption","change .line-thickness":"updateLineThickness"},template:_.template(s),getViewName:function(){return"LineThicknessSettingsView"},getComponent:function(){return this.COMPONENT_NAME},getSectionLabel:function(){return e.line_style},getRenderingProperties:function(){var e=this.model.getMonitorSettingsModel();return{smoothLineOption:e.getSmoothLineOption(),lineThickness:e.getLineThicknessOption()}},getValidationErrors:function(){var t=[],i=this.$(o).val(),s=this.$(a).is(":checked"),n=this.model.getMonitorSettingsModel().getStackingOption(),l=SumoApp.getAngularService("currentUserHelper").hasFeatureFlag("UICanvasChart");return SumoUtil.isStringEmpty(i)||SumoUtil.isNumber(i)||t.push({$field:$(o),errorMessage:e.error_numeric}),(i<1||i>25)&&t.push({$field:$(o),errorMessage:e.error_1_to_25_out_of_range}),l&&null!==n&&s&&t.push({$field:$(r),errorMessage:e.error_smooth_line_not_avail_with_stacking}),t},enableSmoothLineOption:function(){var e=this.$(a).is(":checked");this.setSmoothLine(e)},updateLineThickness:function(){var e=this.$(o).val();this.validateSettings()&&this.setLineThickness(e)},setSmoothLine:function(e){this.model.getMonitorSettingsModel().setSmoothLineOption(e)},setLineThickness:function(e){this.model.getMonitorSettingsModel().setLineThicknessOption(e)},render:function(){return this._render(),this}})}.apply(t,s))||(e.exports=n)},42978:function(e,t,i){var s,n;s=[i(57931),i(93e3),i(60567),i(82841)],void 0===(n=function(e,t,i,s){"use strict";var n=i.SumoViewModule,a=(i.ResultsViewerConstants,".marker-size"),r=".marker-type";return n.extend({mixins:[t],events:{"change .marker-size":"updateMarkerSize","change .marker-type":"updateMarkerType"},template:_.template(s),getViewName:function(){return"MarkerSettingsView"},getComponent:function(){return this.COMPONENT_NAME},getSectionLabel:function(){return e.marker_style},getRenderingProperties:function(){return{markerSize:this.model.getMonitorSettingsModel().getMarkerSizeOption()}},getValidationErrors:function(){var t=[],i=this.$(a).val();return SumoUtil.isStringEmpty(i)||SumoUtil.isNumber(i)||t.push({$field:$(a),errorMessage:e.error_numeric}),(i<1||i>25)&&t.push({$field:$(a),errorMessage:e.error_1_to_25_out_of_range}),t},updateMarkerSize:function(){var e=this.$(a).val();this.validateSettings()&&this.setMarkerSize(e)},updateMarkerType:function(){var e=this.$(r).val();this.setMarkerType(e)},setMarkerSize:function(e){var t=this.model.getMonitorSettingsModel();e&&t.setMarkerSizeOption(e)},setMarkerType:function(e){var t=this.model.getMonitorSettingsModel();e&&t.setMarkerTypeOption(e)},render:function(){var e=this.model.getMonitorSettingsModel(),t=null!==e.getMarkerTypeOption()?e.getMarkerTypeOption():"none";return this._render(),this.$(".marker-type").val(t),this}})}.apply(t,s))||(e.exports=n)},95644:function(e,t,i){var s,n;s=[i(57931),i(23194),i(60567)],void 0===(n=function(e,t,i){"use strict";var s=i.ResultsViewerConstants;return{defaults:{},mixin:{template:_.template(t),getPrefix:function(){return"default"},getSettingsCollection:function(){throw new SumoError("getSettingsCollection must be overwritten.")},getSupportedSettingsViewCollection:function(){var e=this;return _.filter(this.getSettingsCollection(),(function(t){return t.supportsViewerType(e.model.getViewerType(),e.model,e.options.originalModel)}))},registerSubView:function(e,t,i){var s=e.view;this.registerView(t,new s(_.extend({model:this.model,originalModel:this.options.originalModel,el:i},e.viewOptions||{})))},registerSubViews:function(e){var t=this;_.each(e,(function(e,i){t.registerSubView(e,t.getPrefix()+"-"+i,t.$("#"+t.getPrefix()+"-"+i))}))},validateSettings:function(){var e=this.mapSubViews("validateSettings");return _(e).every((function(e){return!0===e}))},beforeFocusLost:function(){return this.validateSettings()},_render:function(){var t=this.getSupportedSettingsViewCollection(),i={__:e,prefix:this.getPrefix(),ResultsViewerConstants:s,viewCount:t.length},n=this.template(i);return this.$el.html(n),this.registerSubViews(t),this}}}}.apply(t,s))||(e.exports=n)},74836:function(e,t,i){var s,n;s=[i(57931),i(55249),i(93e3),i(60567),i(22443),i(66359)],void 0===(n=function(e,t,i,s,n,a){"use strict";var r=s.SumoViewModule,o=(s.ResultsViewerConstants,n.searchQueryEditorService),l=a.currentUserHelper;return r.extend({mixins:[i],events:{},template:_.template(t),getViewName:function(){return"QueryEditorSettingsView"},getComponent:function(){return this.COMPONENT_NAME},getSectionLabel:function(){return""},getRenderingProperties:function(){var e="";if(!_.isUndefined(this.options.originalModel)){var t=this.options.originalModel;e=t.isMetrics()?_.pluck(t.getMetricsQueries(),"query").join("\n"):t.getQueryString()}return{query:e,rows:3}},updateSettings:function(){},querySettingsScope:function(){var e=SumoApp.getAngularService("$rootScope").$new();return e.state=this.getInitialState(),e.actions=this.getActions(),this.$scope=e,e},getInitialState:function(){var e=SumoApp.context,t=this.model;return e.searchCompletionsModel=o.getCompletionModel(SumoApp.context),{context:e,isDisabled:!l.hasFeatureFlag("UIPanelQueryInlineEdit"),query:t.get("queryString"),treId:"treInputDashboardQuery",timeRange:t.getTimeRangeDisplayText()}},getActions:function(){return{updateTimeRange:this.updateTimeRange.bind(this),onQueryStringChange:this.onQueryStringChange.bind(this)}},triggerChartUpdate:function(){this.model.getMonitorSettingsModel().trigger("changeSettingsModel")},updateTimeRange:function(e){this.model.setTimeRange(e.details),this.model.set({querySettingsUpdated:!0}),this.triggerChartUpdate(),l.hasFeatureFlag("UIAngularTreReplace")&&this.$scope.$evalAsync((()=>{this.$scope.state=this.getInitialState()}))},onQueryStringChange:function(e){var t=this.model;t.getQueryString()!==e&&t.set({querySettingsUpdated:!0}),t.setQueryString(e),this.triggerChartUpdate()},render:function(){var e=this.querySettingsScope();return this._render(),SumoApp.ngCompile($("query-settings-component"),e,!0),this},destroy:function(){this.destroyScope(),SumoUtil.destroyView(this)},destroyScope:function(){this.$scope&&(this.$scope.$destroy(),this.$scope=void 0)}})}.apply(t,s))||(e.exports=n)},81661:function(e,t,i){var s,n;s=[i(60567),i(57931),i(95644),i(31243)],void 0===(n=function(e,t,i,s){"use strict";return e.SumoViewModule.extend({mixins:[i],getViewName:function(){return"QuerySettingsView"},getComponent:function(){return"Dashboard"},getPrefix:function(){return"query"},getSettingsCollection:function(){return s},render:function(){return this._render()}})}.apply(t,s))||(e.exports=n)},31243:function(e,t,i){var s,n;s=[i(57931),i(60567),i(99756),i(74836)],void 0===(n=function(e,t,i,s){"use strict";t.ResultsViewerConstants;return{query_editor:{view:s,supportsViewerType:function(){return!0}}}}.apply(t,s))||(e.exports=n)},99756:function(e,t,i){var s,n;s=[i(60567),i(57931),i(89724),i(93e3)],void 0===(n=function(e,t,i,s){"use strict";return e.SumoViewModule.extend({mixins:[s],events:{},template:_.template(i),getViewName:function(){return"TimeRangeSettingsView"},getComponent:function(){return this.COMPONENT_NAME},getSectionLabel:function(){return _.isUndefined(t.query_timerange)?"":t.query_timerange},getRenderingProperties:function(){return{timerange_text:_.isUndefined(this.options.originalModel)?"":this.options.originalModel.getTimeRangeDisplayText()}},updateSettings:function(){},render:function(){return this._render(),this}})}.apply(t,s))||(e.exports=n)},93e3:function(e,t,i){var s,n;s=[i(57931),i(80676),i(60567)],void 0===(n=function(e,t,i){"use strict";var s=i.ResultsViewerConstants,n=_.template('<div class="ux-inline-error"><div class="error-message"><%= errorMessage %></div></div>'),a=".ux-inline-error",r=".error",o=".form-row",l=".form-field",d=SumoUtil.getCSSName;return{defaults:{},mixin:{COMPONENT_NAME:"PanelSettings",masterTemplate:_.template(t),getSectionLabel:function(){return""},getRenderingProperties:function(){return{}},getSectionTemplate:function(){return this.template},beforeFocusLost:function(){return _.isFunction(this.updateSettings)&&this.updateSettings(),this.validateSettings()},validateSettings:function(){this.removeErrors();var e=!0;if(_.isFunction(this.getValidationErrors)){var t=this.getValidationErrors();(e=_.isEmpty(t))||_(t).each((function(e){this.showErrorForField(e.$field,e.errorMessage)}),this)}return e},hasValidationErrors:function(){return _.isFunction(this.getValidationErrors)&&_.isEmpty(this.getValidationErrors())},showErrorForField:function(e,t){var i=e.parents(l).first();0===i.length&&(i=e.parents(o).first()),i.append(n({errorMessage:t})),e.addClass(d(r))},removeErrors:function(){this.$(r).removeClass(d(r)),this.$(a).remove()},_render:function(){var t=this.getSectionTemplate(),i={viewName:this.getViewName(),sectionLabel:this.getSectionLabel(),bodyTemplate:t,bodyProperties:_.extend({__:e,ViewerConstants:s},this.getRenderingProperties(!0))};this.$el.html(this.masterTemplate(i))},afterInitialize:function(){this.render(!0)}}}}.apply(t,s))||(e.exports=n)},26379:function(e,t,i){var s,n;s=[i(16471),i(60567),i(12655),i(18555),i(57966),i(97919),i(77235),i(82363),i(81661),i(61046),i(95788)],void 0===(n=function(e,t,i,s,n,a,r,o,l,d,c){"use strict";var u=e.DashboardsModule,h=t.ResultsViewerConstants;return{visualization:{name:u.lbl_visualization_settings,view:i,supportsViewerType:function(e,t,i,s){return!i.isMetrics()&&(e!==h.ViewerType.TITLE&&e!==h.ViewerType.TEXT)}},text:{name:u.lbl_text_settings,view:d,supportsViewerType:function(e,t,i,s){return e===h.ViewerType.TEXT}},general:{name:u.lbl_general_settings,view:s,supportsViewerType:function(e,t,i,s){return e!==h.ViewerType.TITLE&&e!==h.ViewerType.TEXT}},XAxis:{name:u.lbl_xaxis_settings,view:n,supportsViewerType:function(e,t,i,s){return h.ViewerType.BAR_CHART===e||h.ViewerType.COLUMN_CHART===e||h.ViewerType.LINE_CHART===e||h.ViewerType.AREA_CHART===e}},YAxis:{name:u.lbl_yaxis_settings,view:a,supportsViewerType:function(e,t,i,s){var n=h.ViewerType.LINE_CHART===e||h.ViewerType.AREA_CHART===e||h.ViewerType.COLUMN_CHART===e||h.ViewerType.BOXPLOT_CHART===e;return h.ViewerType.BAR_CHART===e||n}},lineAndMarker:{name:u.lbl_line_marker_settings,view:r,supportsViewerType:function(e){return h.ViewerType.LINE_CHART===e||h.ViewerType.AREA_CHART===e}},color:{name:u.lbl_color_settings,view:o,supportsViewerType:function(e,t,i,s){return h.ViewerType.TABLE!==e&&h.ViewerType.BOXPLOT_CHART!==e&&h.ViewerType.MAP!==e&&h.ViewerType.TEXT!==e&&h.ViewerType.SANKEY!==e}},query:{name:u.lbl_query_settings,view:l,supportsViewerType:function(e,t,i,s){return e!==h.ViewerType.TITLE&&e!==h.ViewerType.TEXT}},advanced:{name:u.lbl_advanced_settings,view:c,supportsViewerType:function(e,t,i,s){return s&&!t.isStaticPanel()}}}}.apply(t,s))||(e.exports=n)},61046:function(e,t,i){var s,n;s=[i(60567),i(57931),i(17673),i(93e3),i(60567),i(73714)],void 0===(n=function(e,t,i,s,n,a){"use strict";var r=e.SumoViewModule,o=(n.ResultsViewerConstants,".epic-editor-border");return r.extend({mixins:[s],events:{"click .preview-switch":"updateSettings"},template:_.template(i),getViewName:function(){return"TextEditSettingsView"},getComponent:function(){return this.COMPONENT_NAME},getMarkdownEditorView:function(){return this.getView("markdownEditorView")},setupMarkdownView:function(){var e=this.model.getMonitorSettingsModel().getText(),t=this.getMarkdownEditorView();t&&t.destroy(),(t=new a({el:this.$(".epic-editor-view"),autogrow:{minHeight:150,maxHeight:200,scroll:!0}})).load(),t.setMarkdown(e);var i=t.getEditorDomElement();$(i).on("keyup",this.updateSettings.bind(this)),this.listenTo(SumoApp.sumoEvents,"dashboardLinkAdded",this.updateSettings),this.registerView("markdownEditorView",t)},hideElements:function(){$("#preview").hide()},getValidationErrors:function(){var e=this.model.getMonitorSettingsModel(),i=[];return SumoUtil.isStringEmpty(e.getText())&&i.push({$field:this.$(o),errorMessage:t.text_no_input}),i},getSectionLabel:function(){return t.text_edit_settings_view},getRenderingProperties:function(){var e=this.model.getMonitorSettingsModel();return{__:t,text:e.getText()}},updateSettings:function(){var e=this.model.getMonitorSettingsModel(),t=this.getMarkdownEditorView().getMarkdown();e.setText(t)},render:function(){return this._render(),this.setupMarkdownView(),this.hideElements(),this}})}.apply(t,s))||(e.exports=n)},12655:function(e,t,i){var s,n;s=[i(57931),i(60567),i(1269)],void 0===(n=function(e,t,i){"use strict";var s=t.SumoViewModule,n=t.ResultsViewerConstants;return s.extend({events:{"click .viewer-type":"updateViewerType"},getViewName:function(){return"VisualizationSettingsView"},getComponent:function(){return"Dashboard"},updateViewerType:function(e){var t=$(e.currentTarget),i=parseInt(t.attr("data-idx"),10);this.model.setViewerType(this.viewerTypes[i].id),t.addClass("selected").siblings().removeClass("selected")},initialize:function(){this.render()},template:_.template(i),getViewerTypes:function(){var t=[];return _.each(n.getDashboardViewerTypes(),(function(i,s){i!==n.ViewerType.METRICS&&e[i]&&t.push({name:e[i],id:i,cssClass:s})})),t},render:function(){this.viewerTypes=this.getViewerTypes();var t=this.template({__:e,ResultsViewerConstants:n,viewerTypes:this.getViewerTypes(),viewerType:this.model.getViewerType()});return this.$el.html(t),this}})}.apply(t,s))||(e.exports=n)},14792:function(e,t,i){var s,n;s=[i(19912)],void 0===(n=function(e){"use strict";return{mixin:{filterOutBadFields:function(e){return _(e).filter((function(e){return 0!==e.name.indexOf("__")}))},_initFields:function(t){t=this.filterOutBadFields(t);var i=new e(t);return this.set({fields:i}),i},setFields:function(e){var t=this.getFields();t?(e=this.filterOutBadFields(e),t.reset(e)):this._initFields(e)}}}}.apply(t,s))||(e.exports=n)},89584:function(e,t,i){var s,n;s=[i(16471),i(16193),i(60567),i(9682),i(23969),i(89867),i(50963),i(64058),i(66359)],void 0===(n=function(e,t,i,s,n,a,r,o,l){"use strict";var d=t.loginService,c=i.SumoModel,u=i.GetterSetterMixin,h=e.keyedErrors,g="country",p="state",m="province",f="employeeCount",S="email",v="phone",w="USA",b="CAN",y=500;return c.extend({mixins:[u],STATUS_NOT_LOGGED_IN:0,STATUS_LOGGING_IN:1,STATUS_HAS_ERROR:2,STATUS_LOGGED_IN:3,defaults:{jsonp:!1,host:"",bLoadedAsidFromCookie:!1,token:null,firstName:null,lastName:null,email:null,phone:null,organizationName:null,employeeCount:null,country:null,state:null,password:null,confirmPassword:null,status:null,validByPolicy:null,error:null,errorMessages:[],errorDetails:[],loginStartTime:0,txnId:null,slaAccepted:!1,canContact:!1,strength:l.StrengthLevel.Weak,strengthCalculating:!1,suggestion:"",passwordVisible:!1,passwordConfirmVisible:!1},ORG_SIZES:["1-49","50-499","500-999","1000 and above"],requiredFields:null,disabledFields:null,slaRequired:!1,validation_error_keys:["act1:firstName.invalid.characters","act1:firstName.maximum.length","act1:firstName.empty.value","act1:lastName.invalid.characters","act1:orgname.invalid.characters","act1:lastName.maximum.length","act1:lastName.empty.value","act1:phone.invalid.phone","act1.organizationName.invalid.characters","act1.organizationName.maximum.length","act1.organizationName.empty.value","act1:password.non-matching.password","auth1:password_violates_policy"],loginService:null,inRedesignMode:!1,getModelName:function(){return"ActivationModel"},getComponent:function(){return"Activation"},initialize:function(e){_.bindAll(this,"_buildField","validatePassword","handleErr"),this.loginService=d,this.passwordStrengthService=new l.PasswordStrengthService,this.url_redirect_path=s.url_redirect_path,this.requiredFields=[],this.disabledFields=[],this.slaRequired=e.slaRequired,this.context=this.loginService.context,this.slaRequired&&this.context.ajax.setAsid(this.loginService.getAsidFromCookie())},isExpired:function(){var e=this.getErrorDetails()?[this.getErrorDetails()]:[];return this.getError()&&_.indexOf(e,"act1:expired_token")>-1},debouncedFetchStrength:_.debounce((function(e){if(""===e.trim())return this.passwordStrengthService.clearLatestRequestId(),void this.set({strength:l.StrengthLevel.Weak,strengthCalculating:!1,suggestion:""});this.passwordStrengthService.fetchStrength(e).then(function(e){this.set({strength:e.strength,strengthCalculating:!1,suggestion:e.suggestion})}.bind(this)).catch(function(e){e.message===l.STALE_REQUEST_ERROR?this.set({strengthCalculating:this.passwordStrengthService.isStrengthCalculating()}):(this.set({strength:l.StrengthLevel.Undetermined,strengthCalculating:!1,suggestion:""}),$.logErrorLocal(e.message))}.bind(this))}),y),updatePasswordStrength:function(){var e=this.getPassword();e="string"==typeof e?e:"",this.passwordStrengthService.isStrengthCalculating()||this.set({strengthCalculating:!0}),this.debouncedFetchStrength(e)},validatePassword:function(){var e=this.getPassword(),t=this.getConfirmPassword(),i=!0,s={allEmpty:!1},n=e.length;return SumoUtil.isStringEmpty(e)&&(s.allEmpty=!0),null===e.match(/^\s/)&&null===e.match(/\s$/)?s.canNotStartOrEndWithPassword=!0:(s.canNotStartOrEndWithPassword=!1,i=!1),!SumoUtil.isStringEmpty(e)&&_.isEqual(e,t)?s.bothPasswordsMatch=!0:(i=!1,s.bothPasswordsMatch=!1),n<8?(i=!1,s.minLength=!1):s.minLength=!0,0===n||n>128?(i=!1,s.maxLength=!1):s.maxLength=!0,e.match(/[a-z]/g)?s.mustContainLowercase=!0:(i=!1,s.mustContainLowercase=!1),e.match(/[A-Z]/g)?s.mustContainUppercase=!0:(i=!1,s.mustContainUppercase=!1),e.match(/[0-9]/g)?s.mustContainDigits=!0:(i=!1,s.mustContainDigits=!1),this.containSpecialChars(e)?s.mustContainSpecial=!0:(i=!1,s.mustContainSpecial=!1),this.setValidByPolicy(i),s},containSpecialChars:function(e){if(SumoUtil.isStringEmpty(e))return!1;for(var t=n.PWD_SPECIAL_CHARS_SYMBOLS,i=0;i<e.length;i++)if(t.indexOf(e.charAt(i))>-1)return!0;return!1},isInvalid:function(){var e=this.getErrorDetails()?[this.getErrorDetails()]:[];return this.getError()&&_.indexOf(e,"act1:invalid_token")>-1},userLoggedIn:function(e,t){this.loginService.userLoggedInContinuation(e,t)},getSimilarCountryName:function(e){return _.find(_.keys(o.similarNames),(function(t){return o.similarNames[t].includes(e)}))||""},_buildField:function(e){switch(e.isRequired&&this.requiredFields.push(e.name),e.name){case g:e.value=this.getCountryCode(e.value),this.set(e.name,e.value);break;case p:e.value=this.getStateCode(e.value),this.set(e.name,e.value);break;case f:e.value=this.ORG_SIZES.includes(e.value)?e.value:"",this.set(e.name,e.value);break;default:this.set(e.name,e.value)}!this.inRedesignMode||e.name!==v&&e.name!==f?!1===e.canEdit&&e.name!==S&&""!==e.value&&(e.name===p?(this.disabledFields.push(p),this.disabledFields.push(m)):this.disabledFields.push(e.name)):this.disabledFields.push(e.name)},buildActivation:function(e){var t,i=this;if(e&&e.fields){e.fields.find((e=>e.name===S));this.inRedesignMode=!0,_.each(e.fields,(function(e){e.name!==S?i._buildField(e):t=e}))}t&&this._buildField(t)},load:function(){if(this.slaRequired||this.loginService.initializeServerLogging(),"devtest"===this.getToken())this.buildActivation(),this.set({email:"dev+test@demo.com"});else if(this.slaRequired){var e;if(this.buildActivation(),location.href.indexOf("slaAccepted")>-1)e="testMctester@example.com";else e=SumoApp.getAngularService("currentUserHelper").get().name;this.set({email:e})}else this.context.ajax.call(this,{endpoint:sprintf(this.context.ajax.EndpointFormats.V1_ACTIVATION_GET,this.getToken()),errorCode:"account_activation_load",success:this.buildActivation,error:this.error})},getSlaAccepted:function(){return this.get("slaAccepted")},getSubmissionData:function(){var e={email:this.getEmail(),firstName:this.getFirstName(),lastName:this.getLastName(),organizationName:this.getOrganizationName(),phone:this.getPhone(),employeeCount:this.getEmployeeCount(),country:this.getCountry(),state:this.getState()};if(this.slaRequired){var t=SumoApp.getAngularService("currentUserHelper");e=_.extend(e,{orgId:t.getOrg().id,canContact:this.getCanContact()})}else e=_.extend(e,{password:this.getPassword(),confirmPassword:this.getConfirmPassword(),token:this.getToken()});return e},validateData:function(){return _.isEmpty(this.getFirstName())?"act1:firstName.empty.value":_.isEmpty(this.getLastName())?"act1:lastName.empty.value":_.isEmpty(this.getOrganizationName())?"act1:organizationName.empty.value":SumoUtil.isValidName(this.getFirstName())?SumoUtil.isValidName(this.getLastName())?SumoUtil.isValidName(this.getOrganizationName())?void 0:"act1:orgname.invalid.characters":"act1:lastName.invalid.characters":"act1:firstName.invalid.characters"},save:function(){var e=this.validateData();if(_.isUndefined(e)){if(!this.slaRequired){if(this.getStatus()===this.STATUS_LOGGING_IN)return void this.logMessage("Activating","we're already activating you!");this.logMessage("Activating",this.getToken()),this.setStatus(this.STATUS_LOGGING_IN),this.loginService.initializeServerLogging(),this.set({errorMessages:null,errorDetails:null,error:!1})}var t=this.getSubmissionData(),i=this.context.ajax,s=this;this.slaRequired?i.call(this,{endpoint:i.Endpoints.V1_ACTIVATION_ONLY,errorCode:"account_activation",type:"POST",data:t,success:function(e){s.set({status:this.STATUS_LOGGED_IN,password:""}),s.userLoggedIn((function(){window.location.href=r.getAbsoluteUrl("/ui/")}),i.getAsid())},error:this.handleErr}):i.call(this,{endpoint:i.Endpoints.V1_ACTIVATION_UPDATE,errorCode:"account_activation",type:"POST",data:t,success:function(e){s.checkActivationStatus(e.loginResult.apiSessionId).then((()=>{s.logMessage("Activation","successful"),i.scheduleActivityTimeoutCheck(),i.setAsid(e.loginResult.apiSessionId),i.setSystemPradaVersion(e.loginResult.pradaVersion),s.userLoggedIn((function(){window.location.href=r.getAbsoluteUrl("/ui/")}),i.getAsid()),Modernizr.localstorage&&localStorage.getItem("ui.needs.activation")&&localStorage.removeItem("ui.needs.activation")}))},error:this.handleErr})}else this.error("inputErr",null,e)},checkActivationStatus:function(e){var t=this;return fetch("/api/v1/account/status",{headers:{apisession:e,"Content-Type":"application/json",Accept:"application/json","Accept-Encoding":"gzip, deflate, br"}}).then((i=>i.ok?i.json().then((i=>"accountActivated"in i&&!i.accountActivated?t.checkActivationStatus(e):i)):t.checkActivationStatus(e)))},getStateFromStateName:function(e,t){return _.find(_.keys(e),(function(i){return e[i].toLowerCase()===t.toLowerCase()}))||""},getStateCode:function(e){if(!e)return"";var t=this.getCountryCode();return t===w?o.states[e]?e:this.getStateFromStateName(o.states,e):t===b?o.provinces[e]?e:this.getStateFromStateName(o.provinces,e):""},getCountryCode:function(e){if(e=e||this.get("country")){var t=this.getSimilarCountryName(e);if(t)return t;e=e.toLowerCase();var i=_.find(o.nations,(function(t){return t.alpha3.toLowerCase()===e||t.alpha2===e||t.name.toLowerCase()===e}));return i?i.alpha3:""}return""},handleErr:function(e,t,i,n,a){this.logMessage("Activation","Unsuccessful",n),this.setStatus(this.STATUS_HAS_ERROR);var r=t,o=n,l=!0;switch(n){case this.EXPIRED_DEMO_USER:r=s.text_error_expired_demo_user+" <a href='https://www.sumologic.com/free-trial/' target='_blank' rel='noopener'>"+s.text_free_trial_link+"</a>",l=!1,o=null;break;case this.MAX_SESSIONS_EXCEEDED:o=s.text_max_sessions_exceeded;break;case this.DEACTIVATED_CUSTOMER:o=s.text_customer_deactivated;break;case this.ACCOUNT_EXPIRED:o=s.text_account_expired;break;case this.NONDESCRIPT_LOGIN_ERROR:case this.EMAIL_MISSING:case this.PASSWORD_MISSING:o=s.text_verify_credentials;break;default:o=null}return this.error(e,r,o,l,a),!1},error:function(e,t,i,s,n){var a=[];i=i||[],_.isArray(i)||(i=[i]),n&&n.keyedErrors&&n.keyedErrors.length>0?"act1:invalid_token"!==n.keyedErrors[0].key||SumoUtil.isStringEmpty(this.getTxnId())?"act1:account_already_activated"===n.keyedErrors[0].key?window.location.href="/ui/?reason=invalidActCode":_.each(n.keyedErrors,(function(e){var t=e.key;if("act1:account_already_activated"===t)location.href="/ui/?reason=invalidActCode";else if("act1:invalid_token"!==t||SumoUtil.isStringEmpty(this.getTxnId())){if("act1:expired_token"===t||"act1:invalid_token"===t)a.push(h[t]),i=t;else if("act1:internal_error"===t)a.push(h[t]),i.push(t);else if(n&&n.keyedErrors){var s="act1:".length,r=t.indexOf(".");if(r>-1){var o=t.substr(s,r-s);i.push(o)}else i.push(t);var l=_.keys(e.values)[0];a.push(sprintf(h[t],l))}}else location.assign(location.origin+"/ui?transactionId="+this.getTxnId())}),this):location.href=location.origin+"/ui/?transactionId="+this.getTxnId():"inputErr"===e&&a.push(h[i]),a.length>0&&this.set({errorMessages:a,errorDetails:i,error:!0})}})}.apply(t,s))||(e.exports=n)},68752:function(e,t,i){var s,n;s=[i(60567),i(9682),i(16471),i(64058),i(45797),i(66359)],void 0===(n=function(e,t,i,s,n,a){var r=e.SelectizeViewModule,o=e.SumoViewModule,l=i.commonEnI18n;return o.extend({events:{"submit #activation-form":"activate","click #submit":"activate","click #reactivate":"reactivate","change #state, #province, #acceptSla":"onKeyup","keyup input":"onKeyup","keypress form":"onKeypress","click #password-toggle":"togglePasswordVisibility","click #password-confirm-toggle":"togglePasswordConfirmVisibility"},template:_.template(n),onResizeDebouncer:null,submitBtn:null,loaded:null,fieldInputMap:{firstName:"#firstname",lastName:"#lastname",phone:"#phone",organizationName:"#organizationName",employeeCount:"#orgSize",country:"#country",state:"#state",province:"#province",password:"#password",confirmPassword:"#confirm-password"},inlinePolicyErrorSelectors:{canNotStartOrEndWithPassword:{input:"#password",error:"#activation-error-start-end-space"},bothPasswordsMatch:{input:"#confirm-password",error:"#activation-error-not-match-confirm"}},initialize:function(){_.bindAll(this,"render","resize","showInlineError","nationChanged","onPasswordInputChange","applyPolicyValidationResult","renderPasswordStrength","renderPasswordVisibility","renderPasswordConfirmVisibility"),this.onResizeDebouncer=_.throttle(this.resize,100),$(window).on("resize",this.onResizeDebouncer),this.listenTo(this.model,"change:password",this.onPasswordInputChange),this.listenTo(this.model,"change:confirmPassword",this.applyPolicyValidationResult),this.listenTo(this.model,"change:email",this.render),this.listenTo(this.model,"change:error",this.renderError),this.listenTo(this.model,"change:strength",this.renderPasswordStrength),this.listenTo(this.model,"change:strengthCalculating",this.renderPasswordStrength),this.listenTo(this.model,"change:passwordVisible",this.renderPasswordVisibility),this.listenTo(this.model,"change:passwordConfirmVisible",this.renderPasswordConfirmVisibility),this.model.load()},onPasswordInputChange:function(){this.model.updatePasswordStrength(),this.applyPolicyValidationResult()},applyPolicyValidationResult:function(){var e=this.model.validatePassword(),t=this.$el;_.each(_.keys(e),function(i){var s=e[i],n="#policy-icon-"+i,a=this.inlinePolicyErrorSelectors[i],r="activation-error-inline-hidden";if(void 0!==a){var o=a.input,l=a.error;this.$(l).parent().find(".activation-error-inline").each((function(e,t){t.classList.add(r)})),this.$(l).toggleClass(r,s),this.$(o).toggleClass("input-error",!s)}else t.find(n).toggleClass("policy-pass",s).toggleClass("policy-fail",!s)}.bind(this)),this._keyup()},showInlineError:function(e,t){this.$(t).addClass("input-error");var i="#activation-error-ctr";if(0===this.$(t).parent().find(i).length){var s=this.$(i).clone();s.find("span").text(e),this.$(t).after(s),s.addClass("cloned"),s.show()}},_renderError:function(e,t,i){var s=i[t],n=this.getInputSelector(s);n?this.showInlineError(e,n):(this.$("#errors").show(),this.$("#errors span").text(e))},renderError:function(){if(this.loaded||this.render(),this.model.getError()){this.submitBtn.spinner("stop");var e=this.model.getErrorDetails();_.each(this.model.getErrorMessages(),(function(t,i){this._renderError(t,i,e)}),this),this.model.isExpired()||this.model.isInvalid()||this.model.clearError()}},renderPasswordStrength:function(){var e=this.model.get("strength"),t=this.model.get("strengthCalculating")||e===a.StrengthLevel.Undetermined,i=t?"...":e,s=t?"":this.model.get("suggestion");this.$("#policy-text-password-strength").text(i),this.$("#policy-text-password-suggestion").text(s),this.$("#policy-text-password-strength").removeClass((function(e,t){return t.trim().split(/\s+/).filter((function(e){return e.startsWith("password-policy-strength__level-")})).join(" ")})),t||this.$("#policy-text-password-strength").addClass("password-policy-strength__level-"+e.toLowerCase())},getInputs:function(e){if(this.getView("nations")){var t={firstName:this.$("#firstname").val(),lastName:this.$("#lastname").val(),organizationName:this.$("#organizationName").val(),country:this.getView("nations").getValue()};if(["USA","CAN"].indexOf(t.country)>-1){var i="CAN"===t.country?"provinces":"states";t=_.extend(t,{state:this.getView(i).getValue()})}return t=this.model.slaRequired?_.extend(t,{slaAccepted:this.$("#acceptSla").is(":checked")}):_.extend(t,{password:this.$("#password").val(),confirmPassword:this.$("#confirm-password").val()}),e&&(t=_.extend(t,{phone:this.$("#phone").val(),employeeCount:this.getView("orgSizes").getValue()})),t}},getInputSelector:function(e){return this.fieldInputMap[e]},_anyBlanks:function(){if(this.loaded){var e=this.getInputs(!1),t=_.any(_.values(e),(function(e){return!_.isBoolean(e)&&(_.isEmpty(e)||0===(""+e).trim().length)}));if(!this.model.slaRequired){var i=this.model.get("validByPolicy");t=t||!i}return["USA","CAN"].indexOf(e.country)>-1&&(t=t||_.isEmpty(e.state)),t}return!0},_keyup:function(){var e=!!this.model.slaRequired&&!this.$("#acceptSla").is(":checked");this.submitBtn&&(this._anyBlanks()||e?this.submitBtn.addClass("is-disabled"):this.submitBtn.removeClass("is-disabled"))},onChangePassword:function(e){this.model.setPassword(e.target.value)},onChangeConfirmPassword:function(e){this.model.setConfirmPassword(e.target.value)},onKeyup:function(e){if(!_.isUndefined(e)){if("password"===e.target.id)return this.onChangePassword(e);if("confirm-password"===e.target.id)return this.onChangeConfirmPassword(e);if(e&&13===e.which)return}this._keyup()},onKeypress:function(e){var t=!this.model.slaRequired||this.$("#acceptSla").is(":checked");13===e.which&&!this._anyBlanks()&&t&&this.activate(e)},activate:function(e){if(e.preventDefault(),!this.submitBtn.hasClass("is-disabled")){this.submitBtn.addClass("is-disabled").trigger("blur"),this.submitBtn.spinner("start"),this.$(".input-error").removeClass("input-error"),this.$(".cloned").remove(),this.$("#errors").hide(),this.model.set(this.getInputs(!0)),this.model.save();var t=sprintf(l.wizard_activation_base,l.wizard_activation_form_submitted);$.logUserAction(t)}},reactivate:function(){window.location.assign("https://www.sumologic.com/sign-up")},resize:function(){$.noop()},nationChanged:function(e){"USA"===e?this.$("#state-row").show():this.$("#state-row").hide(),"CAN"===e?this.$("#province-row").show():this.$("#province-row").hide(),this.onKeyup()},_loadNations:function(){var e=this.$("#country"),t=_.map(s.nations,(function(e){return{value:e.alpha3,text:e.name}})),i=new r({el:e,create:!1,options:t,onChange:this.nationChanged,render:{item:function(e,t){return'<div class="item"'+(e.text.length>40?' title="'+t(e.text)+'"':"")+'">'+t(e.text)+"</div>"},option:function(e,t){return'<div class="option"'+(e.text.length>40?' title="'+t(e.text)+'"':"")+'">'+t(e.text)+"</div>"}}});i.setValue(this.model.get("country")||"USA"),this.registerView("nations",i)},_loadStates:function(){var e=this.$("#state"),t=_.map(s.states,(function(e,t){return{value:t,text:e}})),i=new r({el:e,create:!1,options:t});i.setValue(this.model.get("state")),this.registerView("states",i),e.parent().find("input").attr("autocomplete","new-password")},_loadProvinces:function(){var e=this.$("#province"),t=_.map(s.provinces,(function(e,t){return{value:t,text:e}})),i=new r({el:e,create:!1,options:t});i.setValue(this.model.get("state")),this.registerView("provinces",i)},_loadOrgsizes:function(){var e=this.$("#orgSize"),t=_.map(this.model.ORG_SIZES,(function(e){return{value:e,text:e}})),i=new r({el:e,create:!1,options:t});i.setValue(this.model.get("employeeCount")||""),this.registerView("orgSizes",i)},loadPolities:function(){this._loadStates(),this._loadProvinces(),this._loadNations(),this._loadOrgsizes()},setDisabledFields:function(){var e=this.el;this.model.disabledFields.forEach((function(t){"firstName"!==t&&"lastName"!==t||(t=t.toLowerCase()),"employeeCount"===t?$(e).find("#orgSize").closest(".form-row").attr("hidden",!0).hide():$(e).find("#"+t).closest(".form-row").attr("hidden",!0).hide()}))},togglePasswordVisibility:function(e){var t=!0===this.model.get("passwordVisible");this.model.setPasswordVisible(!t)},togglePasswordConfirmVisibility:function(e){var t=!0===this.model.get("passwordConfirmVisible");this.model.setPasswordConfirmVisible(!t)},renderPasswordVisibility:function(){var e=!0===this.model.get("passwordVisible");this.$("#password").prop("type",(function(t,i){return e?"text":"password"})),e?this.$("#password-toggle").addClass("revealed"):this.$("#password-toggle").removeClass("revealed")},renderPasswordConfirmVisibility:function(){var e=!0===this.model.get("passwordConfirmVisible");this.$("#confirm-password").prop("type",(function(t,i){return e?"text":"password"})),e?this.$("#password-confirm-toggle").addClass("revealed"):this.$("#password-confirm-toggle").removeClass("revealed")},render:function(){var e=!this.model.isExpired()&&!this.model.isInvalid(),i=!_.isUndefined(this.model.slaRequired)&&this.model.slaRequired,s=this.model.get("strength"),n=this.model.get("suggestion"),a=$.extend(this.model.toJSON(),{__:t,slaRequired:i,mainId:e?"activation-form-ctr":"activation-expired-ctr",showForm:e,passwordStrength:s,passwordSuggestion:n}),r=this.template(a);this.$el.html(r),$("#application-header-view, .reveal, #app-loading").hide(),this.submitBtn=this.$("#submit"),this.submitBtn.spinner(),e&&(this.loadPolities(),$.later(500,this,(function(){this.$("#firstname").trigger("focus")}))),this.setDisabledFields(),this.model.inRedesignMode&&($(this.el).find("#password-policy-holder-v2").addClass("only-password-input-visible"),$(this.el).find(".activation-ctr").addClass("white-bg")),this.loaded=!0;var o=sprintf(l.wizard_activation_base,e?l.wizard_activation_form_loaded:l.wizard_activation_expired);return $.logUserAction(o),this}})}.apply(t,s))||(e.exports=n)},63799:function(e,t,i){var s,n;s=[i(16193),i(60567),i(16471),i(50963),i(93889),i(89867),i(63205)],void 0===(n=function(e,t,s,n,a,r,o){var l=e.loginService,d=n.getAngularInjectable,c=t.SumoViewModule,u=t.LogUtil,h=s.errorsEnI18n,g=t.windowCommunicatorBaseService,p=t.changePasswordService;const m="cse",f="cloudSoar";return c.extend({eventHandlers:{},context:null,getViewName:function(){return"BentoLoader"},getComponent:function(){return"BentoUI"},getThisWindowType:function(){return this.WINDOW_TYPES.BENTO},getEntityId:function(){return SumoUtil.getEntityId()},initialize:function(){var e=this;this.inIframe=window.top!==window.self,$(window).on("unload",(function(){e.destroy()})),_.bindAll(this,"loadBentoUI","redirectToLoginPage","initiateAppRender","generateJwtAndLoad"),this.delayedInitiateAppRender()},delayedInitiateAppRender:function(){var e=a.promise;(a.lazy?e.then.bind(e):setTimeout)(this.initiateAppRender)},initiateAppRender:function(){this.loadBentoUIWrapper(),this.initWithoutParentWindow()},loadBentoUIWrapper:function(){SumoUtil.logPageVisit("bento","bento/launched");var e=this,t=i(45047),s=i(63205);try{e.messageBox=new s.MessageBox,e.bentoView=new t({context:e.context,el:$("#sumoapp")})}catch(t){$.logError("Sumo.Ui.Base.BentoLoader.loadBentoUI - Error: %s",t,t),e.showFailedLoadPage()}},reload:function(){this.initWithoutParentWindow()},initWithoutParentWindow:function(){var e=o.UrlHelper,t=this.options.params.asid;if(e.isActivationUrl()){window.appLoader=this;var i=d("$state"),s=e.getQueryParameterByName("activation"),n=e.getQueryParameterByName("transactionId");i.go("activate",{token:s,txnId:n})}else if(this.inIframe?t=void 0:t?localStorage.setItem("ui.justLoggedIn","true"):t=l.getAsidFromCookie(),t)if(localStorage.getItem("ui.2fa.setup")){var a=localStorage.getItem("ui.2fa.params");try{a=JSON.parse(a),l.userLoginSuccess(a)}catch(e){this.redirectToLoginPage()}}else this.options.params.asid=t,this.loggedIn(this.options.params);else this.redirectToLoginPage()},generateJwtAndLoad:function({integrationName:e,tenantName:t,redirectUrl:i}){var s=e===m?`generateCseJwt?tenantName=${t}&redirectUrl=${i}`:`generateJwt?integrationName=${e}&tenantName=${t}&redirectUrl=${i}`;l.context.ajax.call(this,{endpoint:`/json/v1/authentication/${s}`,errorCode:"generateJwt",success:function(e){var t=e.returnURL||"/ui/";window.location.assign(t)},error:function(e,t,i){SumoApp.userMessage.question(h.generateJwtAndReload,{okCallback:function(){window.location.assign("/ui/")}})}})},handlePasswordChange:function(e){var t=this;p.open(!0).then((function(){var e=o.UrlHelper,i=e.getQueryParameterByName("redirectUrl"),s=e.getQueryParameterByName("integrationName")||function(e){const t={".portal.jask.ai":m,".incman.sumologic.com":f};for(const i in t)if(e.indexOf(i)>-1)return t[i];return""}(i),n=e.getQueryParameterByName("tenantName");s&&n&&i?t.generateJwtAndLoad({integrationName:s,tenantName:n,redirectUrl:i}):window.location.reload()}))},loggedIn:function(e){var t=document.location.protocol+"//"+document.location.host;l.context.ajax.setUrl(t);var i=this;l.STATE.bSkippedLoginScreen=!0,l.loggedIn(e,(function(e,t){if(!i.returnToAction(t.returnToUrl))if(e&&e.userInfo){var s=e.userInfo.requiresNewPassword,n=!e.userInfo.slaAccepted&&e.userInfo.isHeroku;if(s)i.handlePasswordChange(e);else{var a=d("$urlRouter"),o=d("$state");i.loadBentoUI({context:e});var l=r.findStateMatchForRouteUrl(window.location.hash.substring(1),!0);n?o.go("activate",{slaRequired:!0}):o.go(l.name,l.params),a.listen(),i.broadcastBentoReady()}}else i.redirectToLoginPage()}),i.redirectToLoginPage)},broadcastBentoReady:function(){g.broadcastReady()},returnToAction:function(e){return!!e&&((e.indexOf("dashboard.html")||e.indexOf("livetail.html"))&&(window.location.href=e),!0)},findReasonInURL:function(e){return e.indexOf("reason=")>-1?e.split("reason=")[1]:""},redirectToLoginPage:function(e,t,i){location.reload()},getReturnUrl:function(){return window.location.pathname+(window.location.hash||"")},initializeServerLogging:function(e){e.logToServer=new u(e),e.logToServer.initializeSendLogTimer(!1),e.ajax.setServerLoggingClassInstance(e.logToServer)},initializeTimeout:function(e){var t=e.getSessionTimeout();this.context.ajax.setActivityTimeout(t)},loadBentoUI:function(e){d("bentoBootstrapService").loadBentoUI(e,this)},showFailedLoadPage:function(){var e=sprintf('<img style="display:inline-block;" src="images/icons/12/error.png"/><b style="display:inline-block; vertical-align: top;">&nbsp;&nbsp;%s</b>',h.dashboard_load_failed);$("#content").html(e)},destroy:function(){$(window).off(),window.SumoApp&&SumoApp.bentoView&&(SumoApp.bentoLoader=null,SumoApp.bentoView.destroy(),SumoApp.bentoView=null)},searchDrillDown:function(e){d("searchWorkspaceViewService").searchDrillDown(e)},onFavoriteChange:function(e){},loadSearch:function(e){}})}.apply(t,s))||(e.exports=n)},42108:function(e,t,i){var s,n;s=[i(60567),i(16471),i(20452)],void 0===(n=function(e,t,i){var s=e.SumoViewModule,n=t.commonEnI18n;return s.extend({mixins:[],events:{"click .open-window":"notifyWindowOpened","click .cancel-button":"close"},template:_.template(i),url:null,windowId:null,getViewName:function(){return"BlockedPopUpDialog"},getComponent:function(){return"Util"},notifyWindowOpened:function(){this.trigger("windowOpened",this.windowId),this.close()},close:function(){this.getView("dialogView").close()},createDialog:function(){var e=this,t=SumoApp.factory.createDialogView({el:"#pop-up-blocked-dialog",plugin:{title:n.pop_up_blocked,width:440,close:function(){e.destroy()}}});this.setElement(t.$el),this.registerView("dialogView",t),this.render()},initialize:function(e){this.url=e.url,this.windowId=e.windowId,this.createDialog()},render:function(){var e=_.extend({__:n,url:this.url}),t=this.template(e);return this.$el.html(t),this}})}.apply(t,s))||(e.exports=n)},85518:function(e,t,i){var s,n;s=[i(16193),i(60567),i(16471),i(63205),i(50963),i(93285),i(35075)],void 0===(n=function(e,t,s,n,a,r,o){var l=e.loginService,d=t.SumoViewModule,c=n.ErrorUtilModule,u=s.DashboardsModule,h=t.LogUtil,g=n.CookieUtil,p=n.SumoApp,m=n.Context,f=a.getAngularInjectable,S=s.errorsEnI18n,v=t.changePasswordService;return d.extend({mixins:[r],DASHBOARD_EVENT_REFRESH:"refreshDashboard",eventHandlers:{},context:null,loginService:null,events:{"click #sumo-nav-wrapper-signout":"onLogout","click #application-help":"onApplicationHelp","click #sumo-nav-wrapper-upgrade":"onFreeUserUpgrade","keyup #sumo-nav-wrapper-signout":"onKeyUpSignOut"},getViewName:function(){return"DashboardLoader"},getComponent:function(){return"Dashboards"},getThisWindowType:function(){return this.WINDOW_TYPES.DASHBOARD},getEntityId:function(){return SumoUtil.getEntityId()},getEntityType:function(){return SumoUtil.getEntityType()},onKeyUpSignOut:function(e){var t=e.which;13!==t&&32!==t||this.onLogout(e)},onLogout:function(e){$.logUserAction("User clicked sign out in dashboard window "+SumoApp.dashboardId),window._sumoLogSessionMessage&&window._sumoLogSessionMessage("User clicked sign out in dashboard window "+SumoApp.dashboardId),e&&e.preventDefault(),this.loginService.signOut(this.getRedirectPath())},onApplicationHelp:function(){return SumoApp.getAngularService("helpNavigationService").showHelp({id:this.onlineHelpView.About_dashboards}),!1},favoriteDashboard:function(e,t){this.sendFavoriteChange(t,e)},onFreeUserUpgrade:function(e){if(this.context.hasFeature("bill.zuora.url")&&this.context.userInfo.accountOwner)this.sendShowUpgradeWizard();else{var t=this.context.userInfo.freeConversionLink;SumoUtil.isStringEmpty(t)&&(t="https://info.sumologic.com/upgrade.html");var i=window.open(t,"SumoLogicFreeUserUpgrade");i&&i.focus()}e.preventDefault()},showDashboard:function(e,t,i){var s={type:this.WINDOW_TYPES.BENTO},n={name:"dashboardDrillDown",message:{dashboardId:e,dashboardKey:i,type:t}};this._message(s,n)||this.sendFocus({entityId:i||e,type:this.WINDOW_TYPES.DASHBOARD},u.focus_generic)||this.openDashboard(e,t,void 0,i)},_getType:function(){var e="dashboard";if(window.dashboardType)return window.dashboardType;var t=location.href.indexOf("t=");if(t>0){var i=t+2;"r"===location.href.charAt(i)&&(e="report")}return window.dashboardType=e,e},onPanelAdded:function(e){var t=SumoApp.dashboardView;t.isReady()&&0===$("#"+e.panelId).length?t.refreshDashboard({bMonitorAdded:!0,panelId:e.panelId}):t.model.setMode(t.model.MODES.EDIT),e.skipAlert||this.focus(u.focus_panel_added)},onPanelUpdated:function(e){SumoApp.dashboardView.refreshDashboard({bMonitorUpdated:!0,panelId:e.panelId}),this.focus(u.focus_monitor_updated)},initialize:function(){var e=this;$(window).on("unload",(function(){e.destroy()})),_.bindAll(this,"loadDashboardUI"),this.initWithoutParentWindow()},initWithoutParentWindow:function(){var e=this.getEntityId();if(this.loginService=l,f("dashboardViewShimService").initiateWindowCommunication(),e){var t={asid:this.loginService.getAsidFromCookie()};this.loggedIn(t,e)}else this.redirectToLoginPage()},handlePasswordChange:function(e){v.open(!0).then((function(){window.location.reload()}))},reloadAfterPasswordChange:function(){setTimeout((function(){location.reload()}),500)},loggedIn:function(e,t){var i=document.location.protocol+"//"+document.location.host;this.loginService.context.ajax.setUrl(i),this.loginService.STATE.bSkippedLoginScreen=!0;var s=this,n=this.getEntityType();this.loginService.loggedIn(e,(function(e){if(e&&e.userInfo)if(e.userInfo.requiresNewPassword)s.handlePasswordChange(e);else{e.dashboardId=t;var i={context:e,dashboardId:t,dashboardType:s._getType()};if(e.isPublic)s.loadDashboardUI(i,e.isPublic,n);else{s.listenTo(SumoApp.sumoEvents,"userPreferencesLoaded",(function(){s.loadDashboardUI(i,!1,n)}))}}else s.redirectToLoginPage()}))},redirectToLoginPage:function(e){var t=this.getRedirectPath(e);window._sumoLogSessionMessage&&window._sumoLogSessionMessage("Redirecting to login page from dashboard_loader.] [redirectUrl=/ui/index.html"+t+")]"),window.location.href="//"+window.location.host+t},getRedirectPath:function(e){var t=[],i=this.getDashboardReturnUrl(!0);if(i){["t","filters","timerange"].forEach((function(e){var t=SumoUtil.getQueryParameterByName(e);t&&(i+="&"+e+"="+t)})),t.push(["return_to",escape(i)])}var s=SumoUtil.getQueryParameterByName("customerId");s&&t.push(["customerId",s]),e&&t.push(["reason",e]);var n=t.map((function(e){return e[0]+"="+e[1]})).join("&");return n.length>0&&(n="/ui/?"+n),n},getDashboardReturnUrl:function(e){var t=SumoUtil.getEntityId()+"",i=t.match(/^\d+$/)?parseInt(t):void 0,s=i?void 0:t,n=i?SumoUtil.fuzzId(i):s,a=SumoUtil.getQueryParameterByName("t");return n?"d="+n+(e?"":"&t="+a):null},initializeServerLogging:function(e){e.logToServer=new h(e),e.logToServer.initializeSendLogTimer(!1),e.ajax.setServerLoggingClassInstance(e.logToServer),e.logToServer.initializeSessionLogging()},initializeTimeout:function(e){var t=e.getSessionTimeout();this.context.ajax.setActivityTimeout(t)},loadDashboardUI:function(e,t,s){if(e.dashboardId||e.context&&e.context.dashboardId){t&&s===SumoUtil.oldEntityParam&&!SumoUtil.isEmbedded()&&this.redirectToLoginPage(),e.context?(window.userPreferencesLoad=new Date,window.SumoApp.dashboardId=e.context.dashboardId,this.context=e.context):(e.projectVersion&&(window.ProjectVersion=e.projectVersion),this.context=new m,this.context.ajax=this.loginService.context.ajax,this.context.dashboardId=e.dashboardId,this.context.userInfo=e.userInfo,this.context.expirationData=e.expirationData,this.context.ajax.setAsid(e.asid),this.context.ajax.setFeatureFlags(e.userInfo.featureFlags),this.context.ajax.setIsDevEnv(e.userInfo.isDevEnv),this.context.cookieUtil=new g,this.context.cookieUtil.setEnabled(e.cookieUtilOpts.isEnabled),this.context.cookieUtil.setAsidCookieExpirationMs(e.cookieUtilOpts.asidExpiration),this.context.cookieUtil.setLamsCookieExpirationMs(e.cookieUtilOpts.lamsExpiration),this.context.ajax.setCookieUtil(this.context.cookieUtil),this.initializeServerLogging(this.context),window.SumoApp=new p(this.context),window.SumoApp.dashboardId=this.context.dashboardId);var a=n.OnlineHelpView;this.onlineHelpView=new a,SumoApp.applicationView={onlineHelpView:this.onlineHelpView},t||this.initializeTimeout.call(this,window.SumoApp.user.userPreferencesModel);var r=SumoApp.getAngularService("currentUserHelper");!r.getOrg().typeHelpers.isDevEnv&&r.hasFeatureFlag("UISendLogsDisable")||$.setLoggingSendFn(this.context.logToServer.sendLog);try{r.get().overrides.logLevelDebug?($.logInfoLocal("Setting console log level to debug"),$.logSetConsoleLevel(4)):SumoUtil.isDevMode()?($.logInfoLocal("Setting console log level to info"),$.logSetConsoleLevel(3)):($.logInfoLocal("Setting console log level to warn"),$.logSetConsoleLevel(2))}catch(e){throw e}this.context.toaster=jQuery.toaster({showTime:5e3}),this.context.errorUtil=new c,this.context.dashboardLoader=this,SumoUtil.logPageVisit("dashboard","dashboard/launched");var o=this,l=i(19290);try{SumoApp.dashboardLoader=o,o.context.messageBox=new n.MessageBox;var d=new l({context:o.context,el:$("#dashboard"),dashboardId:o.context.dashboardId,dashboardType:e.dashboardType,openInLiveMode:r.get().overrides.openInLiveMode,isPublic:t,paramType:s,redirectToLoginPage:o.redirectToLoginPage.bind(o)});SumoApp.dashboardView=d}catch(e){$.logError("Sumo.Ui.Base.DashboardLoader.loadDashboardUI - Error: %s",e,e),o.showFailedLoadPage()}}else this.showFailedLoadPage()},showFailedLoadPage:function(){var e=sprintf('<img style="display:inline-block;" src="images/icons/12/error.png"/><b style="display:inline-block; vertical-align: top;">&nbsp;&nbsp;%s</b>',S.dashboard_load_failed);$("#content").html(e)},destroy:function(){$(window).off(),window.SumoApp&&SumoApp.dashboardView&&(SumoApp.dashboardLoader=null,SumoApp.dashboardView.destroy(),SumoApp.dashboardView=null)}})}.apply(t,s))||(e.exports=n)},46191:function(e,t,i){var s,n;s=[i(16193),i(60567),i(50963),i(88409)],void 0===(n=function(e,t,s,n){var a=e.loginService,r=t.SumoViewModule,o=(s.getAngularInjectable,t.changePasswordService);return r.extend({eventHandlers:{},context:null,loginService:null,getEntityId:function(){return SumoUtil.getLiveTailId()},initialize:function(){var e=this;$(window).on("unload",(function(){e.destroy()})),_.bindAll(this,"loadLivetailUI","loadLivetailUIWrapper"),this.initWithoutParentWindow()},initWithoutParentWindow:function(){this.loginService=a;var e={asid:this.loginService.getAsidFromCookie()};if(e.asid){var t=this.getEntityId();this.loggedIn(e,t)}else this.redirectToLoginPage()},handlePasswordChange:function(e){o.open(!0).then((function(){window.location.reload()}))},reloadAfterPasswordChange:function(){setTimeout((function(){location.reload()}),500)},loggedIn:function(e,t){var i=document.location.protocol+"//"+document.location.host;this.loginService.context.ajax.setUrl(i),this.loginService.STATE.bSkippedLoginScreen=!0;var s=this;this.loginService.loggedIn(e,(function(e){if(e&&e.userInfo)if(e.userInfo.requiresNewPassword)s.handlePasswordChange(e);else{e.livetailId=t;var i={context:e,livetailId:t};s.listenTo(SumoApp.sumoEvents,"userPreferencesLoaded",(function(){s.loadLivetailUI(i)}))}else s.redirectToLoginPage()}))},redirectToLoginPage:function(){var e=[],t=this.getLivetailReturnUrl();t&&e.push(["return_to",escape(t)]);var i=e.map((function(e){return e[0]+"="+e[1]})).join("&");i.length>0&&(i="?"+i);var s=SumoUtil.getQueryParameterByName("customerId");s&&(i=(i=0===i.length?"?":i+"&")+"customerId="+s),window._sumoLogSessionMessage&&window._sumoLogSessionMessage("Redirecting to login page from dashboard_loader.] [redirectUrl=/ui/index.html"+i+"]"),window.location.href="//"+window.location.host+"/ui/index.html"+i},getLivetailReturnUrl:function(){var e=parseInt(SumoUtil.getLiveTailId());return"l="+encodeURIComponent("ltp="+e)},loadLivetailUIWrapper:function(e){SumoUtil.logPageVisit("livetail","livetail/launched");var t=i(21242);try{this.livetailView=new t({context:this.context,data:e,el:$("#sumoapp #livetail")})}catch(e){$.logError("Sumo.Ui.Base.LivetailLoader.loadLivetailUIWrapper - Error: %s",e,e)}},loadLivetailUI:function(e){this.loadLivetailUIWrapper(e)},destroy:function(){$(window).off()}})}.apply(t,s))||(e.exports=n)},44104:function(e,t){var i;void 0===(i=function(){"use strict";return{defaults:{livePanelsUsed:0,livePanelsTotal:0,livePanelsDataFetched:void 0},mixin:{getLivePanelsTotal:function(){return this.get("livePanelsTotal")},setLivePanelsTotal:function(e){this.set({livePanelsTotal:e})},getLivePanelsUsed:function(){return this.get("livePanelsUsed")},setLivePanelsUsed:function(e){this.set({livePanelsUsed:e})},loadLivePanelData:function(e){e?this.onLivePanelDataLoaded({}):SumoApp.ajax.call(this,{endpoint:SumoApp.ajax.Endpoints.V1_ACCOUNT_GET_SUBSCRIPTION_AND_BILLING_USAGES,errorCode:"live_panel_usage",data:{periods:"0,-1"},success:function(e){e&&this.onLivePanelDataLoaded(e)}})},onLivePanelDataLoaded:function(e){this.setLivePanelsUsed(e.liveDashboardPanels),this.setLivePanelsTotal(_.getPath(e,"subscriptionDetails.dashboardMonitorLimit")),this.set({livePanelsDataFetched:$.now()})}}}}.apply(t,[]))||(e.exports=i)},82385:function(e,t,i){var s,n;s=[i(9637)],void 0===(n=function(e){"use strict";return{mixin:{_getBillingCycle:function(t){var i,s=t.termLength;return this.isPaidPlan(t)?12===s?i=e.yearly:1===s&&(i=e.monthly):i=null,i},isPaidPlan:function(e){return e||(e=this.getCurrentPlan()),!(e.free||e.trial)}}}}.apply(t,s))||(e.exports=n)},47782:function(e,t,i){var s,n;s=[i(85074)],void 0===(n=function(e){"use strict";return{init:function(){_.bindAll(this,"showActivationOverlay","hideActivationOverlay")},mixin:{aoView:null,showActivationOverlay:function(t){return this.aoView=new e({el:"#activationOverlay",overlayPage:t}),this.aoView.render().$el.show(),this.aoView},hideActivationOverlay:function(e){this.aoView&&this.aoView.destroy()}}}}.apply(t,s))||(e.exports=n)},21904:function(e,t){var i;void 0===(i=function(){"use strict";return{init:function(){if(this.pluginOpts.collectionManaged){this.collectionOpts=this.pluginOpts.collectionManaged;var e=this.collectionOpts.collection;this.setCollection(e),this.collectionToData=this.collectionOpts.collectionToData,this.findRowByTableData=this.collectionOpts.findRowByTableData,this.listenTo(e,"reset",this.reloadFromCollection),this.reloadFromCollection()}else $.logWarn('Please provide a "collection" object within the plugin options')},mixin:{collectionOpts:null,collection:null,collectionToData:null,findRowByTableData:null,getCollection:function(){return this.collection},setCollection:function(e){this.collection=e},getCollectionData:function(){var e=[],t=this.getCollection();return t&&t.size()>0&&(e=_.isFunction(this.collectionToData)?t.map(this.collectionToData):t.toJSON()),e},reloadFromCollection:function(){var e=this.getCollectionData();this.resetData(e)},getRowModel:function(e){var t=null,i=$(e),s=this.getRowData(i.get(0));if(s){var n=this.getCollection();if(_.isFunction(this.findRowByTableData))t=this.findRowByTableData(e,s,n);else{var a=_.isString(this.findRowByTableData)?this.findRowByTableData:"id";t=this.findModelFunction(e,s,n,a)}}return t},findModelFunction:function(e,t,i,s){return i.find((function(e){return t[s]===e.get(s)}))}}}}.apply(t,[]))||(e.exports=i)},68974:function(e,t,i){var s,n;s=[i(16471)],void 0===(n=function(e){"use strict";var t=e.commonEnI18n;return{init:function(){_.bindAll(this,"launchSearch","searchBtn"),this.launch=_.debounce(this.debouncedSearch,250,!0)},mixin:{launch:null,searchBtn:function(e){return _.template('<span class="list-view-search-btn list-action" data-term="<%dangerousUnescapedHTML= data %>"><span class="sourceCategory__search sourceSearch" title="Open in Log Search"></span></span>')({label:t.search,data:e})},launchSearch:function(e){this.launch(e)},debouncedSearch:function(e){e.stopPropagation(),e.preventDefault();var t=$(e.target),i=t.hasClass("list-action")?t:t.parent(),s=+new Date,n=this.createSQData(),a=i.data("term");if(a){if(_.has(this,"lastDrilldownTs")){if(s<this.lastDrilldownTs+this.minTimeBetweenDrilldowns)return;this.lastDrilldownTs=s}n.setQueryString(a),n.setExecuteSearch(!0),SumoApp.applicationView.onDrilldownSearch(e,n)}}}}}.apply(t,s))||(e.exports=n)},9680:function(e,t,i){var s,n;s=[i(16471),i(76891),i(10788),i(21904),i(66359)],void 0===(n=function(e,t,i,s,n){"use strict";var a=e.accountEnI18n,r=n.currentUserHelper;return{init:function(){_.bindAll(this,"getTableView","getPagerView","getColumnDefinitions","getCurrentModelData","toggleProcessing","onLoaded","onScroll","createItem","renderNameColWithSearch","renderIconNameCol","refreshList","deleteItem","_delete","onDelete","stopItem","startItem","triggerReload","hoverRow","renderTable","onResize","handleMenuShowing","handleMenuHiding","onSaved","searchList","searchListAdvanced","endProcessing","onDataLoaded"),this.onResizeDebouncer=_.throttle(this.onResize,300),$(window).on("resize",this.onResizeDebouncer)},mixin:{template:_.template(t),scrollPos:null,dataTable:null,currentTarget:null,showRefreshMsg:null,lastDrilldownTs:0,minTimeBetweenDrilldowns:2e3,SELECTED_ROW_CLASS:"list-view-selected",MAX_EXPRESSION_LENGTH:80,onResizeDebouncer:null,overlay:null,coreId:null,deleteConfirmKey:null,sortColIndex:null,nameContainer:null,stopConfirmKey:null,hasDetailView:null,hasStatusCol:null,showSearch:null,resizeOnVisible:!1,renderDefaults:{hasDetailView:!1,hasStatusCol:!1,showSearch:!1,secondaryText:""},defaultEvents:{"triggerReload .mgmt-list":"triggerReload","click .refresh-link":"refreshList","mouseenter tbody tr":"hoverRow","mouseleave tbody tr":"hoverRow","click .create-link":"createItem","click .menu-item-edit":"editItem","click .menu-item-delete":"deleteItem","click .menu-item-start":"startItem","click .menu-item-stop":"stopItem","click .action-col":"openContextMenu","contextmenu tbody tr":"openContextMenu","click .menu-item-details":"showDetails","click tbody td":"showDetails","click .list-view-search-btn":"launchSearch"},events:function(){return _.extend({},this.defaultEvents,this.clientEvents)},defaultKeyboardEvents:{"shift+a":"_selectAll","shift+n":"_selectNone","shift+left":"_previousPage","shift+right":"_nextPage","shift+f":"onKeyUpFocusFilter"},keyboardEvents:function(){return _.extend({},this.defaultKeyboardEvents,this.clientKeyboardEvents)},getPageTypeName:function(){return"partitions"===this.coreId?"_index":"schedviews"===this.coreId?"_view":"fieldexpressions"===this.coreId?"":void 0},getTableView:function(){return this.getView("tableView")},getPagerView:function(){return this.getView("pagerView")},getActiveView:function(){return this},getMenuView:function(){return this.getView("list-menu")},getCommonSearchView:function(){return this.getView("common-search-view")},getCurrentModelData:function(e){return _.extend({},e.toJSON(),{DT_RowClass:this.coreId+"_"+e.id+(e.attributes&&e.attributes.DT_RowClass?" "+e.attributes.DT_RowClass:"")})},getCurrentRow:function(e){return this.$("#"+this.coreId+"-"+e)[0]},getRenderDefaults:function(){return this.renderDefaults},getResizeOnVisible:function(){return this.resizeOnVisible},getDetailView:function(e){$.logWarn("Client code must define real version of getDetailView",e)},getColumnDefinitions:function(){$.logWarn("Client code must define real version of getColumnDefinitions")},getCreateView:function(e){$.logWarn("Client code must define real version of getCreateView")},getPostMessage:function(e,t){$.logWarn("Client code must define real version of getPostMessage")},getUsername:function(e,t){var i="DEV_NA";return t&&!SumoUtil.isStringEmpty(e)&&"UnKnown"!==e&&(i=e),i},getIdFromTarget:function(e){var t=e.data("id")?e.data("id"):e.attr("id"),i=["fieldexpressions","connections","users","roles"];return i.push("partitions"),t&&(t=t.replace(this.coreId+"-",""),i.indexOf(this.coreId)>-1&&!isNaN(parseInt(t))&&(t=parseInt(t))),t},getIDFromRowOrMenu:function(e){var t=e.hasClass("button-menu-item")||e.is("tr")?e:e.parents("tr");return this.getIdFromTarget(t)},_getSelectedRows:function(){var e=this.$("tr.ui-selected"),t=this.getTableView();return e.map((function(e,i){return t.getRowData(i)})).get()},onScroll:function(e){this.getMenuView().hide()},toggleProcessing:function(e){this.getTableView()&&this.getTableView().toggleProcessing(e)},_selectAll:function(){SumoApp.user.userPreferencesModel.getKeyboardShortcuts()&&this.getActiveView().selectAll()},_selectNone:function(){SumoApp.user.userPreferencesModel.getKeyboardShortcuts()&&this.getActiveView().selectNone()},_previousPage:function(){SumoApp.user.userPreferencesModel.getKeyboardShortcuts()&&this.getActiveView().previousPage()},_nextPage:function(){SumoApp.user.userPreferencesModel.getKeyboardShortcuts()&&this.getActiveView().nextPage()},onKeyupFocusFilter:function(e){SumoApp.user.userPreferencesModel.getKeyboardShortcuts()&&this.focusFilter(e)},focusFilter:function(e){this.$(".common-search-input").trigger("focus"),e&&e.preventDefault()},onResize:function(){this.$el.is(":visible")?(this.resizeOnVisible=!1,this.subviews.iterate((function(e,t){"onResize"in e&&e.onResize()}))):this.resizeOnVisible=!0},createItem:function(e){$.logWarn("Client code must define real version of createItem",e)},editItem:function(e){$.logWarn("Client code must define real version of editItem",e)},onCancel:function(e){$.noop()},onSaved:function(e,t){return t&&(r.hasFeatureFlag("UIReplaceToasterPlugin")?SumoApp.userMessage.info(this.getPostMessage(e,SumoUtil.encode(t.getName()))):SumoApp.userMessage.info(this.getPostMessage(e,SumoUtil.encode(t.getName())),{isHTML:!0}),e?(this.toggleProcessing(),this.triggerReload()):this.updateCurrentRow(t.model?t.model:t)),!0},makeViewDialog:function(e,t,i){this.stopListening(this.model,"change:error"),this.scrollPos=this.$("#"+this.coreId+"-grid").parent().scrollTop();var s=i?this.triggerReload:null;this.getCreateView({model:t,createView:e,callback:s})},_getMenuActiveElement:function(e){var t=this.getMenuView().getActiveElement();return t&&t.length>0?t.closest("tr"):$(e.target).closest("tr")},startItem:function(e){var t=this._getMenuActiveElement(e);if(t){var i=this.getIdFromTarget(t),s=this.model.fetchModel(i).start();s&&s.then&&s.then(this.triggerReload)}else this.logWarnMessage("startItem","start item was triggered but could not find the active row.",e)},_stop:function(){var e=this.model.stopModel(this.currentTarget,this.triggerReload);e&&e.then&&e.then(this.triggerReload)},stopItem:function(e){var t=this._getMenuActiveElement(e);t?(this.currentTarget=this.getIdFromTarget(t),this.stopConfirmKey?SumoApp.context.messageBox.question(this.stopConfirmKey,this._stop):this._stop()):this.logWarnMessage("stopItem","stop item was triggered but could not find the active row.",e)},endProcessing:function(){this.toggleProcessing(!1)},onDelete:function(e){r.hasFeatureFlag("UIReplaceToasterPlugin")?SumoApp.userMessage.info(e.message):SumoApp.userMessage.info(e.message,{isHTML:!0}),this.triggerReload()},_delete:function(){this.toggleProcessing(!0),this.model.fetchModel(this.currentTarget).remove().then(this.onDelete).catch(this.endProcessing)},_deleteMessage:function(e){return sprintf(this.deleteConfirmKey,SumoUtil.encode(e))},deleteItem:function(e){var t=this._getMenuActiveElement(e),i=this.getIDFromRowOrMenu(t),s=this.$("tr#"+this.coreId+"-"+i).find(this.nameContainer).find("span").first().text(),n=_.getPath(this.model,"getDeleteConfirmHeadTitle")?this.model.getDeleteConfirmHeadTitle(s):null;this.currentTarget=i,SumoApp.userMessage.question(this._deleteMessage(s),{okCallback:this._delete,isHTML:!0,title:n}),this.getMenuView().hide()},refreshList:function(){this.showRefreshMsg=!0,this.triggerReload()},triggerReload:function(e){if(e&&!SumoUtil.isStringEmpty(this.model.getFilter()))this.model.filterModels(),this.onLoaded();else if(this.model.getFilterActive()&&SumoUtil.isStringEmpty(this.model.getFilter()))this.model.clearFilter(),this.endProcessing();else{this.toggleProcessing(!0);var t=this.model.loadData();t?t.then(this.onDataLoaded):this.toggleProcessing(!1)}},updateCurrentRow:function(e){e&&this.getTableView().updateRowData(this.getCurrentRow(e.getId()),this.getCurrentModelData(e),!1)},getHiddenActions:function(e){return $.logWarn("Client code must define real version of getHiddenActions if any menu items should be hidden"),""},handleMenuShowing:function(e){var t=this._getMenuActiveElement(e);if(t.addClass(this.SELECTED_ROW_CLASS),t){var i=this.getHiddenActions(this.getTableView().getRowData(t.get(0)),e),s=[];i&&(s=_.isArray(i)?i:[i],this.getMenuView().hideMenuItemsByName(s))}},handleMenuHiding:function(e){this._getMenuActiveElement(e).removeClass(this.SELECTED_ROW_CLASS)},openContextMenu:function(e){e.preventDefault();var t=this.getMenuView(),i=$(e.target),s=rangy.getSelection(),n="center",a=e.pageX,r=i.closest("td");if(s.getAllRanges().length>0&&s.removeAllRanges(),!r.hasClass("details")&&!r.hasClass("dataTables_empty")){var o=$("#bento-nav").is(":visible")?$("#bento-nav").width()+parseInt($(".tabbed-page").css("padding-left")):0;SumoUtil.isElementOrDescendant(i,".action-col")?(a=e.pageX-t.$el.width()+4-o,n="right"):a=e.pageX-o,t.show(e,{left:a,horizontal:n})}},hoverRow:function(e){var t=$(e.currentTarget);"mouseenter"===e.type?t.addClass("active"):t.removeClass("active")},shouldShowDetails:function(e){return!0},showDetails:function(e){if(e.preventDefault(),this.hasDetailView){if(e.currentTarget.className.indexOf("action-col")>-1)return!1;var t=this._getMenuActiveElement(e),i=t;if(_.isNull(t)&&(i=(t=$(e.target)).parents("tr").first()),!(t.hasClass("dataTables_empty")||SumoUtil.isElementOrDescendant($(e.currentTarget),".action-col")||i.children().first().hasClass("details"))){var s=this.getIDFromRowOrMenu(i),n=this.$("tr#"+this.coreId+"-"+s),a=n[0],r=this.getTableView(),o=r.getRowData(a);this.shouldShowDetails(o)&&(r.isDetailOpen(a)?(n.removeClass(this.SELECTED_ROW_CLASS),r.detailClose(a)):(n.addClass(this.SELECTED_ROW_CLASS),r.detailOpen(a,this.getDetailView(a)),r.onResize(),n.next().find("div").last().offset().top>$(window).height()&&a.scrollIntoView()))}}},renderDateForDisplay:function(e){var t=SumoApp.dateUtil.formatDateTime();return e?t(e):""},createComplianceIcon:function(e){return e?'<span class="compliance-chip">'+a.PARTITION_COMPLIANCE_CHIP_TEXT+"</span>":""},renderNameCol:function(e,t,i,s){return sprintf('<span class="list-item-flexbox"><span title="%s" class="elided">%s</span>%s</span>',SumoUtil.encodeAttr(e),SumoUtil.encode(e),this.createComplianceIcon(s))},getIconNameColLabel:function(e){return"ServiceNowV2"===e?"ServiceNow":e},renderIconNameCol:function(e,t,i,s){var n=SumoUtil.encode(e);return sprintf('<div class="tile__icon connection_icon"><img src="images/connections/100/%s.png" width="16px" height="16px"></div><span title="%s" class="elided">%s</span>%s',n.toLowerCase(),SumoUtil.encodeAttr(e),this.getIconNameColLabel(n),this.createComplianceIcon(s))},renderColWithSearch:function(e,t,i,s){var n=SumoUtil.encodeAttr(i||t);return sprintf('<span title="%s" class="elided">%s</span>%s%s',n,SumoUtil.encode(e),this.createComplianceIcon(s),this.searchBtn(SumoUtil.encodeAttr(t)))},renderNameColWithSearch:function(e,t,i,s){var n=this.getNameTerm(e,!1);return this.renderColWithSearch(e,n,void 0,s)},renderActionCol:function(e,t,i){return'<div><i class="fa fa-ellipsis-v fa-fw list-action"></i><span>&nbsp;</span></div>'},searchList:function(){this.searchListByTerm(this.getView("common-search-view").getTerm())},searchListAdvanced:function(e){"List"===e.searchType&&this.searchLibrary(e)},searchListByTerm:function(e){this.$("#"+this.coreId+"-grid").css("overflow","hidden"),this.model.setFilter(e),this.toggleProcessing(!0),this.triggerReload(!0)},getModelFilter:function(){return this.model.getFilter()},getTableSort:function(){return[[this.sortColIndex,"asc"]]},getFixedTableSort:function(){return null},onDataLoaded:function(e){this.model.setAllModels(),this.model.filterModels(),this.onLoaded(e)},onLoaded:function(e){this.endProcessing(),this.$(".list-view-cover").hide(),this.$el.is(":visible")||(this.resizeOnVisible=!0),$("#perspective-view").trigger("logFeatureLoad")},afterInitialize:function(){var e=this;this.destroy=_.wrap(this.destroy,(function(t){e.showActivationOverlay&&e.hideActivationOverlay(),t.call(e)})),this.render(),this.initTable(),this.toggleProcessing(!0);var t=this.getCommonSearchView();t&&(this.listenTo(t,"commonSearchLaunched",this.searchList),this.listenTo(t,"commonSearchAdvanced",this.searchListAdvanced)),this.$(".dataTables_scrollBody").on("scroll",this.onScroll),this.triggerReload(),this.showSearch&&$("#list-search-view").css({display:"inline-block"}),_.isFunction(this.listViewInitialize)&&this.listViewInitialize()},initTable:function(){var e={bUseSimpleColumnDefs:!0,bFixedColumnWidths:"anomalyReportView",aoColumnDefs:this.getColumnDefinitions(),sScrollY:parseInt(.8*$("#application-view").height()),aaSorting:this.getTableSort(),collectionManaged:{collection:this.model.getModels(),collectionToData:this.getCurrentModelData}},t=this.getFixedTableSort();null!==t&&(e.aaSortingFixed=t),_.isFunction(this.onRowCreated)&&(e.fnCreatedRow=_.bind(this.onRowCreated,this));var i=this.createDataTable({el:this.$("#"+this.coreId+"DT"),plugin:e,mixins:[s]});this.registerView("tableView",i)},renderTable:function(e){if(this.model.getModelCount()>0){var t=this.getTableView();t.reload(),t.onResize(),e&&_.isFunction(e)&&e()}}}}}.apply(t,s))||(e.exports=n)},32500:function(e,t,i){var s,n;s=[i(34908),i(16471),i(96166),i(34074),i(16589),i(75641)],void 0===(n=function(e,t,i,s,n,a){var r=s.SearchQueryDataModule,o=t.commonEnI18n;e=e.default;return{init:function(){_.bindAll(this,"restartAfterCreate","stepBack","_backOrRestart","getPopStateHandler","isGeneric","isSystem","isApps","isAWS","isHttp","isConfigurableHttp","isCustom","isHosted","feedback","closeContact","openHelpImage","openHelp","renderHttpSourceUrl","upgradeListUpdate","getServiceType","cancel","cancelWizard","launchMiniProgressView","stopDoing","done","needsPathsPolling","releaseClass","isCollectD","renderCollectDConf");var e=this;this.destroy=_.wrap(this.destroy,(function(t){$(window).off("popstate",e.getPopStateHandler()),t.call(e)}))},mixin:{sourceCategory:null,stepController:null,onMultipartStep:null,isMetricsFlow:!1,sourceTypes:{aws:"aws",generic:"generic",system:"system",installer:"installer",apps:"apps",apps2:"apps",apps3:"apps",http:"http",syslog:"syslog",graphite:"graphite",finish:"finish"},sourceTypeServiceTypeMap:{s3:"AwsS3AuditBucket",cloudtrail:"AwsCloudTrailBucket",elb:"AwsElbBucket",cloudfront:"AwsCloudFrontBucket",cloudwatch:"AwsCloudWatch",hostmetrics:"HostMetrics",apache:"Apache",tomcat:"Tomcat",mysql:"MySQL",ciscoasa:"Cisco",iis:"IIS",nginx:"Nginx",paloaltonetworks:"PAN",graphite:"Graphite",collectd:"CollectD",statsd:"StatsD",dropwizard:"DropWizard",varnish:"Varnish",linux:"Linux","windows-performance":"WindowsPerformance","windows-event":"WindowsEvent",akamai:"Akamai","http-source":"Other",macos:"OSX",other:"Other",custom:"Other"},logAction:function(e){var t=this.stepController.currentStep>0?this.model.getP("dataType.id"):o.wizard_welcome_id,i=this.model.getP("txn.xid");_.isNull(e)&&(e=o.wizard_welcome_loaded),SumoApp.user.logSetupAction({sourceType:t,logType:e,txnId:i,cid:this.cid})},releaseClass:function(){return"r6"},feedback:function(e){$(e.target).trigger("blur")},getServiceType:function(e){var t=this.sourceTypeServiceTypeMap[this.model.getP("dataType.id")];return e&&"Other"===t&&(this.sourceView.isGraphiteType()?t="graphite":this.sourceView.isSyslog()?t="syslog":"http"===this.model.getP("dataType.category")&&(t="http")),t},isSystem:function(){return"systems"===this.model.getP("dataType.category")},isApps:function(){return["apps","apps2","apps3","Other"].indexOf(this.model.getP("dataType.category"))>-1},isHosted:function(){return this.isAWS()||this.isGeneric()||this.isHttp()},isAWS:function(){return"aws"===this.model.getP("dataType.category")},isSyslog:function(){return"syslog"===this.model.getP("dataType.category")},isGraphite:function(){return"graphite"===this.model.getP("dataType.category")},isCollectD:function(){return this.getServiceType()===this.sourceTypeServiceTypeMap.collectd},isHttp:function(){var e=this.getServiceType(),t=[this.sourceTypeServiceTypeMap.akamai,this.sourceTypeServiceTypeMap.collectd];return"http"===this.model.getP("source.sourceType")||t.indexOf(e)>-1},isConfigurableHttp:function(){return"http"===this.model.getP("source.sourceType")},isGeneric:function(){return"generic"===this.model.getP("dataType.category")},isCustom:function(){return"custom"===this.model.getP("dataType.id")},isHostMetrics:function(){return"hostmetrics"===this.model.getP("dataType.id")},upgradeListUpdate:function(){this.upgradeList.fetchingStatus===this.upgradeList.FetchInfoStatus.STATUS_FETCHING_SUCCEEDED&&(this.model.setUpgradeCollectorsList(this.upgradeList.getUpgradeCollectorList()),this.stopListening(this.upgradeList,"change:fetchingStatus"))},needsPathsPolling:function(){var e=this.isApps()&&!this.isHttp()&&!this.isHostMetrics(),t=[this.model.ages.upgraded,this.model.ages.existing,this.model.ages.new].indexOf(this.model.getP("collector.age"))>-1,i=this.model.getP("dataType.id").indexOf("windows-")<0;return e&&t&&i},isShowingHTTPURLStep:function(){return"SetupSourceHTTPView"===this.stepController.steps[this.stepController.currentStep].getViewName()},isShowingSelectOSStep:function(){return"SetupSourceSelectOSView"===this.stepController.steps[this.stepController.currentStep].getViewName()},closeContact:function(){this.$(".source-wizard-contact").hide(),this.$el.find(".contact-visible").removeClass("contact-visible"),this.model.setP("state.contactInvisible",!0)},restartAfterCreate:function(e){if(e&&($(e.currentTarget).hasClass("btn-disabled")||$(e.currentTarget).hasClass("-is-disabled")))return!1;Modernizr.history&&$(window).off("popstate",this.getPopStateHandler()),this.stepController.restartAfterCreate(),this.logAction(o.wizard_restart_after_create)},_backOrRestart:function(e){var t=this.isShowingHTTPURLStep(),i=this.isShowingSelectOSStep();if(this.stepController)if(this.spinnerControl&&this.spinnerControl(!1),this.stopDoing(),this.stepController.isLast())this.restartAfterCreate(e);else if(this.stepController.isFirst())this.stepController.hasCreatedSource=!1,this.done();else if(this.sourceView&&this.sourceView.isOnLastScreen()){if(t||i)return this.stepController.stepBack(!0),!0;this.stepController.switchSourceView("last")}else if(this.sourceView&&"SetupSourceSystemView"===this.sourceView.getViewName())this.stepController.restart(),this.logAction(o.wizard_restart);else if(this.stepController.currentStep>1){if(t||i)return this.stepController.stepBack(!0),!0;this.stepController.stepBack()}else this.stepController.restart()},stepBack:function(e){var t=!1;if(e&&(e.preventDefault(),$(e.currentTarget).hasClass("btn-disabled")||$(e.currentTarget).hasClass("-is-disabled")))return!1;Modernizr.history&&$(window).off("popstate",this.getPopStateHandler()),"SetupSourceAWSView"===this.stepController.currentView(!0)&&(this.stopListening(this.model,"change:collector.installerCommand"),this.stopListening(this.model,"change:source.defaultCategory")),this.$el.is(":visible")&&(t=this._backOrRestart(e)),t&&(window.history.pushState({sumo:!1},window.document.title),$(window).on("popstate",this.getPopStateHandler()))},getPopStateHandler:function(){if(!this.popStateHandler){var e=this;this.popStateHandler=function(t){return e.stepBack.apply(e,[t]),!1}}return this.popStateHandler},cancel:function(){this.done(!1)},cancelWizard:function(t){if(t&&(t.stopPropagation(),$(t.target).hasClass("btn-disabled")||$(t.target.parentElement).hasClass("btn-disabled")||$(t.target).hasClass("-is-disabled")||$(t.target.parentElement).hasClass("-is-disabled")))return!1;if(this.confirmExit&&this.model.getP("state.onboardingMode")){if(!$("#sumo-message-box").is(":visible")){var i=e.sw_confirm_cancel_text;SumoApp.userMessage.question(i,{title:e.sw_confirm_cancel_title,okCallback:this.cancel,okText:e.label_exit})}}else this.cancel(t)},openHelpImage:function(e){window.open($(e.target).attr("src"),e.target.id,"noopener")},openHelp:function(e){var t,i=$(e.target);i.hasClass("fa")&&(i=i.parent(),e.stopPropagation()),t=$("#"+i.data("target")),e.preventDefault(),0===t.length||t.is(":visible")?(i.find("i").removeClass("fa-angle-down").addClass("fa-angle-right"),t.slideUp(200),this.$(".source-wizard-main").removeClass("-is-showing-help")):(i.find("i").addClass("fa-angle-down").removeClass("fa-angle-right"),t.slideDown("slow"),this.$(".source-wizard-main").addClass("-is-showing-help"))},translateState:function(){var t;switch(this.model.getP("txn.previousState")){case this.model.states.started:t=e.finish_state_started;break;case this.model.states.dashboardsCreated:t=e.finish_state_dashboards_created;break;case this.model.states.sourceCreated:t=e.finish_state_source_created;break;case this.model.states.dataSearchable:t=e.finish_state_data_searchable;break;case this.model.states.dashboardDataAvailable:t=e.finish_state_data_available}return t},translateIssue:function(){var t;switch(this.model.getP("txn.issue")){case"bt:no_data_searchable":case"bt:no_data_ingested":return e.finish_error_no_data_ingested;case"bt:cq_engines_failed_to_start":if(!this.model.isPreSearchableState(!0))return"";t=e.finish_error_cq_engines_failed_to_start;break;case"bt:cqs_not_receiving_data":return"";case"bt:failed_to_create_content":t=e.finish_error_failed_to_create_content;break;case"bt:failed_to_create_collector_or_source":t=e.finish_error_failed_to_create_collector_or_source;break;case"bt:unknown_error":t=e.finish_error_unknown_error;break;default:t=sprintf(e.finish_error_cause_something_else,this.translateState())}return sprintf(e.finish_error_timeout,t)},_httpToggle:function(){this.sourceView.createTooltipster(),this.spinnerControl(!1,e.sw_http_source_building),this.sourceView.switchView("last"),this.manageButtonState(this.buttonStates.SUBMIT_CANCEL_ON)},renderCollectDConf:function(){var t=e.sw_collectd_conf.replace(e.sw_collectd_conf_url,this.httpSourceUrl);this.$("#sw-collectd-conf-block").find(".jsonL0 pre").text(t).end().show(),this.$("#sw-collectdEndpoint").text(this.httpSourceUrl),this._httpToggle()},renderHttpSourceUrl:function(t){this.$("#sw-http-url-block").find(".jsonL0").text(this.httpSourceUrl).end().show();var i=sprintf(e.sw_http_curl_help,e.sw_http_curl_path_default,"",this.httpSourceUrl),s=sprintf(e.sw_http_curl_help,e.sw_http_curl_path_default,e.sw_http_curl_post_gzipped_command,this.httpSourceUrl);this.$("#sw-help-http").find("#sw-curl-example-post").html(i).end().find("#sw-curl-example-gzipped").html(s),t&&this._httpToggle()},launchMiniProgressView:function(e,t){new n({model:this.model,isGeneric:this.isGeneric(),query:e,renderDashboardReadyOnly:t.renderDashboardReadyOnly,skipSearch:t.skipSearch,rateThisCallback:this.renderRateThis}).render()},setToTab:function(e,t){t.navigate(e,{skipNotification:!0})},stopDoing:function(e){(this.model||e)&&this.model.stopPolling()},_getFinalCategory:function(){return this.model&&this.model.getP("source.sourceCategory")?this.model.getP("source.sourceCategory"):""},_getRegQueryName:function(){return"Cisco"===this.model.getP("dataType.name")?_.find(e.sw_upload_types,(function(e){return e.indexOf("Cisco")>-1})):this.isCustom()?this.model.getP("dataType.category"):this.model.getP("dataType.name")},_shouldLaunchSearchOrMPV:function(){var e=this.stepController.hasCreatedSource&&!this.isShowingHTTPURLStep()&&!this.model.getP("txn.longLastingSource");return(e=(e=SumoApp.priv.hasFlagUISkipDetection()||SumoApp.priv.hasFlagUISkipTxn()||e)&&!(this.model.isErrorState(this.model.getP("txn.state"))&&this.model.getProgress()===this.model.progresses.HALTED))&&!_(this._getFinalCategory()).isEmpty()},getMetricsQueries:function(e){var t=this.model.getP("source.sourceCategory");switch(e){case"cloudwatch":return this._getCloudWatchQuery(t);case"hostmetrics":return this._getHostmetricsQuery(t)}},_getHostmetricsQuery:function(t){return{metricsQueryModel:{queryRows:[{rowId:"A",queryString:sprintf("_sourceCategory=%s metric=CPU_User",t)}]},title:e.host_metrics_title}},_getCloudWatchQuery:function(e){var t=JSON.parse(this.model.getP("txn.submissionData.thirdPartyRef")),s=i.namespaces,n=t.resources[0].path.limitToNamespaces;_.isEmpty(n)&&(n=_.keys(s));var a,r,o,l,d,c,u=1e6;return _.each(n,(function(e){o=e.indexOf("AWS/")>-1?e:"AWS/"+e,l=e.replace("AWS/",""),_.keys(s).indexOf(l)>-1&&(r=s[l])&&r.seq<u&&((a=r).space=o,u=a.seq)})),r?(d=a.metric,_.isEmpty(a.func)||(d=d+" | "+a.func),c=sprintf(i.query_template,e,a.space,d)):(a={space:n[0]},c=sprintf(i.query_template_custom,e,a.space)),{metricsQueryModel:{queryRows:[{rowId:"A",queryString:c}]},title:a.space}},done:function(){if(!this.stepController.hasExitedWizard){this.stepController.hasExitedWizard=!0;var t,i=SumoApp.getAngularService("currentUserHelper"),s=SumoApp.getAngularService("setupWizardService"),n=this.model.showMiniProgressView(),o=this._shouldLaunchSearchOrMPV(),l=this.model.getP("source.startTimestamp"),d=this.model.getP("source.endTimestamp"),c=(this.model.getP("state.onboardingMode")&&i.getOrg().typeHelpers.isFree,this.model.getP("source.sourceType")),u=this.model.getP("txn.state")===this.model.states.dashboardDataAvailable;if(i.hasFeatureFlag("UISkipDetection")&&(n=!1),i.hasFeatureFlag("UISkipTxn")&&(n=!0),o||this.stopDoing(),o&&!_(this._getFinalCategory()).isEmpty())if(this.model.isCloudWatch&&this.model.isCloudWatch())t=this.getMetricsQueries("cloudwatch"),n?(this.setToTab("metrics",s),this.launchMiniProgressView({met:t},{renderDashboardReadyOnly:!1})):s.navigate("metricsQuery",t);else if(this.model.isGraphiteType())s.navigate("metrics");else if(this.isHostMetrics())t=this.getMetricsQueries("hostmetrics"),n?(this.launchMiniProgressView({met:t},{renderDashboardReadyOnly:!1}),this.setToTab("metrics",s)):s.navigate("dashboard",{id:this.model.getP("txn.preferredDashboardId")});else{var h,g,p=new r,m=new r,f=new a,S=this._getFinalCategory(),v=""!==S?sprintf('_sourceCategory="%s"',S):"*",w=sprintf(e.sw_high_priority_keyword_query,S),b=this._getRegQueryName(),y=b.indexOf("macOS System")>-1?b:SumoUtil.toTitleCase(b);0===l&&(l=moment().subtract(1,"hours").valueOf()),g=d>0?SumoUtil.formatTimeRangeText(l,d,!0):"-60m",p.setQueryString(v),p.setTimeRange(g),p.setQueryName(y),p.setUseExistingTab(!1),p.setExecuteSearch(!0),p.sourceType=c,f.setViewerType("line"),(h=f.getMonitorObject()).isMine=!1,m.setTimeRange(g),m.setQueryString(w),m.setMonitorObject(h),m.setQueryName(e.sw_high_priority_keyword_name),m.setExecuteSearch(!0),m.setUseExistingTab(!1),n?this.launchMiniProgressView({reg:p,hpk:m},{skipSearch:!1,renderDashboardReadyOnly:u}):(SumoApp.applicationView.onDrilldownSearchMultiple({},[m,p]),this.model.isDashboardReady()?s.navigate("dashboard",{id:this.model.getP("txn.preferredDashboardId")}):this.launchMiniProgressView({reg:p,hpk:m},{skipSearch:!0,renderDashboardReadyOnly:u}),s.closeWizard())}s.closeWizard(),this.destroy()}}}}}.apply(t,s))||(e.exports=n)},17915:function(e,t,i){var s,n;s=[i(60567),i(68974),i(34074),i(39061),i(67188),i(49513),i(9680)],void 0===(n=function(e,t,i,s,n,a,r){var o=e.SumoViewModule,l=e.DataTableViewModule,d=e.ViewErrorHandlerMixinModule,c=e.ListViewKeynavMixinModule,u=i.SearchQueryDataModule;return o.extend({defaultMixins:[d,c,r,t],mixins:function(){return this.defaultMixins.concat(this.clientMixins||[])},createSQData:function(){return new u},createDataTable:function(e){return new l(e)},createVerticalMenu:function(e){var t=(e=e||{}).width?e.width:110,i={menuItems:this.getMenuItems(),menuItemPrefix:this.coreId,menuContainerId:this.coreId+"Menu",selectedRowClass:"list-view-selected",handleSelector:".action-col",itemWidth:t,hasIcons:!!_.isUndefined(e.hasIcons)||e.hasIcons,defaultPosition:{my:"right top",at:"right-3 bottom"},el:this.$(".list-view-menu"),preventShow:e.preventShow},n=new s(i);this.listenTo(n,"show",this.handleMenuShowing),this.listenTo(n,"hide",this.handleMenuHiding),this.registerView("list-menu",n)},createCommonSearchView:function(e){var t=e.placeholder||"",i=new a({el:this.$("#list-search-view"),id:"list-search-ctr",searchBtnId:"list-search-btn",inputId:"list-search-text",inputPlaceholder:t});this.registerView("common-search-view",i)},renderDetailView:function(e){return new n({data:e}).render()}})}.apply(t,s))||(e.exports=n)},93285:function(e,t,i){var s,n;s=[i(81687),i(42108),i(50963),i(60567)],void 0===(n=function(e,t,i,s){"use strict";var n="focus",a="reload",r="onSignOut",o="signIn",l="searchDrillDown",d="loadSearch",c="metricsDrillDown",u="showUpgradeWizard",h="onPanelAdded",g="onPanelUpdated",p="onFavoriteChange",m="ready",f="onLiveTailPopOut",S="onLiveTailStop",v="onLiveTailPreferencesUpdate",w={LIVE_TAIL:"livetail",DASHBOARD:"dashboard",MAIN:"bento",BENTO:"bento"},b="height=800,width=1200,resizable,scrollbars=yes",y=null,T=s.windowCommunicatorService;return{init:function(){y=new e(_.bind(this._handleExternalMessage,this)),this.shouldRegisterSelf()&&(y.registerSelf(),window.addEventListener("beforeunload",y.removeSelf.bind(y)))},mixin:{WINDOW_TYPES:w,_handleExternalMessage:function(e){_.isFunction(this[e.name])?this[e.name].apply(this,[e.message]):this.trigger(e.name,e.message)},getThisWindowType:function(){throw new SumoError("getThisWindowType is not implemented")},getEntityId:function(){return null},shouldRegisterSelf:function(){return!0},stopWindowCommunication:function(){y&&(y.removeSelf(),y=null)},openDashboard:function(e,t,i,s){_.isUndefined(i)&&(i=SumoUtil.getSimpleDashboardURL(e,t,s));var n=y.openWindow(i,this.WINDOW_TYPES.DASHBOARD,s||e);return _.isNull(n)&&this.showManualOpenWindowDialog(i,this.WINDOW_TYPES.DASHBOARD,s||e),n},openMainWindow:function(){var e=this,t=SumoUtil.getSumoMainURL(),i=y.openWindow(t,(function(t){return t.type===e.WINDOW_TYPES.MAIN||t.type===e.WINDOW_TYPES.BENTO}));return _.isNull(i)&&this.showManualOpenWindowDialog(t,(function(t){return t.type===e.WINDOW_TYPES.MAIN||t.type===e.WINDOW_TYPES.BENTO})),i},openSearch:function(){var e=this,t={name:d,message:{showAlert:!0}};this._messageWithFallBack((function(t){return t.type===e.WINDOW_TYPES.MAIN||t.type===e.WINDOW_TYPES.BENTO}),t,SumoUtil.getSumoMainURL())},openLiveTailWindow:function(){var e=SumoUtil.getLiveTailPopoutURL(),t=y.openWindow(e,this.WINDOW_TYPES.LIVE_TAIL,void 0,b);return _.isNull(t)&&this.showManualOpenWindowDialog(e,this.WINDOW_TYPES.LIVE_TAIL),t},showManualOpenWindowDialog:function(e,i,s){return new t({url:e,windowId:y.createWindowId(i,s)})},_messageWithFallBack:function(e,t,i,s){if(!this._message(e,t)){var n=y.openWindow(i,e.type||w.MAIN,e.entityId,s);if(_.isNull(n)){var a=this.showManualOpenWindowDialog(i,e.type||w.MAIN,e.entityId);this.listenTo(a,"windowOpened",(function(e){y.sendMessageWhenReady(e,t)})),this.listenTo(a,"destroy",(function(){this.stopListening(a)}))}else y.sendMessageWhenReady(n,t)}},_message:function(e,t){var i=!1;"WebKit"===$.ua.engine.name&&(t.message.skipAlert=!0,i=!0);var s=y.findWindow(e),n=s&&!i;return n&&(t.to=s.windowId,y.message(t)),n},_getShortAsid:function(e){return e||(e=SumoApp.ajax.getAsid()),(""+e).substr(0,8)},sendSearchDrillDown:function(e,t){var i={type:this.WINDOW_TYPES.BENTO},s={name:t?c:l,message:_.extend({skipAlert:_.isUndefined(y.findWindow(i))},e)},n=SumoUtil.getBentoURL();this._messageWithFallBack(i,s,n)},searchDrillDown:function(e){throw new Error("NotImplemented")},metricsDrillDown:function(e){throw new Error("NotImplemented")},sendShowUpgradeWizard:function(){var e={name:u},t=this;this._messageWithFallBack((function(e){return e.type===t.WINDOW_TYPES.MAIN||e.type===t.WINDOW_TYPES.BENTO}),e,SumoUtil.getSumoMainURL())},showUpgradeWizard:function(){throw new Error("NotImplemented")},sendFavoriteChange:function(e,t){var i=this,s=y.findWindow((function(e){return e.type===i.WINDOW_TYPES.MAIN||e.type===i.WINDOW_TYPES.BENTO}));if(s){var n={name:p,message:{libraryId:e,favoriteState:t}};n.to=s.windowId,y.message(n)}},onFavoriteChange:function(){throw new Error("NotImplemented")},sendPanelAdded:function(e,t,i,s){var n={type:this.WINDOW_TYPES.DASHBOARD,entityId:s||e},a={name:h,message:{panelId:i,skipAlert:_.isUndefined(y.findWindow(n))}};this._messageWithFallBack(n,a,SumoUtil.getSimpleDashboardURL(e,t,s))},onPanelAdded:function(){throw new Error("NotImplemented")},sendPanelUpdated:function(e,t,i,s){var n={type:this.WINDOW_TYPES.DASHBOARD,entityId:s||e},a={name:g,message:{panelId:i}};this._messageWithFallBack(n,a,SumoUtil.getSimpleDashboardURL(e,t,s))},onPanelUpdated:function(){throw new Error("NotImplemented")},sendLiveTailPopOut:function(e){var t={type:this.WINDOW_TYPES.LIVE_TAIL,entityId:Date.now()},i={name:f,message:{filter:e}};this._messageWithFallBack(t,i,SumoUtil.getLiveTailPopoutURL(t.entityId),b)},onLiveTailPopOut:function(){},sendLiveTailStop:function(){y.broadcast({name:S})},onLiveTailStop:function(){},sendLiveTailPreferencesUpdate:function(e){y.broadcast({name:v,message:e})},onLiveTailPreferencesUpdate:function(e){},countLiveTailPopOuts:function(){return y.filterWindows({type:this.WINDOW_TYPES.LIVE_TAIL}).length},sendFocus:function(e,t){var i=!1,s=y.findWindow(e);return s&&(s.windowId===y.getThisWindowId()?(this.focus(t),i=!0):i=y.message({name:n,message:t,to:s.windowId})),i},focus:function(e){"undefined"!=typeof SumoApp&&T.focus(e)},sendReload:function(e){var t=!1,i=y.findWindow(e);return i&&(i.windowId===y.getThisWindowId()?(t=!0,this.reload()):t=y.message({name:a,to:i.windowId})),t},reload:function(){location.reload()},broadcastSignOut:function(e){y.broadcast({name:r,message:e})},broadcastReady:function(){y.broadcast({name:m})},signOut:function(e){var t=e||"/form/logout";window._sumoLogSessionMessage&&window._sumoLogSessionMessage("signOut: Starting sign out process and will broadcast message to other windows.");var i=SumoApp.ajax,s=i.cookieUtil.getAsidFromCookie(),n=s==i.getAsid();n?(window._sumoLogSessionMessage&&window._sumoLogSessionMessage("signOut: Clearing asid from cookie since it matches our asid."),SumoApp.context.cookieUtil.clearAsidCookie("signOut: signing out (sessions match)"),SumoApp.context.cookieUtil.clearLastActivityMsCookie()):s&&window._sumoLogSessionMessage&&window._sumoLogSessionMessage("signOut: NOT Clearing asid from cookie since it doesn't match our asid."),i.loggingOut("signOut: Signing out"),e?this.createPromise({endpoint:i.Endpoints.V1_AUTHENTICATION_LOGOUT,errorCode:"logout"}).then(this.signOutCleanUp.bind(this,!0,this._getShortAsid())).then(this.signOutSeamlessRedirect.bind(this,t)).catch(this.signOutError.bind(this,t)):this.createPromise({endpoint:i.Endpoints.V1_AUTHENTICATION_LOGOUT,errorCode:"logout"}).then(this.signOutCleanUp.bind(this,!0,this._getShortAsid())).then(this.signOutRedirect.bind(this,t)).catch(this.signOutError.bind(this,t)),n&&SumoApp.context.cookieUtil.clearLastActivityMsCookie()},signOutError:function(e){e.indexOf("reason=switch")>-1&&window.location.assign(i.getAbsoluteUrl(e))},onSignOut:function(e){window._sumoLogSessionMessage&&window._sumoLogSessionMessage("Other window signalled a sign out message with asid="+(""+e).substr(0,8)+"."),e=void 0===e?null:e;var t=this._getShortAsid();if(e&&e!=t||"LoginView"===this.getViewName()||!window.SumoApp||!window.SumoApp.ajax){var i="Ignoring signout broadcast message since our asid ("+t+") doesn't match "+e;$.logWarn("SumoWindow.onSignOut: "+i),window._sumoLogSessionMessage&&window._sumoLogSessionMessage(i)}else this.signOutCleanUp(!1,e),this.signOutRedirect("",a)},signOutCleanUp:function(e,t){window._sumoLogSessionMessage&&window._sumoLogSessionMessage("Received sign out message"+(t?" with asid="+(""+t).substr(0,8):"")),e&&this.broadcastSignOut(t),SumoApp.ajax.loggedOut(),$(window).off()},signOutRedirect:function(e,t){var s=SumoUtil.isDevMode(),n=null,r=null;try{n=SumoApp.ajax.cookieUtil.getAsidFromCookie(),r=SumoApp.ajax.getAsid()}catch(e){}var o=n&&null!=n&&n!=r;o||s||t===a?(window._sumoLogSessionMessage&&window._sumoLogSessionMessage("signOutRedirect: Reloading page "+(o?"(mismatched cookie asid needs to be preserved)":"(devmode=true)")),window.location.reload()):(window._sumoLogSessionMessage&&window._sumoLogSessionMessage("signOutRedirect: Redirecting to logout page] [redirectUrl=/form/logout]"),window.location=i.getAbsoluteUrl("/form/logout"))},signOutSeamlessRedirect:function(e){window.location=i.getAbsoluteUrl(e)},broadcastSignIn:function(){y.broadcast({name:o})},signIn:function(){if("LoginView"===this.getViewName()){var e=_.bind(this.reload,this);_.delay(e,1e3)}else if(window.SumoApp&&window.SumoApp.ajax){if(_.isEmpty(SumoApp.ajax.getAsid()))return;SumoApp.ajax.checkAsidCookieMatches()||window._sumoLogSessionMessage&&window._sumoLogSessionMessage("signIn: Received external sign in message and our asid doesn't match the cookie asid")}}}}}.apply(t,s))||(e.exports=n)},21031:function(e,t){var i;void 0===(i=function(){"use strict";return function(e){this.name=e,this.bSupportsHiresTimers=!_.isUndefined(window.performance)&&!_.isUndefined(window.performance.mark)&&!_.isUndefined(window.performance.now),this.bStarted=!1,this.marks=[],this.logPrefix="Sumo.UI.TempusFugit - ",this.start=function(e){this.bSupportsHiresTimers&&(e&&this.clear(),this.mark("Start"),this.bStarted=!0)},this.clear=function(){this.marks=[],window.performance.clearMarks(),window.performance.clearMeasures()},this._makeMarkName=function(e){return this.name+" - "+e},this.mark=function(e){if(this.bSupportsHiresTimers){this.marks.push(e);var t=this._makeMarkName(e);window.performance.mark(t)}},this.markAndMeasure=function(e){this.mark(e),this.measure(e)},this.measure=function(e,t,i){this._measure(this._makeMarkName(e),t||this.marks[this.marks.length-2],i||this.marks[this.marks.length-1])},this._measure=function(e,t,i){if(this.bSupportsHiresTimers)try{window.performance.measure(e,this._makeMarkName(t),this._makeMarkName(i))}catch(e){this._logError("measure() error: "+e)}},this.stop=function(){this.bSupportsHiresTimers&&(this.mark("End"),this.bStarted=!1,this._measure(this.name+" - Total","Start","End"))},this._logMarks=function(){if(this.bSupportsHiresTimers){for(var e=performance.getEntriesByType("mark"),t="",i=0;i<e.length;i++)t+="Name: ["+e[i].name+"] - Start Time: ["+SumoUtil.formatMillis(e[i].startTime,!0,!0)+"]\n";this._logInfo("\n"+t)}},this.getTotalMeasurement=function(){try{var e=window.performance.getEntriesByName(this.name+" - Total");return e&&e[0]?e[0]:null}catch(e){return this._logError("measure() error: "+e),null}},this.getTotalMillis=function(){var e=this.getTotalMeasurement();return e?e.duration:0},this.logMeasurements=function(){if(this.bSupportsHiresTimers){for(var e=window.performance.getEntriesByType("measure"),t="",i=0;i<e.length;i++)t+="[measure="+e[i].name+"] [duration="+sprintf("%.3f",e[i].duration)+"|"+SumoUtil.formatMillis(e[i].duration,!0,!1)+"]\n";this._logInfo("\n"+t)}},this.now=function(){return this.bSupportsHiresTimers?window.performance.now():$.now()},this.getTimeSince=function(e){return this.now()-e},this._logInfo=function(e){($.logInfo?$.logInfo:console.info?console.info:console.log?console.log:function(){})(this.logPrefix+e)},this._logError=function(e){($.logError?$.logError:console.error?console.error:console.log?console.log:function(){})(this.logPrefix+e)},this.testThySelf=function(){var e="Tempus Fugit Test "+ +new Date;this.start(e),this.mark("Start Task 1");for(var t=0;t<99999*Math.random();t++)$("div").children();for(this.mark("End Task 1"),this.measure("Task 1","Start Task 1","End Task 1"),this.mark("Start Task 2"),t=0;t<99999*Math.random();t++)$("div").children();this.mark("End Task 2"),this.measure("Task 2","Start Task 2","End Task 2"),this.stop(),this._logInfo(sprintf("Total millis = %s",SumoUtil.formatMillis(this.getTotalMillis(),!0,!0))),this.logMeasurements()}}}.apply(t,[]))||(e.exports=i)},58876:function(e,t){var i;void 0===(i=function(){"use strict";return function(){this.escape=function(e){var t=e;return t=(t=(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")},this.diffString=function(e,t){e=e.replace(/\s+$/,""),t=t.replace(/\s+$/,"");var i=this.diff(""==e?[]:e.split(/\s+/),""==t?[]:t.split(/\s+/)),s="",n=e.match(/\s+/g);null==n?n=["\n"]:n.push("\n");var a=t.match(/\s+/g);if(null==a?a=["\n"]:a.push("\n"),0==i.n.length)for(var r=0;r<i.o.length;r++)s+="<del>"+this.escape(i.o[r])+n[r]+"</del>";else{if(null==i.n[0].text)for(t=0;t<i.o.length&&null==i.o[t].text;t++)s+="<del>"+this.escape(i.o[t])+n[t]+"</del>";for(r=0;r<i.n.length;r++)if(null==i.n[r].text)s+="<ins>"+this.escape(i.n[r])+a[r]+"</ins>";else{var o="";for(t=i.n[r].row+1;t<i.o.length&&null==i.o[t].text;t++)o+="<del>"+this.escape(i.o[t])+n[t]+"</del>";s+=" "+i.n[r].text+a[r]+o}}return s},this.trimmedDiff=function(e,t){e=e.replace(/\s+$/,""),t=t.replace(/\s+$/,"");var i=this.diff(""==e?[]:e.split(/\s+/),""==t?[]:t.split(/\s+/)),s="",n=e.match(/\s+/g);null==n?n=["\n"]:n.push("\n");var a=t.match(/\s+/g);if(null==a?a=["\n"]:a.push("\n"),0==i.n.length)for(var r=0;r<i.o.length;r++)s+="- "+i.o[r]+n[r];else{if(null==i.n[0].text)for(t=0;t<i.o.length&&null==i.o[t].text;t++)s+="- "+i.o[t]+n[t];for(r=0;r<i.n.length;r++)if(null==i.n[r].text)s+="+ "+i.n[r]+a[r];else{var o="";for(t=i.n[r].row+1;t<i.o.length&&null==i.o[t].text;t++)o+="- "+i.o[t]+n[t];s+=o}}return s},this.randomColor=function(){return"rgb("+100*Math.random()+"%, "+100*Math.random()+"%, "+100*Math.random()+"%)"},this.diffString2=function(e,t){e=e.replace(/\s+$/,""),t=t.replace(/\s+$/,"");var i=this.diff(""==e?[]:e.split(/\s+/),""==t?[]:t.split(/\s+/)),s=e.match(/\s+/g);null==s?s=["\n"]:s.push("\n");var n=t.match(/\s+/g);null==n?n=["\n"]:n.push("\n");for(var a="",r=new Array,o=0;o<i.o.length;o++)r[o]=this.randomColor(),null!=i.o[o].text?a+='<span style="background-color: '+r[o]+'">'+this.escape(i.o[o].text)+s[o]+"</span>":a+="<del>"+this.escape(i.o[o])+s[o]+"</del>";var l="";for(o=0;o<i.n.length;o++)null!=i.n[o].text?l+='<span style="background-color: '+r[i.n[o].row]+'">'+this.escape(i.n[o].text)+n[o]+"</span>":l+="<ins>"+this.escape(i.n[o])+n[o]+"</ins>";return{o:a,n:l}},this.diff=function(e,t){for(var i=new Object,s=new Object,n=0;n<t.length;n++)null==i[t[n]]&&(i[t[n]]={rows:new Array,o:null}),i[t[n]].rows.push(n);for(n=0;n<e.length;n++)null==s[e[n]]&&(s[e[n]]={rows:new Array,n:null}),s[e[n]].rows.push(n);for(var n in i)1==i[n].rows.length&&void 0!==s[n]&&1==s[n].rows.length&&(t[i[n].rows[0]]={text:t[i[n].rows[0]],row:s[n].rows[0]},e[s[n].rows[0]]={text:e[s[n].rows[0]],row:i[n].rows[0]});for(n=0;n<t.length-1;n++)null!=t[n].text&&null==t[n+1].text&&t[n].row+1<e.length&&null==e[t[n].row+1].text&&t[n+1]==e[t[n].row+1]&&(t[n+1]={text:t[n+1],row:t[n].row+1},e[t[n].row+1]={text:e[t[n].row+1],row:n+1});for(n=t.length-1;n>0;n--)null!=t[n].text&&null==t[n-1].text&&t[n].row>0&&null==e[t[n].row-1].text&&t[n-1]==e[t[n].row-1]&&(t[n-1]={text:t[n-1],row:t[n].row-1},e[t[n].row-1]={text:e[t[n].row-1],row:n-1});return{o:e,n:t}}}}.apply(t,[]))||(e.exports=i)},81687:function(e,t){var i;void 0===(i=function(){"use strict";var e=SJ.iwc.EventBus,t=SJ.iwc.WindowMonitor,i="IWC_DEFAULT_WND_",s="message",n="broadcast",a="ready";return function(r){var o=[];return{registerSelf:function(){SJ.localStorage.removeItem("logQueue"),SJ.localStorage.removeItem("epiceditor"),SJ.localStorage.removeItem("__draft-epiceditor"),e.on(s,this.handleMessage,this),e.on(n,this.handleBroadcast,this)},removeSelf:function(){e.un(s,this.handleMessage,this),e.un(n,this.handleBroadcast,this)},openWindow:function(e,t,i,s){_.isUndefined(i)&&(i=0);var n=this.createWindowId(t,i),a=window.open(e,n,s);return _.isNull(a)||_.isUndefined(a)?null:n},createWindowId:function(e,t){return t||(t=0),e+"_"+t+"_"+(new Date).getTime()},getThisWindowId:function(){return t.getThisWindowId()},getWindows:function(){var e={},t=i.length;return SJ.localStorage.forEach((function(s,n){if(n&&s.substr(0,t)===i){var a=s.substr(t);e[a]=function(e,t){var i=e.split("_"),s=i[1],n=s.match(/^\d+$/)?parseInt(i[1],10):s;return{windowId:e,type:i[0],entityId:n,createdAt:parseInt(i[2],10),lastPingAt:t}}(a,parseInt(n))}})),e},findWindow:function(e){var t=this.getWindows(),i=_.chain(t).values();return e instanceof Function?i.find(e).value():i.findWhere(e).value()},filterWindows:function(e){var t=this.getWindows();return _.chain(t).values().where(e).value()},sendMessageWhenReady:function(e,t,i){!_.isUndefined(i)&&_.isNumber(i)||(i=3e4);var s=when.defer(),n=e+(new Date).getTime();return o.push({_id:n,to:e,deferred:s}),s.promise.timeout(i).then(_.bind(this.retryMessage,this,t)).finally(_.partial(this.removePendingPromise,n))},removePendingPromise:function(e){o=_.reject(o,(function(t){return e===t._id}))},getPendingPromisesFor:function(e){var t=e.substr(0,e.lastIndexOf("_"));return _.filter(o,(function(e){return 0===e.to.indexOf(t)}))},retryMessage:function(e,t){e.to=t,this.message(e)},message:function(i){if(!i.to||!t.isWindowOpen(i.to))return!1;var n=_.extend(i,{from:this.getThisWindowId(),time:(new Date).getTime()});return e.fire(s,n),!0},handleMessage:function(e){e.to===this.getThisWindowId()&&r(e)},broadcast:function(i){var s=_.extend(i,{from:t.getThisWindowId(),time:(new Date).getTime()});e.fire(n,s)},handleBroadcast:function(e){if(e.name===a){var t=this.getPendingPromisesFor(e.from);_.each(t,(function(t){t.deferred.resolve(e.from)}))}else r(e)}}}}.apply(t,[]))||(e.exports=i)},67126:function(e,t,i){var s,n;s=[i(63205),i(16471),i(48586),i(44104),i(82385),i(15982),i(10788),i(60567)],void 0===(n=function(e,t,i,s,n,a,r,o){"use strict";var l=e.EndpointConstants,d=o.SumoModel,c=o.GetterSetterMixin,u=t.accountEnI18n;a=a.default;var h=d.extend({mixins:[i,s,n,c],USAGE_STATUS:{normal:"normal",nearLimit:"approaching_usage_limit",over:"over_usage_limit",overSearchDisabled:"search_disabled",overCollectionDisabled:"collection_disabled",loginDisabled:"login_disabled",incurringOverages:"incurring_overages"},defaults:{subscriptionDetails:null,billingUsages:null,basicBillingUsages:null,metricsUsages:null,storageInfoList:null,dataFetched:null,activeUsersCount:null,sumoUsageModel:null,zuoraLibrary:null,accountDataLoaded:null},usageStatus:null,getComponent:function(){return"Account"},getModelName:function(){return"AccountModel"},initialize:function(){this.usageStatus="",_.bindAll(this,"loadAccountAndUserData","onAccountDataLoaded","onAccountDataError","onStorageDataLoaded","onStorageDataError","onLoadDataError","onLoadDataSuccess")},triggerDataFetched:function(){this.set({dataFetched:$.now()})},triggerAccountDataLoaded:function(){this.set({accountDataLoaded:$.now()})},getSumoUsageModel:function(){return this.get("sumoUsageModel")},setSumoUsageModel:function(e){return this.set({sumoUsageModel:e})},getSubscriptionDetails:function(){return this.get("subscriptionDetails")},getStorageInfoList:function(){return this.get("storageInfoList")},getBillingUsages:function(){return this.get("billingUsages")},getBasicBillingUsages:function(){return this.get("basicBillingUsages")},getMetricsUsages:function(){return this.get("metricsUsages")},getActiveUserCount:function(){return this.get("activeUsersCount")},getComputePlanName:function(){return this.getSubscriptionDetails().computePlanName},getCachedDataMegabytes:function(){return this.getSubscriptionDetails().cachedDataMegabytes},getRetentionPeriodInDays:function(){var e=this.getSubscriptionDetails();return e?e.retentionDays:0},getCurrentPeriodNumOfDays:function(){var e=this.getSubscriptionDetails();return e?e.currentPeriodNumOfDays:0},getCurrentBillingPeriodStart:function(){var e=this.getCurrentBillingPeriod();return e?e.startTimestamp:null},getCurrentBillingPeriodEnd:function(){var e=this.getCurrentBillingPeriod();return e?e.endTimestamp:null},getMonthlyMegabytes:function(e){var t=this.getSubscriptionDetails(),i=this.getTotalBillingDays();if(t)switch(e){case this.ACCOUNT_CONST.USAGE_TYPE.FREQUENT:return t.dailyBasicIngestMegabytes*i;case this.ACCOUNT_CONST.USAGE_TYPE.CONTINUOUS:return t.dailyEnhancedIngestMegabytes*i;default:return t.monthlyMegabytes}},getTotalStorageGigabytes:function(){var e=this.getSubscriptionDetails();return e?e.totalStorageGigabytes:0},getTotalUsedStorage:function(){var e=0,t=this.getStorageInfoList();return t&&t.length>0&&(e=t[t.length-1].totalBytes),e},hasStorageUsage:function(){return this.getStorageInfoList().some((function(e){return e.totalBytes>0}))},getDailyMegabytesLimit:function(e){return this.getMonthlyMegabytes(e)/30},getDailyMegabytesUsage:function(e,t){return(-1===e?this.getPreviousUsagesTotalAndLength(t):this.getCurrentUsagesTotalAndLength(t)).averageUsage},getDailyMetricsLimit:function(e){var t=e?1:1440;return this.getSubscriptionDetails().metricsIngestRateLimitDataPointsPerMinute*t},getDailyMetricsUsageAvg:function(e){var t=this.getBillingPeriod(e,this.ACCOUNT_CONST.USAGE_TYPE.METRICS);return null!==t.usages?t.averageUsage:0},getStorageLimitMegabytes:function(){return 1024*this.getTotalStorageGigabytes()},getStorageAverageMegabytes:function(){var e=this.getCurrentBillingPeriodStorageUsage(),t=_.reduce(e,(function(e,t){return e+t.totalBytes}),0),i=Math.ceil(this.getTotalBillingDays());return(0===e.length||0===i?0:t/i)/1048576},getPSTTimes:function(e){return moment.tz(e,"America/Los_Angeles")},getTotalBillingDays:function(e,t){var i=e?this.getPSTTimes(e).startOf("day"):this.getPSTTimes(this.getCurrentBillingPeriodStart()),s=t?this.getPSTTimes(t).endOf("day"):this.getPSTTimes((new Date).getTime());return Math.ceil(s.diff(i,"days",!0))},getCurrentBillingPeriodStorageUsage:function(){for(var e,t,i=[],s=this.getCurrentBillingPeriodStart(),n=this.getStorageInfoList(),a=0;a<n.length;a++)n[a].date>s&&(t=t||moment.tz(n[a].date,"America/Los_Angeles").startOf("day"),(e={}).usage=n[a].totalBytes/1048576,e.date=t.valueOf(),_.defaults(e,n[a]),i.push(e),t.add(1,"day").startOf("day"));return i},getCurrentBillingPeriodStorageUsagePadded:function(){for(var e=this.getCurrentBillingPeriodStorageUsage(),t=e[e.length-1];void 0===t||t.date<this.getCurrentBillingPeriodEnd();){t={date:void 0===t?this.getCurrentBillingPeriodStart():t.date+864e5,totalBytes:0,usage:0,totalMessageCount:0},e.push(t)}return e},isCloseToOverage:function(){return this.usageStatus==this.USAGE_STATUS.nearLimit},isOverage:function(){var e=this.usageStatus;return e==this.USAGE_STATUS.over||this.isSearchDisabled()||e==this.USAGE_STATUS.overCollectionDisabled||e==this.USAGE_STATUS.loginDisabled||e==this.USAGE_STATUS.incurringOverages},_canBeDisabled:function(){var e=this.getOrg();return e&&(e.typeHelpers.isFree||e.typeHelpers.isHeroku)},isSearchDisabled:function(){return this._canBeDisabled()&&(this.usageStatus==this.USAGE_STATUS.overSearchDisabled||this.usageStatus==this.USAGE_STATUS.loginDisabled)},isCollectionDisabled:function(){return this._canBeDisabled()&&this.usageStatus==this.USAGE_STATUS.loginDisabled},getDaysUntilExpiration:function(){var e=this.getSubscriptionDetails();if(e){var t=e.endTimestamp-e.currentTime,i=t>864e5?864e5:36e5,s=t>864e5?"d":"h";return{daysUntilExpiration:Math.floor(t/i),expirationUnit:s}}return{daysUntilExpiration:-1,expirationUnit:"d"}},getBillingPeriod:function(e,t){return e===this.ACCOUNT_CONST.BILLING_PERIOD.PREVIOUS?this.getLastPeriod(t):this.getCurrentPeriod(t)},getCurrentBillingPeriod:function(){return this.getBillingPeriod(h.CURRENT_BILLING_PERIOD)},getLastBillingPeriod:function(){return this.getBillingPeriod(h.PREVIOUS_BILLING_PERIOD)},onLoadDataSuccess:function(e){e.subscriptionDetails&&this.set({subscriptionDetails:e.subscriptionDetails}),e.billingUsages&&this.set({billingUsages:e.billingUsages}),e.basicBillingUsages&&this.set({basicBillingUsages:e.basicBillingUsages}),e.metricsUsages&&this.set({metricsUsages:e.metricsUsages}),null!==e.activeUsersCount&&void 0!==e.activeUsersCount&&this.set({activeUsersCount:e.activeUsersCount}),this.triggerDataFetched(),this.onLivePanelDataLoaded(e),SumoApp.getAngularService("$rootScope").$applyAsync()},hasFeatureFlag:function(e){var t=!1,i=this.getAngularService("currentUserHelper");return i&&(t=i.hasFeatureFlag(e)),t},getOrg:function(){var e,t=this.getAngularService("currentUserHelper");return t&&(e=t.getOrg()),e},getAngularService:function(e){var t;return _.isUndefined(window.SumoApp)||(t=SumoApp.getAngularService(e)),t},onLoadDataError:function(e,t){return this.clearData(),this.set({dataFetched:$.now()}),!0},loadAccountAndUserData:function(){var e=this;return this.clearData(),this.loadData().then((function(){return e.loadStorageData()}))},loadData:function(){return this.createPromise({endpoint:l.Endpoints.V1_ACCOUNT_GET_SUBSCRIPTION_AND_BILLING_USAGES,timeout:6e4,logDuration:!0,errorCode:"account_get_subscription_and_billing_usages",data:{periods:"0,-1"}}).then(this.onAccountDataLoaded,this.onAccountDataError)},loadStorageData:function(){return this.createPromise({endpoint:l.Endpoints.V1_ACCOUNT_GET_STORAGE_INFO,logDuration:!0,errorCode:"account_get_storage_info",data:{days:"30"}}).then(this.onStorageDataLoaded,this.onStorageDataError)},clearData:function(){this.set({subscriptionDetails:null}),this.set({billingUsages:null}),this.set({metricsUsages:null}),this.set({storageInfoList:null}),this.set({activeUsersCount:null})},getDisplayPlanName:function(){return this.get("displayPlanName")},setDisplayPlanName:function(){var e=this.getSubscriptionDetails(),t=e.planName,i="";e.free?i=u.SUMO_FREE:e.trial?i=u.SUMO_TRIAL:-1!==t.indexOf(u.SUMO_PROFESSIONAL)?i=u.SUMO_PROFESSIONAL:-1!==t.indexOf(u.SUMO_ENTERPRISE)&&(i=u.SUMO_ENTERPRISE),this.set({displayPlanName:i})},setZuoraLibrary:function(){this.getZuoraLibrary()||this.set("zuoraLibrary",Z)},onAccountDataLoaded:function(e){var t=SumoApp.getAngularService("currentUserHelper");return this.usageStatus=t.get().usageStatus,e.subscriptionDetails&&(this.set({subscriptionDetails:e.subscriptionDetails}),this.setDisplayPlanName()),e.billingUsages&&this.set({billingUsages:e.billingUsages}),e.basicBillingUsages&&this.set({basicBillingUsages:e.basicBillingUsages}),e.metricsUsages&&this.set({metricsUsages:e.metricsUsages}),null!==e.activeUsersCount&&void 0!==e.activeUsersCount&&this.set({activeUsersCount:e.activeUsersCount}),null===this.getStorageInfoList()&&e.subscriptionDetails||(this.triggerDataFetched(),this.onLivePanelDataLoaded(e)),this.triggerAccountDataLoaded(),e},onAccountDataError:function(e,t){return this.clearData(),this.triggerDataFetched(),!0},onStorageDataLoaded:function(e){e.storageInfos&&this.set({storageInfoList:e.storageInfos}),null===this.getSubscriptionDetails()&&null===this.getBillingUsages()||this.triggerDataFetched()},onStorageDataError:function(e,t){return this.set({storageInfoList:null}),this.triggerDataFetched(),!0},updateOrgname:function(e){return this.createPromise({endpoint:SumoApp.ajax.Endpoints.V1_USERMGMT_CHANGE_ORGNAME,errorCode:"change_orgname",type:"POST",data:{displayName:e}})},onAccountDeleted:function(){return{status:!0}},onAccountDeletedError:function(e,t){return{status:e,message:t}},deleteOrgAndUsers:function(){return this.createPromise({endpoint:l.Endpoints.V1_ACCOUNT_DELETION,type:"POST",timeout:6e4,logDuration:!0,errorCode:"account_delete_users_and_org"}).then(this.onAccountDeleted,this.onAccountDeletedError)},setMockData:function(){var e=new XDate;e.setHours(0),e.setMinutes(0),e.setSeconds(0);var t=e.getTime(),i=t-6048e6,s=t+6048e6,n=t-864e6,a=t+1728e6,r=this.getOrg(),o={planName:"MockPlan",active:!0,expired:!1,pendingActivation:!1,free:!1,trial:!0,startTimestamp:i,endTimestamp:s,userLimit:20,billingCycleDay:15,retentionDays:r&&r.typeHelpers.isFree?7:14,monthlyMegabytes:150,allowOverages:!1,currentPeriodStart:n,currentPeriodEnd:a,currentPeriodNumOfDays:30,currentPeriodDailyAvgMegabytes:5,currentTime:t},l=n,d=l-2592e6,c=[1,2,3,4,5,6,5,4,3,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],u=[12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,99],h={currentTime:t,usages:[{period:0,startTimestamp:n,endTimestamp:a,usages:c,totalUsage:_.reduce(c,(function(e,t){return e+t}),0)},{period:-1,startTimestamp:d,endTimestamp:l,usages:u,totalUsage:_.reduce(u,(function(e,t){return e+t}),0)}]};this.set({subscriptionDetails:o}),this.set({billingUsages:h})}},{CURRENT_BILLING_PERIOD:0,PREVIOUS_BILLING_PERIOD:-1,USAGE_MEASUREMENT:{KILOS:"K",MEGAS:"M",MEGABYTES:"MB",GIGABYTES:"GB",TERABYTES:"TB",PETABYTES:"PB"},getUsageMeasurement:function(e,t,i){var s=_.chain(e).pluck("usage").max().value(),n=h.USAGE_MEASUREMENT.MEGABYTES;return i?s>1024&&(n=h.USAGE_MEASUREMENT.GIGABYTES):t?n=(s=_.reduce(_.map(e,(function(e){return e.usage})),(function(e,t){return e+t}),0)/e.length)>1e6?h.USAGE_MEASUREMENT.MEGAS:s>1e3?h.USAGE_MEASUREMENT.KILOS:"":s>1e9?n=h.USAGE_MEASUREMENT.PETABYTES:s>1e6?n=h.USAGE_MEASUREMENT.TERABYTES:s>2e3&&(n=h.USAGE_MEASUREMENT.GIGABYTES),n}});return h}.apply(t,s))||(e.exports=n)},52826:function(e,t,i){var s,n;s=[i(28258)],void 0===(n=function(e){return Backbone.Collection.extend({model:e})}.apply(t,s))||(e.exports=n)},70321:function(e,t,i){var s,n;s=[i(16471),i(52826),i(28258)],void 0===(n=function(e,t,i){"use strict";var s=e.accountEnI18n;return Backbone.Model.extend({defaults:{accessKeys:{},accessKeysChanged:null,editingAccessKey:null,error:null,friendlyErrorMessage:null,formattedErrorDetails:null,showCreator:!1,loaded:!1,accessKeyUpdated:null,createEditDialogState:null},activeFilters:{DISABLED:0,ENABLED:1,INACTIVE:2},maxLabelLength:64,ajaxMethod:null,toString:function(){var e=this.getAccessKeys().length,t="",i=0,n=0,a="";return this.getLoaded()?(i=this.getAccessKeys(this.activeFilters.INACTIVE).length,n=this.getAccessKeys(this.activeFilters.ENABLED).length,0===e?a=s.ACCESSKEY_READONLY_NONE:1===e?(t=n>0?s.ENABLED:i>0?s.INACTIVE:s.DISABLED,a=sprintf(s.ACCESSKEY_READONLY_SINGLE,t)):a=1===i?sprintf(s.ACCESSKEY_READONLY_WITH_DISABLED_SINGLE,e,n):i>1?sprintf(s.ACCESSKEY_READONLY_WITH_DISABLED,e,n,i):sprintf(s.ACCESSKEY_READONLY,e,n)):a="",a},getLoaded:function(){return this.get("loaded")},setLoaded:function(e){this.set({loaded:!0})},setErrorMessage:function(e){this.set({friendlyErrorMessage:e})},setErrorDetails:function(e){this.set({formattedErrorDetails:e})},setError:function(e){this.set({error:e})},getError:function(){return this.get("error")},clearError:function(){this.setErrorMessage(null),this.setErrorDetails(null),this.setError(!1)},getAccessKeys:function(e){return e===this.activeFilters.ENABLED?this.get("accessKeys").filter((function(e){return!e.getDisabled()})):e===this.activeFilters.INACTIVE?this.get("accessKeys").filter((function(e){return e.getInactive()})):this.get("accessKeys")},getEditingAccessKey:function(){return this.get("editingAccessKey")},setEditingAccessKey:function(e){this.set({editingAccessKey:e})},setCreateEditDialogState:function(e,t,i){this.set({createEditDialogState:{data:{type:e,payload:t},actions:{onSubmit:i}}})},getCreateEditDialogState:function(){return this.get("createEditDialogState")},fetchAccessKey:function(e){return this.getAccessKeys().find((function(t){return t.getId()===e}))},handleError:function(e,t,i,n,a){$.logError("Sumo.Ui.Account.APIAccessKeyMgmtModel.removeAccessKey - error: '%s'",n),"akm:label_already_exists"===t?(this.setErrorMessage(sprintf(s.ACCESSKEYS_KEY_LABEL_DUPLICATE,s.ACCESSKEYS_UPDATE,s.THE)),this.setErrorDetails(sprintf(s.ACCESSKEYS_KEY_LABEL_DUPLICATE,s.ACCESSKEYS_UPDATE,s.THE))):(this.setErrorMessage(t),this.setErrorDetails(i)),this.setError(!0)},removeAccessKey:function(e){var t=this.fetchAccessKey(e);this.ajax.call(this,{endpoint:this.ajax.Endpoints.V1_ACCOUNT_DELETE_API_ACCESSKEY,errorCode:"accesskeys_delete",type:"DELETE",data:t.serviceKey(),success:function(e){this.getAccessKeys().remove(t),SumoApp.userMessage.info(s.ACCESSKEYS_KEY_DELETED,{}),this.set({accessKeysChanged:$.now()})},error:this.handleError})},buildKeyCollection:function(e){var i=new t;_.has(this.getAccessKeys(),"cid")||this.set({accessKeys:i}),e&&e.length>0&&_.each(e,(function(e){this.addToKeyCollection(i,e)}),this),this.set({accessKeysChanged:$.now()})},addToKeyCollection:function(e,t){var s=new i({context:this.get("context")});s.set({keyId:t.id,label:t.label,userName:t.userName,createdAt:t.createdAt,disabled:t.disabled}),s.updateFormattedFields(),s.set({userId:t.userId}),s.set({corsHeaders:t.corsHeaders}),e.add(s)},updateCorsHeadersForAccessKey:function(e,t,i){var s=this,n=this.fetchAccessKey(e),a={corsHeaders:t};this.updateAccessKey(n.serviceKey(),a,(function(){n.setCorsHeaders(t),s.set({accessKeyUpdated:$.now()})}),i)},updateAccessKey:function(e,t,i,s){var n=$.extend(e,t);this.ajax.call(this,{endpoint:this.ajax.Endpoints.V1_ACCOUNT_UPDATE_API_ACCESSKEY,errorCode:"accesskeys_update",type:"POST",data:n,success:i,error:s})},toggleAccessKey:function(e){var t=this,i=this.fetchAccessKey(e),n={disabled:!i.getDisabled()};this.updateAccessKey(i.serviceKey(),n,(function(){SumoApp.userMessage.info(s.ACCESSKEYS_KEY_STATUS_UPDATED,{}),i.setDisabled(!i.getDisabled()),i.setActionState(),t.set({accessKeysChanged:$.now()})}),this.handleError)},loadData:function(){var e={orgid:this.get("context").userInfo.organizationId,userId:this.get("showCreator")?0:this.get("context").userInfo.id};this.ajax.call(this,{endpoint:this.ajax.Endpoints.V1_ACCOUNT_GET_API_ACCESSKEYS,errorCode:"accesskeys_load",data:e,success:function(e){this.buildKeyCollection(e.accessKeys.accessKeys)},error:this.handleError})},initialize:function(){this.get("context")&&(this.ajax=this.get("context").ajax),this.listenTo(this,"change:accessKeys",this.setLoaded)},destroy:function(){this.stopListening()},createMockCollection:function(e){var s=new t,n=this;if(1===e){var a=new i({context:n.get("context")});return a.set(n.setMockData()),a.updateFormattedFields(),a}return _(e).times((function(e){var t=new i({context:n.get("context")});t.set(n.setMockData()),t.updateFormattedFields(),s.add(t)})),s},getMockAccessKey:function(){return"xxxxxxxx-xxxx-4xxx-yxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},setMockData:function(){var e=new Date,t=this.getMockAccessKey(),i=t.slice(0,6);return{accessKey:t,keyId:i,label:"Label for accessKey "+i,userName:"user"+i+"@demo.com",createdAt:e,disabled:parseInt(t)%2==0,context:this.get("context")}}})}.apply(t,s))||(e.exports=n)},73381:function(e,t,i){var s,n;s=[i(60567),i(16471),i(94958),i(67626),i(95176),i(28258),i(1451),i(69928)],void 0===(n=function(e,t,i,s,n,a,r,o){var l=e.SumoViewModule,d=(e.SubViewHelperModule,e.TooltipsterViewModule);o=o.default;var c=t.keyedErrors,u=t.accountEnI18n;return l.extend({events:{"click .accessKeyEdit":"editAccessKey","click .accessKeyDelete":"deleteAccessKey","click .toggleAccessKeyStatus":"toggleEnabled","click #addAccessKey":"createAPIKey"},template:_.template(s),subviews:null,showCreator:!1,needsReopen:!1,apiAccessKeyModelForNewKey:null,createAccessKeysFlag:!1,canCreateAccessKeys:!1,toggleForm:function(e){e?(this.$(".policy-readonly").hide(),$("#api-accessKey-edit-link").hide(),$("#api-accessKey-close-link").show(),this.model.getLoaded()&&(this.$(".policy-edit").show(),0===this.model.getAccessKeys().length&&$("#accessKeyNoneMsg").show())):(this.$(".policy-readonly").show(),$("#api-accessKey-edit-link").show(),$("#api-accessKey-close-link").hide(),this.$(".policy-edit").hide())},closeForm:function(e){this.toggleForm(!1),this.needsReopen=!1},deleteKey:function(e){this.needsReopen=!0,this.model.removeAccessKey(this.model.getEditingAccessKey())},deleteAccessKey:function(e){e.preventDefault(),this.model.setEditingAccessKey(this._activeAccessKeyId(e.target)),SumoApp.userMessage.question(u.ACCESSKEY_KEY_DELETE_CONFIRMATION,{okCallback:this.deleteKey,isHTML:!0})},destroyDialog:function(){var e=this.$("#corsDialog")[0];e&&i.unmountCorsDialog(e)},getFormattedactions:function(e){return{onSubmit:e,closeDialog:e,onCancel:this.destroyDialog.bind(this),onErrorClose:this.onErrorClose.bind(this)}},renderCorsDialog:function(e,t,s){var n=this.getFormattedactions(s),a={type:e,payload:t},r=this.$("#corsDialog")[0];i.renderCorsDialog({data:a,actions:n,el:r})},renderApiError:function(e){var t=this.$("#corsDialog")[0],s=this.model.getCreateEditDialogState();s.actions=this.getFormattedactions(s.actions.onSubmit),s.el=t,s.data.payload.disableForm=!1,s.data.payload.apiError=e,i.renderCorsDialog(s)},onErrorClose:function(){this.renderApiError("")},onCreateEditAccessKeyError:function(e,t,i,s,n){this.renderApiError(i||t)},editAccessKey:function(e){var t=this,i=this._activeAccessKeyId(e.target),s=this.model.fetchAccessKey(i),n={mode:r.DIALOG_MODE.EDIT,accessKeyName:s.getLabel(),accessID:i,domainNames:s.getCorsHeaders()},a=function(e){var s=Object.assign({},n,{disableForm:!0});t.renderCorsDialog(r.DIALOG_TYPE.ADD_EDIT,s,a),t.model.updateCorsHeadersForAccessKey(i,e.domainNames,t.onCreateEditAccessKeyError.bind(t))};this.model.setCreateEditDialogState(r.DIALOG_TYPE.ADD_EDIT,n,a),this.renderCorsDialog(r.DIALOG_TYPE.ADD_EDIT,n,a)},handleAccessKeyUpdateSuccess:function(){e.showNotification(o.accessKeyUpdateSuccessMessage,r.SuccessMessageDuration),this.render()},toggleEnabled:function(e){this.needsReopen=!0,this.model.toggleAccessKey(this._activeAccessKeyId(e.target))},_activeAccessKeyId:function(e){return $(e).parents(".accessKeyRow").attr("id").replace("accessKey-","")},open:function(e){var t=_.has(e,"reopen")&&e.reopen||this.needsReopen;this.toggleForm(t)},addNewKeyToCollection:function(){var t=this,i=$.extend(this.apiAccessKeyModelForNewKey.serviceKey(),{userName:this.apiAccessKeyModelForNewKey.getUserName()}),s={access_id:i.id,access_key:i.key};this.model.addToKeyCollection(this.model.getAccessKeys(),i),this.renderCorsDialog(r.DIALOG_TYPE.SUCCESS,s,(function(){t.render()})),e.showNotification(o.accessKeyCreateSuccesMessage,r.SuccessMessageDuration)},resetApiAccessKeyModelForNewKey:function(){this.apiAccessKeyModelForNewKey&&this.stopListening(this.apiAccessKeyModelForNewKey),this.apiAccessKeyModelForNewKey=new a({context:this.options.context}),this.listenTo(this.apiAccessKeyModelForNewKey,"change:accessKeyChanged",this.addNewKeyToCollection)},createAPIKey:function(e){e.preventDefault();var t=this,i={mode:r.DIALOG_MODE.ADD};this.resetApiAccessKeyModelForNewKey();var s=function(e){var n=Object.assign({},i,{disableForm:!0});t.renderCorsDialog(r.DIALOG_TYPE.ADD_EDIT,n,s),t.apiAccessKeyModelForNewKey.generateKey(e.accessKeyName,e.domainNames,t.onCreateEditAccessKeyError.bind(t))};this.model.setCreateEditDialogState(r.DIALOG_TYPE.ADD_EDIT,i,s),this.renderCorsDialog(r.DIALOG_TYPE.ADD_EDIT,i,s)},initialize:function(){_.bindAll(this,"render","renderError","open","clearError","deleteKey"),this.listenTo(this.model,"change:accessKeysChanged",this.render),this.listenTo(this.model,"change:error",this.renderError),this.listenTo(this.model,"change:accessKeyUpdated",this.handleAccessKeyUpdateSuccess),this.model.loadData(),this.showCreator=this.options.showCreator;var e=SumoApp.getAngularService("currentUserHelper");this.createAccessKeysFlag=e.hasFeatureFlag("UICreateAccessKeysCapability"),this.canCreateAccessKeys=e.hasPrivilege("CanCreateAccessKeys"),this.render()},removeSection:function(){var e=$("#api-accessKey-create-link").is(":visible")?"#api-accessKey-create-link":"#api-accessKey-edit-link";$(e).trigger("forceRender")},createTooltipster:function(){this.getView("addButtonTooltip")&&this.destroySubView("addButtonTooltip");var e=new d({el:this.$("#addAccessKeyBtnWrapper"),content:u.ADD_BUTTON_DISABLED_TOOLTIP,size:"small",contentAsHTML:!0,position:"left",delay:0,speed:0});this.registerView("addButtonTooltip",e)},clearError:function(e){this.model.clearError()},renderError:function(e){!$("#sumo-message-box").is(":visible")&&this.model.getError()&&(SumoApp.userMessage.error(this.model.get("formattedErrorDetails"),{displayType:SumoApp.userMessage.DisplayType.MSGBOX,title:u.ACCESSKEY_ERROR_TITLE,callback:this.clearError,isHTML:!0}),c["gn:insufficient_permission"]===this.model.get("formattedErrorDetails")&&this.removeSection())},render:function(){this.destroyDialog();var e=this.model.toString(),t=this.model.getAccessKeys(),i=[],s=!!t&&t.length>0,a=this.showCreator,r=$("#api-accessKey-close-link").is(":visible")||!a||this.needsReopen,o=a?u.ACCESSKEY_NONE_MESSAGE:u.ACCESSKEY_NONE_MESSAGE_PERSONAL,l=$.extend(this.model.toJSON(),{__:u,apiAccessKeyReadOnlyText:e,hasAccessKeys:s,showCreator:a,noneMessage:o,createAccessKeysFlag:this.createAccessKeysFlag,canCreateAccessKeys:this.canCreateAccessKeys}),d=this.template(l);if(this.$el.html(d),this.createAccessKeysFlag&&!this.canCreateAccessKeys&&(this.$(".add-button-icon").addClass("disabled"),this.createTooltipster()),this.model.getLoaded()){$("#api-accessKey-loading-section").hide(),t?(t.length>0&&t.each((function(e){var t=new n({model:e,accessKeyId:"accessKey-"+e.getId(),showCreator:a});i.push(t.render())})),this.$("#accessKeyBodyContainer").append(i.join("")),$("#api-accessKey-create-link").removeClass("btn-disabled")):this.$("#accessKeyNoneMsg").show();var c=SumoApp.getAngularService("$rootScope").$new(),h=this.$el.find("#addAccessKey");h.removeClass("hidden"),SumoApp.ngCompile(h,c,!0)}else this.$("#accessKeyNoneMsg").hide();return r&&this.open({reopen:!a}),this},destroy:function(){this.destroyDialog(),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},28258:function(e,t,i){var s,n;s=[i(16471)],void 0===(n=function(e){"use strict";var t=e.accountEnI18n;return Backbone.Model.extend({actionStates:{DISABLED:0,ENABLED:1,INACTIVE:2},statusTexts:[t.DISABLED,t.ENABLED,t.INACTIVE],actionStateTexts:["",t.DEACTIVATE,t.ACTIVATE],NO_USER:"NOT FOUND",DISABLED_USER:"[DISABLED]",defaults:{orgId:null,userId:null,keyId:"",accessKey:"",userName:"",createdAt:null,formattedCreatedAt:"",label:"",disabled:!1,actionState:null,error:null,friendlyErrorMessage:null,formattedErrorDetails:null,context:null,accessKeyChanged:null,corsHeaders:[]},maxLabelLength:64,setErrorMessage:function(e){this.set({friendlyErrorMessage:e})},setErrorDetails:function(e){this.set({formattedErrorDetails:e})},setError:function(e){this.set({error:e})},getError:function(){return this.get("error")},getFormattedErrorDetails:function(){return this.get("formattedErrorDetails")},getErrorMessage:function(){return this.get("friendlyErrorMessage")},clearError:function(){this.setErrorMessage(null),this.setErrorDetails(null),this.setError(!1)},getKey:function(){return this.get("accessKey")},setKey:function(e){this.set({accessKey:e})},getId:function(){return this.get("keyId")},setId:function(e){this.set({keyId:e})},setCorsHeaders:function(e){this.set({corsHeaders:e})},getCorsHeaders:function(){return this.get("corsHeaders")},getUserName:function(){return this.get("userName")},needsUserNameEmphasis:function(){var e=this.getUserName();return!_.isNull(e)&&(e===this.NO_USER||e.indexOf(this.DISABLED_USER)>-1)},getFormattedUserName:function(){var e=this.getUserName();return SumoUtil.isStringEmpty(e)?"":e===this.NO_USER?t.REMOVED_USER:e.indexOf(this.DISABLED_USER)>-1?t.DISABLED_USER:e.substring(0,e.lastIndexOf(" "))},getUserNameTitle:function(){var e=this.getUserName(),t=e===this.NO_USER?"":e,i=SumoUtil.isStringEmpty(e)?-1:e.indexOf(this.DISABLED_USER);return i>-1&&(t=`${e.substr(0,i)||""}`.trim()),t},setUserName:function(e){this.set({userName:e})},getOrgId:function(){return this.get("orgId")},setOrgId:function(e){this.set({orgId:e})},getCreatedAt:function(){return this.get("createdAt")},getFormattedCreatedAt:function(){return this.get("formattedCreatedAt")},setCreatedAt:function(e){this.set({createdAt:e})},setFormattedCreatedAt:function(){this.set({formattedCreatedAt:SumoApp.dateUtil.formatDate()(this.getCreatedAt())})},getLabel:function(){return this.get("label")},setLabel:function(e){this.set({label:e})},getDisabled:function(){return this.get("disabled")},setDisabled:function(e){this.set({disabled:e})},getUserId:function(){return this.get("userId")},setUserId:function(e){this.set({userId:e})},getActionState:function(){return this.get("actionState")},getStatusText:function(){return this.statusTexts[this.getActionState()]},getActionStateText:function(){return this.actionStateTexts[this.getActionState()]},setActionState:function(){!SumoUtil.isStringEmpty(this.getUserName())&&(this.getUserName()===this.NO_USER||this.getUserName().indexOf(this.DISABLED_USER)>-1)?this.set({actionState:this.actionStates.DISABLED}):this.set({actionState:this.getDisabled()?this.actionStates.INACTIVE:this.actionStates.ENABLED})},getInactive:function(){return this.getActionState()===this.actionStates.INACTIVE},serviceKey:function(){return{orgId:this.getOrgId(),userId:this.getUserId(),id:this.getId(),key:this.getKey(),label:this.getLabel(),createdAt:this.getCreatedAt(),disabled:this.getDisabled(),corsHeaders:this.getCorsHeaders()}},updateFormattedFields:function(){this.setFormattedCreatedAt(),this.initFields()},generateKey:function(e,t,i){this.setLabel(e);var s={label:this.getLabel()};this.setCorsHeaders(t),s.corsHeaders=t,this.ajaxMethod="generate",this.get("context").ajax.call(this,{endpoint:this.get("context").ajax.Endpoints.V1_ACCOUNT_CREATE_API_ACCESSKEY,errorCode:"accesskeys_generate",type:"PUT",data:s,success:function(e){this.setId(e.accessKey.id),this.setKey(e.accessKey.key),this.setCreatedAt(e.accessKey.createdAt),this.setUserName(_.getPath(e,"accessKey.userName")),this.set({accessKeyChanged:$.now()})},error:i})},handleError:function(e,i,s,n,a){"akm:label_already_exists"===i?"generate"===this.ajaxMethod?(this.setErrorMessage(sprintf(t.ACCESSKEYS_KEY_LABEL_DUPLICATE,t.ACCESSKEYS_GENERATE,t.AN)),this.setErrorDetails(sprintf(t.ACCESSKEYS_KEY_LABEL_DUPLICATE,t.ACCESSKEYS_GENERATE,t.AN))):(this.setErrorMessage(sprintf(t.ACCESSKEYS_KEY_LABEL_DUPLICATE,t.ACCESSKEYS_UPDATE,t.THE)),this.setErrorDetails(sprintf(t.ACCESSKEYS_KEY_LABEL_DUPLICATE,t.ACCESSKEYS_UPDATE,t.THE))):(this.setErrorMessage(i),this.setErrorDetails(s)),this.setError(!0)},initFields:function(){this.setOrgId(this.get("context").userInfo.organizationId),this.setUserId(this.get("context").userInfo.id),this.setActionState()},initialize:function(){this.listenTo(this,"change:accessKeyChanged",this.updateFormattedFields),this.initFields()},destroy:function(){this.stopListening()}})}.apply(t,s))||(e.exports=n)},95176:function(e,t,i){var s,n;s=[i(16471),i(76735)],void 0===(n=function(e,t){"use strict";var i=e.accountEnI18n;return Backbone.View.extend({events:{},accessKeyId:null,showCreator:!1,NO_USER:"NOT FOUND",template:_.template(t),subviews:null,initialize:function(){_.bindAll(this,"render"),this.accessKeyId=this.options.accessKeyId,this.showCreator=this.options.showCreator},render:function(){var e=$.extend(this.model.toJSON(),{__:i,accessKeyId:this.accessKeyId,showCreator:this.showCreator,actionStateText:this.model.getActionStateText(),statusText:this.model.getStatusText(),needsUserNameEmphasis:this.model.needsUserNameEmphasis(),userNameText:this.model.getFormattedUserName(),userNameTitle:this.model.getUserNameTitle()});return this.template(e)},destroy:function(){SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},69872:function(e,t,i){var s,n;s=[i(60567),i(74915)],void 0===(n=function(e,t){"use strict";var i=e.SumoModel,s=e.GetterSetterMixin,n=e.ModelErrorHandlerMixin;return i.extend({defaults:{enabled:!0,hideError:null},mixins:[n,s,t],initialize:function(){this.loadDataValues={endpoint:"V1_ACCOUNT_AUDIT_LOGGING_ENABLED",errorMsg:"AUDIT_LOG_LOAD_FAILURE",errorCode:"audit_logging"},this.saveValues={reqType:"POST",endpoint:"V1_ACCOUNT_AUDIT_LOGGING_ENABLED",errorCode:"audit_logging",successMsg:"AUDIT_LOG_SAVE_SUCCESS",errorCallback:this.handleWrappedError}},canWork:function(){return SumoApp.priv.hasAuditLoggingView()}})}.apply(t,s))||(e.exports=n)},21506:function(e,t,i){var s,n;s=[i(60567),i(91067),i(39204)],void 0===(n=function(e,t,i){return e.SumoViewModule.extend({mixins:[i],events:{"click input#audit-logging-checkbox":"save","click .online-help-link":"showHelp"},privilege:"AuditLoggingView",checkboxId:"audit-logging-checkbox",subviews:null,template:function(e){return _.template(t,e)},showHelp:function(e){e.preventDefault(),this.onShowHelp(e)},save:function(){this.saveStatus(this.checkboxId)},render:function(){this.renderView()}})}.apply(t,s))||(e.exports=n)},24359:function(e,t){var i;void 0===(i=function(){return Backbone.Model.extend({defaults:{paymentMethodModel:null,changeAccountOwnerModel:null,subViewModels:null},getPaymentMethodModel:function(){return this.getPaymentMethodModel()},setPaymentMethodModel:function(e){this.set({paymentMethodModel:e})},getChangeAccountOwnerModel:function(){return this.get("changeAccountOwnerModel")},setChangeAccountOwnerModel:function(e){this.set({changeAccountOwnerModel:e})},initialize:function(){this.ajax=this.get("context").ajax,this.set({subViewModels:{}})},getSubviewModel:function(e){return this.get("subViewModels")[e]},setSubviewModel:function(e,t){this.get("subViewModels")[e]=t}})}.apply(t,[]))||(e.exports=i)},9576:function(e,t,i){var s,n;s=[i(16471),i(3697),i(49718),i(16948),i(60567)],void 0===(n=function(e,t,i,s,n){var a=n.SubViewHelperModule,r=e.accountEnI18n;return Backbone.View.extend({events:{},subviews:null,template:_.template(t),createPaymentMethodView:function(){var e={viewClass:i,modelClass:s,viewOptions:{el:this.$("#payment-method-view"),context:this.options.context},modelOptions:{context:this.options.context}};this.subviews.createView("paymentMethodView",e,(function(e){}))},initialize:function(){_.bindAll(this,"render"),this.subviews=new a("BillingView"),this.subviews.setModel(this.model),this.render()},render:function(){var e=$.extend(this.model.toJSON(),{__:r}),t=this.template(e);return this.$el.html(t),this.$("#payment-method-view").show(),this.createPaymentMethodView(),this},destroy:function(){this.subviews.destroy(),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},16948:function(e,t,i){var s,n;s=[i(16471),i(63205)],void 0===(n=function(e,t){var i=e.keyedErrors,s=e.accountEnI18n;return Backbone.Model.extend({STATUS_INIT:0,STATUS_FETCHING_URL:1,STATUS_FETCHING_SUCCESSFUL:2,STATUS_FETCHING_FAILED:3,STATUS_POSTING_SUBMITTED_TO_SERVER:4,STATUS_POSTED_SUBMITTED_TO_SERVER:5,STATUS_POSTING_SUBMITTED_TO_SERVER_FAILED:6,STATUS_FETCHING_STATUS:7,STATUS_FETCHING_STATUS_SUCCESSFUL:8,STATUS_FETCHING_STATUS_FAILED:9,STATUS_FETCHING_CC_INFO:10,STATUS_FETCHING_CC_INFO_SUCCESSFUL:11,STATUS_FETCHING_CC_INFO_FAILED:12,STATUS_CC_ASSUMED_SUCCESS:13,STATUS_CC_ASSUMED_FAILURE:14,STATUS_IFRAME_RENDERED:15,CONSTANT_POLLING_DURATION:305,CONSTANT_POLLING_INTERVAL:1e3,backendCCStatusConstants:{CC_SUCCESS:"Success",CC_FAILURE:"Failure",CC_INVALID_REQUEST:"InvalidRequest",CC_URL_CREATED:"UrlCreated",CC_USER_SUBMITTED:"UserSubmitted",CC_CALLBACK_RETURNED:"CallbackReturned"},zuoraErrors:{signatureTimeout:"Invalid_TimeOut"},lastUpdated:-1,status:0,errorMessage:null,errorDetails:null,ccValidationError:null,ccValidationErrorDetails:null,paymentMethodExists:!1,paymentV2Flag:!1,paymentMeta:null,defaults:{iframeUrl:null,ccData:null,ccStatus:null,pollingSeconds:0,paymentMethodExists:!1,userWaitingStartTimestamp:-1,userWaitingEndTimestamp:-1,serverTimeoutOccurred:!1,existingCardExpired:null},getExistingCardExpired:function(){return this.get("existingCardExpired")},setExistingCardExpired:function(e){this.set({existingCardExpired:e})},getServerTimeoutOccurred:function(){return this.get("serverTimeoutOccurred")},setServerTimeoutOccurred:function(e){this.set({serverTimeoutOccurred:e})},getUserWaitingStartTimestamp:function(){return this.get("userWaitingStartTimestamp")},setUserWaitingStartTimestamp:function(e){this.set({userWaitingStartTimestamp:e})},getUserWaitingEndTimestamp:function(){return this.get("userWaitingEndTimestamp")},setUserWaitingEndTimestamp:function(e){this.set({userWaitingEndTimestamp:e})},getIframeUrl:function(){return this.get("iframeUrl")},setIframeUrl:function(e){this.set({iframeUrl:e})},getPaymentMethodExists:function(){return this.get("paymentMethodExists")},setPaymentMethodExists:function(e){this.set({paymentMethodExists:e})},getStatus:function(){return this.get("status")},setStatus:function(e){this.set({status:e})},getCCStatus:function(){return this.get("ccStatus")},setCCStatus:function(e){this.set({ccStatus:e})},getPollingSeconds:function(){return this.get("pollingSeconds")},setPollingSeconds:function(e){this.set({pollingSeconds:e})},getErrorMessage:function(){return this.get("errorMessage")},getErrorDetails:function(){return this.get("errorDetails")},setError:function(e,t){this.set({errorMessage:e,errorDetails:t})},getCCErrorMessage:function(){return this.get("ccValidationError")},getCCErrorDetails:function(){return this.get("ccValidationErrorDetails")},setCCError:function(e,t){this.set({ccValidationError:e,ccValidationErrorDetails:t})},getPaymentV2Flag:function(){return this.get("paymentV2Flag")},setPaymentV2Flag:function(e){this.set({paymentV2Flag:e})},getPaymentMeta:function(){return this.get("paymentMeta")},setPaymentMeta:function(e){this.set({paymentMeta:e})},getCCData:function(){return this.get("ccData")},setCCData:function(e){var t=this.getCCData()?this.getCCData():{};t.id=e.id?e.id:-1,t.cardMask=e.cardMask,t.expirationMonth=e.expirationMonth,t.expirationYear=e.expirationYear,t.cardType=e.cardType?e.cardType:"Credit Card";var i=new Date,s=i.getMonth()+1,n=i.getFullYear();t.expirationYear<parseInt(n)||t.expirationYear===parseInt(n)&&t.expirationMonth<parseInt(s)?this.setExistingCardExpired(!0):this.setExistingCardExpired(!1),this.set({ccData:t})},initialize:function(){this.setPaymentV2Flag(SumoApp.getAngularService("currentUserHelper").hasFeatureFlag("UIZuoraPaymentV2Enabled")),this.ajax=this.get("context").ajax,_.bindAll(this,"showCCError")},setGlobalVariable:function(e){this.get("context").billingIframeSubmitted=e},stopPollingForCCStatus:function(){this.pollerObj&&(this.pollerObj.cancel(),this.setPollingSeconds(0),this.setUserWaitingEndTimestamp((new Date).getTime()),$.logInfo(sprintf("Sumo.Ui.Account.Upgrade.PaymentMethodModel [EndUserWaitingTime=%s ms] to get [CreditCardStatus=%s]",this.getUserWaitingEndTimestamp()-this.getUserWaitingStartTimestamp(),this.getCCStatus())))},startPollingForCCStatus:function(){this.setUserWaitingStartTimestamp((new Date).getTime()),this.setCCStatus(null),this.pollerObj=$.later(this.CONSTANT_POLLING_INTERVAL,this,(function(){var e=this.getPollingSeconds();e<this.CONSTANT_POLLING_DURATION?(this.getCCStatus()===this.backendCCStatusConstants.CC_SUCCESS||this.getCCStatus()===this.backendCCStatusConstants.CC_FAILURE?this.stopPollingForCCStatus():this.getStatus()!==this.STATUS_FETCHING_STATUS&&this.fetchCCUpdateStatus(),this.setPollingSeconds(e+1)):(this.setCCStatus(this.STATUS_CC_ASSUMED_FAILURE),this.stopPollingForCCStatus(),this.showCCError(s.CREDIT_CARD_ASSUMED_FAILURE))}),{},!0)},getZuoraPage:function(){var e=this;"undefined"!=typeof Z&&Z.setEventHandler("init",(function(){})),this.setStatus(this.STATUS_FETCHING_URL),this.ajax.call(this,{endpoint:this.ajax.Endpoints.V1_ACCOUNT_GET_ZUORA_CREDIT_CARD_URL_V2,timeout:6e4,logDuration:!0,errorCode:"account_get_zuora_credit_card_url",success:function(i){e.setStatus(e.STATUS_FETCHING_SUCCESSFUL),e.setPaymentMeta(i.params);var s=t.UrlHelper.getBillingHost(SumoApp.getAngularService("currentUserHelper").getOrg().deployment);Z.setHost(s),Z.renderWithErrorHandler(e.getPaymentMeta(),{},e.zuoraCallback(e),e.zuoraCustomErrorHandler(e)),Z.runAfterRender((function(t,i,s){Z.receive({action:{},height:760}),e.setStatus(e.STATUS_IFRAME_RENDERED)}))},error:function(e,t,i,n,a){(this.setError(t,i),_.getPath("resultObj","keyedErrors[0].key"))&&(-1!==a.keyedErrors[0].key.indexOf("TooManyPendingRequests")&&this.setError(s.TOO_MANY_PENDING_REQUESTS,i));this.setStatus(this.STATUS_FETCHING_FAILED)}})},zuoraCallback:function(e){return function(t){var i=this,n={id:e.getPaymentMeta().id,tenantId:e.getPaymentMeta().tenantId,timestamp:(new Date).getTime(),token:e.getPaymentMeta().token,responseSignature:e.getPaymentMeta().signature,success:t.success};if("true"===t.success||!0===t.success)n.refId=t.refId;else{switch(t.errorCode){case e.zuoraErrors.signatureTimeout:e.setError("Signature Timed Out",s.ACCOUNT_ZUORA_SIGNATURE_TIMEOUT);break;default:e.setError(t.errorCode,t.errorMessage)}n.errorCode=t.errorCode,n.errorMessage=t.errorMessage,e.setStatus(e.STATUS_FETCHING_FAILED),$.logError("["+t.errorCode+"] "+t.errorMessage)}var a=$.param(n).replace(/%20/g,"+");e.setStatus(e.STATUS_POSTING_SUBMITTED_TO_SERVER),e.ajax.call(e,{endpoint:e.ajax.Endpoints.V1_ACCOUNT_BACKEND_CALLBACK_URL,timeout:6e4,logDuration:!0,data:a,errorCode:"account_backend_callback_submission",success:function(){"true"===t.success||!0===t.success?e.fetchCCUpdateStatus():e.setStatus(e.STATUS_FETCHING_STATUS_FAILED)},error:function(t,n,a,r,o){i.tries>0?(i.tries--,e.ajax.call(e,this)):(e.setError(n,s.ERROR_IN_BACKEND_CALLBACK),e.setStatus(e.STATUS_FETCHING_STATUS_FAILED))}})}},zuoraCustomErrorHandler:function(){return function(e,t,i){Z.sendErrorMessageToHpm(e,i)}},formatZuoraError:function(e){return'<div class="client-error">'+e+"</div>"},fetchIframeUrl:function(e,t){this.setStatus(this.STATUS_FETCHING_URL),this.ajax.call(this,{endpoint:this.ajax.Endpoints.V1_ACCOUNT_GET_ZUORA_CREDIT_CARD_URL,timeout:6e4,logDuration:!0,errorCode:"account_get_zuora_credit_card_url",success:function(i){this.setIframeUrl(i.zuoraCreditCardUrl),this.setStatus(this.STATUS_FETCHING_SUCCESSFUL),e&&e(t)},error:function(e,t,i,n,a){(this.setError(t,i),_.getPath("resultObj","keyedErrors[0].key"))&&(-1!==a.keyedErrors[0].key.indexOf("TooManyPendingRequests")&&this.setError(s.TOO_MANY_PENDING_REQUESTS,i));this.setStatus(this.STATUS_FETCHING_FAILED)}})},postIframeSubmitted:function(){this.setStatus(this.STATUS_POSTING_SUBMITTED_TO_SERVER),this.ajax.call(this,{endpoint:this.ajax.Endpoints.V1_ACCOUNT_POST_SUBMITTED_CREDIT_CARD_UPDATE,data:{zuoraCreditCardUrl:this.getIframeUrl().replace("&retainValues=true","")},timeout:6e4,logDuration:!0,errorCode:"account_send_iframe_submitted",success:function(e){this.setStatus(this.STATUS_POSTED_SUBMITTED_TO_SERVER),this.startPollingForCCStatus()},error:function(e,t,i,s,n){this.setError(t,i),this.setStatus(this.STATUS_POSTING_SUBMITTED_TO_SERVER_FAILED)}})},fetchCCInfo:function(){this.setStatus(this.STATUS_FETCHING_CC_INFO),this.setExistingCardExpired(null),this.ajax.call(this,{endpoint:this.ajax.Endpoints.V1_ACCOUNT_GET_CC_INFO,logDuration:!0,errorCode:"account_fetch_cc_info",success:function(e){this.setCCData(e.paymentMethod),this.setStatus(this.STATUS_FETCHING_CC_INFO_SUCCESSFUL),"not_set"==e.paymentMethod.cardMask||this.getExistingCardExpired()?(this.getPaymentV2Flag()?this.getZuoraPage():this.fetchIframeUrl(),this.setPaymentMethodExists(!1)):this.setPaymentMethodExists(!0)},error:function(e,t,i){this.setError(t,i),this.setStatus(this.STATUS_FETCHING_CC_INFO_FAILED)}})},showCCError:function(e){this.setStatus(this.STATUS_FETCHING_STATUS),e?this.setCCError(e):this.setCCError(s.CREDIT_CARD_QUICK_VALIDATION_ERROR),this.setStatus(this.STATUS_FETCHING_STATUS_SUCCESSFUL)},fetchCCUpdateStatus:function(){this.setStatus(this.STATUS_FETCHING_STATUS),this.setExistingCardExpired(null),this.setServerTimeoutOccurred(!1);var e={};this.getPaymentV2Flag()?(e.endpoint=this.ajax.Endpoints.V1_ACCOUNT_GET_CREDIT_CARD_UPDATE_STATUS_V2,e.data={token:this.getPaymentMeta().token}):(e.endpoint=this.ajax.Endpoints.V1_ACCOUNT_GET_CREDIT_CARD_UPDATE_STATUS,e.data={zuoraCreditCardUrl:this.getIframeUrl().replace("&retainValues=true","")}),this.ajax.call(this,{endpoint:e.endpoint,logDuration:!0,errorCode:"account_fetch_cc_update_status",data:e.data,success:function(e){if(this.setCCData(e.creditCardInfo),this.setCCStatus(e.status),e.status===this.backendCCStatusConstants.CC_FAILURE)if(e.validationErrors[0].indexOf("ccm1:TokenTimedOut")>-1||e.validationErrors[0].indexOf("ze1:CallbackNotFresh")>-1)this.setServerTimeoutOccurred(!0),this.showCCError(i[e.validationErrors[0]]);else{var t=s.CREDIT_CARD_QUICK_VALIDATION_ERROR;_.each(e.validationErrors,(function(e){t=t+" <br />"+(i[e]?i[e]:"")})),this.getPaymentV2Flag()?this.getZuoraPage():this.fetchIframeUrl(this.showCCError,t),this.setStatus(this.STATUS_FETCHING_STATUS_SUCCESSFUL)}else this.setStatus(this.STATUS_FETCHING_STATUS_SUCCESSFUL),e.status===this.backendCCStatusConstants.CC_SUCCESS&&this.getExistingCardExpired()&&(this.getPaymentV2Flag()?this.getZuoraPage():this.fetchIframeUrl())},error:function(e,t,i){this.setError(t,i),this.stopPollingForCCStatus(),this.setStatus(this.STATUS_FETCHING_STATUS_FAILED)}})}})}.apply(t,s))||(e.exports=n)},49718:function(e,t,i){var s,n;s=[i(16471),i(61173),i(16948),i(63205)],void 0===(n=function(e,t,i,s){var n=s.ErrorUtilModule,a=e.accountEnI18n;return Backbone.View.extend({events:{"click #billing-submit-iframe-button":"onClickSubmitIframeButton","change input:radio[name=card-chooser-radio]":"onUpdateCCButtonClick","click .radio-label-span":"changeCCSelection"},template:_.template(t),iframeId:"z_hppm_iframe",isPartOfUpgradeWizard:!1,onClickSubmitIframeButton:function(){this.model.postIframeSubmitted()},submitIframeToZuora:function(){submitHostedPage(this.iframeId)},changeCCSelection:function(e){$("input:radio[name=card-chooser-radio]").is(":disabled")||($(e.currentTarget).siblings("#existing-card-radio").length>0?(this.$("#existing-card-radio").prop("checked","checked"),this.onUpdateCCButtonClick()):$(e.currentTarget).siblings("#new-card-radio").length>0&&"new-card-radio"!=this.$("input:radio[name=card-chooser-radio]:checked").prop("id")&&(this.$("#new-card-radio").prop("checked","checked"),this.onUpdateCCButtonClick()))},onUpdateCCButtonClick:function(){"existing-card"===this.$("input:radio[name=card-chooser-radio]:checked:visible").val()?(this.$("#zuora_payment").hide(),this.$(".payment-privacy-msg").hide(),this.$("#existing-payment-method-div").show(),this.$("#billing-submit-button-div").hide(),this.$("#cc-errors").hide(),this.$("#errors").hide(),this.showNextButtonOnWizard(!0)):this.model.getPaymentV2Flag()?this.model.getZuoraPage():this.model.fetchIframeUrl()},decideShowingCardRadio:function(){var e=this.model.getCCData();e&&"not_set"!==e.cardMask?(this.$(".card-chooser-div").show(),this.$("#existing-payment-method-div").show(),this.$(".credit-card-type").text(e.cardType),this.$(".credit-card-mask").text(e.cardMask.replace("*"," *")),this.$(".credit-card-expiration").text(e.expirationMonth+"/"+e.expirationYear)):(this.$(".card-chooser-div").hide(),this.$("#existing-payment-method-div").hide())},showNextButtonOnWizard:function(e){!0===this.isPartOfUpgradeWizard&&(!0===e?$("#nav-next").show():$("#nav-next").hide())},handleTimeoutCase:function(){var e=this.$("#cc-errors"),t=this.$("#zuora_payment"),i=this.$("#billing-submit-button-div"),s=this.$("#existing-payment-method-div"),a=this.$(".payment-privacy-msg"),r=new n;r.destroy(e),SumoUtil.unblockPage(),r.render(e,this.model.getCCErrorMessage(),this.model.getCCErrorDetails()),e.show(),t.hide(),a.hide(),i.hide(),s.show(),this.decideShowingCardRadio(),this.showNextButtonOnWizard(!1)},onStatusChange:function(){var e=this.model.getStatus(),t=this.$("#errors"),i=this.$("#zuora_payment"),s=this.$(".payment-privacy-msg"),r=this.$("#billing-submit-button-div"),o=this.$("#iframe-submitted-div"),l=this.$(".spin-wrapper"),d=(this.$("#"+this.iframeId),this.$("#existing-payment-method-div")),c=this.$(".card-chooser-div"),u=this.$("#cc-errors"),h=this.$("input:radio[name=card-chooser-radio]"),g=new n;if(t.hide(),l.hide(),o.hide(),i.show(),s.show(),r.show(),h.removeAttr("disabled"),g.destroy(t),g.destroy(u),e!==this.model.STATUS_INIT){if(e===this.model.STATUS_FETCHING_URL)return l.show(),i.hide(),s.hide(),r.hide(),d.show(),c.show(),h.attr("disabled",!0),this.decideShowingCardRadio(),void this.showNextButtonOnWizard(!1);if(e===this.model.STATUS_FETCHING_SUCCESSFUL){if(l.show(),i.hide(),s.hide(),r.hide(),d.hide(),!this.model.getPaymentV2Flag()){this.$("#"+this.iframeId).remove();var p="<iframe id='z_hppm_iframe' name='z_hppm_iframe' src='"+this.model.getIframeUrl()+"'></iframe>";i.append(p),this.$("#"+this.iframeId).off("load",this.showIframe).on("load",this.showIframe)}return this.decideShowingCardRadio(),void h.attr("disabled",!0)}if(e===this.model.STATUS_IFRAME_RENDERED)return this.showIframe(),void this.showNextButtonOnWizard(!1);if(e===this.model.STATUS_FETCHING_FAILED)return i.hide(),s.hide(),r.hide(),d.show(),g.render(t,this.model.getErrorMessage(),this.model.getErrorDetails()),t.show(),this.decideShowingCardRadio(),void this.showNextButtonOnWizard(!1);if(e!==this.model.STATUS_POSTING_SUBMITTED_TO_SERVER)if(e!==this.model.STATUS_POSTED_SUBMITTED_TO_SERVER){if(e===this.model.STATUS_POSTING_SUBMITTED_TO_SERVER_FAILED)return SumoUtil.unblockPage(),i.hide(),s.hide(),r.hide(),d.show(),g.render(t,this.model.getErrorMessage(),this.model.getErrorDetails()),void t.show();if(e!==this.model.STATUS_FETCHING_STATUS){if(e!==this.model.STATUS_FETCHING_STATUS_SUCCESSFUL)return e===this.model.STATUS_FETCHING_STATUS_FAILED?(SumoUtil.unblockPage(),i.show(),s.show(),r.hide(),g.render(t,this.model.getErrorMessage(),this.model.getErrorDetails()),void this.$("#errors").show()):e===this.model.STATUS_FETCHING_CC_INFO?(d.hide(),l.show(),i.hide(),s.hide(),void r.hide()):e===this.model.STATUS_FETCHING_CC_INFO_SUCCESSFUL?(d.show(),l.hide(),i.hide(),s.hide(),r.hide(),this.decideShowingCardRadio(),void("not_set"!==this.model.getCCData().cardMask&&this.showNextButtonOnWizard(!0))):e===this.model.STATUS_FETCHING_CC_INFO_FAILED?(d.hide(),l.hide(),i.hide(),s.hide(),r.hide(),g.render(t,this.model.getErrorMessage(),this.model.getErrorDetails()),void this.$("#errors").show()):void 0;if(this.model.getCCStatus()===this.model.backendCCStatusConstants.CC_FAILURE)this.model.getServerTimeoutOccurred()?this.handleTimeoutCase():(SumoUtil.unblockPage(),g.render(u,this.model.getCCErrorMessage(),this.model.getCCErrorDetails()),u.show(),i.show(),s.show(),r.show(),d.show(),c.show(),this.decideShowingCardRadio(),this.$("#"+this.iframeId).prop("src",this.model.getIframeUrl()));else{if(this.model.getCCStatus()===this.model.backendCCStatusConstants.CC_SUCCESS)return SumoUtil.unblockPage(),i.hide(),s.hide(),r.hide(),d.show(),u.hide(),c.show(),SumoApp.userMessage.info(a.PAYMENT_METHOD_ACCEPTED),void(this.model.getExistingCardExpired()||!0!==this.isPartOfUpgradeWizard?(this.decideShowingCardRadio(),this.$("#existing-card-radio").prop("checked",!0)):this.handleExit(this.model.getCCData()));this.model.getCCStatus()===this.model.STATUS_CC_ASSUMED_SUCCESS?(SumoUtil.unblockPage(),!0===this.isPartOfUpgradeWizard?(SumoApp.userMessage.info(a.PAYMENT_METHOD_SUBMITTED),this.handleExit(this.model.getCCData())):this.showCCPending()):this.model.getCCStatus()===this.model.STATUS_CC_ASSUMED_FAILURE&&this.handleTimeoutCase()}}else SumoUtil.blockPage()}else this.submitIframeToZuora();else SumoUtil.blockPage(a.PLEASE_WAIT)}},showIframe:function(){this.$(".spin-wrapper").hide(),this.$("#zuora_payment").show(),this.$(".payment-privacy-msg").show(),this.$("#billing-submit-button-div").show(),this.$("input:radio[name=card-chooser-radio]").removeAttr("disabled"),this.showNextButtonOnWizard(!0),this.onCreditCardExpiredChange()},handleSubmit:function(){"existing-card"===this.$("input:radio[name=card-chooser-radio]:checked:visible").prop("value")||!0===this.options.context.billingIframeSubmitted?this.handleExit(this.model.getCCData()):this.onClickSubmitIframeButton()},handleExit:function(e){this.destroy(),this.options.exitCallback(e)},showCCPending:function(){if(!0===this.options.context.billingIframeSubmitted){var e=this.$("#zuora_payment"),t=this.$("#billing-submit-button-div"),i=this.$("#iframe-submitted-div"),s=this.$(".spin-wrapper"),n=this.$("#existing-payment-method-div"),a=this.$(".card-chooser-div"),r=this.$("#errors"),o=this.$(".payment-privacy-msg");SumoUtil.unblockPage(),r.hide(),e.hide(),o.hide(),t.hide(),n.hide(),i.show(),a.hide(),s.hide(),this.showNextButtonOnWizard(!0)}},onCreditCardExpiredChange:function(){null!=this.model.getExistingCardExpired&&(!0===this.model.getExistingCardExpired()?(this.$("#expired-credit-card-div").show(),this.$("#valid-credit-card-div").hide(),this.$("input:radio[name=card-chooser-radio]").attr("disabled",!0),this.$("#new-card-radio").prop("checked","checked")):(this.$("#expired-credit-card-div").hide(),this.$("#valid-credit-card-div").show(),this.$("input:radio[name=card-chooser-radio]").removeAttr("disabled")))},initialize:function(){_.bindAll(this,"render","showIframe"),this.model||(this.model=new i({context:this.options.context})),this.listenTo(this.model,"change:status",this.onStatusChange),this.listenTo(this.model,"change:ccStatus",this.onStatusChange),this.listenTo(this.model,"change:existingCardExpired",this.onCreditCardExpiredChange),this.render(),this.model.fetchCCInfo()},render:function(){!0===this.options.isPartOfUpgradeWizard&&(this.isPartOfUpgradeWizard=!0);var e=$.extend(this.model.toJSON(),{__:a},{isUpgradeWizard:this.isPartOfUpgradeWizard,getPaymentV2Flag:this.model.getPaymentV2Flag()}),t=this.template(e);return this.$el.html(t),this.$(".card-chooser-div").hide(),this},destroy:function(){this.$("#"+this.iframeId).off("load",this.showIframe),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},36170:function(e,t,i){var s,n;s=[i(66359)],void 0===(n=function(e){const t={select_connection_type:"Select Connection Type",create_connection:"Create %%connectionType%% Connection",edit_connection:"Edit %%connectionType%% Connection",connection_type:"Connection Type",cancel:"Cancel",save:"Save",back:"Back",confirm_cancel:"Your progress won't be saved if you exit now. Are you sure you want to exit?",connections_deleted:"The connection <strong>%s</strong> was deleted.",yes:"Yes",no:"No",custom_headers:{invalid_characters:"Invalid characters in custom headers",max_limit:"Maximum limit of five custom headers",invalid_format:"The custom headers format is invalid"}},i={AWSLambda:"UINewWebhooksPayload",Azure:"UINewWebhooksPayload",Datadog:"UINewWebhooksPayload",HipChat:"UINewWebhooksPayload",Jira:"UINewWebhooksPayload",MicrosoftTeams:"UINewWebhooksPayload",NewRelic:"UINewWebhooksPayload",Opsgenie:"UINewOpsgeniePayload",PagerDuty:"UINewSlackAndPagerdutyPayload",ServiceNowV2:"UINewWebhooksPayload",Slack:"UINewSlackAndPagerdutyPayload"},s={AWSLambda:{label:"AWS Lambda",icon:"awslambda",iconWidth:!0,defaults:{alertPayload:'{\n\t"text": "{{SearchName}} ran over {{TimeRange}} at {{FireTime}}", \n\t"raw": "{{RawResultsJson}}", \n\t"num": "{{NumRawResults}}", \n\t"agg": "{{AggregateResultsJson}}" \n}',newAlertPayload:'{\n\t"text": "{{TriggerType}} Alert: {{AlertName}}", \n\t"description": "{{Description}}",\n\t"triggerTime": "{{TriggerTime}}",\n\t"timeRange": "{{TriggerTimeRange}}", \n\t"triggerCondition": "{{TriggerCondition}}", \n\t"triggerValue": "{{TriggerValue}}",\n\t"alertUrl": "{{AlertResponseURL}}",\n\t"query": "{{Query}}",\n\t"queryUrl": "{{QueryURL}}",\n\t"results": "{{ResultsJSON}}"\n}',resolutionPayload:'{\n\t"text": "{{TriggerType}} Alert: {{AlertName}}", \n\t"description": "{{Description}}",\n\t"triggerTime": "{{TriggerTime}}",\n\t"timeRange": "{{TriggerTimeRange}}", \n\t"triggerCondition": "{{TriggerCondition}}", \n\t"triggerValue": "{{TriggerValue}}",\n\t"alertUrl": "{{AlertResponseURL}}",\n\t"query": "{{Query}}",\n\t"queryUrl": "{{QueryURL}}",\n\t"results": "{{ResultsJSON}}"\n}'},settings:{hideHeaders:!0,showAWS:!0,instructions:'This webhook connection allows you to trigger an AWS Lambda function from a monitor or scheduled search.<br><a class="sumo-link online-help-link" name="1063">Learn More</a>'},placeholders:{url:"e.g., https://my-api-id.execute-api.region-id.amazonaws.com/test/mydemoresource",customHeaders:"X-API-Key:abcdef12345, Content-Encoding:gzip"},help:{alertPayload:['<div class="helptip__title">AWS Lambda Payload</div>',"%%defaults.help.payloadVariables%%",'<div class="helptip__p -learn-more -last">','<a class="helptip__learn-more online-help-link" name="1063">Learn More</a>',"</div>"]}},Azure:{label:"Azure Functions",icon:"azure",iconWidth:!0,defaults:{alertPayload:'{\n\t"text": "{{SearchName}} ran over {{TimeRange}} at {{FireTime}}", \n\t"raw": "{{RawResultsJson}}", \n\t"num": "{{NumRawResults}}", \n\t"agg": "{{AggregateResultsJson}}" \n}',newAlertPayload:'{\n\t"text": "{{TriggerType}} Alert: {{AlertName}}",\n\t"description": "{{Description}}",\n\t"timeRange": "{{TriggerTimeRange}}", \n\t"triggerCondition": "{{TriggerCondition}}", \n\t"triggerValue": "{{TriggerValue}}",\n\t"alertUrl": "{{AlertResponseURL}}",\n\t"query": "{{Query}}",\n\t"queryUrl": "{{QueryURL}}", \n\t"results": "{{ResultsJSON}}"\n}',resolutionPayload:'{\n\t"text": "{{TriggerType}} Alert: {{AlertName}}",\n\t"description": "{{Description}}",\n\t"timeRange": "{{TriggerTimeRange}}", \n\t"triggerCondition": "{{TriggerCondition}}", \n\t"triggerValue": "{{TriggerValue}}",\n\t"alertUrl": "{{AlertResponseURL}}",\n\t"query": "{{Query}}",\n\t"queryUrl": "{{QueryURL}}", \n\t"results": "{{ResultsJSON}}"\n}'},settings:{instructions:'This webhook connection allows you to trigger an Azure function from a monitor or scheduled search.<br><a class="sumo-link online-help-link" name="1072">Learn More</a>'},placeholders:{url:"e.g., https://{function app name}.azurewebsites.net/api/{function name} ",customHeaders:"X-API-Key:abcdef12345, Content-Encoding:gzip"},help:{alertPayload:['<div class="helptip__title">Azure Payload</div>',"%%defaults.help.payloadVariables%%",'<div class="helptip__p -learn-more -last">','<a class="helptip__learn-more online-help-link" name="1072">Learn More</a>',"</div>"]}},SumoCloudSOAR:{label:"Cloud SOAR",icon:"sumocloudsoar",iconWidth:!0,defaults:{alertPayload:'{\n\t "template_id": null, \n\t "additionalInfo": "{{Description}}. View Query: {{QueryURL}}", \n\t "fields": { \n\t\t "incidentid": "{{Name}}"\n\t} \n}'},settings:{instructions:'This webhook connection allows you to send an alert from a scheduled search to Sumo Logic Cloud SOAR. <br><a class="sumo-link online-help-link" name="7339">Learn More</a>',authHeaderRequired:!1},placeholders:{authHeaderPreFilled:"A system-generated authorization header has been pre-filled for you",authHeader:"Bearer <Auth Key>"},help:{alertPayload:['<div class="helptip__title">Available Variables</div>',"%%defaults.help.payloadVariables%%",'<div class="helptip__p -learn-more -last">','<a class="helptip__learn-more online-help-link" name="1044">Learn More</a>',"</div>"]}},Datadog:{label:"Datadog",icon:"datadog",iconWidth:!0,defaults:{alertPayload:'{ \n\t"title": "SumoLogic Alert: {{SearchName}}", \n\t"text": "%%% \\n Click [here]({{SearchQueryUrl}}) for more details \\n %%%", \n\t"priority":"high", \n\t"alert_type":"warning", \n\t"source_type_name":"sumo logic" \n}',newAlertPayload:'{\n\t"title": "{{TriggerType}} Alert: {{AlertName}}",\n\t"text": "%%% \\n Description: {{Description}}  \\n timeRange: {{TriggerTimeRange}}  \\n triggerCondition: {{TriggerCondition}}  \\n triggerValue: {{TriggerValue}}  \\n alertUrl: {{AlertResponseURL}}  \\n query: {{Query}}  \\n results: {{ResultsJSON}}  \\n num: {{NumQueryResults}}  \\n %%%", \n\t"priority": "high", "alert_type":"warning", \n\t"source_type_name":"sumo logic" \n}'},settings:{hideHeaders:!0,instructions:'This webhook connection allows you to send an alert from a monitor or scheduled search to Datadog.<br><a class="sumo-link online-help-link" name="1047">Learn More</a>'},placeholders:{url:"e.g., https://app.datadoghq.com/api/v1/events?api_key=API_KEY",customHeaders:"Hint: X-API-Key:abcdef12345, Content-Type:application/json"},help:{alertPayload:['<div class="helptip__title">Datadog Payload</div>',"%%defaults.help.payloadVariables%%",'<div class="helptip__p -learn-more -last">','<a class="helptip__learn-more online-help-link" name="1047">Learn More</a>',"</div>"]}},HipChat:{label:"HipChat",icon:"hipchat",iconWidth:!0,defaults:{alertPayload:'{\n\t"color": "red",\n\t"message_format": "html",\n\t"message": "Sumo Logic Alert: {{SearchName}} - {{NumRawResults}} Results (<a href=\\"{{SearchQueryUrl}}\\">LINK</a>)",\n\t"notify": true,\n\t"card": {\n\t\t"style": "link",\n\t\t"url": "{{SearchQueryUrl}}",\n\t\t"id": "<UNIQUE-ID>",\n\t\t"title": "Sumo Logic Alert: {{SearchName}}",\n\t\t"description": {\n\t\t\t"format": "html",\n\t\t\t"value": "<b>Description:</b> {{SearchDescription}} "\n\t\t},\n\t\t"icon": {\n\t\t\t"url": "https://service.sumologic.com/ui/images/app/icons/default.png"\n\t\t}\n\t}\n}',newAlertPayload:'{\n\t"color": "red",\n\t"message_format": "html",\n\t"message": "{{TriggerType}} Alert: {{AlertName}}",\n\t"notify": true,\n\t"card": {\n\t\t"style": "link",\n\t\t"url": "{{AlertResponseURL}}",\n\t\t"id": "<UNIQUE-ID>",\n\t\t"title": "Sumo Logic Alert: {{AlertName}}",\n\t\t"description": {\n\t\t\t"format": "html",\n\t\t\t"value": "<b>Description:</b> {{Description}} "\n\t\t},\n\t\t"query": "{{Query}}",\n\t\t"timeRange": "{{TriggerTimeRange}}", \n\t\t"triggerCondition": "{{TriggerCondition}}", \n\t\t"triggerValue": "{{TriggerValue}}",\n\t\t"results": "{{ResultsJSON}}",\n\t\t"icon": {\n\t\t\t"url": "https://service.sumologic.com/ui/images/app/icons/default.png"\n\t\t}\n\t}\n}'},settings:{instructions:'This webhook connection allows you to send an alert from a monitor or scheduled search to HipChat.<br><a class="sumo-link online-help-link" name="1062">Learn More</a>'},placeholders:{url:"e.g., https://CUSTOMER.hipchat.com/v2/room/ROOM-ID/notification?auth_token=AUTHORIZATION-KEY",customHeaders:"Hint: X-API-Key:abcdef12345, Content-Type:application/json"},help:{alertPayload:['<div class="helptip__title">HipChat Payload</div>',"%%defaults.help.payloadVariables%%",'<div class="helptip__p -learn-more -last">','<a class="helptip__learn-more online-help-link" name="1062">Learn More</a>',"</div>"]}},Jira:{label:"Jira",icon:"jira",iconWidth:!0,defaults:{alertPayload:'{\n  "fields": {\n    "issuetype": {\n      "name": "Bug"\n    },\n    "project": {\n      "key": ""\n    },\n    "summary": "{{SearchName}}",\n    "priority": {\n      "id": "3"\n    },\n    "description": "{{SearchQueryUrl}}"\n  }\n}',newAlertPayload:'{\n\t"fields": {\n\t\t"issuetype": {\n\t\t\t"name": "Bug"\n\t\t},\n\t\t"project": {\n\t\t\t"key": ""\n\t\t},\n\t\t"summary": "{{TriggerType}} Alert: {{AlertName}}",\n\t\t"priority": {\n\t\t\t"id": "3"\n\t\t},\n\t\t"description": "||AlertUrl||{{AlertResponseURL}}||\\n||timeRange||{{TriggerTimeRange}}||\\n||triggerCondition||{{TriggerCondition}}||\\n||triggerValue||{{TriggerValue}}||\\n||query||{{Query}}||\\n||queryURL||{{QueryURL}}||\\n||results||{{ResultsJSON}}||"\n\t}\n}'},settings:{instructions:'This webhook connection allows you to send an alert from a monitor or scheduled search to Jira.<br><a class="sumo-link online-help-link" name="10441">Learn More</a>',authHeaderRequired:!0},placeholders:{url:"e.g., https://sometest.atlassian.net/rest/api/2/issue/",projectKey:"<project-key>",authHeader:"Basic <Base64 API Token>"},help:{alertPayload:['<div class="helptip__title">Available Variables</div>',"%%defaults.help.payloadVariables%%",'<div class="helptip__p -learn-more -last">','<a class="helptip__learn-more online-help-link" name="1044">Learn More</a>',"</div>"]}},MicrosoftTeams:{label:"Microsoft Teams",icon:"microsoftteams",iconWidth:!0,defaults:{alertPayload:'{\n  "@type": "MessageCard",\n  "@context": "http://schema.org/extensions",\n  "themeColor": "#000099",\n  "summary": "Alert: {{TriggerType}} on {{Name}}",\n  "sections": [\n    {\n      "activityTitle": "Alert: {{TriggerType}} on {{Name}}",\n      "activitySubtitle": "Created On Date: {{TriggerTime}}",\n      "activityImage": "https://www.sumologic.com/wp-content/uploads/sumo-logic-logo.png",\n      "text": "{{Description}}",\n      "facts": [\n        {\n          "name": "Query",\n          "value": "{{Query}}"\n        },\n        {\n          "name": "Trigger Condition",\n          "value": "{{TriggerCondition}}"\n        },\n        {\n          "name": "Trigger Value",\n          "value": "{{TriggerValue}}"\n        },\n        {\n          "name": "Trigger Time Range",\n          "value": "{{TriggerTimeRange}}"\n        },\n        {\n           "name": "Results",\n            "value": "{{ResultsJson}}"\n        }\n      ],\n      "markdown":"true"\n    }\n  ],\n  "potentialAction": [\n    {\n      "@type": "OpenUri",\n      "name": "View Query",\n      "targets": [\n        {\n          "os": "default",\n          "uri": "{{QueryURL}}"\n        }\n      ]\n    }\n  ]\n}',newAlertPayload:'{\n\t"@type": "MessageCard",\n\t"@context": "http://schema.org/extensions",\n\t"themeColor": "#000099",\n\t"summary": "{{TriggerType}} Alert: {{AlertName}}",\n\t"sections": [\n\t\t{\n\t\t\t"activityTitle": "{{TriggerType}} Alert: {{AlertName}}",\n\t\t\t"activitySubtitle": "Created On Date: {{TriggerTime}}",\n\t\t\t"activityImage": "https://www.sumologic.com/wp-content/uploads/sumo-logic-logo.png",\n\t\t\t"text": "{{Description}}",\n\t\t\t"facts": [\n \t\t\t\t{\n \t\t\t\t\t"name": "Description",\n \t\t\t\t\t"value": "{{Description}}"\n \t\t\t\t},\n \t\t\t\t{\n \t\t\t\t\t"name": "Trigger Time",\n \t\t\t\t\t"value": "{{TriggerTimeRange}}"\n \t\t\t\t},\n \t\t\t\t{\n \t\t\t\t\t"name": "Time Range",\n \t\t\t\t\t"value": "{{TimeRange}}"\n \t\t\t\t},\n \t\t\t\t{\n \t\t\t\t\t"name": "Trigger Condition",\n \t\t\t\t\t"value": "{{TriggerCondition}}"\n \t\t\t\t},\n \t\t\t\t{\n \t\t\t\t\t"name": "Trigger Value",\n \t\t\t\t\t"value": "{{TriggerValue}}"\n \t\t\t\t},\n \t\t\t\t{\n \t\t\t\t\t"name": "Alert URL",\n \t\t\t\t\t"value": "{{AlertResponseURL}}"\n \t\t\t\t},\n \t\t\t\t{\n \t\t\t\t\t"name": "Query",\n \t\t\t\t\t"value": "<{{QueryURL}} | {{Query}}>"\n \t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t"name": "Results",\n\t\t\t\t\t"value": "{{ResultsJSON}}"\n\t\t\t\t} \t\t\t\n\t\t\t],\n\t\t\t"markdown":"true"\n\t\t}\n\t],\n\t"potentialAction": [\n\t\t{\n\t\t\t"@type": "OpenUri",\n\t\t\t"name": "View Alert",\n\t\t\t"targets": [\n\t\t\t\t{\n\t\t\t\t\t"os": "default",\n\t\t\t\t\t"uri": "{{AlertResponseURL}}"\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}',resolutionPayload:'{\n\t"@type": "MessageCard",\n\t"@context": "http://schema.org/extensions",\n\t"themeColor": "0076D7",\n\t"summary": "Monitor Alert: {{TriggerType}} on {{Name}}",\n\t"sections": [{\n\t\t"activityTitle": "Monitor Alert: {{TriggerType}} on {{Name}}",\n\t\t"activitySubtitle": "Created On Date : {{TriggerTime}}",\n\t\t"activityImage": "https://www.sumologic.com/wp-content/uploads/sumo-logic-logo.png",\n\t\t"text": "The monitor has resolved",\n\t\t"facts": [{\n\t\t\t\t"name": "Monitor Query",\n\t\t\t\t"value": "{{Query}}"\n\t\t\t}, {\n\t\t\t\t"name": "Resolution Condition",\n\t\t\t\t"value": "{{TriggerCondition}}"\n\t\t\t},\n\t\t\t{\n\t\t\t\t"name": "Resolution Value",\n\t\t\t\t"value": "{{TriggerValue}}"\n\t\t\t},\n\t\t\t{\n\t\t\t\t"name": "Resolution Time Range",\n\t\t\t\t"value": "{{TriggerTimeRange}}"\n\t\t\t}\n\t\t],\n\t\t"markdown": true\n\t}],\n\t"potentialAction": [{\n\t\t"@type": "OpenUri",\n\t\t"name": "View Monitor Query",\n\t\t"targets": [{\n\t\t\t"os": "default",\n\t\t\t"uri": "{{QueryURL}}"\n\t\t}]\n\t}]\n}'},settings:{authHeaderRequired:!1,hideHeaders:!0,instructions:'This webhook connection allows you to send an alert from a monitor or scheduled search to Microsoft Teams.<br><a class="online-help-link sumo-link" name="10450">Learn More</a>'},placeholders:{url:"e.g., https://outlook.office.com/webhook/TEAM_ID/IncomingWebhook/ID",customHeaders:"Hint: X-API-Key:abcdef12345, Content-Type:application/json"},help:{alertPayload:['<div class="helptip__title">Microsoft Teams Payload</div>',"%%defaults.help.payloadVariables%%",'<div class="helptip__p -learn-more -last">','<a class="helptip__learn-more online-help-link" name="1046">Learn More</a>',"</div>"]}},NewRelic:{label:"New Relic",icon:"newrelic",iconWidth:!0,defaults:{alertPayload:'{\n\t"eventType": "{{SearchName}}", \n\t"description": "{{SearchDescription}}", \n\t"client": "Sumo Logic", \n\t"search_url": "{{SearchQueryUrl}}", \n\t"num_records": "{{NumRawResults}}", \n\t"search_results": "{{AggregateResultsJson}}" \n}',newAlertPayload:'{\n\t"eventType": "{{AlertName}}",\n\t"description": "{{Description}}",\n\t"client": "Sumo Logic",\n\t"text": "{{TriggerType}} Alert: {{AlertName}}",\n\t"timeRange": "{{TriggerTimeRange}}",\n\t"triggerCondition": "{{TriggerCondition}}",\n\t"triggerValue": "{{TriggerValue}}",\n\t"alertUrl": "{{AlertResponseURL}}",\n\t"query": "{{Query}}",\n\t"searchUrl": "{{QueryURL}}",\n\t"results": "{{ResultsJSON}}"\n}'},settings:{hideHeaders:!0,instructions:'This webhook connection allows you to send an alert from a monitor or scheduled search to New Relic. <a class="sumo-link online-help-link" name="9008">Learn More</a>'},placeholders:{url:"e.g., https://insights-collector.newrelic.com/v1/accounts/YOUR_ACCOUNT_ID/events",insertKey:'This value will be sent with the header "X-Insert-Key"',customHeaders:"Hint: X-API-Key:abcdef12345, Content-Type:application/json"},help:{alertPayload:['<div class="helptip__title">New Relic Payload</div>',"%%defaults.help.payloadVariables%%",'<div class="helptip__p -learn-more -last">','<a class="helptip__learn-more online-help-link" name="1046">Learn More</a>',"</div>"]}},Opsgenie:{label:"Opsgenie",icon:"opsgenie",iconWidth:!0,defaults:{alertPayload:'{\n "searchName": "{{SearchName}}", \n "searchDescription": "{{SearchDescription}}", \n "searchQuery": "{{SearchQuery}}", \n "searchQueryUrl": "{{SearchQueryUrl}}", \n "timeRange": "{{TimeRange}}", \n "fireTime": "{{FireTime}}", \n "rawResultsJson": "{{RawResultsJson}}", \n "numRawResults": "{{NumRawResults}}", \n "priority": "P3", \n "aggregateResultsJson": "{{AggregateResultsJson}}" \n}',newAlertPayload:'{\n\t"AlertName": "{{AlertName}}",\n\t"Description": "{{Description}}",\n\t"action": "create",\n\t"AlertURL": "{{AlertResponseURL}}",\n\t"Query": "{{Query}}",\n\t"QueryURL": "{{QueryURL}}",\n\t"TriggerTime": "{{TriggerTime}}",\n\t"TriggerTimeRange": "{{TriggerTimeRange}}",\n\t"TriggerCondition": "{{TriggerCondition}}",\n\t"TriggerValue": "{{TriggerValue}}",\n\t"TriggerType": "{{TriggerType}}",\n\t"ResultsJson": "{{ResultsJSON}}",\n\t"DetectionMethod": "{{DetectionMethod}}",\n\t"MonitorType": "{{MonitorType}}",\n\t"NumQueryResults": "{{NumQueryResults}}",\n\t"SourceURL": "{{SourceURL}}"\n}',resolutionPayload:'{\n\t"alias": "{{Alias}}",\n\t"action": "resolve",\n\t"note": "{{Name}} has recovered at {{TriggerTime}}"\n}'},settings:{instructions:'This webhook connection allows you to send an alert from a monitor or scheduled search to Opsgenie.<br><a class="sumo-link online-help-link" name="10449">Learn More</a>',allowTestingAlertAndResolutionTogether:!0},help:{alertPayload:['<div class="helptip__title">Available Variables</div>',"%%defaults.help.payloadVariables%%",'<div class="helptip__p -learn-more -last">','<a class="helptip__learn-more online-help-link" name="1044">Learn More</a>',"</div>"]}},PagerDuty:{label:"PagerDuty",icon:"pagerduty",iconWidth:!0,defaults:{alertPayload:'{\n\t"service_key": "SERVICE KEY",\n\t"event_type": "trigger", \n\t"description": "SAMPLE DESCRIPTION", \n\t"client": "Sumo Logic", \n\t"client_url": "{{SearchQueryUrl}}" \n}',newAlertPayload:'{\n\t"service_key": "SERVICE KEY",\n\t"event_type": "trigger",\n\t"description": "{{TriggerType}} Alert:{{AlertName}}",\n\t"client": "Sumo Logic",\n\t"client_url": "{{AlertResponseURL}}",\n\t"details": {\n\t\t"alertURL": "{{AlertResponseURL}}",\n\t\t"triggerCondition": "{{TriggerCondition}}",\n\t\t"triggerValue": "{{TriggerValue}}",\n\t\t"triggerTime": "{{TriggerTime}}",\n\t\t"triggerTimeRange": "{{TriggerTimeRange}}",\n\t\t"query" : "{{Query}}",\n\t\t"queryUrl" : "{{QueryURL}}",\n\t\t"results": "{{ResultsJSON}}"\n\t}\n}',resolutionPayload:'{\n\t"serviceKey": "{{ServiceKey}}",\n\t"event_type": "resolve",\n\t"incident_key": "{{IncidentKey}}",\n\t"description": "{{Name}} has recovered at {{TriggerTime}}",\n\t"details": {\n\t\t"name": "{{Name}}",\n\t\t"time": "{{TriggerTimeRange}}",\n\t\t"triggerCondition": "{{TriggerCondition}}",\n\t\t"query": "{{Query}}",\n\t\t"triggerTimeSeries": "{{ResultsJSON}}"\n\t}\n}'},settings:{instructions:'This webhook connection allows you to send an alert from a monitor or scheduled search to PagerDuty.<br><a class="sumo-link online-help-link" name="1046">Learn More</a>',allowTestingAlertAndResolutionTogether:!0},placeholders:{url:"e.g., https://events.pagerduty.com/generic/2010-04-15/create_event.json",customHeaders:"Hint: X-API-Key:abcdef12345, Content-Type:application/json"},help:{alertPayload:['<div class="helptip__title">PagerDuty Payload</div>',"%%defaults.help.payloadVariables%%",'<div class="helptip__p -learn-more -last">','<a class="helptip__learn-more online-help-link" name="1046">Learn More</a>',"</div>"]}},ServiceNowV2:{label:"ServiceNow",icon:"servicenowv2",iconWidth:!0,defaults:{alertPayload:'{\n\t"short_description":"Alert: {{TriggerType}} on {{Name}}",\n\t"description":"Monitor Query: {{Query}} \\n Trigger Condition: {{TriggerCondition}} \\n Trigger Value: {{TriggerValue}} \\n Trigger Time Range:{{TriggerTimeRange}} \\n View Trigger Query: {{TriggerQueryURL}} \\n View Monitor: {{QueryURL}} \\n Results: {{ResultsJSON}}",\n\t"impact":"1",\n\t"work_notes":"[code]<strong>Monitor Query:</strong><pre><code>{{Query}}</pre></code><br><strong>Trigger Condition:</strong> <em>{{TriggerCondition}}</em><br><strong>Trigger Value:<strong> <em>{{TriggerValue}}<em><br><strong>Trigger Time Range:</strong> {{TriggerTimeRange}}<br><strong>View Trigger Query:</strong> <a href=\\"{{TriggerQueryURL}}\\">Trigger Query Link</a><br><strong>View Monitor:</strong> <a href=\\"{{QueryURL}}\\">Monitor Link</a><br><h3>Results:</h3> <pre><code>{{ResultsJSON}}</pre></code>[/code]"\n}',newAlertPayload:'{\n\t"short_description":"{{TriggerType}} Alert: {{AlertName}}",\n\t"description":"Alert URL: {{AlertResponseURL}} \\n Source Query: {{Query}} \\n Trigger Condition: {{TriggerCondition}} \\n Trigger Value: {{TriggerValue}} \\n Trigger Time Range:{{TriggerTimeRange}} \\n View Trigger Query: {{QueryURL}} \\n View Source: {{SourceURL}} \\n Results: {{ResultsJSON}}",\n\t"impact":"1",\n\t"work_notes":"[code]<strong>Alert URL:</strong><pre><code>{{AlertResponseURL}}</pre></code><br><strong>Source Query:</strong><pre><code>{{Query}}</pre></code><br><strong>Trigger Condition:</strong> <em>{{TriggerCondition}}</em><br><strong>Trigger Value:<strong> <em>{{TriggerValue}}<em><br><strong>Trigger Time Range:</strong> {{TriggerTimeRange}}<br><strong>View Trigger Query:</strong> <a href=\\"{{QueryURL}}\\">Trigger Query Link</a><br><strong>View Source:</strong> <a href=\\"{{SourceURL}}\\">Source Link</a><br><h3>Results:</h3> <pre><code>{{ResultsJSON}}</pre></code>[/code]"\n}',alertEventPayload:'{\n\t"source":"Sumo Logic",\n\t"type":"{{MonitorType}}",\n\t"node":"{{ResultsJSON._sourceHost}}",\n\t"metric_name":"{{Name}}",\n\t"description":"monitor Query: {{Query}}\\n Trigger Condition:{{TriggerCondition}}\\n Trigger Value:{{TriggerValue}}\\n Trigger Time Range:{{TriggerTimeRange}}\\n View Trigger Query:{{TriggerQueryURL}}\\n View Monitor:{{QueryURL}} \\n Results:{{ResultsJSON}}"\n}',newAlertEventPayload:'{\n\t"source":"Sumo Logic",\n\t"type":"{{MonitorType}}",\n\t"node":"{{ResultsJSON._sourceHost}}",\n\t"metric_name":"{{TriggerType}} Alert: {{AlertName}}",\n\t"description":"View Alert: {{AlertResponseURL}} \\nQuery: {{Query}}\\nTrigger Condition:{{TriggerCondition}}\\nTrigger Value:{{TriggerValue}}\\nTrigger Time: {{TriggerTime}} \\nTrigger Time Range:{{TriggerTimeRange}}\\nView Trigger Query:{{QueryURL}}\\nView Source:{{QueryURL}}\\nResults:{{ResultsJSON}}" \n}',resolutionPayload:'{\n\t"sys_id": "{{SysId}}",\n\t"state": "6",\n\t"incident_state": "6",\n\t"work_notes": "Resolved value {{TriggerValue}}"\n}'},settings:{hideHeaders:!0,instructions:'This webhook connection allows you to send an alert from a monitor or scheduled search to ServiceNow.<br><a class="online-help-link sumo-link" name="53501">Learn More</a>',allowTestingAlertAndResolutionTogether:!0},placeholders:{url:"e.g., https://xxx.service-now.com/",customHeaders:"Hint: X-API-Key:abcdef12345, Content-Type:application/json",authHeader:"Basic: 'password:username' encoded in Base64"},help:{alertPayload:['<div class="helptip__title">ServiceNow Payload</div>',"%%defaults.help.payloadVariables%%",'<div class="helptip__p -learn-more -last">','<a class="helptip__learn-more online-help-link" name="1046">Learn More</a>',"</div>"]}},ServiceNow:{label:"ServiceNow (Legacy)",icon:"servicenow",iconWidth:!0,settings:{}},Slack:{label:"Slack",icon:"slack",iconWidth:!0,defaults:{alertPayload:'{\n \t"attachments": [\n \t\t{\n \t\t\t"pretext": "Sumo Logic Alert: *{{SearchName}}*",\n \t\t\t"fields": [\n \t\t\t\t{\n \t\t\t\t\t"title": "Description",\n \t\t\t\t\t"value": "{{SearchDescription}}"\n \t\t\t\t},\n \t\t\t\t{\n \t\t\t\t\t"title": "Query",\n \t\t\t\t\t"value": "<{{SearchQueryUrl}} | {{SearchQuery}}>"\n \t\t\t\t},\n \t\t\t\t{\n \t\t\t\t\t"title": "Time Range",\n \t\t\t\t\t"value": "{{TimeRange}}"\n \t\t\t\t}\n \t\t\t],\n \t\t\t"mrkdwn_in": ["text", "pretext"],\n \t\t\t"color": "#29A1E6"\n \t\t}\n \t]\n }',newAlertPayload:'{\n\t"attachments": [\n\t\t{\n\t\t\t"pretext": "{{TriggerType}} Alert: {{AlertName}}",\n\t\t\t"fields": [\n\t\t\t\t{\n\t\t\t\t\t"title": "Alert URL",\n\t\t\t\t\t"value": "{{AlertResponseURL}}"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t"title": "Description",\n\t\t\t\t\t"value": "{{Description}}"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t"title": "Trigger Time",\n\t\t\t\t\t"value": "{{TriggerTime}}"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t"title": "Time Range",\n\t\t\t\t\t"value": "{{TriggerTimeRange}}"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t"title": "Trigger Condition",\n\t\t\t\t\t"value": "{{TriggerCondition}}"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t"title": "Trigger Value",\n\t\t\t\t\t"value": "{{TriggerValue}}"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t"title": "Query",\n\t\t\t\t\t"value": "<{{QueryURL}} | {{Query}}>"\n\t\t\t\t}\n\t\t\t],\n\t\t\t"mrkdwn_in": ["text", "pretext"],\n\t\t\t"color": "#29A1E6"\n\t\t}\n\t]\n}',resolutionPayload:'{\n\t"attachments": [{\n\t\t"pretext": "Sumo Logic Alert *Resolved*: *{{Name}}*",\n\t\t"fields": [{\n\t\t\t\t"title": "Details",\n\t\t\t\t"value": "{{Name}} has recovered at {{TriggerTime}}"\n\t\t\t},\n\t\t\t{\n\t\t\t\t"title": "Description",\n\t\t\t\t"value": "{{Description}}"\n\t\t\t},\n\t\t\t{\n\t\t\t\t"title": "Time Range",\n\t\t\t\t"value": "{{TriggerTimeRange}}"\n\t\t\t},\n\t\t\t{\n\t\t\t\t"title": "Trigger Condition",\n\t\t\t\t"value": "{{TriggerCondition}}"\n\t\t\t},\n\t\t\t{\n\t\t\t\t"title": "Query",\n\t\t\t\t"value": "<{{QueryURL}}|{{Query}}"\n\t\t\t},\n\t\t\t{\n\t\t\t\t"title": "Resolve Time Series",\n\t\t\t\t"value": "{{ResultsJSON}}"\n\t\t\t}\n\t\t],\n\t\t"mrkdwn_in": ["text", "pretext"],\n\t\t"color": "#29A1E6"\n\t}]\n}'},settings:{hideHeaders:!0,instructions:'This webhook connection allows you to send an alert from a monitor or scheduled search to Slack.<br><a class="online-help-link sumo-link" name="1045">Learn More</a>'},placeholders:{url:"e.g., https://hooks.slack.com/services/T1234567X/S1234567890",customHeaders:"Hint: X-API-Key:abcdef12345, Content-Type:application/json"},help:{alertPayload:['<div class="helptip__title">Slack Payload</div>',"%%defaults.help.payloadVariables%%",'<div class="helptip__p -learn-more -last">','<a class="helptip__learn-more online-help-link" name="1045">Learn More</a>',"</div>"]}},Webhook:{label:"Webhook",icon:"webhook",iconWidth:!0,url:"e.g., https://hooks.slack.com/services/T1234567X/S1234567890",defaults:{alertPayload:"{}",resolutionPayload:"{}"},settings:{instructions:'This webhook connection allows you to send an alert from a monitor or scheduled search to an external system.<br><a class="sumo-link online-help-link" name="1044">Learn More</a>'},placeholders:{customHeaders:"Hint: X-API-Key:abcdef12345, Content-Type:application/json"},help:{alertPayload:['<div class="helptip__title">Available Variables</div>',"%%defaults.help.payloadVariables%%",'<div class="helptip__p -learn-more -last">','<a class="helptip__learn-more online-help-link" name="1044">Learn More</a>',"</div>"]}}};return{getLabel:function(e){return t[e]},isServiceNowV2:function(e){return"connectionSubtype"in e&&"ServiceNow"===e.webhookType},getConnection:function(e){return s[e]},hasNewAlertPayload:function(t){return t in i&&e.currentUserHelper.hasFeatureFlag(i[t])},hasResolutionPayload:function(t){"ServiceNow"===t&&(t="ServiceNowV2");const i=this.getConnection(t),s=e.currentUserHelper.hasFeatureFlag("UIConnectionsUseOpenApi"),n=e.currentUserHelper.hasFeatureFlag("UIConnectionsCustomizableAlertResolution");return s&&n&&"resolutionPayload"in i.defaults},getDefaultAlertPayload:function(e){const t=this.getConnection(e);return"ServiceNow"===e?null:"ServiceNowV2"===e?{defaultPayload:this.hasNewAlertPayload(e)?t.defaults.newAlertPayload:t.defaults.alertPayload,defaultEventPayload:this.hasNewAlertPayload(e)?t.defaults.newAlertEventPayload:t.defaults.alertEventPayload}:{defaultPayload:this.hasNewAlertPayload(e)?t.defaults.newAlertPayload:t.defaults.alertPayload}},getDefaultResolutionPayload:function(e){const t=this.getConnection(e);return this.hasResolutionPayload(e)?this.hasNewAlertPayload(e)?{resolutionPayload:t.defaults.resolutionPayload,allowTestingAlertAndResolutionTogether:t.settings.allowTestingAlertAndResolutionTogether}:{resolutionPayload:t.settings.allowTestingAlertAndResolutionTogether?t.defaults.resolutionPayload:this.getDefaultAlertPayload(e),allowTestingAlertAndResolutionTogether:t.settings.allowTestingAlertAndResolutionTogether}:{}}}}.apply(t,s))||(e.exports=n)},69748:function(e,t,i){var s,n;s=[i(60567),i(16471),i(2254),i(63205),i(66359)],void 0===(n=function(e,t,i,s,n){var a=s.EditDialogMixinModule,r=e.SumoViewModule,o=e.ViewErrorHandlerMixinModule,l=n.currentUserHelper,d=t.accountEnI18n;return r.extend({events:{"keyup  .required, #input-description":"onKeyup","change .required, #input-description":"onKeyup","paste  .required, #input-description":"onKeyup","click .submit-btn":"save","click .cancel-btn":"closeDialog","submit form#connectionForm":"onSubmitPreventDefault"},mixins:[o,a],errorTitle:d.CONNECTIONS_ERROR_TITLE,template:_.template(i),onSubmitPreventDefault:function(e){e.preventDefault()},_anyBlanks:function(){return SumoUtil.isStringEmpty($("#input-name").val())||SumoUtil.isStringEmpty($("#input-username").val())||SumoUtil.isStringEmpty($("#input-password").val())||SumoUtil.isStringEmpty($("#input-url").val())},changed:function(){var e=this.$("#input-name").val()!==this.model.getName(),t=this.$("#input-username").val()!==this.model.getUsername(),i=this.$("#input-password").val()!==this.model.getPassword(),s=this.$("#input-url").val()!==this.model.getUrl(),n=this.$("#input-description").val()!==this.model.getDescription();return e||t||i||s||n},initialize:function(){_.bindAll(this,"saved"),this.listenTo(this.model,"change:error",this.renderError);var e=SumoApp.factory.createDialogView({el:"#viewmodel-dialog",plugin:{title:this.options.createView?d.CONNECTIONS_CREATE_TITLE:d.CONNECTIONS_EDIT_TITLE,width:546}});this.$el=e.$el,this.registerView("dialogView",e),this.deferrable=when.defer()},afterInitialize:function(){this.render()},render:function(){var e=$.extend(this.model.toJSON(),{__:d,max_name_length:this.model.MAX_NAME_LENGTH,max_desc_length:this.model.MAX_DESC_LENGTH}),t=this.template(e);return this.$el.html(t),this.$("#generate-error-div").toggle(),this.$("#input-name").trigger("focus"),this.initButtons(),this.manageButtonState(this.buttonStates.CANCEL_ON),this},updateModel:function(){this.model.setName(`${$("#input-name").val()||""}`.trim()),this.model.setUsername(`${$("#input-username").val()||""}`.trim()),this.model.setPassword(`${$("#input-password").val()||""}`.trim()),this.model.setUrl(`${$("#input-url").val()||""}`.trim()),this.model.setDescription(`${$("#input-description").val()||""}`.trim())},persist:function(){var e;if(this.model.valid()){if(e="create"===this.model.getMode()?this.model.create():this.model.update())return e.then(this.saved);this.resetForm()}else this.resetForm()},saved:function(e){if(e){var t=e.getName();if(l.hasFeatureFlag("UIReplaceToasterPlugin"))SumoApp.userMessage.info("create"===e.getMode()?sprintf(d.CONNECTIONS_CREATED_STR,SumoUtil.encode(t)):sprintf(d.CONNECTIONS_UPDATED_STR,SumoUtil.encode(t)));else{var i="create"===e.getMode()?sprintf(d.CONNECTIONS_CREATED,SumoUtil.encode(t)):sprintf(d.CONNECTIONS_UPDATED,SumoUtil.encode(t));SumoApp.userMessage.info(i,{isHTML:!0})}this.options.callback&&this.options.callback(),this.closeDialog()}else this.resetForm()}})}.apply(t,s))||(e.exports=n)},69178:function(e,t,i){var s,n;s=[i(60567),i(16471)],void 0===(n=function(e,t){"use strict";var i=e.SumoModel,s=e.GetterSetterMixin,n=e.PersistentModelMixin,a=e.ModelErrorHandlerMixin,r=t.accountEnI18n,o=["mode","type","DT_RowId","triggerUpdate","error","errorDetails","errorMessage"];return i.extend({defaults:{id:null,name:null,username:null,password:null,url:null,description:null,mode:null,type:null},MAX_NAME_LENGTH:127,MAX_DESC_LENGTH:1024,mixins:[a,s,n],getModelName:function(){return"ConnectionModel"},getComponent:function(){return"Connections"},toString:function(){return this.get("name")},getTransientAttributes:function(){return o},initialize:function(){_.bindAll(this,"onRemove","onCreate","onUpdate")},valid:function(){return this.getName().length?this.getName().length>this.MAX_NAME_LENGTH?(this.setErrorDetails(sprintf(r.CONNECTIONS_MAXLENGTH_ERROR,r.CONNECTION_NAME,this.MAX_NAME_LENGTH)),this.setErrorMessage(sprintf(r.CONNECTIONS_MAXLENGTH_ERROR,r.CONNECTION_NAME,this.MAX_NAME_LENGTH)),this.setError(!0),!1):SumoUtil.isValidName(this.getName())?!(this.getDescription()&&this.getDescription().length>this.MAX_DESC_LENGTH)||(this.setErrorDetails(sprintf(r.CONNECTIONS_MAXLENGTH_ERROR,r.CONNECTION_DESCRIPTION,this.MAX_DESC_LENGTH)),this.setErrorMessage(sprintf(r.CONNECTIONS_MAXLENGTH_ERROR,r.CONNECTION_DESCRIPTION,this.MAX_DESC_LENGTH)),this.setError(!0),!1):(this.setErrorDetails(r.CONNECTIONS_NAME_INVALID_ERROR),this.setErrorMessage(r.CONNECTIONS_NAME_INVALID_ERROR),this.setError(!0),!1):(this.setErrorDetails(r.CONNECTIONS_NAME_REQUIRED_ERROR),this.setErrorMessage(r.CONNECTIONS_NAME_REQUIRED_ERROR),this.setError(!0),!1)},reloadList:function(){$("#connections-list").trigger("triggerReload")},_getCreateEndpoint:function(){return{url:SumoApp.ajax.Endpoints.V1_CONNECTIONS_SNOW_ADD,errorCode:"connection_create"}},onCreate:function(e){return this.setId(e.id),this},_getUpdateEndpoint:function(){return{url:sprintf(SumoApp.ajax.EndpointFormats.V1_CONNECTIONS_SNOW_UPDATE,this.getId()),errorCode:"connection_update"}},onUpdate:function(e){return this},_getRemoveEndpoint:function(){return{url:sprintf(SumoApp.ajax.EndpointFormats.V1_CONNECTIONS_SNOW_DELETE,this.getId()),errorCode:"connections_delete"}},onRemove:function(e){return!!e&&{model:this,message:sprintf(r.CONNECTIONS_DELETED,SumoUtil.encode(this.getName()),"deleted")}}})}.apply(t,s))||(e.exports=n)},30864:function(e,t,i){var s,n;s=[i(66359),i(60072),i(54400),i(60567)],void 0===(n=function(e,t,i,s){var n=t.ValidationJson,a=".flow__body",r=".form__error-area",o=".form__error",l=".form__helper-text",d=".form__field__error",c=".form__help-link",u="[data-spinner]",h=".is-error",g=".is-warning",p=".form__field__warning",m=".form__field",f=".form__value",S="-has-error",v="-has-instructions",w=SumoUtil.getCSSName,b=_.template('<div class="form__error"><%= errorMessage %></div>'),y=_.template('<div class="form__field__error"><%= errorMessage %></div>'),T=_.template('<div class="form__field__warning"><%= warningMessage %></div>'),E={required:function(e){return SumoUtil.isStringEmpty(e)},alphanumeric:function(e){return!SumoUtil.isValidName(e)},url:function(e){return!SumoUtil.isValidUrl(e)},JSON:function(e){return!SumoUtil.isValidJSON(e)},JsonPayload:function(){var e=_.getPath(this,"payloadEditor.editor.state.lint.marked")||[];return!SumoUtil.isValidJsonPayload(e)},requiredInJira:function(e,t){return"Jira"===t&&SumoUtil.isStringEmpty(e)},requiredInCloudSoar:function(e,t){return"SumoCloudSOAR"===t&&SumoUtil.isStringEmpty(e)},requiredInMicrosoftTeams:function(e,t){return"MicrosoftTeams"===t&&SumoUtil.isStringEmpty(e)},requireValidTemplatingVars:function(e){return(SumoApp.getAngularService("currentUserHelper").hasFeatureFlag("UIDisallowInvalidVariable")?s.getInvalidTemplateVars(e,"connection",!0):s.getVelocityVars(e)).join(", ")}};return{mixin:{validateField:function(e,t,i,s){var a=_.find(i,function(e){return E[e].bind(this)(t,s)}.bind(this));for(var r in i){var o=E[i[r]].bind(this)(t,s);if(o)return"string"==typeof o?{fieldName:e,message:n[a]+o}:{fieldName:e,message:n[a]}}return null},displayFormError:function(e){this.$(o).length>0&&this.$(o).remove(),$(a).addClass(S),this.$(r).prepend(b({errorMessage:e}))},displayFieldError:function(e,t){var i=this.$('[name="'+e+'"]');if(!i.hasClass(w(h))){var s=i.parent().find(".CodeMirror").length>0,n=i.parents(f).first();0===n.length&&(n=i.parents(m).first());var a=n.find(l);a.length>0?a.before(y({errorMessage:t})):n.append(y({errorMessage:t})),i.addClass(w(h)),s&&i.next().addClass(w(h))}},setFieldWarning:function(e,t){var i=this.$('[name="'+e+'"]');if(i.hasClass(w(g))){var s=i.parent().children(p);t!==s.html()&&s.text(t)}else{i.addClass(w(g));var n=T({warningMessage:t});i.parent().find(".CodeMirror").length>0?(i.next().addClass(w(g)),i.next().after(n)):i.after(n)}},removeFieldWarning:function(e){if(e){var t=this.$('[name="'+e+'"]');if(!t.hasClass(w(g)))return;t.removeClass(w(g)),t.parent().find(".CodeMirror").length>0?(t.next().removeClass(w(g)),t.parent().find(p).remove()):t.next().remove()}else this.$(g).removeClass(w(g)),this.$(p).remove()},removeErrors:function(){this.$(h).removeClass(w(h)),this.$(d).remove(),$(a).removeClass(S)},getFormValues:function(){var e=this.$("form").serializeArray(),t=_.chain(e).filter((function(e){return-1===e.name.indexOf("[")})).map((function(e){return[e.name,e.value]})).object().value(),i=_.chain(e).filter((function(e){return 0===e.name.indexOf("headers[0]")})).reduce((function(e,t){return e[t.name.substr(11)]=t.value,e}),{}).value();return _.isEmpty(i)||(t.headers=[i]),t},readFormValues:function(){this.model.set(this.getFormValues())},getValidationSettings:function(){return{}},validateForm:function(){this.removeErrors();const e=this.model.get("webhookType");var t=_.chain(this.getValidationSettings()).map((function(t,i){return this.validateField.bind(this)(i,_.getPath(this.model.toJSON(),i)||"",t,e)}),this).compact().value();if("ServiceNowV2"===e){const e=this.model.get("authenticationMethod");if("credential"===e)(_.isNull(this.model.get("userName"))||_.isEmpty(this.model.get("userName")))&&t.push({fieldName:"userName",message:n.required}),(_.isNull(this.model.get("password"))||_.isEmpty(this.model.get("password")))&&t.push({fieldName:"password",message:n.required});else if("authenticationHeader"===e){const e=this.model.get("headers")?this.model.get("headers")[0].value:null;(_.isNull(e)||_.isEmpty(e))&&t.push({fieldName:"headers[0].value",message:n.required})}}return t.length>0&&_.each(t,(function(e){this.displayFieldError(e.fieldName,e.message)}),this),0===t.length},submit:function(){return _.isNull(this.model.getId())?this.model.create():this.model.update()},getFormMetaData:function(){return{settings:{},placeholders:{},help:{}}},afterInitialize:function(){this.$(u).spinner();var t=this.getFormMetaData(),s=t.help;t.settings&&t.settings.instructions&&$(a).addClass(v),this.$(c).tooltipster({theme:"helptip -max330",interactive:!0,interactiveTolerance:500,position:"bottom-left",functionBefore:function(t,n){if(!t.attr("title")&&!t.data("seen")){var a=t.data("for");if(a&&s[a]){var r=s[a];_.isArray(r)&&(r=r.join(""));var o="%%defaults.help.payloadVariables%%";if(r.indexOf(o)>-1){var l="";i.defaults&&i.defaults.help&&(l=e.currentUserHelper.hasFeatureFlag("UIEnableAlertnameAsVariable")?_.getPath(i,"defaults.help.newPayloadVariables"):_.getPath(i,"defaults.help.payloadVariables")),l=(l||[]).filter((t=>!(t.includes("{{Playbook}}")&&!e.currentUserHelper.hasFeatureFlag("UIConnectionsPlaybookTemplateVariable"))&&!(t.includes("{{AlertGroup}}")&&!e.currentUserHelper.hasFeatureFlag("UIMonitorsAlertGrouping")))),r=r.replace(o,l.join(""))}t.tooltipster("content",$("<div>"+r+"</div>")).data("seen",!0)}}n()},functionReady:function(){$(".online-help-link").on("click",(function(e){var t=e.currentTarget.name;SumoApp.getAngularService("helpNavigationService").showHelp({id:t})}))},functionAfter:function(){$(".online-help-link").off("click")}})}}}}.apply(t,s))||(e.exports=n)},6550:function(e,t,i){var s,n;s=[i(60567),i(54400),i(91133),i(66359)],void 0===(n=function(e,t,i,s){"use strict";var n=e.SumoModel,a=e.GetterSetterMixin,r=e.PersistentModelMixin,o=s.currentUserHelper,l=["type","DT_RowId","triggerUpdate","webhookType","regionsList","mapWebhookPayloadToFf"];return n.extend({mixins:[a,r],defaults:{id:null,name:null,username:null,password:null,url:null,description:null,webhookType:null,type:null},getModelName:function(){return"ServiceNowConnectionModel"},getComponent:function(){return"Connections"},getPersistentObjectForApi:function(){const e=_.omit(this.getPersistentObject(),"resolutionPayload");return o.hasFeatureFlag("UIConnectionsUseOpenApi")?{...e,type:"ServiceNowDefinition"}:e},getTransientAttributes:function(){return l},_getCreateEndpoint:function(){return o.hasFeatureFlag("UIConnectionsUseOpenApi")?{url:i.endpoints.CONNECTIONS,errorCode:"connection_create"}:{url:SumoApp.ajax.Endpoints.V1_CONNECTIONS_SNOW_ADD,errorCode:"connection_create"}},onCreate:function(e){return this.setId(e.id),this},_getUpdateEndpoint:function(){return o.hasFeatureFlag("UIConnectionsUseOpenApi")?{url:i.getConnectionEndpointWithType(this.getId(),"ServiceNow"),errorCode:"connection_update"}:{url:sprintf(SumoApp.ajax.EndpointFormats.V1_CONNECTIONS_SNOW_UPDATE,this.getId()),errorCode:"connection_update"}},onUpdate:function(e){return this},_getRemoveEndpoint:function(){return o.hasFeatureFlag("UIConnectionsUseOpenApi")?{url:i.getConnectionEndpointWithType(this.getId(),"ServiceNow"),errorCode:"connections_delete"}:{url:sprintf(SumoApp.ajax.EndpointFormats.V1_CONNECTIONS_SNOW_DELETE,this.getId()),errorCode:"connections_delete"}},initialize:function(){this.setWebhookType(this.getType())},onRemove:function(e){return!(!e&&!o.hasFeatureFlag("UIConnectionsUseOpenApi"))&&{model:this,message:sprintf(t.connections_deleted,SumoUtil.encode(this.getName()),"deleted")}}})}.apply(t,s))||(e.exports=n)},73248:function(e,t,i){var s,n;s=[i(60567),i(16471),i(56631),i(6550),i(30864)],void 0===(n=function(e,t,i,s,n){var a=e.SumoViewModule,r=t.accountEnI18n,o={name:["required","alphanumeric"],username:["required"],password:["required"],url:["required","url"]};return a.extend({mixins:[n],events:{},template:_.template(i),getViewName:function(){return"ServiceNowFormView"},getComponent:function(){return"Connections"},getValidationSettings:function(){return o},initialize:function(e){this.model=new s(e.modelData),this.render()},render:function(){var e=_.extend(this.model.toJSON(),{__:r,max_name_length:this.model.MAX_NAME_LENGTH,max_desc_length:this.model.MAX_DESC_LENGTH}),t=this.template(e);return this.$(".create-connection-view").html(t),this}})}.apply(t,s))||(e.exports=n)},58745:function(e,t,i){var s,n;s=[i(60567),i(66359),i(54400),i(91133),i(36170)],void 0===(n=function(e,t,i,s,n){"use strict";var a=e.SumoModel,r=e.GetterSetterMixin,o=e.PersistentModelMixin,l=t.currentUserHelper,d=["type","DT_RowId","triggerUpdate","testResponse","regionsList"],c=["accessKey","secretKey","awsRegion","serviceName","insertKey","issueSummary","issueType","projectKey","priority","jiraPriority","payloadDescription","activityTitle","activitySubtitle","cardText","authenticationMethod","defaultEventPayload","userName","password","cloudSoarTemplates","templateUrl","mapWebhookPayloadToFf","isCustomizedAuthHeader","isCloudSoarAccountIntegrated","allowTestingAlertAndResolutionTogether"],u="AWSLambda",h="NewRelic",g="X-Insert-Key",p="webhook-",m=a.extend({mixins:[r,o],defaults:{id:null,name:null,description:null,url:null,headers:null,customHeaders:[],defaultPayload:null,webhookType:null,mapWebhookPayloadToFf:null,isCloudSoarAccountIntegrated:null,resolutionPayload:null,allowTestingAlertAndResolutionTogether:null,accessKey:null,secretKey:null,awsRegion:null,serviceName:null,activityTitle:null,activitySubtitle:null,cardText:null,insertKey:null,type:null,testResponse:null,regionsList:null,issueSummary:null,issueType:null,projectKey:null,jiraPriority:null,payloadDescription:null,priority:null,authenticationMethod:"credential",userName:null,password:null,connectionSubtype:"Incident",cloudSoarTemplates:null,templateUrl:null,isCustomizedAuthHeader:null},baseEndpoint:null,getModelName:function(){return"WebhookConnectionModel"},getComponent:function(){return"Connections"},getFixedId:function(){var e=this.getId();return-1===e.indexOf(p)?e:e.replace(p,"")},getPersistentObjectForApi:function(){let e=this.getPersistentObject();return n.hasResolutionPayload(e.webhookType)||(e=_.omit(e,"resolutionPayload")),l.hasFeatureFlag("UIConnectionsUseOpenApi")?{...e,type:"WebhookDefinition"}:e},getPersistentObject:function(e){var t=_(this.toJSON()).omit(this.getTransientAttributes(e));t.id&&(t.id=this.getFixedId());const i=this.get("webhookType");return t.defaultPayload&&(t.defaultPayload=t.defaultPayload.replace(/[\r]/g,"")),t.resolutionPayload?t.resolutionPayload=t.resolutionPayload.replace(/[\r]/g,""):t.resolutionPayload=n.getDefaultResolutionPayload(i).resolutionPayload,i===u?t.headers=[{name:"accessKey",value:this.get("accessKey")},{name:"secretKey",value:this.get("secretKey")},{name:"awsRegion",value:this.get("awsRegion")},{name:"serviceName",value:this.get("serviceName")}]:i===h?t.headers=[{name:g,value:this.get("insertKey")}]:"ServiceNowV2"!==i||_.isNull(this.get("connectionSubtype"))||(t.webhookType="ServiceNow","Event"===this.get("connectionSubtype")&&_.isNull(t.id)&&(t.defaultPayload=t.defaultEventPayload),_.isNull(t.userName)||_.isNull(t.password)||"credential"!==t.authenticationMethod||(t.headers=[{name:"Authorization",value:`Basic ${window.btoa(`${t.userName}:${t.password}`)}`}])),"ServiceNow"!==(t=_.omit(t,c,"newDefaultPayload","newDefaultEventPayload")).webhookType&&(t=_.omit(t,"connectionSubtype")),_.isNull(t.id)&&(t=_.omit(t,"id")),t},validateAndTest:function(){var e=this.getPersistentObject();if("customHeaders"in e){var t,s=SumoUtil.convertToKeyValueObjectList(e.customHeaders,",",":");if(s.error)t=i.custom_headers.invalid_format;else if(s.list.length>5)t=i.custom_headers.max_limit;else{var n=/[^\x00-\x7F]/;s.list.forEach((function(e){(e.name.match(n)||e.value.match(n))&&(t=i.custom_headers.invalid_characters)}))}if(t)return this.createRejectedPromise({customHeaderValidation:!0,friendlyErrorMessage:t});e.customHeaders=s.list}return this.createPromise({type:"POST",endpoint:this.baseEndpoint+"test",data:e,errorCode:"test_webhook"})},getTransientAttributes:function(e){return e?d.filter((function(e){return"regionsList"!==e})):d},loadRegions:function(){var e=this;return this.createPromise({endpoint:SumoApp.ajax.Endpoints.V1_COLLECTOR_CLOUDWATCH_OPTIONS,errorCode:"collector_and_blades"}).then((function(t){return t&&_.getPath(t,"regions")&&e.setRegionsList(t.regions),!0}))},_getCreateEndpoint:function(){return l.hasFeatureFlag("UIConnectionsUseOpenApi")?{url:s.endpoints.CONNECTIONS,errorCode:"connection_create"}:{url:this.baseEndpoint,errorCode:"connection_create"}},onCreate:function(e){return this.setId(e.id),this},_getUpdateEndpoint:function(){return l.hasFeatureFlag("UIConnectionsUseOpenApi")?{url:s.getConnectionEndpointWithType(this.getId(),"Webhook"),errorCode:"connection_update"}:{url:this.baseEndpoint+this.getFixedId(),errorCode:"connection_update"}},onUpdate:function(e){return this},_getRemoveEndpoint:function(){return l.hasFeatureFlag("UIConnectionsUseOpenApi")?{url:s.getConnectionEndpointWithType(this.getFixedId(),"Webhook"),errorCode:"connections_delete"}:{url:this.baseEndpoint+this.getFixedId(),errorCode:"connections_delete"}},onRemove:function(e){return!(!e&&!l.hasFeatureFlag("UIConnectionsUseOpenApi"))&&{model:this,message:sprintf(i.connections_deleted,SumoUtil.encode(this.getName()),"deleted")}},setProviderHeader:function(e){e.name===g&&(e.name="insertKey"),this.set(e.name,e.value)},setProviderFields:function(){var e=this.getHeaders();_.each(e,this.setProviderHeader)},fetchCloudSoarTemplates:function(e){var t=this;return t.createPromise({type:"POST",endpoint:"/json/v1/webhook/incidentTemplates",errorCode:"cloudsoar_templates",data:e}).then((e=>{try{const i=JSON.parse(e.responseBody);t.setCloudSoarTemplates(i)}catch(e){$.logWarnLocal(e)}})).catch((e=>{$.logWarnLocal(e)}))},initialize:function(){_.bindAll(this,"setProviderHeader","fetchCloudSoarTemplates");var e=this.getWebhookType(),t=this.getType();_.isEmpty(e)&&this.setWebhookType(t);var i=this.getHeaders();"ServiceNowV2"!==e||_.isEmpty(i)||this.setAuthenticationMethod("authenticationHeader"),!_.isArray(i)||_.isEmpty(i)?this.setHeaders([{name:"Authorization",value:""}]):t!==u&&e!==u&&e!==h||this.setProviderFields(),this.baseEndpoint=SumoApp.ajax.Endpoints.V1_CONNECTIONS_WEBHOOK}});return m.ID_PADDING=p,m}.apply(t,s))||(e.exports=n)},59863:function(e,t,i){var s,n;s=[i(60567),i(16471),i(66359),i(91133),i(37090),i(58745),i(30864),i(78616),i(60072),i(54400),i(36170)],void 0===(n=function(e,t,i,s,n,a,r,o,l,d,c){var u=l.ValidationJson,h=e.SumoViewModule,g=t.accountEnI18n,p={activityTitle:["requireValidTemplatingVars","requiredInMicrosoftTeams"],activitySubtitle:["requireValidTemplatingVars"],cardText:["requireValidTemplatingVars"],name:["required","alphanumeric"],url:["required","url"],defaultPayload:["required","JSON","requireValidTemplatingVars"],issueSummary:["requiredInJira","requireValidTemplatingVars"],issueType:["requiredInJira","requireValidTemplatingVars"],projectKey:["requiredInJira","requireValidTemplatingVars"],jiraPriority:["requireValidTemplatingVars"],payloadDescription:["requiredInJira","requireValidTemplatingVars"],"headers[0].value":["requiredInJira","requireValidTemplatingVars"]},m={activityTitle:["requiredInMicrosoftTeams"],activitySubtitle:[],cardText:[],name:["required","alphanumeric"],url:["required","url"],defaultPayload:["required","JsonPayload"],issueSummary:["requiredInJira"],issueType:["requiredInJira"],projectKey:["requiredInJira"],jiraPriority:[],payloadDescription:["requiredInJira"],"headers[0].value":["requiredInJira"]},f=".test-connection",S="#input-defaultPayload",v="#input-resolutionPayload",w=".test-response",b=".is-visible",y={activityTitle:["sections",[0],"activityTitle"],activitySubtitle:["sections",[0],"activitySubtitle"],cardText:["sections",[0],"text"],projectKey:["fields","project","key"],issueSummary:["fields","summary"],issueType:["fields","issuetype","name"],jiraPriority:["fields","priority","id"],payloadDescription:["fields","description"],priority:["priority"]};return h.extend({mixins:[r],events:{"click .test-connection":"testConnection","click .test-response":"displayTestResponse","click #button-reset-payload":"resetPayload","input #input-issue-summary":"updatePayload","input #input-issue-type":"updatePayload","input #input-project-key":"updatePayload","input #input-jira-priority":"updatePayload","input #input-payload-description":"updatePayload","input #input-priority":"updatePayload","input #input-activity-title":"updatePayload","input #input-activity-subtitle":"updatePayload","input #input-card-text":"updatePayload","blur #input-issue-summary":"fieldOnBlur","blur #input-issue-type":"fieldOnBlur","blur #input-project-key":"fieldOnBlur","blur #input-jira-priority":"fieldOnBlur","blur #input-payload-description":"fieldOnBlur","blur #input-priority":"fieldOnBlur","blur #input-activity-title":"fieldOnBlur","blur #input-activity-subtitle":"fieldOnBlur","blur #input-card-text":"fieldOnBlur","submit form#webhook-form":"onSubmitPreventDefault",'click input[name="connectionSubtype"]':"onUpdateServiceNowType",'click input[name="authenticationMethod"]':"onUpdateAuthenticationMethod","change #input-templates":"updatePayload",'click span[data-role="auth-action-customize"]':"customizeAuthHeader",'click span[data-role="auth-action-usedefault"]':"useDefaultAuthHeader","click #input-templates":"onClickTemplatesDropdown","change #input-header":"onChangeHeader","change #input-url":"onChangeUrl"},template:_.template(n),connectionTypeInfo:null,onSubmitPreventDefault:function(e){e.preventDefault()},getViewName:function(){return"WebhookFormView"},getComponent:function(){return"Connections"},isButtonDisabled:function(e){return this.$(e).hasClass("is-spinning")||this.$(e).hasClass("is-disabled")},testConnection:function(){if(i.currentUserHelper.hasFeatureFlag("UIConnectionsUseOpenApi")){const e=this.model.getPersistentObjectForApi();return s.testConnection(e,"alert")}return this.legacyTestConnection()},legacyTestConnection:function(){if(this.isButtonDisabled(f))return!1;if(this.readFormValues(),this.validateForm()){var e=this.$(f).spinner("start");this.model.validateAndTest().then(this.onTestSuccessful).catch(this.onTestError).finally((function(){e.spinner("stop")}))}},onTestSuccessful:function(e){var t=e.statusCode,i=null;this.model.setTestResponse(e),t>=200&&t<300?(i=sprintf(g.TEST_CONNECTION_SUCCESS,t),SumoApp.userMessage.info(i)):(i=sprintf(g.TEST_CONNECTION_ERROR,t),SumoApp.userMessage.error(i),this.$(w).toggleClass(SumoUtil.getCSSName(b),!SumoUtil.isStringEmpty(e.responseBody)))},displayTestResponse:function(){var e=this.model.getTestResponse();if(e)var t=_.template(g.TEST_RESPONSE_TEMPLATE),i=$(t(e)),s=SumoApp.factory.createDialogView({el:i,plugin:{title:g.SEE_TEST_RESPONSE,close:function(){s.destroy()}}})},onTestError:function(e){e.customHeaderValidation?SumoApp.userMessage.error(e.friendlyErrorMessage):SumoApp.userMessage.error(g.TEST_CONNECTION_PROBLEM)},getValidationSettings:function(){const e=i.currentUserHelper.hasFeatureFlag("UIConnectionWebhookCodeEditor"),t=this.model.getIsCustomizedAuthHeader();let s;return s=e?m:p,t&&s["headers[0].value"].push("requiredInCloudSoar"),s},initialize:function(e){_.bindAll(this,"updateRegions","loadRegions","onTestSuccessful","onTestError","updatePayload","getTemplateNameFromId","getTemplateIdFromName","updateCloudSoarTemplates","renderCloudSoarTemplates","onWebhookFormRender","syncCloudSoarTemplateNameAndId","customizeAuthHeader","useDefaultAuthHeader","convertIdToConnectionId","selectPlaceholderOption","renderPayloadEditors"),this.model=new a(e.modelData),this.connectionTypeInfo=e.connectionTypeInfo||{},this.payloadEditor,this.render(),this.onWebhookFormRender()},onWebhookFormRender:function(){if("SumoCloudSOAR"===this.model.getWebhookType()){const e=this.model.getUrl(),t=this.model.getIsCloudSoarAccountIntegrated();e?t?(this.$('span[data-role="auth-action-customize"]').show(),this.$('input[data-role="auth-field-empty"]').hide(),this.model.setIsCustomizedAuthHeader(!1),this.updateCloudSoarTemplates()):(this.$('input[data-role="auth-field-default"]').hide(),this.model.setIsCustomizedAuthHeader(!1),this.updateCloudSoarTemplates()):(this.$('input[data-role="auth-field-default"]').hide(),this.model.setIsCustomizedAuthHeader(!0),this.selectPlaceholderOption()),this.model.setUrl(e)}},customizeAuthHeader:function(){this.$('span[data-role="auth-action-customize"]').hide(),this.$('span[data-role="auth-action-usedefault"]').show(),this.$('input[data-role="auth-field-default"]').hide(),this.$('input[data-role="auth-field-empty"]').show(),this.model.setIsCustomizedAuthHeader(!0)},useDefaultAuthHeader:function(){this.$('span[data-role="auth-action-usedefault"]').hide(),this.$('span[data-role="auth-action-customize"]').show(),this.$('input[data-role="auth-field-empty"]').hide(),this.$('input[data-role="auth-field-default"]').show(),this.model.setIsCustomizedAuthHeader(!1),this.updateCloudSoarTemplates()},getFormMetaData:function(){var e=_.getPath(this.connectionTypeInfo,"settings")||{};return["AWSLambda","NewRelic"].indexOf(this.model.getWebhookType())>-1&&(e.hideHeaders=!0),{settings:e,placeholders:_.getPath(this.connectionTypeInfo,"placeholders")||{},help:_.getPath(this.connectionTypeInfo,"help")||{}}},loadRegions:function(){this.listenTo(this.model,"change:regionsList",this.updateRegions),this.model.loadRegions()},updateRegions:function(){var e=this.model.getRegionsList();_.isEmpty(e)?this.loadRegions():this.stopListening(this.model,"change:regionsList");var t=this.$("#input-region"),i=_.map(e,(function(e){return"<option>"+e+"</option>"})).join();t.append(i),t.val(this.model.get("awsRegion"))},updatePayload:function(e){var t,i=e.currentTarget.name,s=e.currentTarget.value;try{var n=JSON.parse(this.$("#input-defaultPayload").val())}catch(e){return void this.setJsonError(!0)}if("jiraPriority"!==i||s)if("SumoCloudSOAR"===this.model.getWebhookType()){t=Object.assign({},n);var a=this.getTemplateIdFromName(s);a&&(t.template_id=a)}else t=_.setPath(n,s,y[i],{});else(t=Object.assign(n,{})).fields&&delete t.fields.priority;var r=JSON.stringify(t,null,2);this.model.setDefaultPayload(r),this.setJsonError(!1)},getTemplateIdFromName:function(e){var t=this.model.getCloudSoarTemplates(),i=_.find(t,(function(t){return t.name===e}));return i?i.id:null},getTemplateNameFromId:function(e){var t=this.model.getCloudSoarTemplates(),i=_.find(t,(function(t){return t.id===e}));return i?i.name:null},renderCloudSoarTemplates:function(){var e=this.model.getCloudSoarTemplates(),t=this.$("#input-templates"),i=_.map(e,(function(e){return`<option data-role="fetched-data">${e.name}</option>`})).join();t.append(i),e&&e.length?t.val(e[0].name):this.selectPlaceholderOption(),this.stopListening(this.model,"change:cloudSoarTemplates"),this.syncCloudSoarTemplateNameAndId()},updateCloudSoarTemplates:function(e){this.listenTo(this.model,"change:cloudSoarTemplates",this.renderCloudSoarTemplates);const t=this.model.getId(),i={url:this.model.getUrl(),connectionId:t?this.convertIdToConnectionId(t):"",authHeader:""};this.model.fetchCloudSoarTemplates(e||i)},onClickTemplatesDropdown:function(){const e=this.model.getUrl(),t=this.model.getHeaders()[0].value,i=this.model.getId();let s={connectionId:i?this.convertIdToConnectionId(i):"",url:e||"",authHeader:t||""};this.model.getCloudSoarTemplates()&&this.model.getCloudSoarTemplates().length||!e&&!i||this.updateCloudSoarTemplates(s)},convertIdToConnectionId:function(e){const t="0000000000000000"+e.toString(16);return t.substr(t.length-16)},onChangeUrl:function(e){"SumoCloudSOAR"===this.model.getWebhookType()&&this.model.setUrl(e.target.value)},onChangeHeader:function(e){"SumoCloudSOAR"===this.model.getWebhookType()&&this.model.setHeaders([{name:"Authorization",value:e.target.value}])},selectPlaceholderOption:function(){var e=this.$("#input-templates"),t=this.$('[data-role="templates-placeholder"]');e.val(t.val())},syncCloudSoarTemplateNameAndId:function(){var e=JSON.parse(this.model.getDefaultPayload()),t=this.model.getCloudSoarTemplates(),i=e.template_id;if(i){var s=this.getTemplateNameFromId(i);$("#input-templates").val(s)}else{e.template_id=this.getTemplateIdFromName(t[0].name);var n=JSON.stringify(e,null,2);this.model.setDefaultPayload(n)}},updateFields:function(e){if(!e){var t=this.model.getWebhookType();e=d.connectionTypes[t].defaults.defaultPayload}var i={};try{i=JSON.parse(e),this.setJsonError(!1)}catch(e){this.setJsonError(!0)}for(var s in y){var n=_.getPath(i,y[s]);void 0!==n&&"string"==typeof n||(n=""),$("input[name="+s+"]").val(n)}if("SumoCloudSOAR"===this.model.getWebhookType()){var a=this.getTemplateNameFromId(i.template_id);$("#input-templates").val(a)}},setJsonError:function(e){if(e)this.displayFieldError("defaultPayload",u.JSON);else{var t=this.$('[name="defaultPayload"]').parent(),i=t.find(".form__field__error");i.html()===u.JSON&&(t.find(".is-error").removeClass("is-error"),i.remove())}},payloadOnBlur:function(){var e=Object.keys(y).concat(["defaultPayload"]);this.timeoutValidateFieldTemplating(e)},fieldOnBlur:function(e){var t=e.currentTarget.name;this.timeoutValidateFieldTemplating([t,"defaultPayload"])},timeoutValidateFieldTemplating:function(e){setTimeout(function(){this.validateFieldTemplating(e)}.bind(this),300)},validateFieldTemplating:function(t){if(!1===SumoApp.getAngularService("currentUserHelper").hasFeatureFlag("UIDisallowInvalidVariable")&&SumoApp.getAngularService("currentUserHelper").hasFeatureFlag("UITemplatingValidationConnection")){var i=!SumoApp.getAngularService("currentUserHelper").hasFeatureFlag("UIDisableVelocityVariable");t.forEach(function(t){var s=$("[name="+t+"]").val(),n=e.getInvalidTemplateVars(s,"connection",i);n.length>0?this.setFieldWarning(t,u.requireValidTemplatingVars+n.join(", ")):this.removeFieldWarning(t)}.bind(this))}},onUpdateServiceNowType:function(e){const t=e.target.value;let s;s=i.currentUserHelper.hasFeatureFlag(this.model.getMapWebhookPayloadToFf().ServiceNowV2)?"Event"===t?d.connectionTypes.ServiceNowV2.defaults.newDefaultEventPayload:d.connectionTypes.ServiceNowV2.defaults.newDefaultPayload:"Event"===t?d.connectionTypes.ServiceNowV2.defaults.defaultEventPayload:d.connectionTypes.ServiceNowV2.defaults.defaultPayload,this.model.setConnectionSubtype(t),this.updateFields(s),this.payloadEditor.$el.val(s),this.payloadEditor.editor.getDoc().setValue(s)},onUpdateAuthenticationMethod:function(e){const t=e.target.value;this.$("#servicenow-credential")["credential"===t?"show":"hide"](),this.$("#servicenow-authentication-header")["authenticationHeader"===t?"show":"hide"]()},resetPayload:function(){var e=this.model.getWebhookType(),t=this.model.getMapWebhookPayloadToFf();const s=i.currentUserHelper.hasFeatureFlag(this.model.getMapWebhookPayloadToFf().ServiceNowV2);var n;if("ServiceNowV2"===e&&"Event"===this.model.getConnectionSubtype())n=s?d.connectionTypes.ServiceNowV2.defaults.newDefaultEventPayload:d.connectionTypes.ServiceNowV2.defaults.defaultEventPayload;else if("SumoCloudSOAR"===e){var a=this.model.getCloudSoarTemplates()&&this.model.getCloudSoarTemplates()[0].name,r=this.getTemplateIdFromName(a);r&&(n=JSON.stringify({...JSON.parse(d.connectionTypes.SumoCloudSOAR.defaults.defaultPayload),template_id:r},null,2))}else n=e in t&&i.currentUserHelper.hasFeatureFlag(t[e])?d.connectionTypes[e].defaults.newDefaultPayload:d.connectionTypes[e].defaults.defaultPayload;this.removeFieldWarning(),this.updateFields(n),this.payloadEditor.$el.val(n),this.payloadEditor.editor.getDoc().setValue(n)},renderPayloadEditors:function(){const e=this.model.getWebhookType();c.hasResolutionPayload(e)&&(this.resolutionPayloadEditor=new o({el:this.$(v),model:this.model,nameToPath:y,setJsonError:this.setJsonError.bind(this),payloadOnBlur:this.payloadOnBlur.bind(this),updateFields:this.updateFields.bind(this),debounceTime:300}),this.registerView("resolutionPayloadEditor",this.resolutionPayloadEditor))},render:function(){const e=this.model.getWebhookType();var t=_.extend(this.model.toJSON(),{__:g,max_name_length:this.model.MAX_NAME_LENGTH,max_desc_length:this.model.MAX_DESC_LENGTH,webhookHasResolutionPayloadOption:c.hasResolutionPayload(e)},this.getFormMetaData()),i=this.template(t);return this.$(".create-connection-view").html(i),this.payloadEditor=new o({el:this.$(S),model:this.model,nameToPath:y,setJsonError:this.setJsonError.bind(this),payloadOnBlur:this.payloadOnBlur.bind(this),updateFields:this.updateFields.bind(this),debounceTime:300}),this.registerView("webhookPayloadEditor",this.payloadEditor),this.renderPayloadEditors(),this.updateRegions(),this.$("#servicenow-credential")["credential"===this.model.get("authenticationMethod")?"show":"hide"](),this.$("#servicenow-authentication-header")["authenticationHeader"===this.model.get("authenticationMethod")?"show":"hide"](),this}})}.apply(t,s))||(e.exports=n)},78616:function(e,t,i){var s,n;s=[i(60567),i(66359),i(68034)],void 0===(n=function(e,t,i){return e.SumoViewModule.extend({mixins:null,editor:null,codeEditorDiv:null,events:{},userDefinedVariables:e.UNIVERSAL_USER_DEFINED_VARIABLES.concat(e.MONITOR_USER_DEFINED_VARIABLES),getViewName:function(){return"WebhookPayloadEditorView"},getComponent:function(){return"Connections"},setValue:function(e){this.editor&&this.editor.setValue(e)},refresh:function(){this.editor&&this.editor.refresh()},onModelDefaultPayloadChange:_.debounce((function({isResolution:e}){const t=e?this.model.getResolutionPayload():this.model.getDefaultPayload();this.editor.getDoc().setValue(t),this.$el.val(t)}),this.debounceTime),onEditorChange:_.debounce((function(e,t){this.el.value=e.getValue(),"setValue"!==t.origin&&this.updateFields(e.doc.getValue())}),this.debounceTime),onCodeEditorMount:function(e){this.editor=e},initialize:function(e){this.nameToPath=e.nameToPath,this.setJsonError=e.setJsonError,this.payloadOnBlur=e.payloadOnBlur,this.updateFields=e.updateFields,this.debounceTime=e.debounceTime,this.render()},render:function(){if(t.currentUserHelper.hasFeatureFlag("UIConnectionWebhookCodeEditor")){this.codeEditorDiv=document.createElement("div"),this.el.parentNode.insertBefore(this.codeEditorDiv,this.el.nextSibling);var s=t.currentUserHelper.hasFeatureFlag("UIDisallowInvalidVariable"),n=t.currentUserHelper.hasFeatureFlag("UIAllowVariablesAsKeys"),{universal:a,monitor:r,scheduledSearch:o}=e.getTemplateVariables();i.createCodeEditor(this.codeEditorDiv,{language:"mustacheJson",editorDidMount:this.onCodeEditorMount.bind(this),onChange:this.onEditorChange.bind(this),onBlur:this.payloadOnBlur.bind(this),value:this.el.value,options:{disallowInvalidVariable:s,allowVariableOnTheKeyField:n,validVariables:[...a,...r,...o],userDefinedVariables:this.userDefinedVariables}}),this.el.style.display="none"}else this.editor=CodeMirror.fromTextArea(this.el,{matchBrackets:!0,autoCloseBrackets:!0,mode:"application/json",lineWrapping:!0}),this.editor.on("change",this.onEditorChange.bind(this)),this.editor.on("blur",this.payloadOnBlur.bind(this));return this.updateFields(this.el.value),this.listenTo(this.model,"change:defaultPayload",this.onModelDefaultPayloadChange),this.listenTo(this.model,"change:resolutionPayload",(()=>this.onModelDefaultPayloadChange({isResolution:!0}))),this},destroy:function(){this.codeEditorDiv&&i.destroyCodeEditor(this.codeEditorDiv),this.stopListening(),this.editor=null,this.destroySubViews(),SumoUtil.destroyView(this),this.trigger("destroy")}})}.apply(t,s))||(e.exports=n)},52808:function(e,t,i){var s,n;s=[i(69178),i(60567),i(6550),i(58745)],void 0===(n=function(e,t,i,s){var n=t.ConnectionServiceMixinModule.mixin.CONNECTION_TYPES;return Backbone.Collection.extend({model:function(t,a){var r=null;switch(t.type){case n.SERVICE_NOW:r=new i(t,a);break;case n.WEBHOOK:r=new s(t,a);break;default:r=new e(t,a)}return r}})}.apply(t,s))||(e.exports=n)},32943:function(e,t,i){var s,n;s=[i(63205),i(16471),i(52808),i(60567),i(58745),i(41197)],void 0===(n=function(e,t,i,s,n,a){var r=s.ConnectionServiceMixinModule,o=s.SumoModel,l=s.GetterSetterMixin,d=s.ListModelMixin,c=s.ModelErrorHandlerMixin,u=t.accountEnI18n,h=s.browserHelperService,g=a.performanceLogService;return o.extend({defaults:{models:null,modelsChanged:null,filter:null,filterActive:null,loaded:!1,regionsList:null},mixins:[c,d,r,l],filterFields:["name","description"],getModelName:function(){return"ConnectionsMgmtModel"},getComponent:function(){return"Connections"},getDeleteConfirmHeadTitle:function(e){return sprintf(u.CONNECTIONS_DELETE_TITLE,SumoUtil.encode(e))},loadCloudwatchOptions:function(e){var t=this;return this.createPromise({endpoint:SumoApp.ajax.Endpoints.V1_COLLECTOR_CLOUDWATCH_OPTIONS,errorCode:"collector_and_blades"}).then((function(i){return i&&_.getPath(i,"regions")&&(e.forEach((function(e){e.regionsList=i.regions})),t.setRegionsList(i.regions)),e}))},getCustomHeadersString:function(e){var t="";return _.forEach(e,(function(e){t=t+e.name+":"+e.value+", "})),t.slice(0,-2)},handleServiceNowTypeAndLabels:function(e){return _.isArray(e)&&!_.isEmpty(e)&&e.forEach((e=>{"ServiceNow"===e.webhookType&&(e.webhookType="ServiceNowV2")})),e},buildCollection:function(e){var i=this;if(_.isArray(e)&&!_.isEmpty(e)){var s=_.map(e,(function(e){return"Webhook"===e.type&&(e.id=n.ID_PADDING+e.id,e.customHeaders=i.getCustomHeadersString(e.customHeaders)),e.DT_RowId="connections-"+e.id,e}));this.getModels().reset(s)}else this.getModels().reset();return window.setTimeout((function(){g.mark(t.CONNECTIONS_EVENT,t.CONNECTIONS_MARKS.renderPath.rendered),i.finalizePerformanceMeasurement()})),e},finalizePerformanceMeasurement:function(){_.each(t.CONNECTIONS_MEASUREMENTS.renderPath,(function(e){g.measure(t.CONNECTIONS_EVENT,e)}));var e={memState:h.getMemoryUseInfo()};_.each(t.CONNECTIONS_MEASUREMENTS.renderPath,(function(i){g.send(t.CONNECTIONS_EVENT,i,e)}))},loadData:function(){return this.clearFilter(),this.listConnections().then(this.loadCloudwatchOptions).then(this.handleServiceNowTypeAndLabels).then(this.buildCollection).catch((function(e){return $.logError("There was a problem getting connections",e),[]}))},initialize:function(){_.bindAll(this,"buildCollection","loadCloudwatchOptions"),this.setModels(new i)}})}.apply(t,s))||(e.exports=n)},81327:function(e,t,i){var s,n;s=[i(16471),i(17593),i(17915),i(37158),i(69178),i(69748),i(60567),i(66359)],void 0===(n=function(e,t,i,s,n,a,r,o){"use strict";e.keyedErrors;var l=e.accountEnI18n,d=o.currentUserHelper,c=".list-view-main",u="#connectionsDT_wrapper",h=".list-view-title-secondary",g=".create-link";return i.extend({clientEvents:{},connectionTypes:{SERVICENOW:{id:1,label:l.CONNECTIONS_SN_SECTION_TITLE}},getViewName:function(){return"ConnectionsMgmtView"},getComponent:function(){return"ConnectionsViews"},getCreateView:function(e){return null},toggleCreateView:function(e){var t=!e;this.$(u).toggle(t),this.$(g).toggle(t),this.$(h).toggle(t)},createItem:function(e){$(".bento-app").find("#connections-grid").find(".list-view-title-ctr").toggle(),this.toggleCreateView(!0);var t=$("<div>").appendTo(this.$(c)),i=new s({el:t,modelAttributes:{regionsList:this.model.getRegionsList()}});this.listenTo(i,"cancel",this.exitCreateView),this.listenTo(i,"done",this.exitCreateView),this.registerView("createConnectionView",i)},exitCreateView:function(e,t){if(e){var i=SumoUtil.encode(e.getName());if(d.hasFeatureFlag("UIReplaceToasterPlugin"))SumoApp.userMessage.info("edit"===t?sprintf(l.CONNECTIONS_UPDATED_STR,i):sprintf(l.CONNECTIONS_CREATED_STR,i));else{var s="edit"===t?sprintf(l.CONNECTIONS_UPDATED,i):sprintf(l.CONNECTIONS_CREATED,i);SumoApp.userMessage.info(s,{isHTML:!0})}this.triggerReload()}this.toggleCreateView(!1),this.getView("createConnectionView").destroy(),this.destroySubView("createConnectionView"),$(".bento-app").find("#connections-grid").find(".list-view-title-ctr").toggle()},editItem:function(e){var t=this._getMenuActiveElement(e),i=this.getIDFromRowOrMenu(t),n=this.model.fetchModel(i);$(".bento-app").find("#connections-grid").find(".list-view-title-ctr").toggle(),this.toggleCreateView(!0);var a=$("<div>").appendTo(this.$(c)),r=new s({el:a,modelAttributes:{mode:"edit",flowData:_.extend({type:n.getType()},n.getPersistentObject(!0))}});this.listenTo(r,"cancel",this.exitCreateView),this.listenTo(r,"done",this.exitCreateView),this.registerView("createConnectionView",r)},_createOrEditView:function(e,t,i){e.preventDefault(),t.setMode(i?"create":"edit"),this.makeViewDialog(i,t,!0)},getDetailView:function(e){var i=_.template(t),s=this.getTableView().getRowData(e),n=this.getUsername(s.username,!1),a=s.createdAt?this.renderDateForDisplay(s.createdAt):"",r=s.description,o={id:s.id,creator:{label:l.creator,val:n},created_date:{label:l.created_date,val:a},dField1:{label:l.name,val:s.name},dField2:{label:l.CONNECTION_USERNAME,val:s.username},dField3:{label:l.CONNECTION_URL,val:s.url},dField4:{label:l.CONNECTION_DESCRIPTION,val:r,hideSearch:!0},template:i,templateKey:this.coreId+"-",i18n:l};return this.renderDetailView(o)},getColumnDefinitions:function(){return[
//!!You must pass bUseSimpleColumnDefs: true for this format to work
{attribute:"webhookType",width:120,className:"type-col highlightable",sortable:!0,renderFunction:this.renderIconNameCol},{attribute:"name",width:300,className:"name-col highlightable",sortable:!0,visible:!0,renderFunction:this.renderNameCol},{attribute:"description",width:.75,className:"description-col highlightable no-hover",sortable:!1,visible:!0,renderFunction:this.renderNameCol},{attribute:null,width:.05,className:"action-col highlightable no-hover",sortable:!1,renderFunction:this.renderActionCol}]},getColumnTitles:function(){return[l.CONNECTION_TYPE,l.CONNECTION_NAME,l.CONNECTION_DESCRIPTION]},getMenuItems:function(){var e=[{name:"details",iconPath:"fa-info-circle"}];return this.hasEditPermissions&&e.splice(0,0,{name:"edit"},{name:"delete",iconPath:"fa-times-circle"}),e},initialize:function(){_.bindAll(this,"render","getColumnDefinitions","renderNameCol","exitCreateView"),this.coreId="connections",this.deleteConfirmKey=l.CONNECTION_DELETE_CONFIRM,this.showSearch=!0,this.sortColIndex=0,this.hasStatusCol=!1,this.nameContainer=".name-col",this.hasDetailView=!0,this.hasEditPermissions=SumoApp.priv.hasConnectionsAccess()},listViewInitialize:function(){},render:function(e){var t=$.extend(this.model.toJSON(),{__:l,coreId:this.coreId,pageTitle:l.CONNECTIONS_SECTION_TITLE,secondaryText:"",switchText:"",showSearch:this.showSearch,hasStatusCol:this.hasStatusCol,titles:this.getColumnTitles(),titleClasses:["","",""]}),i=this.template(t);return this.$el.html(i),this.createVerticalMenu(),this.createCommonSearchView({placeholder:l.connections_search_placeholder}),this.hasEditPermissions||this.$(".create-link").hide(),this}})}.apply(t,s))||(e.exports=n)},37158:function(e,t,i){var s,n;s=[i(60567),i(54400),i(17810),i(94957)],void 0===(n=function(e,t,i,s){var n=e.SumoViewModule,a=".flow__head",r=".flow__body",o=".previous-step",l=".cancel-flow",d=".is-disabled",c="-has-error",u="-has-instructions",h=SumoUtil.getCSSName;return n.extend({mixins:[],events:{"click .cancel-flow":"cancelFlow","click .next-step":"nextStep","click .previous-step":"previousStep"},template:_.template(i),getViewName:function(){return"CreateConnectionFlow"},getComponent:function(){return"Connections"},nextStep:function(){var e=this.getCurrentStepView();e&&e.next()},goToStep:function(e){var t=parseInt($(e.target).data("step"));this.model.goToStep(t)},previousStep:function(){if(!this.$(o).hasClass(h(d))){var e=this.getCurrentStepView();e&&e.back()}},cancelFlow:function(){if(!this.$(l).hasClass(h(d))){var e=this;this.getCurrentStepView().canCancelStep().then((function(t){t&&e.trigger("cancel")}))}},finishFlow:function(e){this.trigger("done",e,this.model.getMode())},getCurrentStepView:function(){var e=this.model.getCurrentStep();return this.getView(e.id)},initialize:function(e){_.bindAll(this,"renderCurrentStep");var t=e.modelAttributes?e.modelAttributes:void 0;this.model=new s(t),this.listenTo(this.model,"change:currentStepIndex",this.renderCurrentStep),this.listenTo(this.model,"done",this.finishFlow),this.render()},render:function(){var e=this.model.getRegionsList(),i=this.model.getFlowData().regionsList;!e&&i&&this.model.setRegionsList(i);var s=_.extend(this.model.toJSON(),{__:t,currentStep:this.model.getCurrentStep()}),n=this.template(s);return this.$el.html(n),this.renderCurrentStep(),this},renderCurrentStep:function(){this.destroyPreviousStep(),this.resetFlowBodyState();var e=this.model.getCurrentStep(),t=new e.view({el:this.$(r),model:this.model});this.$(a).text(t.getStepLabel()),this.registerView(e.id,t),t.render()},destroyPreviousStep:function(){var e=this.model.previous("currentStepIndex");if(_.isNumber(e)){var t=this.model.getStep(e),i=this.getView(t.id);i&&i.destroy()}},resetFlowBodyState:function(){this.$(r).removeClass(c).removeClass(u)}})}.apply(t,s))||(e.exports=n)},94957:function(e,t,i){var s,n;s=[i(63205),i(54400),i(60567),i(61567),i(65378)],void 0===(n=function(e,t,i,s,n){var a=i.ConnectionServiceMixinModule,r=i.SumoModel,o=i.GetterSetterMixin,l=[{id:"select_connection_type",label:t.select_connection_type,view:s},{id:"create_connection",label:t.create_connection,view:n}],d=[{id:"create_connection",label:t.edit_connection,view:n}],c="create";return r.extend({mixins:[a,o],defaults:{regionsList:null,url:null,headers:null,currentStepIndex:0,flowData:null,buttons:null,mode:c,steps:null,output:null,defaultPayload:null,mapWebhookPayloadToFf:null},getModelName:function(){return"CreateConnectionModel"},getComponent:function(){return"Connections"},isCreateMode:function(){return this.getMode()===c},goToStep:function(e){e>=0&&e<this.getCurrentStepIndex()&&this.setCurrentStepIndex(e)},next:function(){var e=this.getCurrentStepIndex();e>=this.getSteps().length-1?this.done():this.setCurrentStepIndex(e+1)},back:function(){var e=this.getCurrentStepIndex();e>0&&this.setCurrentStepIndex(e-1)},done:function(){this.trigger("done",this.getOutput())},getCurrentStep:function(){var e=this.getCurrentStepIndex();return this.getStep(e)},getStep:function(e){return this.getSteps().length>e&&this.getSteps()[e]},initialize:function(){this.isCreateMode()?this.setSteps(l):this.setSteps(d),_.isNull(this.getFlowData())&&this.setFlowData({})}})}.apply(t,s))||(e.exports=n)},84926:function(e,t){var i;void 0===(i=function(){"use strict";return{mixin:{next:function(){this.model.next()},back:function(){this.model.back()},canCancelStep:function(){return this.createResolvedPromise(!0)},getStepLabel:function(){return this.model.getCurrentStep().label}}}}.apply(t,[]))||(e.exports=i)},65378:function(e,t,i){var s,n;s=[i(60567),i(66359),i(16471),i(54400),i(36170),i(17426),i(73248),i(59863),i(84926),i(64525)],void 0===(n=function(e,t,i,s,n,a,r,o,l,d){var c=e.SumoViewModule,u=i.keyedErrors,h={AWSLambda:o,Azure:o,Datadog:o,HipChat:o,Jira:o,MicrosoftTeams:o,NewRelic:o,Opsgenie:o,PagerDuty:o,ServiceNow:r,ServiceNowV2:o,Slack:o,SumoCloudSOAR:o,Webhook:o},g={AWSLambda:"Webhook",Azure:"Webhook",Datadog:"Webhook",HipChat:"Webhook",Jira:"Webhook",MicrosoftTeams:"Webhook",NewRelic:"Webhook",Opsgenie:"Webhook",PagerDuty:"Webhook",ServiceNow:"ServiceNow",ServiceNowV2:"Webhook",Slack:"Webhook",SumoCloudSOAR:"Webhook",Webhook:"Webhook"},p={AWSLambda:"UINewWebhooksPayload",Azure:"UINewWebhooksPayload",Datadog:"UINewWebhooksPayload",HipChat:"UINewWebhooksPayload",Jira:"UINewWebhooksPayload",MicrosoftTeams:"UINewWebhooksPayload",NewRelic:"UINewWebhooksPayload",Opsgenie:"UINewOpsgeniePayload",PagerDuty:"UINewSlackAndPagerdutyPayload",ServiceNowV2:"UINewWebhooksPayload",Slack:"UINewSlackAndPagerdutyPayload"},m=".next-step",f=".previous-step",S=".cancel-flow",v=".is-disabled",w=SumoUtil.getCSSName;return c.extend({mixins:[l],events:{},template:_.template(a),getViewName:function(){return"CreateConnectionView"},getStepLabel:function(){var e,t,i=this.model.getFlowData();this.model.isCreateMode()?(e=i.type,t=s.create_connection):(e="ServiceNow"===i.type?i.type:i.webhookType,t=s.edit_connection);var n=s.connectionTypes[e].label;return"ServiceNow"===i.webhookType||"ServiceNow"===i.type?t.replace("%%connectionType%%","ServiceNow"):t.replace("%%connectionType%%",n)},getComponent:function(){return"Connections"},isButtonDisabled:function(e){return this.$(e).hasClass("is-spinning")||this.$(e).hasClass("is-disabled")},manageButtons:function(e){var t=e?"start":"stop";this.$(m).spinner(t),this.$(f).toggleClass(w(v),e),this.$(S).toggleClass(w(v),e)},formatCustomHeaders:function(e){var t=[],i=`${e.model.getCustomHeaders()||""}`.trim();try{if(i.match(/[^\x00-\x7F]/))throw"Invalid characters in custom headers";var s=SumoUtil.convertToKeyValueObjectList(i,",",":");if(t=s.list,s.error)throw"The custom headers format is invalid";return{customHeaders:t,error:!1}}catch(e){return this.displayErrors(e),{customHeaders:[],error:!0}}},next:function(){d.checkWarningMsg(this.$el,this.submit.bind(this))},submit:function(){this.manageButtons(!0);var e=this.getView("formView");e.readFormValues();var t={error:!1};"Webhook"===g[e.model.getType()]&&(t=this.formatCustomHeaders(e),e.model.setCustomHeaders(t.customHeaders)),t.error||(e.validateForm()?e.submit().then(_.bind(this.onConnectionSaved,this)).catch(_.bind(this.displayErrors,this)):this.manageButtons(!1))},back:function(){var e=this.getView("formView");this.model.setFlowData(_.extend(this.model.getFlowData(),e.getFormValues())),this.model.back()},canCancelStep:function(){var e=when.defer(),t=this.getView("formView"),i=this.initialFormValues,n=t.getFormValues();return _.isEqual(i,n)?e.resolve(!0):SumoApp.userMessage.question(s.confirm_cancel,{isHTML:!0,okCallback:function(){e.resolve(!0)},cancelCallback:function(){e.resolve(!1)},okText:s.yes,cancelText:s.no}),e.promise},onConnectionSaved:function(e){this.model.setOutput(e),this.model.next()},displayErrors:function(e){this.manageButtons(!1);var t,i=this.getView("formView");if("string"==typeof e)t=e;else if(e.formattedErrorDetails)t=e.formattedErrorDetails;else{var s=_.chain(e.keyedErrors).keys().first().value();t=e.friendlyErrorMessage,s&&u[s]&&(t=u[s])}i.displayFormError(t)},initialize:function(e){this.model=e.model},initCloudSoar:function(){let e=t.currentUserHelper.getDynamicProperty("cloudsoar_delivery1_url");const i=this.model.getFlowData();i.isCloudSoarAccountIntegrated=!!e,this.model.setFlowData(i);let s="";if(this.model.isCreateMode()&&e){const t="incmansuite_ng/api/v3/incidents/";"/"!==e.slice(-1)&&(e+="/"),s=`${e}${t}`,this.model.setUrl(s),i.url=s,this.model.setFlowData(i)}},pickDefaultPayload:function(e){var t=this.model.getFlowData();t.mapWebhookPayloadToFf=p,"create"===this.model.getMode()&&(t={...t,...n.getDefaultAlertPayload(e),...n.getDefaultResolutionPayload(e)}),this.model.setFlowData(t)},render:function(){let e=this.model.getFlowData();var t=this.template({__:s,flowData:e,isCreate:this.model.isCreateMode()});this.$el.html(t),e.regionsList=this.model.getRegionsList();var i=e.type,n="Webhook"===i&&e.webhookType?e.webhookType:i;this.pickDefaultPayload(n),"SumoCloudSOAR"===n&&this.initCloudSoar(),"connectionSubtype"in e&&"ServiceNow"===e.webhookType&&(n="ServiceNowV2");var a=new h[i]({el:this.$el,modelData:_.defaults({...this.model.getFlowData(),webhookType:n},s.connectionTypes[i].defaults),connectionTypeInfo:s.connectionTypes[n]});return this.initialFormValues=a.getFormValues(),this.registerView("formView",a),this}})}.apply(t,s))||(e.exports=n)},61567:function(e,t,i){var s,n;s=[i(60567),i(54400),i(38258),i(84926)],void 0===(n=function(e,t,i,s){return e.SumoViewModule.extend({mixins:[s],events:{"click .tile":"tileSelected"},template:_.template(i),getViewName:function(){return"SelectConnectionTypeView"},getComponent:function(){return"Connections"},tileSelected:function(e){var t=$(e.currentTarget).data("type"),i=this.model.getFlowData();i&&i.type&&t===i.type?i.type=t:this.model.setFlowData({type:t}),this.model.next()},initialize:function(e){this.model=e.model,this.render()},render:function(){var e=t.connectionTypes;SumoApp.getAngularService("currentUserHelper").hasFeatureFlag("UIWebhooksCloudSoarConnection")||delete e.SumoCloudSOAR;var i=_.extend(this.model.toJSON(),{__:t,connectionTypes:e}),s=this.template(i);return this.$el.html(s),this}})}.apply(t,s))||(e.exports=n)},54486:function(e,t,i){var s,n;s=[i(60567),i(16471),i(74915)],void 0===(n=function(e,t,i){var s=e.SumoModel,n=e.GetterSetterMixin,a=e.ModelErrorHandlerMixin,r=t.accountEnI18n;return s.extend({mixins:[a,n,i],defaults:{enabled:!1},initialize:function(){this.loadDataValues={endpoint:"V1_CSE_CONTENT_OPT_IN_GET",errorMsg:"CSE_CONTENT_OPT_IN_LOAD_FAILURE",errorCode:"cse_content_opt_in"},this.saveValues={reqType:"PUT",endpoint:"V1_CSE_CONTENT_OPT_IN_PUT",errorCode:"cse_content_opt_in",successMsg:"CSE_CONTENT_OPT_IN_SAVE_SUCCESS",errorCallback:this.onSaveError}},canWork:function(){return!0},onSaveError:function(){SumoApp.userMessage.error(r.CSE_CONTENT_OPT_IN_SAVE_FAILURE)},getRequestData:function(){return{data:[{key:"optedForCseDataAccess",value:this.getEnabled()}]}}})}.apply(t,s))||(e.exports=n)},73639:function(e,t,i){var s,n;s=[i(60567),i(4080),i(39204)],void 0===(n=function(e,t,i){return e.SumoViewModule.extend({mixins:[i],events:{"click input#cse-content-opt-in-checkbox":"save"},checkboxId:"cse-content-opt-in-checkbox",subviews:null,template:function(e){return _.template(t,e)},save:function(){this.saveStatus(this.checkboxId)},render:function(){this.renderView()}})}.apply(t,s))||(e.exports=n)},11936:function(e,t,i){var s,n;s=[i(60567),i(13113),i(20725)],void 0===(n=function(e,t,i){return e.SumoViewModule.extend({events:{"click .online-help-link":"showHelp","click input#usage-statistics-checkbox":"onToggleUsageStatistics"},helpLink:"4042",dataUsageStatisticsModel:null,canEditDataUsageStatistics:null,template:_.template(i),onToggleUsageStatistics:function(e){this.model.setEnabled($("#usage-statistics-checkbox").is(":checked")),this.model.saveData()},showHelp:function(e){e.preventDefault(),this.onShowHelp(e)},initialize:function(){_.bindAll(this,"render"),this.canEditDataUsageStatistics=SumoApp.priv.hasDataUsageLoggingViewAccess(),this.listenTo(this.model,"change:triggerViewUpdate",this.render),this.render()},render:function(){var e=$.extend(this.model.toJSON(),{__:t,isUsageStatisticsEnabled:this.model.getEnabled(),isUsageStatisticsEditable:this.canEditDataUsageStatistics}),i=this.template(e);return this.$el.html(i),this}})}.apply(t,s))||(e.exports=n)},68939:function(e,t,i){var s,n;s=[i(60567),i(16471),i(66359)],void 0===(n=function(e,t,i){"use strict";var s=e.SumoModel,n=e.GetterSetterMixin,a=e.ModelErrorHandlerMixin,r=t.accountEnI18n,o=i.currentUserHelper;return s.extend({defaults:{enabled:!0,hideError:null},mixins:[a,n],initialize:function(){_.bindAll(this,"onSave","onLoad","onLoadError"),this.context=SumoApp.context,this.setEnabled(!0),this.loadData()},canWork:function(){return SumoApp.priv.hasDataUsageLoggingViewAccess()},onSave:function(e){this.getHideError()||(o.hasFeatureFlag("UIReplaceToasterPlugin")?SumoApp.userMessage.info(sprintf(r.DATA_USAGE_STATISTICS_SAVE_SUCCESS_STR,this.getEnabled()?r.ON:r.OFF)):SumoApp.userMessage.info(sprintf(r.DATA_USAGE_STATISTICS_SAVE_SUCCESS,this.getEnabled()?r.ON:r.OFF),{isHTML:!0}),this.set({triggerViewUpdate:$.now()}))},saveData:function(){if(this.canWork())return this.createPromise({endpoint:SumoApp.ajax.Endpoints.V1_ACCOUNT_DATA_USAGE_STATISTICS_ENABLED,errorCode:"data_usage_statistics",type:"POST",data:this.getEnabled()}).then(this.onSave).catch(this.handleWrappedError)},onLoadError:function(e,t,i,s){$.logWarn("Sumo.Ui.Secure.DataUsageStatisticsModel.loadData - error: '%s'",s),SumoApp.userMessage.error(r.DATA_USAGE_STATISTICS_LOAD_FAILURE)},onLoad:function(e){this.setEnabled(e.enabled),this.set({triggerViewUpdate:$.now()})},loadData:function(){if(this.canWork())return this.createPromise({endpoint:SumoApp.ajax.Endpoints.V1_ACCOUNT_DATA_USAGE_STATISTICS_ENABLED,errorCode:"data_usage_statistics"}).then(this.onLoad).catch(this.onLoadError)}})}.apply(t,s))||(e.exports=n)},68994:function(e,t,i){var s,n;s=[i(60567),i(66359),i(16471),i(53615),i(73381),i(70321),i(47782),i(63205),i(50963),i(16193)],void 0===(n=function(e,t,i,s,n,a,r,o,l,d){var c=e.SelectizeViewModule,u=e.SumoViewModule,h=e.ViewErrorHandlerMixinModule,g=t.currentUserActions,p=d.user2FADialogService,m=e.workspacesManager,f=i.accountEnI18n,S=o.userPreferenceConstants,v=(e.UserPreferencesModelV2,".timezone-selector"),w=".date-format-selector",b="DEFAULT";return u.extend({events:{"click #change-password-link":"onChangePassword","click #change-email-link":"onChangeEmail","submit #user-preferences-form":"handleSubmit","change #input-session-timeout, .preference-checkbox, input[type=radio]":"resetFormStatus","change .date-format-selector":"onDateFormatChange","click #open-enable-2fa, #open-change-2fa":"enable2FA","click #open-codes-2fa":"open2FACodes","click #open-disable-2fa":"disable2FA","submit form#user-preferences-form":"onSubmitPreventDefault"},mixins:[h,r],template:_.template(s),coreId:"user-preferences",onResizeDebouncer:null,overlay:null,currentUserHelper:null,isEnable:null,sessionTimeoutOptions:[{value:5,label:f.SESSION_TIMEOUT_5_MIN},{value:15,label:f.SESSION_TIMEOUT_15_MIN},{value:30,label:f.SESSION_TIMEOUT_30_MIN},{value:60,label:f.SESSION_TIMEOUT_1_HOUR},{value:120,label:f.SESSION_TIMEOUT_2_HOURS},{value:360,label:f.SESSION_TIMEOUT_6_HOURS},{value:720,label:f.SESSION_TIMEOUT_12_HOURS},{value:1440,label:f.SESSION_TIMEOUT_1_DAY},{value:2880,label:f.SESSION_TIMEOUT_2_DAYS},{value:4320,label:f.SESSION_TIMEOUT_3_DAYS},{value:7200,label:f.SESSION_TIMEOUT_5_DAYS},{value:10080,label:f.SESSION_TIMEOUT_7_DAYS}],onSubmitPreventDefault:function(e){e.preventDefault()},initialize:function(){_.bindAll(this,"render","onResize","revertDateFormat","onDisable2FAClosed","onEnable2FAClosed"),this.model=SumoApp.user.userPreferencesModel,this.currentUserHelper=SumoApp.getAngularService("currentUserHelper");var e=this.model.loadData({silent:!0}),t=this.model.loadMaxSessionTimeout();e&&t&&Promise.all([e,t]).then(this.render),this.listenTo(this.model,"change:dataSavingStatus",this.dataSavingStatusChanged),this.onResizeDebouncer=_.throttle(this.onResize,300),$(window).on("resize",this.onResizeDebouncer)},afterInitialize:function(){var e=this;this.destroy=_.wrap(this.destroy,(function(t){e.showActivationOverlay&&e.hideActivationOverlay(),e.onResizeDebouncer.cancel(),$(window).off("resize",e.onResizeDebouncer),t.call(e)})),m.getCurrent().onExit((function(t){e.destroy(),t()})),this.render(),this.setHeight()},revertDateFormat:function(){var e=this.getDateLocaleFormatView(),t=this.model.getDateLocaleFormat()||this.model.DateLocaleFormats.auto;this.skipDateFormatModal=!0,e.selectize.setValue(t)},setDateFormatChanged:function(e){this.dateFormatChanged=e,this.model.updateDateLocale()},onDateFormatChange:function(){if(this.skipDateFormatModal)this.skipDateFormatModal=!1;else if(!this.dateFormatChanged){var e=_.bind(this.setDateFormatChanged,this,!0);SumoApp.userMessage.question(f.DATE_FORMAT_CHANGE_WARNING,{isHTML:!0,cancelCallback:this.revertDateFormat,okCallback:e})}},getTimeZoneListView:function(){return this.getView("timeZoneListView")},getDateLocaleFormatView:function(){return this.getView("dateLocaleFormatListView")},onChangePassword:function(e){$(e.target).hasClass("link-disabled")||SumoApp.applicationView.onChangePassword(e)},onChangeAddressClosed:function(){$("#change-email-link").removeClass("link-disabled")},onChangeEmail:function(e){e.preventDefault(),$(e.target).hasClass("link-disabled")||$("#change-password-form").is(":visible")||(this.changeAddress(),$(e.target).addClass("link-disabled"))},changeAddress:function(){var e={userId:this.currentUserHelper.get().id,currentEmail:this.currentUserHelper.get().name,isUserPage:!1};SumoApp.getAngularService("changeEmailService").open(e).then(this.onChangeAddressClosed)},toggleTwoFAControls:function(){this.$(".twoFA__control").removeClass("twoFA__disabled twoFA__enabled"),this.currentUserHelper.get().mfaEnabled?this.$("#twoFA__enabled").addClass("twoFA__enabled"):this.$("#twoFA__disabled").addClass("twoFA__disabled")},onEnable2FAClosed:function(e){e&&(g.getActionCreators().updateCurrentUserAttr({mfaEnabled:!0}),this.$(".twoFA_status").text(sprintf(f.twoFA_status,f.enabled)));var t=this.currentUserHelper.get().mfaEnabled;this.$(".twoFA_status").text(sprintf(f.twoFA_status,t?f.enabled:f.disabled)),this.$("#open-enable-2fa, #open-change-2fa").removeClass("link-disabled"),this.toggleTwoFAControls()},openEnable2FA:function(){this.stopListening(this.model,"change:qrSecret"),p.openEnableDialog(this.model.getQrSecret(),this.model.getQrUrl(),this.currentUserHelper.get().name,this.isEnable,!1).then(this.onEnable2FAClosed),this.isEnable=!1},enable2FA:function(e){e.preventDefault(),$(e.target).hasClass("link-disabled")||$("#enable2FA__dlg").is(":visible")||(this.isEnable=$(e.target).data("enable"),this.listenTo(this.model,"change:qrSecret",this.openEnable2FA),this.model.loadQRSecret(),$(e.target).addClass("link-disabled"))},open2FACodes:function(e){e.preventDefault();var t=$(e.target);t.hasClass("link-disabled")||$("#backup2FA__dlg").is(":visible")||(p.openPasswordDialog(!1).then((function(){t.removeClass("link-disabled")})),t.addClass("link-disabled"))},onDisable2FAClosed:function(e){this.$("#open-disable-2fa, #open-change-2fa").removeClass("link-disabled"),this.toggleTwoFAControls(),e&&this.$(".twoFA_status").text(sprintf(f.twoFA_status,f.disabled))},openDisable2FA:function(){p.openDisableDialog(this.currentUserHelper.get().name).then(this.onDisable2FAClosed)},disable2FA:function(e){e.preventDefault(),$(e.target).hasClass("link-disabled")||$("#disable2FA__dlg").is(":visible")||(this.openDisable2FA(),$(e.target).addClass("link-disabled"))},handleSubmit:function(){var e=this.$("#input-session-timeout").val(),t=this.$("#input-run-selected-saved-search").is(":checked"),i=this.$("#input-auto-open-auto-complete").is(":checked"),s=this.$("#input-reopen-previous-tabs").is(":checked"),n=this.$("#input-enter-key-runs-query-yes").is(":checked"),a=this.$("#log-search-default-basic-mode").is(":checked"),r=this.$('[name="input-close-search-window"]:checked').val();SumoApp.priv.hasFlagUIOverrideSessionTimeout()||this.model.setSessionTimeout(Number(e)),this.model.setRunSelectedSavedSearch(t),this.model.setAutoOpenAutoComplete(i),this.model.setReopenPreviousTabs(s),this.model.setEnterKeyRunsQuery(n),this.model.setLogSearchBasicMode(a),this.model.setConfirmTabClose(this.$("#input-confirm-tab-close").is(":checked")),this.model.setKeyboardShortcuts(this.$("#input-keyboard-shortcuts").is(":checked")),this.model.setSendSharedContentEmailNotifications(this.$("#input-send-content-share-email-notifications").is(":checked")),this.model.setShowTzOffset(this.$("#input-show-tz-offset").is(":checked")),SumoApp.priv.hasFlagUICheckOnSearchClose()&&this.model.setCloseWindowCheck(r);var o=this.getTimeZoneListView().getValue();if(o===b&&(o=null),this.model.setTimeZone(o),this.model.setDateLocaleFormat(this.getDateLocaleFormatView().getValue()),this.currentUserHelper.hasFeatureFlag("UIMonitorsSubscriptions")){var l=this.isInputChecked("#input-display-alert-badge"),d=this.isInputChecked("#input-notify-only-about-subscribed-monitors"),c=this.isInputChecked("#input-alerts-active-items-only-as-default-filter"),u=this.isInputChecked("#input-alerts-my-subscriptions-as-default-filter");this.model.setDisplayAlertBadge(l),this.model.setNotifyOnlyAboutSubscribedMonitors(d),this.model.setAlertsActiveItemsOnlyAsDefaultFilter(c),this.model.setAlertsMySubscriptionsAsDefaultFilter(u)}this.model.saveData(),this.setDateFormatChanged(!1)},isInputChecked:function(e){return this.$el.find(e).is(":checked")},resetFormStatus:function(){this.model.getDataSavingStatus()===this.model.DataSavingStatus.HAS_ERROR&&this.model.setDataSavingStatus(this.model.DataSavingStatus.INIT)},dataSavingStatusChanged:function(){var e=this.model.getDataSavingStatus(),t=this.$("#errors");switch(SumoApp.context.errorUtil.destroy(t),e){case this.model.DataSavingStatus.INIT:this.$("#save-button").removeAttr("disabled"),this.$("#save-button").spinner("stop"),this.$("#errors").hide();break;case this.model.DataSavingStatus.IN_PROGRESS:this.$("#save-button").attr("disabled","disabled"),this.$("#save-button").spinner("start"),this.$("#errors").hide();break;case this.model.DataSavingStatus.HAS_ERROR:this.$("#save-button").attr("disabled","disabled"),this.$("#save-button").spinner("stop"),SumoApp.context.errorUtil.render(t,this.model.getDataSavingError(),this.model.getDataSavingErrorDetails()),this.$("#errors").show();break;case this.model.DataSavingStatus.COMPLETE:SumoApp.user.userPreferencesModel.set(this.model.getAllUserPreferencesAttributes(!0)),this.render(),this.model.setDataSavingStatus(this.model.DataSavingStatus.INIT);break;default:throw"No handler for model data saving status ["+e+"]."}},createAPIKey:function(e){e=e||{},this.getView("api-accessKey-mgmt").createAPIKey(e)},setHeight:function(){var e=$("#application-view").outerHeight()-this.$(".list-view-title-ctr").outerHeight()-32;this.$(".list-view-main").css("max-height",e)},onResize:function(){this.subviews.iterate((function(e,t){"onResize"in e&&e.onResize()})),this.setHeight()},buildTimeZoneList:function(){var e=l.getTimeZoneList();e.unshift({value:b,text:f.USE_BROWSER_TIME_ZONE});var t=new c({el:this.$(v),create:!1,clearOnOpen:!0,options:e}),i=this.model.getTimeZone();_.isNull(i)?t.setValue(b):t.setValue(i),this.registerView("timeZoneListView",t)},buildDateLocaleFormatView:function(){this.registerView("dateLocaleFormatListView",new c({el:this.$(w),create:!1,disableInput:!0}))},forceRender:function(){this.render()},render:function(){var e=this.currentUserHelper.hasPrivilege("CanChangeEmail")&&0!==this.currentUserHelper.get().name.indexOf("security+sumosupport+"),t=SumoApp.priv.hasFlagMfaIsAllowedInUserInfo()&&this.currentUserHelper.get().mfaAllowed,i=this.model.getSendSharedContentEmailNotifications(),s=this.currentUserHelper.hasFeatureFlag("UIMonitorsSubscriptions"),r=t&&this.currentUserHelper.get().mfaEnabled,o=sprintf(f.twoFA_status,r?f.enabled:f.disabled),l=t&&this.currentUserHelper.get().mfaCanDisable,d=this.model.getSessionTimeout()?this.model.getSessionTimeout():this.model.DEFAULT_SESSION_TIMEOUT,c=(this.currentUserHelper.get().roles||[""]).join(", "),u=this.model.has("maxSessionTimeout")?this.model.getMaxSessionTimeout():void 0,h=this.sessionTimeoutOptions.filter((function(e){return e.value<=u})),g=$.extend(this.model.toJSON(),{__:f,coreId:this.coreId,pageTitle:f.user_prefences_page_title,secondaryText:"",showAddButton:!1,orgName:this.currentUserHelper.getOrg().name,orgId:SumoUtil.longIdToHex(this.currentUserHelper.getOrg().id.toString(),16),userName:this.currentUserHelper.get().name,rolesList:c,cssClass:this.currentUserHelper.get().samlLockdownUser||this.currentUserHelper.getOrg().typeHelpers.isHeroku?"link-disabled":"",sessionTimeout:d,maxSessionTimeout:u,sessionTimeoutOptions:h,confirmTabClose:this.model.getConfirmTabClose(),logSearchBasicMode:this.model.getLogSearchBasicMode(),keyboardShortcuts:this.model.getKeyboardShortcuts(),showChangeEmail:e,showOrgInfo:SumoApp.priv.hasFlagUIChangeOrgname(),showTzOffset:this.model.getShowTzOffset(),dateLocaleFormat:this.model.getDateLocaleFormat(),dateLocaleFormatVals:this.model.DateLocaleFormats,runAutoOpenAutoComplete:this.model.getAutoOpenAutoComplete(),reopenPreviousTabs:this.model.getReopenPreviousTabs(),timeZonePreferenceEnabled:!0,showTzOffsetPreferenceEnabled:SumoApp.priv.hasFlagUIShowTzOffsetPreference(),SEARCH_WINDOW_CLOSE_OPTIONS:S.SEARCH_WINDOW_CLOSE_OPTIONS,ffCheckOnSearchCloseEnabled:SumoApp.priv.hasFlagUICheckOnSearchClose(),ffUIQueryModeToggling:SumoApp.priv.hasFlagUIQueryModeToggling(),ffUISearchIndexSelection:SumoApp.priv.hasFlagUISearchIndexSelection(),show2FA:t,sendSharedContentEmailNotifications:i,twoFAEnabled:r,twoFA_status:o,canDisable2FA:l,hasEnabledUIMonitorsSubscriptions:s,displayAlertBadge:this.model.getDisplayAlertBadge(),notifyOnlyAboutSubscribedMonitors:this.model.setNotifyOnlyAboutSubscribedMonitors(),alertsActiveItemsOnlyAsDefaultFilter:this.model.setAlertsActiveItemsOnlyAsDefaultFilter(),alertsMySubscriptionsAsDefaultFilter:this.model.setAlertsMySubscriptionsAsDefaultFilter()});this.$el.html(this.template(g)),this.$("#save-button").spinner(),this.$("#errors").hide(),this.getView("api-accessKey-mgmt")?this.getView("api-accessKey-mgmt").setElement(this.$("#api-accessKey-section")).render():this.registerView("api-accessKey-mgmt",new n({model:new a({context:SumoApp.context,showCreator:!1}),context:SumoApp.context,el:$("#api-accessKey-section"),showCreator:!1})),this.setHeight(),SumoApp.priv.hasNeedsActivation()&&!this.overlay&&(this.overlay=this.showActivationOverlay("userPreferences")),this.getTimeZoneListView()&&this.getTimeZoneListView().destroy(),this.buildTimeZoneList();var p=this.getDateLocaleFormatView();return p&&p.destroy(),this.buildDateLocaleFormatView(),this}})}.apply(t,s))||(e.exports=n)},50500:function(e,t,i){var s,n;s=[i(56077),i(89752)],void 0===(n=function(e,t){"use strict";return Backbone.Model.extend({STATUS_INIT:0,STATUS_INIT_DONE:1,STATUS_CONFIGURE:2,STATUS_IN_PROGRESS:3,STATUS_HAS_ERROR:4,STATUS_SAVE_COMPLETE:5,STATUS_DONE:6,defaults:{currentProviderName:null,samlIdentityProviders:null,status:0,errorMessage:"",errorDetails:""},getSamlIdentityProviders:function(){return this.get("samlIdentityProviders")},setCurrentProviderName:function(e){this.set({currentProviderName:e})},getCurrentProviderName:function(){return this.get("currentProviderName")},getCurrentProvider:function(){return this.getProviderByName(this.getCurrentProviderName())},getProviderByName:function(e){var t=null,i=this.get("samlIdentityProviders");return i&&(t=_.find(i,(function(t){return t.getConfigurationName()===e}))),t},getStatus:function(){return this.get("status")},setStatus:function(e){this.set({status:e})},getErrorMessage:function(){return this.get("errorMessage")},getErrorDetails:function(){return this.get("errorDetails")},setError:function(e,t){this.set({errorMessage:e,errorDetails:t,status:this.STATUS_HAS_ERROR})},deleteConfig:function(e,t){if(e){var i=this;this.ajax.call(this,{endpoint:sprintf(i.ajax.EndpointFormats.V1_ACCOUNT_DELETE_SAML_IDENTITY_PROVIDER,e.getId()),errorCode:"delete_saml_configuration",type:"DELETE",success:function(s){var n=_.without(this.getSamlIdentityProviders(),e);n.length>0?i.set({samlIdentityProviders:n,currentProviderName:n[0].getConfigurationName()}):this.setStatus(this.STATUS_DONE),t&&t()},error:function(e,t,i){return $.logError("Sumo.Ui.UserAdmin.deleteUsers - error: '%s' '%s'",t,i),!0}})}},save:function(e){this.setStatus(this.STATUS_IN_PROGRESS),e.id?this.ajax.call(this,{endpoint:this.ajax.Endpoints.V1_ACCOUNT_UPDATE_SAML_IDENTITY_PROVIDER,type:"PUT",errorCode:"update_saml_identity_provider",data:e,success:function(e){this.setStatus(this.STATUS_SAVE_COMPLETE)},error:function(e,t,i){return this.setError(t,i),!1}}):(e.id=0,this.ajax.call(this,{endpoint:this.ajax.Endpoints.V1_ACCOUNT_NEW_SAML_IDENTITY_PROVIDER,type:"POST",errorCode:"new_saml_identity_provider",data:e,success:function(e){this.setStatus(this.STATUS_SAVE_COMPLETE)},error:function(e,t,i){return this.setError(t,i),!1}}))},load:function(){var e=this;this.ajax.call(this,{endpoint:this.ajax.Endpoints.V1_ACCOUNT_GET_SAML_IDENTITY_PROVIDERS,type:"GET",errorCode:"get_saml_identity_providers",success:function(i){var s=[];_.each(i.identityProviders,(function(e){s.push(new t(e))}));var n=_.sortBy(s,(function(e){return e.getConfigurationName()}));n.length>0?(e.setCurrentProviderName(n[0].getConfigurationName()),e.set({status:this.STATUS_INIT_DONE,samlIdentityProviders:n})):e.set({status:this.STATUS_CONFIGURE,samlIdentityProviders:n})},error:function(e,t){return!this.get("exitCallback")||this.get("exitCallback")(!0)}})},initialize:function(){this.get("context")&&(this.ajax=this.get("context").ajax)}})}.apply(t,s))||(e.exports=n)},51456:function(e,t,i){var s,n;s=[i(56077),i(16456),i(43606),i(50500),i(89752)],void 0===(n=function(e,t,i,s,n){"use strict";return Backbone.View.extend({FIELDS_MAP:{configurationName:"#input-name",issuer:"#input-issuer",authnRequestUrl:"#input-authn-url",x509cert1:"#input-certificate-1",debug:"#input-debug-mode",emailAttribute:"#input-attribute-name",onDemandProvisioningRoles:"#input-sumo-roles",spInitiatedLoginEnabled:"#input-checkbox-splc",spInitiatedLoginPath:"#input-login-path",onDemandProvisioningEnabled:"#input-on-demand-checkbox",firstNameAttribute:"#input-first-name-attribute",lastNameAttribute:"#input-last-name-attribute",logoutEnabled:"#input-logout-url-checkbox",logoutUrl:"#input-logout-url",rolesAttribute:"#input-roles-attribute"},events:{"click #btn-configure":"onConfigure","click #btn-delete":"onDelete","click #btn-save":"onSave","click #btn-close":"onClose","click #btn-cancel":"onClose","click #link-help":"onHelp","click input[type=radio]":"onRadioButtonClick","keyup #input-identitySelector_input":"onSelectorChange","click .selectable-input":"selectField","mouseup textarea":"resizeFaq","click input":"reset","click textarea":"reset","click .online-help-link":"onShowHelp"},template:_.template(t),detailsTemplate:_.template(i),SUMMARY_WIDTH:630,FORM_WIDTH:930,identityProviderFlexbox:null,onShowHelp:function(e){var t=e.currentTarget.name;return SumoApp.getAngularService("helpNavigationService").showHelp({id:t}),!1},onSelectorChange:function(e){var t=this.$("#input-identitySelector_input").val();this.model.getProviderByName(t)?this.$("#btn-delete").removeAttr("disabled"):this.$("#btn-delete").attr("disabled","disabled"),this.resizeFaq()},onDelete:function(t){var i=this.$("#input-identitySelector_input").val(),s=this.model.getProviderByName(i);if(s){var n=this;SumoApp.userMessage.question(sprintf(e.text_confirm_delete_config,i),{okCallback:function(){n.model.deleteConfig(s,(function(){SumoApp.userMessage.info(sprintf(e.text_delete_config_success,i))}))},isHTML:!0})}},onSave:function(e){var t=this,i={};if(!$(e.target).hasClass("is-spinning")){var s=this.model.getCurrentProvider();s&&(i.id=s.getId());var n=_.keys(this.FIELDS_MAP);_.each(n,(function(e){var s=t.FIELDS_MAP[e],n=t.$(s),a=null;a=n.is("input:checkbox")||n.is("input:radio")?n.is(":checked"):`${n.val()||""}`.trim(),i[e]=a})),this.runValidate(i)&&this.model.save(i)}},selectField:function(e){this.$(e.currentTarget).trigger("focus").trigger("select")},reset:function(e){"button"!==e.target.type&&this.model.getStatus()===this.model.STATUS_HAS_ERROR&&(this.model.setStatus(this.model.STATUS_INIT),this.resizeFaq())},onRadioButtonClick:function(e){this.$("#input-email-saml-subject").is(":checked")?this.$("#input-attribute-name").attr("disabled","disabled"):this.$("#input-attribute-name").removeAttr("disabled")},resizeDlg:function(e){var t=$("#config-saml-dialog");if(t.hasClass("ui-dialog-content")){t.dialog("option","width",e);var i=t.dialog("option","position").at.split(" ")[1];t.dialog("option","position",{my:"left top",at:"left+"+SumoUtil.getLeftPositionOfDialog(e)+i})}},onConfigure:function(){var e=this.$("#input-identitySelector_input").val();SumoUtil.isStringEmpty(e)||(this.model.setStatus(this.model.STATUS_CONFIGURE),this.model.setCurrentProviderName(e),this.render(),this.resizeDlg(this.FORM_WIDTH))},onClose:function(){this.options.exitCallback&&this.options.exitCallback()},onHelp:function(e){return SumoApp.getAngularService("helpNavigationService").showHelp({id:"4016"}),!1},resizeFaq:function(){var e=$("div.main-container").height();e>0&&this.$("div.faq-container").height(e-22)},showHideFaq:function(){this.$("div.faq-container").css("display","inline-block")},updateStatus:function(){var t=this.$("#errors");this.options.context.errorUtil.destroy(t);var i=this.model.getStatus();i===this.model.STATUS_INIT||i===this.model.STATUS_INIT_DONE||i===this.model.STATUS_CONFIGURE?this.$("#errors").hide():i===this.model.STATUS_IN_PROGRESS?(this.$("#btn-save").spinner("start"),this.$("#errors").hide()):i===this.model.STATUS_SAVE_COMPLETE?(SumoApp.userMessage.info(e.text_save_success),this.options.exitCallback()):i===this.model.STATUS_HAS_ERROR?(this.$("#btn-save").spinner("stop"),this.options.context.errorUtil.render(t,this.model.getErrorMessage(),this.model.getErrorDetails()),this.$("#errors").show()):i===this.model.STATUS_DONE&&this.options.exitCallback()},updateProvider:function(e){this.onSelectorChange(),$.later(10,this,(function(){this.model.setCurrentProviderName(e)}))},runValidate:function(t){if(SumoUtil.isStringEmpty(t.configurationName))return this.model.setError(e.error_no_name),!1;if(!SumoUtil.isValidName(t.configurationName))return this.model.setError(e.error_invalid_name),!1;if(SumoUtil.isStringEmpty(t.issuer))return this.model.setError(e.error_no_issuer),!1;var i=this.model.getProviderByName(t.configurationName);if(t.id){if(i&&i.getId()!==t.id)return this.model.setError(e.error_name_inuse),!1}else if(i)return this.model.setError(e.error_name_inuse),!1;if(!SumoUtil.isStringEmpty(t.authnRequestUrl)&&!SumoUtil.isValidUrl(t.authnRequestUrl))return this.model.setError(e.error_invalid_authn_url),!1;if(this.$("#input-email-saml-subject").is(":checked"))t.emailAttribute="";else if(SumoUtil.isStringEmpty(t.emailAttribute))return this.model.setError(e.error_no_email),!1;if(t.spInitiatedLoginEnabled){if(SumoUtil.isStringEmpty(t.spInitiatedLoginPath))return this.model.setError(e.error_no_login_path),!1;if(!new RegExp(/^([a-zA-Z0-9\-\_\/\.]+)$/).test(t.spInitiatedLoginPath))return this.model.setError(e.error_invalid_login_path),!1}else t.spInitiatedLoginPath="";if(t.onDemandProvisioningEnabled){if(SumoUtil.isStringEmpty(t.onDemandProvisioningRoles))return this.model.setError(e.error_no_roles),!1;var s=[];_.each(t.onDemandProvisioningRoles.split(","),(function(e){SumoUtil.isStringEmpty(e)||s.push(e.trim())})),t.onDemandProvisioningRoles=s}else t.firstNameAttribute="",t.lastNameAttribute="",t.onDemandProvisioningRoles=[];if(t.logoutEnabled){if(SumoUtil.isStringEmpty(t.logoutUrl))return this.model.setError(e.error_no_logout_url),!1}else t.logoutUrl="";if(this.$("#input-roles-attr-checkbox").is(":checked")){var n=`${this.$("#input-roles-attribute").val()||""}`.trim();if(SumoUtil.isStringEmpty(n))return this.model.setError(e.error_no_roles_attribute),!1}else t.rolesAttribute="";return!0},_renderSummaryView:function(t){this.$el.html(this.template(t));var i={results:[]};_.each(this.model.getSamlIdentityProviders(),(function(e){i.results.push({id:e.id,name:e.getConfigurationName()})})),this.identityProviderFlexbox&&this.$("#input-identitySelector").empty();var s=this.model.getCurrentProvider(),n=document.location.protocol+"//"+document.location.host;!_.isEmpty(s)&&s.has("configurationName")&&(this.$("#input-identitySelector_hidden").val(s.getId()),this.$("#input-identitySelector_input").val(s.getConfigurationName()),this.$("#inp-identity_selector_post").val(sprintf("%s: %s/sumo/saml/post/%s",e.post,n,s.get("spInitiatedLoginPath"))),this.$("#inp-identity_selector_get").val(sprintf("%s: %s/sumo/saml/get/%s",e.redirect,n,s.get("spInitiatedLoginPath"))),this.$("#inp-assertion_consume").val(sprintf("%s/sumo/saml/consume/%s",n,s.get("id"))),this.$("#inp-auth_request").val(sprintf("%s/sumo/saml/login/%s",n,s.get("id"))))},_renderDetailedView:function(e,t){if(this.$el.html(this.detailsTemplate(t)),e){e.isSPInitiatedLoginEnabled()&&this.$("#input-checkbox-splc").prop("checked",!0),e.isOnDemandProvisioningEnabled()&&(this.$("#input-on-demand-checkbox").prop("checked",!0),this.$("#input-sumo-roles").val(e.getOnDemandProvisioningRoles().toString())),e.isLogoutEnabled()&&this.$("#input-logout-url-checkbox").prop("checked",!0),SumoUtil.isStringEmpty(e.getEmailAttribute())?(this.$("#input-email-saml-subject").prop("checked",!0),this.$("#input-attribute-name").attr("disabled","disabled")):(this.$("#input-email-saml-attribute").prop("checked",!0),this.$("#input-attribute-name").removeAttr("disabled")),e.getDebug()&&this.$("#input-debug-mode").prop("checked",!0);var i=e.getRoles();i&&!SumoUtil.isStringEmpty(i)?(this.$("#input-roles-attr-checkbox").prop("checked",!0),this.$("#input-roles-attribute").val(i)):(this.$("#input-roles-attribute").val(""),this.$("#input-roles-attr-checkbox").removeAttr("checked"))}else this.$("#input-email-saml-subject").prop("checked",!0),this.$("#input-roles-from-saml-attr").prop("checked",!0)},initialize:function(){_.bindAll(this,"render"),this.model=new s(this.options),this.model.load(),this.listenTo(this.model,"change:currentProviderName",this.render),this.listenTo(this.model,"change:samlIdentityProviders",this.render),this.listenTo(this.model,"change:status",this.updateStatus),this.render()},render:function(){var t=document.location.protocol+"//"+document.location.host,i=$.extend(this.model.toJSON(),{__:e,serviceUrlBase:t,assertion_consume:"",auth_request:"",identity_selector_post:"",identity_selector_get:""}),s=this.model.getCurrentProvider();s||(s=new n),i=$.extend(i,s.toJSON());var a,r=this.model.getStatus();return r===this.model.STATUS_INIT?this.$el.html(this.template(i)):r===this.model.STATUS_CONFIGURE?(this._renderDetailedView(s,i),a=this.FORM_WIDTH):(this._renderSummaryView(i),a=this.SUMMARY_WIDTH),r===this.model.STATUS_CONFIGURE&&this.$("#btn-save").spinner(),this.showHideFaq(),this.resizeFaq(),this.resizeDlg(a),$(".ao-ctr").is(":visible")||this.$("#input-name").trigger("focus"),this},destroy:function(){this.identityProviderFlexbox&&this.identityProviderFlexbox.destroy&&(this.identityProviderFlexbox.destroy(),this.identityProviderFlexbox=null),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},89752:function(e,t){var i;void 0===(i=function(){"use strict";return Backbone.Model.extend({defaults:{id:null,spInitiatedLoginPath:null,configurationName:null,issuer:null,spInitiatedLoginEnabled:null,authnRequestUrl:null,x509cert1:null,x509cert2:null,x509cert3:null,deployments:null,logoutEnabled:!1,logoutUrl:null,onDemandProvisioningEnabled:!1,firstNameAttribute:null,lastNameAttribute:null,onDemandProvisioningRoles:[],emailAttribute:null,debug:!1,rolesAttribute:null},getId:function(){return this.get("id")},getConfigurationName:function(){return this.get("configurationName")},isSPInitiatedLoginEnabled:function(){return this.get("spInitiatedLoginEnabled")},isOnDemandProvisioningEnabled:function(){return this.get("onDemandProvisioningEnabled")},isLogoutEnabled:function(){return this.get("logoutEnabled")},getEmailAttribute:function(){return this.get("emailAttribute")},getOnDemandProvisioningRoles:function(){return this.get("onDemandProvisioningRoles")},getRoles:function(){return this.get("rolesAttribute")},getDebug:function(){return this.get("debug")},getRolesAttribute:function(){return this.get("rolesAttribute")},save:function(){},initialize:function(){this.get("context")&&(this.ajax=this.get("context").ajax)}})}.apply(t,[]))||(e.exports=i)},80153:function(e,t,i){var s,n;s=[i(60567),i(66359),i(74915)],void 0===(n=function(e,t,i){"use strict";var s=e.SumoModel,n=e.GetterSetterMixin,a=e.ModelErrorHandlerMixin;return s.extend({defaults:{enabled:!1,hideError:null},mixins:[a,n,i],initialize:function(){this.loadDataValues={endpoint:"V1_ACCOUNT_SEARCH_AUDIT_POLICY_GET",errorMsg:"SEARCH_AUDIT_LOG_LOAD_FAILURE",errorCode:"audit_logging"},this.saveValues={reqType:"PUT",endpoint:"V1_ACCOUNT_SEARCH_AUDIT_POLICY_POST",errorCode:"audit_logging",successMsg:"SEARCH_AUDIT_LOG_SAVE_SUCCESS",errorCallback:this.onSaveError}},getRequestData:function(){return{data:[{key:"searchAuditEnabled",value:this.getEnabled()}]}},canWork:function(){return t.currentUserHelper.hasPrivilege("SearchAuditLoggingView")},onSaveError:function(){SumoApp.userMessage.error(__.SEARCH_AUDIT_LOG_SAVE_FAILURE)}})}.apply(t,s))||(e.exports=n)},86129:function(e,t,i){var s,n;s=[i(60567),i(82e3),i(39204)],void 0===(n=function(e,t,i){return e.SumoViewModule.extend({mixins:[i],events:{"click input#search-audit-logging-checkbox":"save","click .online-help-link":"showHelp"},checkboxId:"search-audit-logging-checkbox",subviews:null,template:function(e){return _.template(t,e)},showHelp:function(e){e.preventDefault(),this.onShowHelp(e)},save:function(){this.saveStatus(this.checkboxId)},render:function(){this.renderView()}})}.apply(t,s))||(e.exports=n)},45829:function(e,t,i){var s,n;s=[i(60567),i(16471),i(74915),i(66359)],void 0===(n=function(e,t,i,s){var n=e.SumoModel,a=e.GetterSetterMixin,r=e.ModelErrorHandlerMixin,o=t.accountEnI18n,l=s.currentUserHelper;return n.extend({mixins:[r,a,i],defaults:{enabled:!1,sessionLimit:3,fieldToBeUpdated:""},initialize:function(){this.loadDataValues={endpoint:"V1_CONCURRENT_SESSIONS_GET",errorMsg:"V1_CONCURRENT_SESSIONS_FAILURE",errorCode:"concurrent_sessions"},this.saveValues={reqType:"PUT",endpoint:"V1_DASHBOARD_DATA_ACCESS_LEVEL_POST",errorCode:"concurrent_sessions",successMsgs:{onMsg:"CONCURRENT_SESSIONS_ON_SUCCESS",offMsg:"CONCURRENT_SESSIONS_OFF_SUCCESS"},sessionLimitMsgs:{success:"CONCURRENT_SESSIONS_LIMIT_SUCCESS",error:"CONCURRENT_SESSIONS_LIMIT_FAILURE"},errorCallback:this.onSaveError.bind(this)}},canWork:function(){return!0},getRequestData:function(){return{data:[{key:"orglevelSessionLimitEnabled",value:this.getEnabled()},{key:"orgLevelSessionLimit",value:this.getSessionLimit()}]}},onLoad:function(e){var t=Array.isArray(e.data),i=t?e.data.find((function(e){return e&&"orglevelSessionLimitEnabled"===e.key})):null,s=!(!i||"true"!==i.value)&&"true"===i.value;this.setEnabled(s);var n=t?e.data.find((function(e){return e&&"orgLevelSessionLimit"===e.key})):null,a=n?n.value:3;this.setSessionLimit(a),this.set({triggerViewUpdate:$.now()})},onLoadError:function(e){400===e.status?this.onLoad({enabled:!1}):(this.onLoad({enabled:this.getEnabled()}),SumoApp.userMessage.error(o[this.loadDataValues.errorMsg],{toasterClass:"concurrent-session-limit-toaster"}))},onSave:function(){var e;e="quantity"===this.getFieldToBeUpdated()?this.saveValues.sessionLimitMsgs.success:this.saveValues.successMsgs?this.getEnabled()?this.saveValues.successMsgs.onMsg:this.saveValues.successMsgs.offMsg:this.saveValues.successMsg,this.getHideError&&this.getHideError()||(l.hasFeatureFlag("UIReplaceToasterPlugin")?SumoApp.userMessage.info(sprintf(o[e],this.getEnabled()?o.ON:o.OFF)):SumoApp.userMessage.info(sprintf(o[e],this.getEnabled()?o.ON:o.OFF),{isHTML:!0,toasterClass:"concurrent-session-limit-toaster"}),this.set({triggerViewUpdate:$.now()})),this.setFieldToBeUpdated("")},onSaveError:function(){SumoApp.userMessage.error("quantity"===this.getFieldToBeUpdated()?o.CONCURRENT_SESSIONS_LIMIT_FAILURE:o.CONCURRENT_SESSIONS_UPDATE_FAILURE,{toasterClass:"concurrent-session-limit-toaster",showTime:1e4,autoDismiss:!1})}})}.apply(t,s))||(e.exports=n)},92438:function(e,t,i){var s,n;s=[i(60567),i(16471),i(77720),i(39204)],void 0===(n=function(e,t,i,s){return e.SumoViewModule.extend({mixins:[s],events:{"click input#concurrent-session-limit-checkbox":"save","change #concurrent-session-limit-input":"saveLimit"},privilege:"ConcurrentSessionLimitView",checkboxId:"concurrent-session-limit-checkbox",subviews:null,template:function(e){return _.template(i,e)},save:function(){var e=this;this.model.setFieldToBeUpdated("enabled"),this.saveStatus(this.checkboxId).then((function(){e.model.getEnabled()?e.$("#concurrent-session-limit-input").removeAttr("disabled"):e.$("#concurrent-session-limit-input").attr("disabled","disabled")}))},saveLimit:function(e){var i=parseInt(e.target.value);this.model.setFieldToBeUpdated("quantity"),this.model.setSessionLimit(i),i&&i>0&&i<101?this.model.saveData():this.renderView(t.accountEnI18n.NUMBER_OF_CONCURRENT_SESSIONS_NUMBER)},render:function(){this.renderView()}})}.apply(t,s))||(e.exports=n)},11726:function(e,t,i){var s,n;s=[i(60567),i(16471),i(74915)],void 0===(n=function(e,t,i){var s=e.SumoModel,n=e.GetterSetterMixin,a=e.ModelErrorHandlerMixin,r=t.accountEnI18n;return s.extend({mixins:[a,n,i],defaults:{enabled:!1},initialize:function(){this.loadDataValues={endpoint:"V1_DASHBOARD_DATA_ACCESS_LEVEL_GET",errorMsg:"DASHBOARD_DATA_ACCESS_LEVEL_FAILURE",errorCode:"dashboard_data_access_level"},this.saveValues={reqType:"PUT",endpoint:"V1_DASHBOARD_DATA_ACCESS_LEVEL_POST",errorCode:"dashboard_data_access_level",successMsgs:{onMsg:"DASHBOARD_DATA_ACCESS_LEVEL_ON_SUCCESS",offMsg:"DASHBOARD_DATA_ACCESS_LEVEL_OFF_SUCCESS"},errorCallback:this.onSaveError}},canWork:function(){return!0},getRequestData:function(){return{data:[{key:"dashboardSharingDefaultToCreator",value:this.getEnabled()}]}},onLoad:function(e){var t=Array.isArray(e.data)?e.data.find((function(e){return e&&"dashboardSharingDefaultToCreator"===e.key})):null,i=!!t&&"true"===t.value;this.setEnabled(i),this.set({triggerViewUpdate:$.now()})},onLoadError:function(e){400===e.status?this.onLoad({enabled:!1}):(this.onLoad({enabled:this.model.getEnabled()}),SumoApp.userMessage.error(r[this.loadDataValues.errorMsg]))},onSaveError:function(){SumoApp.userMessage.error(r.DASHBOARD_DATA_ACCESS_LEVEL_UPDATE_FAILURE)}})}.apply(t,s))||(e.exports=n)},36760:function(e,t,i){var s,n;s=[i(60567),i(58492),i(39204)],void 0===(n=function(e,t,i){return e.SumoViewModule.extend({mixins:[i],events:{"click input#support-data-access-level-checkbox":"save"},privilege:"DataAccessLevelView",checkboxId:"support-data-access-level-checkbox",subviews:null,template:function(e){return _.template(t,e)},save:function(){this.saveStatus(this.checkboxId)},render:function(){this.renderView()}})}.apply(t,s))||(e.exports=n)},74915:function(e,t,i){var s,n;s=[i(16471),i(66359)],void 0===(n=function(e,t){"use strict";var i=e.accountEnI18n,s=t.currentUserHelper;return{init:function(){this.initializeModel()},mixin:{initializeModel:function(){_.bindAll(this,"onSave","onLoad","onLoadError"),this.context=this.get("context"),this.loadData()},onLoadError:function(){SumoApp.userMessage.error(i[this.loadDataValues.errorMsg])},onLoad:function(e){var t=!1;_.isBoolean(e)?t=e:e.enabled?t=e.enabled:e.data&&(t="true"==e.data[0].value),this.setEnabled(t),this.set({triggerViewUpdate:$.now()})},loadData:function(){var e=this.loadDataValues.endpoint,t=this.loadDataValues.errorCode;if(this.canWork())return this.createPromise({endpoint:SumoApp.ajax.Endpoints[e],errorCode:t}).then(this.onLoad).catch(this.onLoadError)},onSave:function(){var e=this.saveValues.successMsgs?this.getEnabled()?this.saveValues.successMsgs.onMsg:this.saveValues.successMsgs.offMsg:this.saveValues.successMsg;this.getHideError&&this.getHideError()||(s.hasFeatureFlag("UIReplaceToasterPlugin")?SumoApp.userMessage.info(sprintf(i[e],this.getEnabled()?i.ON:i.OFF)):SumoApp.userMessage.info(sprintf(i[e],this.getEnabled()?i.ON:i.OFF),{isHTML:!0}),this.set({triggerViewUpdate:$.now()}))},getRequestData:function(){return this.getEnabled()},saveData:function(){var e=this.saveValues.reqType,t=this.saveValues.endpoint,i=this.saveValues.errorCode,s=this.saveValues.errorCallback;if(this.canWork())return this.createPromise({endpoint:SumoApp.ajax.Endpoints[t],errorCode:i,type:e,data:this.getRequestData()}).then(this.onSave).catch(s)}}}}.apply(t,s))||(e.exports=n)},39204:function(e,t,i){var s,n;s=[i(16471)],void 0===(n=function(e){"use strict";var t=e.accountEnI18n;return{init:function(){this.initializeView()},mixin:{initializeView:function(){_.bindAll(this,"render"),this.options.context=this.model.get("context"),this.listenTo(this.model,"change:triggerViewUpdate",this.render),this.listenTo(this.model,"change:isError",this.onError),this.render()},renderView:function(e){var i=this.model.get("enabled"),s=this.model.has("sessionLimit")?this.model.getSessionLimit():void 0,n=this.model.has("maxSessionTimeout")?this.model.getMaxSessionTimeout():void 0,a=!this.privilege||SumoApp.priv["has"+this.privilege]();return this.$el.html(this.template({isEnabled:i,isEditable:a,sessionLimit:s,maxSessionTimeout:n,errMessage:e,__:t})),this},saveStatus:function(e){return this.model.setEnabled($("#"+e).is(":checked")),this.model.saveData()},destroy:function(){SumoUtil.destroyView(this)}}}}.apply(t,s))||(e.exports=n)},16950:function(e,t,i){var s,n;s=[i(60567),i(89664)],void 0===(n=function(e,t){return e.SumoViewModule.extend({template:_.template(t),initialize:function(){_.bindAll(this,"render"),this.render()},render:function(){var e={__:this.options.__,expirationDate:this.options.expirationDate};return this.$el.html(this.template(e)),this}})}.apply(t,s))||(e.exports=n)},57513:function(e,t,i){var s,n;s=[i(60567),i(16471),i(74915),i(66359)],void 0===(n=function(e,t,i,s){var n=e.SumoModel,a=e.GetterSetterMixin,r=e.ModelErrorHandlerMixin,o=t.accountEnI18n,l=s.currentUserHelper;return n.extend({mixins:[r,a,i],defaults:{enabled:!1,expirationTimestamp:null,expirationDurationInDays:1,supportAccountNotificationFlag:!1},initialize:function(){this.setSupportAccountNotificationFlag(SumoApp.getAngularService("currentUserHelper").hasFeatureFlag("UISupportAccountNotification")),this.loadDataValues=this.getSupportAccountNotificationFlag()?{endpoint:"V1_ACCOUNT_SUPPORT_STATUS_GET",errorMsg:"SUPPORT_ACCOUNT_LOAD_FAILURE",errorCode:"support_account"}:{endpoint:"V1_ACCOUNT_SUPPORT_ACCOUNT_ENABLED",errorMsg:"SUPPORT_ACCOUNT_LOAD_FAILURE",errorCode:"support_account"},this.saveValues=this.getSupportAccountNotificationFlag()?{reqType:"POST",enableEndpoint:"V1_ACCOUNT_SUPPORT_ENABLE",disableEndpoint:"V1_ACCOUNT_SUPPORT_DISABLE",errorCode:"support_account",successMsg:"SUPPORT_ACCOUNT_SAVE_SUCCESS",errorCallback:this.onSaveError}:{reqType:"PUT",endpoint:"V1_ACCOUNT_SUPPORT_ACCOUNT_UPDATE",errorCode:"support_account",successMsg:"SUPPORT_ACCOUNT_SAVE_SUCCESS",errorCallback:this.onSaveError}},canWork:function(){return SumoApp.priv.hasFlagUISupportAccount()},getExpirationDateString:function(){var e,t=this.getExpirationTimestamp();if(null===t)e="Indefinite";else{var i=new Date(t);var s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][i.getMonth()],n=i.getDate(),a=i.getFullYear(),r=i.getHours(),o=i.getMinutes(),l=r>=12?"PM":"AM";e=`${s} ${n}, ${a} at ${r=(r%=12)||12}:${o=o<10?`0${o}`:o} ${l} ${moment.tz(moment.tz.guess()).format("z")}`}return e},onSaveError:function(){SumoApp.userMessage.error(o.SUPPORT_ACCOUNT_SAVE_FAILURE)},getRequestData:function(){return this.getSupportAccountNotificationFlag()?this.getEnabled()?{expirationTimeInDays:this.getExpirationDurationInDays()}:void 0:this.getEnabled()},onLoad:function(e){if(this.getSupportAccountNotificationFlag())this.setEnabled(e.enabled),this.setExpirationTimestamp(e.expirationTimestamp);else{var t=!1;_.isBoolean(e)?t=e:e.enabled?t=e.enabled:e.data&&(t="true"==e.data[0].value),this.setEnabled(t)}this.set({triggerViewUpdate:$.now()})},saveData:function(){if(this.canWork()){var e=this.getSupportAccountNotificationFlag()?this.getEnabled()?this.saveValues.enableEndpoint:this.saveValues.disableEndpoint:this.saveValues.endpoint;return this.createPromise({endpoint:SumoApp.ajax.Endpoints[e],errorCode:this.saveValues.errorCode,type:this.saveValues.reqType,data:this.getRequestData()}).then(this.onSave).catch(this.saveValues.errorCallback)}},onSave:function(e){var t=this.saveValues.successMsgs?this.getEnabled()?this.saveValues.successMsgs.onMsg:this.saveValues.successMsgs.offMsg:this.saveValues.successMsg;this.getHideError&&this.getHideError()||(l.hasFeatureFlag("UIReplaceToasterPlugin")?SumoApp.userMessage.info(sprintf(o[t],this.getEnabled()?o.ON:o.OFF)):SumoApp.userMessage.info(sprintf(o[t],this.getEnabled()?o.ON:o.OFF),{isHTML:!0}),this.getSupportAccountNotificationFlag()&&e&&this.setExpirationTimestamp(e.expirationTimestamp||null))}})}.apply(t,s))||(e.exports=n)},74285:function(e,t,i){var s,n;s=[i(60567),i(16471),i(20410),i(39204),i(43287),i(16950)],void 0===(n=function(e,t,i,s,n,a){var r=e.SumoViewModule,o=t.accountEnI18n;return r.extend({mixins:[s],events:{"click input#support-account-checkbox":"save","change #support-account-expiration-select":"setExpirationDurationAndSave"},privilege:"SupportAccountView",checkboxId:"support-account-checkbox",subviews:null,initialize:function(){_.bindAll(this,"renderExpirationInfo"),this.listenTo(this.model,"change:expirationTimestamp",this.renderExpirationInfo),this.listenTo(this.model,"change:enabled",this.render)},template:function(e){return _.template(i,e)},save:function(){if(SumoApp.getAngularService("currentUserHelper").hasFeatureFlag("UISupportAccountNotification")){if(!$("#"+this.checkboxId).is(":checked")){var e=$("#support-account-dialog-origin")[0];$("#"+this.checkboxId).prop("checked",!0),n.renderDialog({confirmCallback:()=>{$("#"+this.checkboxId).prop("checked",!1),n.unmountDialog(e),this.model.setExpirationDurationInDays(1),this.saveStatus(this.checkboxId)},cancelCallback:()=>{n.unmountDialog(e)},expireAt:this.model.getExpirationDateString(),el:e})}else this.saveStatus(this.checkboxId)}else this.saveStatus(this.checkboxId)},setExpirationDurationAndSave:function(e){var t=e.target.value?parseInt(e.target.value):null;this.model.setExpirationDurationInDays(t),this.saveStatus(this.checkboxId)},renderExpirationInfo:function(){var e=this.subviews.get("expirationInfo");e&&(e.options.expirationDate=this.model.getExpirationDateString(),e.render())},render:function(){var e=!this.privilege||SumoApp.priv["has"+this.privilege]();this.$el.html(this.template({__:o,isEnabled:this.model.get("enabled"),isEditable:e,expirationDate:this.model.getExpirationDateString()})),this.subviews.register("expirationInfo",new a({context:SumoApp.context,el:$("#access-expiration-wrapper"),__:o,expirationDate:this.model.getExpirationDateString()}))}})}.apply(t,s))||(e.exports=n)},23600:function(e,t,i){var s,n;s=[i(60567),i(16471),i(74915)],void 0===(n=function(e,t,i){var s=e.SumoModel,n=e.GetterSetterMixin,a=e.ModelErrorHandlerMixin,r=t.accountEnI18n;return s.extend({mixins:[a,n,i],defaults:{enabled:!1},initialize:function(){this.loadDataValues={endpoint:"V1_ORG_PUBLIC_DASH_ENABLED",errorMsg:"ORG_PUB_DASH_LOAD_FAILURE",errorCode:"org_pub_dashboard"},this.saveValues={reqType:"POST",endpoint:"V1_ORG_PUBLIC_DASH_ENABLED_UPDATE",errorCode:"org_pub_dashboard",successMsgs:{onMsg:"ORG_PUB_DASH_ON_SAVE_SUCCESS",offMsg:"ORG_PUB_DASH_OFF_SAVE_SUCCESS"},errorCallback:this.onSaveError}},canWork:function(){return!0},onSaveError:function(){SumoApp.userMessage.error(r.ORG_PUB_DASH_SAVE_FAILURE)}})}.apply(t,s))||(e.exports=n)},54444:function(e,t,i){var s,n;s=[i(60567),i(39142),i(39204)],void 0===(n=function(e,t,i){return e.SumoViewModule.extend({mixins:[i],events:{"click input#support-public-dash-checkbox":"save"},privilege:"PublicDashboardView",checkboxId:"support-public-dash-checkbox",subviews:null,template:function(e){return _.template(t,e)},save:function(){this.saveStatus(this.checkboxId)},render:function(){this.renderView()}})}.apply(t,s))||(e.exports=n)},19577:function(e,t,i){var s,n;s=[i(16471),i(9637),i(63205),i(60567)],void 0===(n=function(e,t,i,s){"use strict";return s.SumoModel.extend({STATUS_INIT:0,STATUS_PREVIEWING_UPGRADE:1,STATUS_PREVIEWING_UPGRADE_SUCCESSFUL:2,STATUS_PREVIEWING_UPGRADE_FAILED:3,STATUS_CONFIRMING_UPGRADE:4,STATUS_CONFIRMING_UPGRADE_SUCCESSFUL:5,STATUS_CONFIRMING_UPGRADE_FAILED:6,STATUS_ALLOW_MONTHLY_ALLOW_ANNUAL_FALSE:7,defaults:{status:0,upgradeRequest:null,ccData:null,planInCart:null,termLength:null,expectedTcv:0,allowMonthly:!1,allowAnnual:!1,existingPlan:null},getTotalCostOnMonthlyTerm:function(){return this.get("totalCostOnMonthlyTerm")},setTotalCostOnMonthlyTerm:function(e){this.set({totalCostOnMonthlyTerm:e})},getTotalCostOnAnnualTerm:function(){return this.get("totalCostOnAnnualTerm")},setTotalCostOnAnnualTerm:function(e){this.set({totalCostOnAnnualTerm:e})},getExistingPlan:function(){return this.get("existingPlan")},setExistingPlan:function(e){this.set({existingPlan:e})},getStatus:function(){return this.get("status")},setStatus:function(e){this.set({status:e})},getAllowMonthly:function(){return this.get("allowMonthly")},setAllowMonthly:function(e){this.set({allowMonthly:e})},getAllowAnnual:function(){return this.get("allowAnnual")},setAllowAnnual:function(e){this.set({allowAnnual:e})},getErrorMessage:function(){return this.get("errorMessage")},getErrorDetails:function(){return this.get("errorDetails")},setError:function(e,t){this.set({errorMessage:e,errorDetails:t})},getCCData:function(){return this.get("ccData")},setCCData:function(e){this.set({ccData:e})},getTermLength:function(){return this.get("termLength")},setTermLength:function(e){this.set({termLength:e})},getUpgradeRequest:function(){return this.get("upgradeRequest")},setUpgradeRequest:function(e){this.set({upgradeRequest:e})},getPlanInCart:function(){return this.get("planInCart")},setPlanInCart:function(e){this.set({planInCart:e})},getExpectedTcv:function(){return this.get("expectedTcv")},setExpectedTcv:function(e){this.set({expectedTcv:e})},initialize:function(){this.ajax=this.get("context").ajax,this.previewUpgrade()},previewUpgrade:function(){var e=this.getPlanInCart(),t=this;return this.setStatus(this.STATUS_PREVIEWING_UPGRADE),this.createResolvedPromise(_.getPath(e,"plan")).then((function(e){t.setUpgradeRequest(e),t.setStatus(t.STATUS_PREVIEWING_UPGRADE_SUCCESSFUL)}))},checkShowingPageError:function(){var e=this.getAllowMonthly(),i=this.getAllowAnnual();e||i||(this.setError(t.CONTACT_SALES_TO_COMPLETE_UPGRADE),this.setStatus(this.STATUS_ALLOW_MONTHLY_ALLOW_ANNUAL_FALSE))},confirmUpgrade:function(e){this.setStatus(this.STATUS_CONFIRMING_UPGRADE);var i=this,s=e.plan;return s.billingCycle===t.yearly&&(s.billingCycle="Yearly"),s.ratePlanKnobs=s.ratePlanKnobs.map((e=>(delete e.displayQuantity,e))),this.createPromise(_.extend({errorCode:"upgrade_rate_plan",logDuration:!0,type:"POST",timeout:18e4},{endpoint:this.ajax.Endpoints.V1_ACCOUNT_UPGRADE_RATE_PLAN_V2,data:_.pick(s,"billingCycle","planName","ratePlanKnobs")})).then((function(){i.setStatus(i.STATUS_CONFIRMING_UPGRADE_SUCCESSFUL)}))},destroy:function(){this.stopListening()},setMockData:function(){this.setUpgradeRequest({id:123,description:"This is an amazing plan.",displayName:"Standard",activeKnobs:[{knobName:"Data Volume",quantity:30,enabled:!0,uom:"Gigs"},{knobName:"Retention",quantity:"60",enabled:!0,uom:"Days"}],annualPlan:{id:123,descriptionLines:[],displayName:"Standard - Annual",activeKnobs:[],totalCost:1080,mrr:90,productId:123},monthlyPlan:{id:223,descriptionLines:[],displayName:"Standard - Monthly",activeKnobs:[],totalCost:108,mrr:108,productId:223}})}})}.apply(t,s))||(e.exports=n)},38352:function(e,t,i){var s,n;s=[i(9637),i(10897),i(93593),i(19577),i(63205)],void 0===(n=function(e,t,i,s,n){var a=n.ErrorUtilModule;return Backbone.View.extend({events:{"click #update-method-button":"onUpdatePaymentMethod","change input[name=payment-options-radio]":"onChangePaymentOption","click .payment-option":"togglePaymentOption","change #agree-sla":"enableConfirmation","click .summary-in-box-action_link":"editPlan"},template:_.template(t),template_v2:_.template(i),subviews:null,enableConfirmation:function(){$("#nav-confirm-button").toggleClass("is-disabled")},togglePaymentOption:function(e){0==$(e.currentTarget).children("input[name=payment-options-radio]:checked").length&&($(e.currentTarget).children("input[name=payment-options-radio]").prop("checked","checked"),this.onChangePaymentOption())},onUpdatePaymentMethod:function(){this.options.isPartOfUpgradeWizard&&this.options.exitCallback("addPaymentMethod")},onChangePaymentOption:function(){this.$(".payment-option").removeClass("payment-option-selected"),this.$("input[name=payment-options-radio]:checked").parent(".payment-option").addClass("payment-option-selected"),this.$("input[name=payment-options-radio]:checked").prop("id").indexOf("month")>-1?this.model.setTermLength(this.model.getPlanInCart().monthlyTerm):this.model.setTermLength(this.model.getPlanInCart().yearlyTerm),this.render(),this.updatePaymentOptionInSummaryView(),$("#nav-confirm-button").hasClass("is-disabled")||this.enableConfirmation()},updatePaymentOptionInSummaryView:function(){var e=`${this.$("#price-div").html()||""}`.trim();$(".per-month-payment").html(e),$(".per-month-payment").show()},onStatusChange:function(){this.render();var t=this.model.getStatus(),i=new a,s=this.$("#errors");t===this.model.STATUS_ALLOW_MONTHLY_ALLOW_ANNUAL_FALSE?(i.render(s,this.model.getErrorMessage(),this.model.getErrorDetails()),$("#nav-confirm").hide()):t===this.model.STATUS_PREVIEWING_UPGRADE_FAILED||t===this.model.STATUS_CONFIRMING_UPGRADE_FAILED?(i.render(s,this.model.getErrorMessage(),this.model.getErrorDetails()),SumoUtil.unblockPage(),$("#nav-confirm").show()):t===this.model.STATUS_CONFIRMING_UPGRADE_SUCCESSFUL?(SumoUtil.unblockPage(),this.handleExit(this.model.getUpgradeRequest())):t===this.model.STATUS_PREVIEWING_UPGRADE_SUCCESSFUL?$("#nav-confirm").show():t===this.model.STATUS_CONFIRMING_UPGRADE&&($("#nav-confirm").hide(),SumoUtil.blockPage(e.UPGRADE_IN_PROGRESS))},handleSubmit:function(e){if(!$(e.target).hasClass("is-disabled")){var t=0;this.model.getTermLength()===this.model.getPlanInCart().yearlyTerm?t=this.model.getUpgradeRequest().annualPlan.totalCost:this.model.getTermLength()===this.model.getPlanInCart().monthlyTerm&&(t=this.model.getUpgradeRequest().monthlyPlan.totalCost),this.model.setExpectedTcv(t);var i={plan:this.model.getUpgradeRequest(),yearlyTerm:this.model.getPlanInCart().yearlyTerm,monthlyTerm:this.model.getPlanInCart().monthlyTerm,termLength:this.model.getTermLength(),expectedTcv:this.model.getExpectedTcv(),expectedPaymentId:this.model.getCCData().id};this.model.confirmUpgrade(i)}},handleExit:function(e){var t=`${this.$("#price-div").html()||""}`.trim();this.destroy();var i={plan:e};this.options.exitCallback(i,t)},editPlan:function(){$("#upgrade-wizard-view").trigger("editPlanFromSummaryBox")},initialize:function(){_.bindAll(this,"render"),this.model=new s({context:this.options.context,planInCart:this.options.planInCart,ccData:this.options.ccData,existingPlan:this.options.existingPlan}),this.listenTo(this.model,"change:status",this.onStatusChange),$("#upgrade-summary-container").hide(),this.render()},render:function(){var t,i,s=this.model.getUpgradeRequest();this.model.getPlanInCart();s&&(s.ratePlanKnobs=s.ratePlanKnobs.map((e=>"Metrics"===e.knobName?{...e,displayQuantity:e.quantity+s.freeMetrics}:{...e,displayQuantity:e.quantity})));var n=this.model.getStatus();return t=$.extend(this.model.toJSON(),{__:e,upgradeRequest:s,ccData:this.model.getCCData(),isLoading:n===this.model.STATUS_PREVIEWING_UPGRADE,isError:n===this.model.STATUS_PREVIEWING_UPGRADE_FAILED||n===this.model.STATUS_CONFIRMING_UPGRADE_FAILED||n===this.model.STATUS_ALLOW_MONTHLY_ALLOW_ANNUAL_FALSE,isUpgradable:n!==this.model.STATUS_ALLOW_MONTHLY_ALLOW_ANNUAL_FALSE&&(n===this.model.STATUS_PREVIEWING_UPGRADE_SUCCESSFUL||n===this.model.STATUS_CONFIRMING_UPGRADE||n===this.model.STATUS_CONFIRMING_UPGRADE_FAILED||n===this.model.STATUS_CONFIRMING_UPGRADE_SUCCESSFUL)}),i=this.template_v2(t),this.$el.html(i),this},destroy:function(){SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},52724:function(e,t,i){var s,n;s=[i(9637),i(16871)],void 0===(n=function(e,t){return Backbone.View.extend({events:{},template:_.template(t),initialize:function(){_.bindAll(this,"render"),this.render()},render:function(){this.newPlan=this.options.newPlan;var t=$.extend({newPlan:this.newPlan},{__:e}),i=this.template(t);return this.$el.html(i),this},destroy:function(){SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},73161:function(e,t,i){var s,n;s=[i(9637),i(63205),i(82385),i(60567)],void 0===(n=function(e,t,i,s){return s.SumoModel.extend({mixins:[i],defaults:{status:0,plansDetails:null,currentPlan:null,currentDataVolume:null,isUpgradable:!0,upgradableKnobs:["volume"]},productPriorityMap:{"sumo trial":0,"sumo free":0,professional:1,enterprise:2},freePlanDefaults:{numOfUsers:3,retentionDays:7,dailyDataVolume:"500 MB"},standardPlanDefaults:{numOfUsers:20,retentionDays:30},STATUS_INIT:0,STATUS_FETCHING_PLANS:1,STATUS_FETCHING_PLANS_SUCCESSFUL:2,STATUS_FETCHING_PLANS_FAILED:4,STATUS_FETCHING_PLANS_RATES:5,STATUS_FETCHING_PLANS_RATES_SUCCESSFUL:6,STATUS_FETCHING_PLANS_RATES_FAILED:7,STATUS_FETCHING_CURRENT_PLAN:8,STATUS_FETCHING_CURRENT_PLAN_SUCCESSFUL:9,STATUS_FETCHING_CURRENT_PLAN_FAILED:10,monthlyTerm:"monthly",yearlyTerm:"yearly",megaBytesPerGB:1024,errorMessage:null,errorDetails:null,setStatus:function(e){this.set({status:e})},getStatus:function(){return this.get("status")},getErrorMessage:function(){return this.get("errorMessage")},getErrorDetails:function(){return this.get("errorDetails")},setError:function(e,t){this.set({errorMessage:e,errorDetails:t})},getPlansDetails:function(){return this.get("plansDetails")},setPlansDetails:function(e){this.set({plansDetails:e}),this.manipulateProductsOrder(),this.manipulateKnobsOrder()},getIsUpgradable:function(){return this.get("isUpgradable")},setIsUpgradable:function(e){this.set({isUpgradable:e})},getCurrentPlan:function(){return this.get("currentPlan")},setCurrentPlan:function(e){this.set({currentPlan:e})},setCurrentDataVolume:function(e){this.set({currentDataVolume:e})},getCurrentDataVolume:function(){return this.get("currentDataVolume")},getCurrentPlanKnobValueByKnobName:function(e){var t={};return _.each(this.getCurrentPlan().activeKnobs,(function(i){i.knobName===e&&(t={quantity:i.quantity,uom:i.uom})})),t},setProducts:function(e){this.getPlansDetails().products=e,this.manipulateProductsOrder()},setDefaultKnobs:function(e){this.getPlansDetails().defaultKnobs=e},setActiveKnobs:function(e){var t=this.getPlansDetails();_.each(t.products,(function(t){t.activeKnobs=e}))},getAllKnobs:function(){var e=this.getPlansDetails();return e?e.knobs:[]},getActiveValueForKnobByPlanId:function(e,t,i){var s=-1;return _.each(e.products,(function(e){e.id==i&&_.each(e.activeKnobs,(function(e){e.knobName===t&&(s=e.quantity)}))})),s},getDefaultValueForKnob:function(e,t){var i=e?e.defaultKnobs:null,s=-1;return i&&_.each(i,(function(e){e.knobName===t&&(s=e.quantity)})),s},initialize:function(){this.ajax=this.get("context").ajax,this.fetchCurrentPlan()},manipulateProductsOrder:function(){var e=this.getPlansDetails(),t=e.products;e.products=_.sortBy(t,(function(e){return _.getPath(e,"annualPlan")?parseInt(e.annualPlan.mrr):-1}))},manipulateKnobsOrder:function(){var e=this.getPlansDetails().knobs;_.each(e,(function(e){e.knobs=_.sortBy(e.knobs,(function(e){return e.quantity}))}))},getKnobNamesHash:function(e,t){var i=this.getPlansDetails(),s="",n="";return _.each(i.knobs,(function(e){e.knobName.indexOf("Volume")>-1?s=e.knobName:e.knobName.indexOf("Retention")>-1&&(n=e.knobName)})),{volumeSubstring:s,retentionSubstring:n}},fetchExistingPlanName:function(){return SumoApp.context.accountModel.getDisplayPlanName()},fetchSubscriptionDetails:function(){var e,t=SumoApp.context.accountModel,i=t.getSubscriptionDetails();return i&&(e=this.createResolvedPromise({subscriptionDetails:i})),e||(e=this.createPromise({endpoint:this.ajax.Endpoints.V1_ACCOUNT_GET_SUBSCRIPTION_DETAILS,timeout:6e4,logDuration:!0,errorCode:"get_current_plan"})),e.then((function(e){return t.onAccountDataLoaded(e),e}),(function(e){return t.onAccountDataError(e),e}))},currPlanFetchSuccess:function(t){var i=this;t.subscriptionDetails?(this.setCurrentPlan(t.subscriptionDetails),_.each(t.subscriptionDetails.activeKnobs,(function(e){e.knobName.toLowerCase().indexOf("volume")>0&&i.setCurrentDataVolume(e)})),this.setStatus(this.STATUS_FETCHING_CURRENT_PLAN_SUCCESSFUL),this.fetchPlans()):(this.setError(e.error_no_subscription_plan_received,e.error_no_subscription_plan_received_errorDetails),this.setStatus(this.STATUS_FETCHING_CURRENT_PLAN_FAILED))},currPlanFetchErr:function(e,t,i){this.setError(t,i),this.setStatus(this.STATUS_FETCHING_CURRENT_PLAN_FAILED)},fetchCurrentPlan:function(){this.setStatus(this.STATUS_FETCHING_CURRENT_PLAN),this.fetchSubscriptionDetails().catch(this.currPlanFetchErr.bind(this)).then(this.currPlanFetchSuccess.bind(this))},fetchInitialSelectedState:function(t){return{planName:this.getInitialProductSelection(t).displayName,billingCycle:this._getBillingCycle(this.getCurrentPlan())||e.yearly,ratePlanKnobs:this.getInitialRatePlanKnobs(t)}},getInitialRatePlanKnobs:function(t){var i=this,s=[],n=this.getCurrentPlan();return _.each(t.possibleKnobs,(function(t){var a,r=t.knobName;i.isPaidPlan()&&(r===e.Data_Volume?a=n.dailyIngestMegabytes/1024:r===e.Metrics&&(a=n.metricsIngestRateLimitDataPointsPerMinute,n.freeMetricsIngestRateLimitDataPointsPerMinute&&(a-=n.freeMetricsIngestRateLimitDataPointsPerMinute)),t.possibleValues=_.filter(t.possibleValues,(function(e){return e>=a}))),s.push({knobName:r,uom:t.uom,quantity:t.possibleValues[0]})})),s},getFormattedRatePlanKnobs:function(t){return[{knobName:e.Data_Volume,quantity:t.dailyIngestMegabytes/this.megaBytesPerGB,uom:e.Gigs},{knobName:e.metrics,quantity:t.metricsIngestRateLimitDataPointsPerMinute,uom:e.DPM}]},getExisitingPlan:function(){var e=this.getCurrentPlan(),t=this.fetchExistingPlanName();return{plan:_.extend(_.pick(e,"termLength","free","trial"),{planName:t,ratePlanKnobs:this.getFormattedRatePlanKnobs(e),freeMetrics:e.freeMetricsIngestRateLimitDataPointsPerMinute})}},getInitialProductSelection:function(e){var t,i=this.productPriorityMap,s=(this.getCurrentPlan(),this.fetchExistingPlanName()),n=i[s.toLowerCase()];return e.products.sort((function(e,t){return i[e.displayName.toLowerCase()]>i[t.displayName.toLowerCase()]})),_.each(e.products,(function(e){i[e.displayName.toLowerCase()]<n?e.isDisabled=!0:t||(t=e)})),t},fetchPlans:function(){var e=this;this.setStatus(this.STATUS_FETCHING_PLANS),this.ajax.call(this,{endpoint:this.ajax.Endpoints.V1_ACCOUNT_VIEW_ALL_PLANS_V2,timeout:6e4,logDuration:!0,errorCode:"get_all_plans",success:function(t){this.getSelectedState()||this.setSelectedState(this.fetchInitialSelectedState(t)),this.fetchPreviewPrices().then((function(){!function(t){e.setPlansDetails(t),e.setIsUpgradable(0==t.maxedOut),e.setStatus(e.STATUS_FETCHING_PLANS_SUCCESSFUL)}(t)}))},error:function(e,t,i){this.setError(t,i),this.setStatus(this.STATUS_FETCHING_PLANS_FAILED)}})},getSelectedState:function(){return this.get("selectedState")},setSelectedState:function(e){return this.set("selectedState",e),e},fetchPreviewPrices:function(){var t=this,i=this.getSelectedState();this.setStatus(this.STATUS_FETCHING_PLANS_RATES);var s=i.billingCycle;return s==e.yearly&&(s="Yearly"),i.ratePlanKnobs=i.ratePlanKnobs.map((e=>(e.displayQuantity&&delete e.displayQuantity,e))),this.createPromise({endpoint:this.ajax.Endpoints.V1_ACCOUNT_PREVIEW_PLAN_UPGRADE_VIEW_V2,timeout:6e4,logDuration:!0,errorCode:"upgrade_preview",data:{billingCycle:s,planName:i.planName,ratePlanKnobs:i.ratePlanKnobs},type:"POST"}).then((function(e){var i=t.get("selectedState");i.upgradePrice=e.upgradePrice,i.payNow=e.payNow,t.set("selectedState",i),t.setStatus(t.STATUS_FETCHING_PLANS_RATES_SUCCESSFUL)})).catch((function(e){var i=e.friendlyErrorMessage,s=e.formattedErrorDetails;t.setError(i,s),t.setStatus(t.STATUS_FETCHING_PLANS_RATES_FAILED)}))},fetchPlansRates:function(e){this.setStatus(this.STATUS_FETCHING_PLANS_RATES),this.ajax.call(this,{endpoint:this.ajax.Endpoints.V1_ACCOUNT_UPGRADE_VIEW_PRICING,timeout:6e4,logDuration:!0,errorCode:"get_plans_rates",data:e,type:"POST",success:function(e){this.setProducts(e.plans),this.setStatus(this.STATUS_FETCHING_PLANS_RATES_SUCCESSFUL)},error:function(e,t,i){this.setError(t,i),this.setStatus(this.STATUS_FETCHING_PLANS_RATES_FAILED)}})},getRateCycle:function(){var t=this.getSelectedState(),i=t&&t.billingCycle,s="";return i==e.yearly?s=e.per_year:i==e.monthly&&(s=e.per_month),s},isLoading:function(){var e=this.getStatus();return e===this.STATUS_FETCHING_PLANS||e===this.STATUS_FETCHING_CURRENT_PLAN||e===this.STATUS_FETCHING_PLANS_RATES},isError:function(){var e=this.getStatus();return e===this.STATUS_FETCHING_PLANS_FAILED||e===this.STATUS_FETCHING_PLANS_RATES_FAILED||e===this.STATUS_FETCHING_CURRENT_PLAN_FAILED},setMockData:function(){this.setPlansDetails({dataVolumeKnobName:"Data_Volume",retentionKnobName:"Retention",products:[{id:123,descriptionLines:["This is an amazing plan.","Take it."],displayName:"Standard",activeKnobs:[{knobName:"Data Volume",quantity:30,enabled:!0,uom:"Gigs"},{knobName:"Retention",quantity:"60",enabled:!0,uom:"Days"}],annualPlan:{id:123,descriptionLines:[],displayName:"Standard - Annual",activeKnobs:[],totalCost:123,mrr:12,productId:123},monthlyPlan:{id:223,descriptionLines:[],displayName:"Standard - Monthly",activeKnobs:[],totalCost:33,mrr:33,productId:223}},{id:"FreeAccount",descriptionLines:["This is an amazing plan.","Take it."],displayName:"Free",activeKnobs:[{knobName:"Data_Volume",quantity:30,enabled:!0,uom:"Gigs"},{knobName:"Retention",quantity:"60",enabled:!0,uom:"Days"}],annualPlan:{id:"Free",descriptionLines:[],displayName:"Free - Annual",activeKnobs:[],totalCost:0,mrr:0,productId:1234},monthlyPlan:{id:1235,descriptionLines:[],displayName:"Free - Monthly",activeKnobs:[],totalCost:0,mrr:0,productId:2234}}],knobs:[{knobName:"Retention",knobs:[{knobName:"Retention",quantity:30,enabled:!0,uom:"Days"},{knobName:"Retention",quantity:60,enabled:!0,uom:"Days"}]},{knobName:"Data Volume",knobs:[{knobName:"Data Volume",quantity:1,enabled:!0,uom:"Gigs"},{knobName:"Data Volume",quantity:2,enabled:!0,uom:"Gigs"},{knobName:"Data Volume",quantity:5,enabled:!0,uom:"Gigs"},{knobName:"Data Volume",quantity:10,enabled:!0,uom:"Gigs"},{knobName:"Data Volume",quantity:20,enabled:!0,uom:"Gigs"}]}],defaultKnobs:[{knobName:"Retention",quantity:60,enabled:!0,uom:"Days"},{knobName:"Data Volume",quantity:23,enabled:!0,uom:"Gigs"}]})}})}.apply(t,s))||(e.exports=n)},13598:function(e,t,i){var s,n;s=[i(9637),i(16739),i(85016),i(85998),i(73161),i(63205)],void 0===(n=function(e,t,i,s,n,a){var r=a.ErrorUtilModule;return Backbone.View.extend({events:{"click .sumo-button--upgrade":"onUpgradeButtonClick","change .knob-select":"onChangeKnob","click .plan-type":"onChangePlanType","click .billing-frequency-btn":"onChangeBillingCycle"},skipPlanInCart:!1,isAws:null,planName:null,template:_.template(t),template_v2:_.template(i),btnTemplate:_.template(s),onChangeKnob:function(e){var t=$(e.target);this.isAws&&(this.stopListening(this.model,"change:status"),this.planName=t.closest(".plan-class-outer").find(".product-type-div").text().trim());var i=this.model.getAllKnobs(),s={},n=[];_.each(i,(function(e){var i;i="Hot Retention Days"===e.knobName?30:t.val(),n.push({knobName:e.knobName,quantity:i,enabled:!0,uom:e.knobs[0].uom})})),s.plans=n,this.model.setDefaultKnobs(n),this.model.setActiveKnobs(n),this.skipPlanInCart=!0,this.model.fetchPlansRates(s)},awsReload:function(){this.destroy(),SumoApp.user.userPreferencesModel.updateInitialTab("myaccount",(function(){window.history.replaceState({},document.title,"/ui/");var e=20,t=$.later(200,this,(function(){(""===location.hash||"#"===location.hash||e--<0)&&(t.cancel(),location.reload(!0))}),null,!0)}))},onChangePlanType:function(){this.updateSelectedState("planName",this.$el.find("input[name='planType']:checked").val())},onChangeBillingCycle:function(){this.updateSelectedState("billingCycle",this.$el.find("input[name='billing-frequency']:checked").val())},getUpgradePlanHash:function(e){this.model.getPlansDetails().products;return{termLength:this.model.yearlyTerm,plan:{...this.model.getSelectedState(),freeMetrics:this.model.getCurrentPlan().freeMetricsIngestRateLimitDataPointsPerMinute},monthlyTerm:this.model.monthlyTerm,yearlyTerm:this.model.yearlyTerm}},onUpgradeButtonClick:function(e){if(!$(e.target).hasClass("is-disabled")){var t=this.getUpgradePlanHash(e);if(this.isAws){this.planId=$(e.target).closest(".plan-class-outer").attr("id");var i=SumoApp.getAngularService("awsUpgradeConfirmationService"),s=this.model.getPlansDetails(),n={prductRatePlanId:this.planId,displayName:s.displayName,retention:parseInt(_.findWhere(s.defaultKnobs,{knobName:"Hot Retention Days"}).quantity),volume:parseInt(_.findWhere(s.defaultKnobs,{knobName:"Data Volume"}).quantity)};i.openConfirmation(n).then(this.awsReload)}else!this.skipPlanInCart&&this.options.planInCart&&(t=this.options.planInCart),this.options.isPartOfUpgradeWizard&&this.options.exitCallback("addPaymentMethod",t)}},onStatusChange:function(){this.render();var e=this.model.getStatus();if(e===this.model.STATUS_FETCHING_PLANS_FAILED||e===this.model.STATUS_FETCHING_PLANS_RATES_FAILED||e===this.model.STATUS_FETCHING_CURRENT_PLAN_FAILED){var t=new r,i=this.$("#errors");t.render(i,this.model.getErrorMessage(),this.model.getErrorDetails())}else if(e===this.model.STATUS_FETCHING_PLANS_RATES_SUCCESSFUL);else if(e===this.model.STATUS_FETCHING_CURRENT_PLAN_SUCCESSFUL){var s=this.model.getExisitingPlan();$("#upgrade-wizard-view").trigger("existingPlanLoaded",{existingPlan:s})}},initialize:function(){_.bindAll(this,"render","awsReload"),this.model=new n({context:this.options.context}),this.listenTo(this.model,"change:status",this.onStatusChange);var e=SumoApp.getAngularService("currentUserHelper");this.isAws=e.getOrg().typeHelpers.isAws,this.render()},updateSelectedState:function(e,t){var i=this.model.getSelectedState();i[e]=t,this.model.setSelectedState(i),this.model.fetchPreviewPrices(i)},render:function(){var t=this.options.planInCart,i=this.model.getCurrentPlan();t&&this.model.setSelectedState(t.plan);var s=$.extend(this,this.model.toJSON(),{__:e,getActiveValueForKnobByPlanId:this.model.getActiveValueForKnobByPlanId,isAws:this.isAws,showBillCycleSection:i&&!this.model.isPaidPlan(),updateSelectedState:this.updateSelectedState.bind(this),selectedState:this.model.getSelectedState()}),n=this.template_v2($.extend(s,{rateCycle:this.model.getRateCycle(),isLoading:this.model.isLoading(),isError:this.model.isError(),isFetchingPlanRates:this.model.getStatus()===this.model.STATUS_FETCHING_PLANS_RATES}));return this.$el.html(n),this.renderKnobSelections(),this.renderUpgradeBtn(s),this},renderUpgradeBtn:function(t){var i=this.$el.find(".upgrade-product-button-div"),s=i.data("planDisplayName"),n=this.model.getPlansDetails();if(s){var a=_.find(n.products,(function(e){return e.displayName==s})),r=this.model.getStatus(),o=SumoApp.getAngularService("currentUserHelper"),l=this.btnTemplate($.extend(t,{plan:a,planId:s,isFree:s===e.FREE_ACCOUNT,freeUser:o.getOrg().typeHelpers.isFree,isFetchingPlanRates:r===this.model.STATUS_FETCHING_PLANS_RATES,isPlanFetchingSuccess:r!==this.model.STATUS_FETCHING_PLANS_RATES_FAILED}));i.html(l)}},renderKnobSelections:function(){var e=this.model.getPlansDetails(),t=this.model.getSelectedState(),i=e&&e.possibleKnobs||[];if(this.destroyKnobsScope(),i.length){var s=this.knobsScope=SumoApp.getAngularService("$rootScope").$new();s&&(i=i.map((e=>"Metrics"===e.knobName?{...e,displayQuantity:e.possibleValues.map((e=>e+this.model.getCurrentPlan().freeMetricsIngestRateLimitDataPointsPerMinute))}:{...e,displayQuantity:e.possibleValues})),s.possibleKnobs=i,s.selectedState=t,s.updateSelectedState=this.updateSelectedState,s.isFetchingPlanRates=this.model.getStatus()===this.model.STATUS_FETCHING_PLANS_RATES,SumoApp.ngCompile(this.$el.find(".data-volume-selectors"),s,!0))}},destroyKnobsScope:function(){this.knobsScope&&this.knobsScope.$destroy()},destroy:function(){this.destroyKnobsScope(),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},63886:function(e,t,i){var s,n;s=[i(82385),i(60567)],void 0===(n=function(e,t){"use strict";return t.SumoModel.extend({defaults:{},mixins:[e],initialize:function(){this.ajax=this.get("context").ajax}})}.apply(t,s))||(e.exports=n)},96498:function(e,t,i){var s,n;s=[i(9637),i(75557),i(63886)],void 0===(n=function(e,t,i){return Backbone.View.extend({events:{"click .summary-edit-plan":"editPlan","click .summary-edit-payment":"editPaymentMethod"},template:_.template(t),existingPlan:null,planInCart:null,ccData:null,termLength:null,currentStep:null,paymentSummary:null,editPlan:function(){$("#upgrade-wizard-view").trigger("editPlanFromSummaryBox")},editPaymentMethod:function(){$("#upgrade-wizard-view").trigger("editPaymentMethodFromSummaryBox")},showEditLinks:function(){this.currentStep&&(this.currentStep.getStepId()==this.stepIdConstants.plansStepId?(this.$(".summary-edit-plan").hide(),this.$(".summary-edit-payment").show(),this.ccData?$("#upgrade-wizard-view").trigger("showStepClickableLinks",{plansStepClickable:!1,paymentStepClickable:!0}):$("#upgrade-wizard-view").trigger("showStepClickableLinks",{plansStepClickable:!1,paymentStepClickable:!1})):this.currentStep.getStepId()==this.stepIdConstants.finishStepId?(this.$(".summary-edit-plan").hide(),this.$(".summary-edit-payment").hide(),$("#upgrade-wizard-view").trigger("showStepClickableLinks",{plansStepClickable:!1,paymentStepClickable:!1})):this.currentStep.getStepId()==this.stepIdConstants.paymentStepId?(this.$(".summary-edit-plan").show(),this.$(".summary-edit-payment").hide(),$("#upgrade-wizard-view").trigger("showStepClickableLinks",{plansStepClickable:!0,paymentStepClickable:!1})):this.currentStep.getStepId()==this.stepIdConstants.confirmUpgradeStepId&&(this.$(".summary-edit-plan").show(),this.$(".summary-edit-payment").show(),$("#upgrade-wizard-view").trigger("showStepClickableLinks",{plansStepClickable:!0,paymentStepClickable:!0})))},initialize:function(){this.model=new i({context:this.options.context}),this.currentStep=this.options.currentStep,this.planInCart=this.options.planInCart,this.ccData=this.options.ccData,this.existingPlan=this.options.existingPlan,this.paymentSummary=this.options.paymentSummary,this.newPlan=this.options.newPlan,this.stepIdConstants=this.options.stepIdConstants,this.render()},render:function(){var t,i;if(this.currentStep){this.currentStep.getStepId()==this.stepIdConstants.plansStepId?(t=this.existingPlan,i=e.YOUR_CURRENT_PLAN):this.currentStep.getStepId()==this.stepIdConstants.finishStepId?(t=this.newPlan,i=e.YOUR_CURRENT_PLAN):(t=this.planInCart,i=e.NEW_PLAN);let a=t.plan.ratePlanKnobs[1].quantity;this.currentStep.getStepId()!==this.stepIdConstants.plansStepId&&(a+=t.plan.freeMetrics);var s={planToShow:t,ccData:this.ccData,__:e,planTitle:i,billing_frequency:this.model._getBillingCycle(t.plan),metrics:a},n=this.template(s);this.$el.html(n)}this.paymentSummary&&(this.$(".per-month-payment").show(),this.$(".per-month-payment").html(this.paymentSummary),this.currentStep.getStepId()==this.stepIdConstants.finishStepId&&this.$(".overage-asterisk").remove()),this.showEditLinks()},destroy:function(){SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},79124:function(e,t){var i;void 0===(i=function(){return Backbone.Model.extend({defaults:{steps:null,currentStep:null,subViewModels:null},getSteps:function(){return this.get("steps")},getTotalNumberOfSteps:function(){var e=this.getSteps();return e?e.length:0},setSteps:function(e){this.set({steps:e})},getCurrentStep:function(){return this.get("currentStep")},setCurrentStep:function(e){this.set({currentStep:e})},getCurrentStepIndex:function(){for(var e=this.getCurrentStep(),t=this.getSteps(),i=t.length,s=0;s<i;s++)if(t.at(s)==e)return s;return-1},getIndexByStepId:function(e){for(var t=this.getSteps().length,i=0;i<t;i++)if(step.getStepId()===e)return i;return-1},getStepByIndex:function(e){return this.get("steps").at(e)},getStepById:function(e){return this.get("steps").detect((function(t){return t.id==e}))},setCurrentStepById:function(e){var t=this.getStepById(e);t?this.setCurrentStep(t):$.logLocal("Sumo.Ui.Setup.StepModel - No step with id: '%s'",e)},setCurrentStepByIndex:function(e){this.setCurrentStep(this.getStepByIndex(e))},setToNextStep:function(){var e=this.getTotalNumberOfSteps();if(0!=e){var t=this.getCurrentStepIndex()+1;if(t!=e){for(var i=!1,s=this.getSteps();t<e&&!i;){var n=s.at(t);!(i=n&&!n.isHidden())&&t++}this.setCurrentStepByIndex(t)}}},setToPreviousStep:function(){if(0!=this.getTotalNumberOfSteps()){var e=this.getCurrentStepIndex();if(!(e<=0)){for(var t=!1,i=this.getSteps(),s=e-1;s>0&&!t;){var n=i.at(s);!(t=n&&!n.isHidden())&&s--}this.setCurrentStepByIndex(s)}}},initialize:function(){this.set({subViewModels:{}})},getSubviewModel:function(e){return this.get("subViewModels")[e]},setSubviewModel:function(e,t){this.get("subViewModels")[e]=t}})}.apply(t,[]))||(e.exports=i)},36413:function(e,t,i){var s,n;s=[i(60567),i(9637),i(81007),i(79124),i(96498),i(33962),i(88100),i(47782),i(49718),i(16948),i(13598),i(38352),i(52724),i(73161),i(19577)],void 0===(n=function(e,t,i,s,n,a,r,o,l,d,c,u,h,g,p){return e.SumoViewModule.extend({events:{"click #nav-cancel":"handleCancel","click #nav-back":"handleBack","click #nav-next":"handleSaveAndNext","click #nav-confirm":"handleSaveAndNext","click #nav-finish":"handleFinish","editPlanFromSummaryBox #upgrade-wizard-view":"onEditPlanFromSummaryBox","editPaymentMethodFromSummaryBox #upgrade-wizard-view":"onEditPaymentMethodFromSummaryBox",showStepClickableLinks:"onShowStepClickableLinks","click .step-clickable":"onGotoStep",existingPlanLoaded:"onExistingPlanLoaded"},mixins:[o],overlay:null,planInCart:null,ccData:null,newPlan:null,existingPlan:null,paymentSummary:null,STEP_CONSTANTS:{paymentStepId:"addPaymentMethod",plansStepId:"selectPlan",finishStepId:"finishUpgrade",confirmUpgradeStepId:"confirmUpgrade"},template:_.template(i),previousStepView:null,handleCancel:function(e){this.destroy(),$("#application-view").trigger("navigate",{sectionId:"myaccount"}),e.preventDefault()},handleBack:function(){this.model.setToPreviousStep()},handleSaveAndNext:function(e){"handleSubmit"in this.previousStepView?this.previousStepView.handleSubmit(e):this.handleNext()},handleNext:function(){this.model.setToNextStep()},handleFinish:function(){this.destroy(),SumoApp.user.userPreferencesModel.updateInitialTab("myaccount",(function(){window.history.replaceState({},document.title,"/ui/");var e=20,t=$.later(200,this,(function(){(""===location.hash||"#"===location.hash||e--<0)&&(t.cancel(),location.reload(!0))}),null,!0)}))},destroyPreviousStepView:function(){this.previousStepView?"destroy"in this.previousStepView?($.logLocal("Sumo.Ui.Setup.SetupView.renderStepView - Destroying previous step view"),this.previousStepView.destroy()):$.logLocal("Sumo.Ui.Setup.SetupView.renderStepView - Previous view has no destroy method"):$.logLocal("Sumo.Ui.Setup.SetupView.renderStepView - No previous view"),$("#setup-step-view").empty()},renderStepView:function(){this.destroyPreviousStepView();var e=this.model.getCurrentStep();if(e){var t=this;e.onStepActivation(),this.render(),e.createView({context:SumoApp.context,el:$("#setup-step-view"),isPartOfUpgradeWizard:!0,showSubmitButton:!1,exitCallback:e.getExitCallback()||function(){t.handleNext()},planInCart:this.planInCart,ccData:this.ccData,newPlan:this.newPlan,existingPlan:this.existingPlan},(function(e){t.previousStepView=e})),this.updateStepInfo(e)}},updateStepInfo:function(e){this.$("#step-title").text(e.getTitle());var i=e.getDescription();null==i?this.$("#step-description").hide():(this.$("#step-description").show(),this.$("#step-description").text(i));var s=this.model.getCurrentStepIndex(),n=0==s,a=s==this.model.getTotalNumberOfSteps()-1,r=e.getTitle()===t.STEP_UPGRADE_CONFIRMATION,o=e.getTitle()===t.STEP_SELECT_A_PAYMENT_METHOD;this.$("#setup-steps li").removeClass("active"),this.$("#setup-steps .upgrade-step-circle").removeClass("active-step-circle");var l="#setup-step-"+this.model.getCurrentStep().getStepId();this.$(l).addClass("active"),this.$(l).find(".upgrade-step-circle").addClass("active-step-circle"),2===s&&this.$("#setup-steps li:nth-of-type(2)").addClass("completed"),this.$("#nav-cancel").hide(),this.$(".divider-cancel").hide(),n?(this.$("#nav-back").hide(),this.$("#nav-next").hide()):(this.$("#setup-steps li:first-of-type").addClass("completed"),e.isBackButtonHidden()?this.$("#nav-back").hide():this.$("#nav-back").show()),this.$("#nav-next #nav-back-button").prop("value",t.SETUP_NAV_NEXT),a?(this.$("#setup-steps li").addClass("completed"),this.$("#nav-next").hide(),this.$("#nav-confirm").hide(),this.$("#nav-finish").show()):r?(this.$("#nav-finish").hide(),this.$("#nav-next").hide(),this.$("#nav-confirm").hide()):n||o?(this.$("#nav-next").hide(),this.$("#nav-finish").hide(),this.$("#nav-confirm").hide()):(this.$("#nav-next").show(),this.$("#nav-finish").hide())},finishDialog:function(){var e=SumoApp.getAngularService("dialogService"),i=e.buttons().done().text(t.SETUP_NAV_FINISH);return e.show(e.preset("simple").title(t.STEP_FINISH_TITLE).buttons(i).contentTemplate(t.RELOAD_INFO))},createSummaryView:function(){this.getView("upgradeSummaryView")&&this.getView("upgradeSummaryView").destroy();var e=new n({el:this.$("#upgrade-summary-container"),context:SumoApp.context,planInCart:this.planInCart,newPlan:this.planInCart,ccData:this.ccData,currentStep:this.model.getCurrentStep(),existingPlan:this.existingPlan,paymentSummary:this.paymentSummary,stepIdConstants:this.STEP_CONSTANTS});this.registerView("upgradeSummaryView",e)},initializeExistingPlan:function(){this.existingPlan={plan:{displayName:"SUMO FREE (Default)",activeKnobs:[{knobName:"Data Volume",quantity:"500",uom:"Megs"},{knobName:"Hot Retention Days",quantity:7,uom:"Days"}]}}},onEditPlanFromSummaryBox:function(){this.model.setCurrentStepById(this.STEP_CONSTANTS.plansStepId)},onEditPaymentMethodFromSummaryBox:function(){this.model.setCurrentStepById(this.STEP_CONSTANTS.paymentStepId)},onGotoStep:function(e){$(e.currentTarget).attr("id").indexOf(this.STEP_CONSTANTS.paymentStepId)>-1?this.model.setCurrentStepById(this.STEP_CONSTANTS.paymentStepId):$(e.currentTarget).attr("id").indexOf(this.STEP_CONSTANTS.plansStepId)>-1&&this.model.setCurrentStepById(this.STEP_CONSTANTS.plansStepId)},onExistingPlanLoaded:function(e,t){if(t){var i=t.existingPlan;i&&(this.existingPlan=i,this.createSummaryView())}},onShowStepClickableLinks:function(e,t){if(t){var i="#setup-step-"+this.STEP_CONSTANTS.plansStepId,s="#setup-step-"+this.STEP_CONSTANTS.paymentStepId;t.plansStepClickable?(this.$(i).addClass("step-clickable"),this.$(i+" .step-name").addClass("step-name-clickable"),this.$(i+" .upgrade-step-circle").addClass("upgrade-step-circle-clickable")):(this.$(i).removeClass("step-clickable"),this.$(i+" .step-name").removeClass("step-name-clickable"),this.$(i+" .upgrade-step-circle").removeClass("upgrade-step-circle-clickable")),t.paymentStepClickable?(this.$(s).addClass("step-clickable"),this.$(s+" .step-name").addClass("step-name-clickable"),this.$(s+" .upgrade-step-circle").addClass("upgrade-step-circle-clickable")):(this.$(s).removeClass("step-clickable"),this.$(s+" .step-name").removeClass("step-name-clickable"),this.$(s+" .upgrade-step-circle").removeClass("upgrade-step-circle-clickable"))}},initialize:function(){SumoApp.priv.hasRequestUpgrade()&&(SumoApp.accountPageSwitchToBillingTab=!0),_.bindAll(this,"render","handleFinish");var e=this,i=new a,s=new r({id:this.STEP_CONSTANTS.plansStepId,name:t.STEP_SELECT_A_PLAN,title:t.STEP_SELECT_A_PLAN,description:null,hideBackButton:!0,planInCart:this.planInCart,viewClass:c,modelClass:g,onStepActivation:function(){},exitCallback:function(t,i){t?(e.model.setCurrentStepById(t),e.model.getStepById(t).set({hidden:!1})):e.handleNext(),e.planInCart=i,e.createSummaryView()}});i.add(s);var n=new r({id:this.STEP_CONSTANTS.paymentStepId,name:t.STEP_SELECT_A_PAYMENT_METHOD,title:t.STEP_SELECT_A_PAYMENT_METHOD,description:null,viewClass:l,modelClass:d,hidden:!1,hideBackButton:!0,onStepActivation:function(){e.planInCart&&e.ccData&&e.createSummaryView()},exitCallback:function(t){e.ccData=t,e.handleNext(),e.createSummaryView()}});i.add(n);var o=new r({id:this.STEP_CONSTANTS.confirmUpgradeStepId,name:t.STEP_UPGRADE_CONFIRMATION,title:t.STEP_UPGRADE_CONFIRMATION,description:null,viewClass:u,modelClass:p,hideBackButton:!0,onStepActivation:function(){},exitCallback:function(t,i){e.newPlan=t,e.planInCart=t,e.finishDialog().then(e.handleFinish)}});i.add(o);var m=new r({id:this.STEP_CONSTANTS.finishStepId,name:t.STEP_FINISH,title:t.STEP_FINISH_TITLE,description:null,hideBackButton:!0,viewClass:h,model:null});i.add(m),this.model.setSteps(i),this.listenTo(this.model,"change:currentStep",this.renderStepView),this.subviews.setModel(this.model),this.render(),this.model.setCurrentStepByIndex(0)},render:function(){var e=SumoApp.priv,i=$.extend(this.model.toJSON(),{__:t,isAWS:e.hasAWSSubscriptions()}),s=this.template(i);return this.$el.html(s),this.planInCart&&this.createSummaryView(),SumoApp.priv.hasNeedsActivation()&&!this.overlay&&(this.overlay=this.showActivationOverlay("upgradeWizard")),this},destroy:function(){this.showActivationOverlay&&this.hideActivationOverlay(),this.destroyPreviousStepView(),this.destroySubViews(),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},9374:function(e,t,i){var s,n;s=[i(60567),i(16471),i(74915)],void 0===(n=function(e,t,i){var s=e.SumoModel,n=e.GetterSetterMixin,a=e.ModelErrorHandlerMixin,r=t.accountEnI18n;return s.extend({mixins:[i,n,a],defaults:{enabled:!0,maxSessionTimeout:10080},initialize:function(){this.loadDataValues={endpoint:"V1_MAX_USER_SESSION_TIMEOUT_GET",errorMsg:"USER_SESSION_TIMEOUT_LOAD_FAILURE",errorCode:"user_session_timeout"},this.saveValues={reqType:"PUT",endpoint:"V1_MAX_USER_SESSION_TIMEOUT_POST",errorCode:"user_session_timeout",successMsg:"USER_SESSION_TIMEOUT_SAVE_SUCCESS",errorCallback:this.onSaveError.bind(this)}},canWork:function(){return!0},getRequestData:function(){return{data:[{key:"maxSessionTimeoutMinutes",value:this.getMaxSessionTimeout()}]}},onLoad:function(e){var t=parseInt(e.data[0].value);this.setMaxSessionTimeout(t),this.set({triggerViewUpdate:$.now()})},onSave:function(){var e=this.saveValues.successMsg,t=this.getTimeString();SumoApp.userMessage.info(sprintf(r[e],t.value,t.unit))},onSaveError:function(){SumoApp.userMessage.error(r[this.saveValues.errorCode])},getTimeString:function(){var e,t,i=this.getMaxSessionTimeout();return t=i>=1440?1===(e=i/1440)?r.USER_SESSION_TIMEOUT_DAY:r.USER_SESSION_TIMEOUT_DAYS:i>=60?1===(e=i/60)?r.USER_SESSION_TIMEOUT_HOUR:r.USER_SESSION_TIMEOUT_HOURS:1===(e=i)?r.USER_SESSION_TIMEOUT_MINUTE:r.USER_SESSION_TIMEOUT_MINUTES,{value:e,unit:t}}})}.apply(t,s))||(e.exports=n)},68799:function(e,t,i){var s,n;s=[i(60567),i(16471),i(33211),i(39204)],void 0===(n=function(e,t,i,s){var n=e.SumoViewModule,a=t.accountEnI18n;return n.extend({mixins:[s],sessionTimeoutOptions:[{value:5,label:a.SESSION_TIMEOUT_5_MIN},{value:15,label:a.SESSION_TIMEOUT_15_MIN},{value:30,label:a.SESSION_TIMEOUT_30_MIN},{value:60,label:a.SESSION_TIMEOUT_1_HOUR},{value:120,label:a.SESSION_TIMEOUT_2_HOURS},{value:360,label:a.SESSION_TIMEOUT_6_HOURS},{value:720,label:a.SESSION_TIMEOUT_12_HOURS},{value:1440,label:a.SESSION_TIMEOUT_1_DAY},{value:2880,label:a.SESSION_TIMEOUT_2_DAYS},{value:4320,label:a.SESSION_TIMEOUT_3_DAYS},{value:7200,label:a.SESSION_TIMEOUT_5_DAYS},{value:10080,label:a.SESSION_TIMEOUT_7_DAYS}],events:{"change #user-session-timeout-select":"save"},template:function(e){return _.template(i,e)},save:function(e){var t=parseInt(e.target.value);this.model.setMaxSessionTimeout(t),this.model.saveData()},render:function(){var e=this.model.has("maxSessionTimeout")?this.model.getMaxSessionTimeout():void 0;return this.$el.html(this.template({__:a,maxSessionTimeout:e,sessionTimeoutOptions:this.sessionTimeoutOptions})),this}})}.apply(t,s))||(e.exports=n)},21065:function(e,t,i){var s,n;s=[i(94045)],void 0===(n=function(e){return Backbone.Collection.extend({model:e,comparator:function(e,t){return this.paddedAddress(e.get("entity"))<this.paddedAddress(t.get("entity"))?-1:1},paddedAddress:function(e){for(var t=e.split("."),i=0;i<t.length;i++)parseInt(t[i])<10?t[i]="00"+t[i]:parseInt(t[i])<100&&(t[i]="0"+t[i]);return t.join(".")},preppedForView:function(){return this.map((function(e){return{entity:e.toString(),description:e.getDescription(),isCurrentUser:e.isCurrentUser()}}))}})}.apply(t,s))||(e.exports=n)},48162:function(e,t,i){var s,n;s=[i(63205),i(16471),i(21065),i(94045),i(60567)],void 0===(n=function(e,t,i,s,n){"use strict";var a=n.SumoModel,r=t.keyedErrors,o=t.accountEnI18n;return a.extend({defaults:{currentUserIP:"",currentEditValue:null,currentEditValueDescription:null,previousEditValue:null,whitelistEnabled:!1,whitelistDashboardEnabled:!1,whitelistServiceEnabled:!1,whitelistDashboardServiceEnabled:!1,whitelistIPs:[],isFetching:!1,currentUserIPInWhitelist:!1,triggerViewUpdate:null,error:!1,errorMessage:null,errorDetails:null,loaded:!1,whitelistSaveError:!1},context:null,whitelistTypes:{login:"LOGIN",dashboard:"CONTENT"},allowlistTypes:{login:"Login",content:"Content"},toString:function(){var e="",t="";return this.getAllowlistStatus()?(e=o.WHITELIST_READONLY_ENABLED,0===this.getWhitelist().length?e=e+" "+o.WHITELIST_READONLY_EMPTY:this.getWhitelist().length>3?(t="<ul><li>"+_.map(this.getWhitelist().first(10),(function(e){return e.toString()})).join("</li><li>")+"</li></ul>",this.getWhitelist().length>10&&(t+=sprintf(o.WHITELIST_READONLY_MORE,this.getWhitelist().length-10)),e+=t):(t=_.map(this.getWhitelist().first(3),(function(e){return e.toString()})).join(", ").replace(/,\s([^,]+)$/," and $1"),e=e+" "+sprintf(o.WHITELIST_READONLY_ENABLED_SHORT,t,1===this.getWhitelist().length?"is":"are"))):e=o.WHITELIST_READONLY_DISABLED,e},useAllowlistAPI:()=>SumoApp.getAngularService("currentUserHelper").hasFeatureFlag("UIServiceAllowlistOpenAPI"),clearStat:function(e){this.clearError(),this.setFetching(!1),this.setCurrentEditValue(null),this.validateCaller=null,e&&this.set({triggerViewUpdate:Date.now()})},getFetching:function(){return this.get("isFetching")},setFetching:function(e){this.set({isFetching:e})},getLoaded:function(){return this.get("loaded")},setLoaded:function(e){this.setCurrentUserIPInAllowlist(),this.set({loaded:!0})},getErrorMessage:function(){return this.get("friendlyErrorMessage")},setErrorMessage:function(e){this.set({friendlyErrorMessage:e})},setErrorDetails:function(e){this.set({formattedErrorDetails:e})},setError:function(e){this.set({error:e})},getError:function(){return this.get("error")},clearError:function(){this.setErrorMessage(null),this.setErrorDetails(null),this.setError(!1)},getCurrentEditValue:function(){return this.get("currentEditValue")},setCurrentEditValue:function(e){this.set({currentEditValue:e})},getCurrentEditValueDescription:function(){return this.get("currentEditValueDescription")},setCurrentEditValueDescription:function(e){this.set({currentEditValueDescription:e})},getCurrentMode:function(){return null!==this.get("currentEditValue")?"edit":"add"},getPreviousEditValue:function(){return this.get("previousEditValue")},setPreviousEditValue:function(e){var t=""===`${e||""}`.trim()?null:e;this.set({previousEditValue:t})},getWhitelist:function(){return this.get("whitelistIPs")},setWhitelist:function(e){this.set({whitelistIPs:e}),this.setCurrentUserIPInAllowlist()},restoreWhitelist:function(){this._loadAllowlistOld(),this.setPreviousEditValue(null)},duplicateCheck:function(e){return this.getWhitelist().where({entity:e}).length>0},getUserIP:function(){return this.get("currentUserIP")},setUserIP:function(e){this.set({currentUserIP:e})},getCurrentUserIPInAllowlist:function(){return this.get("currentUserIPInWhitelist")},setCurrentUserIPInAllowlist:function(){var e=this.getUserIP(),t=this,i=_.filter(this.getWhitelist().models,(function(i){var s=t._in_range(e,i.toString());return t.getItem(i).setAsCurrentUser(s),s})).length>0;this.set({currentUserIPInWhitelist:i})},getItem:function(e){return this.getWhitelist().get(e)},getAllowlistServiceStatus:function(){return this.get("whitelistServiceEnabled")},getAllowlistDashboardServiceStatus:function(){return this.get("whitelistDashboardServiceEnabled")},getAllowlistStatus:function(){return this.get("whitelistEnabled")},getAllowlistDashboardStatus:function(){return this.get("whitelistDashboardEnabled")},setAllowlistServiceStatus:function(e){this.set({whitelistServiceEnabled:e})},setAllowlistDashboardServiceStatus:function(e){this.set({whitelistDashboardServiceEnabled:e})},setAllowlistStatus:function(e){this.set({whitelistEnabled:e})},setAllowlistDashboardStatus:function(e){this.set({whitelistDashboardEnabled:e})},removeItem:function(e,t){if(this.useAllowlistAPI())return this.removeCIDR(e);if(e&&""!==e)if(_.isArray(e)){var i=this;_.each(e,(function(e){i.removeItem(e,!0)}))}else{var s=this.getWhitelist().where({entity:e});this.getWhitelist().remove(s),t||SumoApp.userMessage.info(sprintf(o.WHITELIST_DELETE_SUCCESS,e)),this.validateWhitelist()}},addCIDR:function(e,t){this.ajax.call(this,{endpoint:this.ajax.Endpoints.V1_ACCOUNT_ALLOWLIST_ADD_ADDRESS,errorCode:"service_allowlist_save",data:{data:[{cidr:e,description:t}]},type:"POST",success:function(t){SumoApp.userMessage.info(sprintf(o.ALLOWLIST_ADD_SUCCESS,e)),this._setAllowlist(t),this.set({triggerViewUpdate:Date.now()})},error:function(t,i,s,n,a){400===t?SumoApp.userMessage.error(sprintf(o.ALLOWLIST_INVALID_ADDRESS,e)):SumoApp.userMessage.error(i)}})},removeCIDRPromise:function(e){return this.createPromise({endpoint:this.ajax.Endpoints.V1_ACCOUNT_ALLOWLIST_REMOVE_ADDRESS,data:{data:[{cidr:e}]},errorCode:"service_allowlist_save",type:"POST"})},removeCIDR:function(e){if(1===this.getWhitelist().length&&(this.getAllowlistStatus()||this.getAllowlistDashboardStatus()))SumoApp.userMessage.error(r["service_allowlist:delete_all_cidrs_with_allowlisting_enabled"]);else{const t=this;this.removeCIDRPromise(e).then((function(i){SumoApp.userMessage.info(sprintf(o.ALLOWLIST_DELETE_SUCCESS,e)),t._setAllowlist(i),t.set({triggerViewUpdate:Date.now()})})).catch((function(){SumoApp.userMessage.error(o.ALLOWLIST_DELETE_ERROR_TITLE)}))}},editCIDR:function(e,t,i){if(e===t)return this.addCIDR(t,i);{const s=this;return this.createPromise({endpoint:this.ajax.Endpoints.V1_ACCOUNT_ALLOWLIST_ADD_ADDRESS,data:{data:[{cidr:t,description:i}]},errorCode:"service_allowlist_save",type:"POST"}).then((function(i){s._setAllowlist(i),s.removeCIDRPromise(e).then((function(e){SumoApp.userMessage.info(sprintf(o.ALLOWLIST_EDIT_SUCCESS,t)),s._setAllowlist(e),s.set({triggerViewUpdate:Date.now()})})).catch((function(e){SumoApp.userMessage.error(o.ALLOWLIST_EDIT_ERROR_TITLE)}))})).catch((function(e){SumoApp.userMessage.error(o.ALLOWLIST_EDIT_ERROR_TITLE)}))}},whitelistErrorHandler:function(e,t,i,n,a){$.logError("Sumo.Secure.Ui.Account.WhitelistMgmtModel.whitelistErrorHandler: %s",n);var o,l,d,c=[],u=!1,h=a.keyedErrors.length>0&&a.keyedErrors[0].key,g=this.getUserIP();if(_.each(a.resultsList,(function(e){_.has(e,"errorMessage")&&""!==e.errorMessage&&c.push(e.errorMessage)})),this.setFetching(!1),c.length>0?(o=c[0],this.setErrorMessage(r[o]),u="save"===this.validateCaller):"acp1:user_ip_not_whitelisted"===h||"acp1:user_ip_not_allowlisted"===h?u=!0:h?(this.setErrorMessage(h.split(":")[1]),u="save"===this.validateCaller):(this.setErrorMessage(t),u="save"===this.validateCaller),u){if("validateSingleEntityEdit"!==this.validateCaller)l=_.map(a.resultsList,(function(e){return new s({entity:`${e.cidr.cidrString||""}`.trim(),description:e.description.descriptionString})})),this.getWhitelist().reset(l);else{d=this.getWhitelist().where({entity:this.getCurrentEditValue()})[0];var p=`${a.resultsList[0].cidr.cidrString||""}`.trim(),m=`${a.resultsList[0].description.descriptionString||""}`.trim();d.set({entity:p,description:m,isCurrentUser:this.getCurrentEditValue()===g}),this.setCurrentUserIPInAllowlist(this.getCurrentEditValue()===g)}this.clearStat(!0)}else"validateSingleEntityEdit"!==this.validateCaller&&(this.removeItem(this.getCurrentEditValue()),this.setCurrentEditValue(null)),this.setErrorDetails(i),this.setError(!0)},validateSingleEntity:function(e,t,i){var s;this.getUserIP();s={cidrList:[{cidrString:e}],cidrDescriptionList:[{descriptionString:i}]},this.setFetching(!0),this.validateCaller="add"===t?"validateSingleEntityAdd":"validateSingleEntityEdit",this.ajax.call(this,{endpoint:this.ajax.Endpoints.V1_ACCOUNT_VALIDATE_WHITELIST_IPS,errorCode:"service_whitelist_validate",data:s,type:"POST",success:function(e){var i,s=e.resultsList[0].cidr.cidrString,n=this.getCurrentEditValue();if("add"!==t)if(i=this.getWhitelist().find((function(e){return e.get("entity")===n}))){var a=e.resultsList[0].description.descriptionString;i.set({entity:s,description:a,isCurrentUser:!0}),this.setCurrentUserIPInAllowlist(!0)}else $.logWarning("Sumo.Secure.Ui.Account.GlobalPolicyModel.validateWhitelist - could not find original entity");this.clearStat(!0)},error:this.whitelistErrorHandler})},validateWhitelist:function(){var e;e={cidrList:this.getWhitelist().pluck("entity"),cidrDescriptionList:this.getWhitelist().pluck("description")},this.setFetching(!0),this.validateCaller="validateAll",this.ajax.call(this,{endpoint:this.ajax.Endpoints.V1_ACCOUNT_VALIDATE_WHITELIST_IPS,errorCode:"service_whitelist_validate",data:e,type:"POST",success:function(e){this.clearStat(!0)},error:this.whitelistErrorHandler})},_saveAllowlistStatus:function(e){let t,i;const s=this;e===this.allowlistTypes.login?(t=this.getAllowlistStatus(),i="service_whitelist_login_save_status"):e===this.allowlistTypes.content&&(t=this.getAllowlistDashboardStatus(),i="service_whitelist_content_save_status");const n=t?this.ajax.Endpoints.V1_ACCOUNT_ALLOWLIST_ENABLE:this.ajax.Endpoints.V1_ACCOUNT_ALLOWLIST_DISABLE;return this.createPromise({endpoint:`${n}?allowlistType=${e}`,errorCode:i,type:"POST"}).then((function(){e===s.allowlistTypes.login?(s.setAllowlistStatus(t),s.setAllowlistServiceStatus(t)):e===s.allowlistTypes.content&&(s.setAllowlistDashboardStatus(t),s.setAllowlistDashboardServiceStatus(t))})).catch((function(e){s.set("whitelistSaveError",!0)}))},saveWhitelist:function(e){var t,i=this.getWhitelist().pluck("entity"),s=["add","edit","delete"];t={cidrList:i,cidrDescriptionList:this.getWhitelist().pluck("description")},this.validateCaller="save",this.set("whitelistSaveError",!1),e=e||"edit",this.ajax.call(this,{endpoint:this.ajax.Endpoints.V1_ACCOUNT_SET_WHITELIST_IPS,errorCode:"service_whitelist_save",type:"POST",data:t,success:function(t){var i="";if(null!=t&&!t.error){var n=[],a=this;this.setCurrentUserIPInAllowlist(),this.getAllowlistStatus()!==this.getAllowlistServiceStatus()&&(n.push(this._saveAllowlistStatus(this.allowlistTypes.login)),i+=this.getAllowlistStatus()?o.ALLOWLIST_LOGIN_ENABLED:o.ALLOWLIST_LOGIN_DISABLED),this.getAllowlistDashboardStatus()!==this.getAllowlistDashboardServiceStatus()&&(n.push(this._saveAllowlistStatus(this.allowlistTypes.content)),i+=this.getAllowlistDashboardStatus()?o.ALLOWLIST_CONTENT_ENABLED:o.ALLOWLIST_CONTENT_DISABLED),s.indexOf(e)>-1&&(i+=o.WHITELIST_UPDATED),this.clearStat(!0),when.settle(n).then((function(e){a.clearStat(!0),a.get("whitelistSaveError")?SumoApp.userMessage.error(o.WHITELIST_CHECKBOX_SAVE_ERROR):SumoApp.userMessage.info(i)}))}},error:this.whitelistErrorHandler})},initialize:function(){this.get("context")&&(this.context=this.get("context"),this.ajax=this.get("context").ajax),this.setWhitelist(new i),this.listenTo(this,"change:whitelistIPs",this.setLoaded)},handleError:function(e,t,i,s){this.set({triggerViewUpdate:Date.now()}),$.logError("Sumo.Secure.Ui.Account.WhitelistMgmtModel.loadData.error: %s",s),this.setErrorMessage(t),this.setErrorDetails(i),this.setError(!0)},_loadAllowlistStatus:function(){return this.ajax.call(this,{endpoint:this.ajax.Endpoints.V1_ACCOUNT_ALLOWLIST_STATUS,errorCode:"service_whitelist_status",success:function(e){this.setAllowlistStatus(e.loginEnabled),this.setAllowlistServiceStatus(e.loginEnabled),this.setAllowlistDashboardStatus(e.contentEnabled),this.setAllowlistDashboardServiceStatus(e.contentEnabled),this._loadUserIP()},error:this.handleError})},_loadAllowlist:function(){return this.ajax.call(this,{endpoint:this.ajax.Endpoints.V1_ACCOUNT_ALLOWLIST_ADDRESSES,errorCode:"service_allowlist",success:e=>{this._setAllowlist(e),this.setLoaded(),this.set({triggerViewUpdate:Date.now()})},error:this.handleError})},_setAllowlist:function(e){const t=e.data.map((e=>new s({entity:e.cidr.trim(),description:e.description})));this.getWhitelist().reset(t),this.setCurrentUserIPInAllowlist()},_loadAllowlistOld:function(){return this.ajax.call(this,{endpoint:this.ajax.Endpoints.V1_ACCOUNT_GET_WHITELIST_IPS,errorCode:"service_whitelist",success:function(e){var t,i=e.cidr.cidrList,n=e.cidr.cidrDescriptionList;t=_.map(i,(function(e,t){return new s({entity:`${e.cidrString||""}`.trim(),description:n[t].descriptionString})})),this.getWhitelist().reset(t),this.setLoaded(),this.set({triggerViewUpdate:Date.now()})},error:this.handleError})},_loadUserIP:function(){return this.ajax.call(this,{endpoint:this.ajax.Endpoints.V1_ACCOUNT_GET_USER_IP,errorCode:"user_ip_address",success:function(e){this.setUserIP(e.usersIp),this.useAllowlistAPI()?this._loadAllowlist():this._loadAllowlistOld()},error:this.handleError})},loadData:function(e){this._loadAllowlistStatus()},destroy:function(){this.stopListening()},createMockCollection:function(e){var t=new i;return 1===e?this.setMockData():(_(e).times((function(e){t.add(this.setMockData())})),t)},setMockData:function(){var e=new s;return e.set(e.getMockItem())},_in_range:function(e,t){if(-1!==t.indexOf("/")){var i=t.split("/"),s=ipaddr.parse(e),n=ipaddr.parse(i[0]);return"127.0.0.1/8"===t&&$.logWarnLocal("should return true, will return %s",s.match(n,i[1])),s.match(n,i[1])}return e===t}})}.apply(t,s))||(e.exports=n)},47355:function(e,t,i){var s,n;s=[i(16471),i(41692),i(94045),i(11671),i(60567)],void 0===(n=function(e,t,i,s,n){n.SubViewHelperModule;var a=e.keyedErrors,r=e.accountEnI18n;return Backbone.View.extend({events:{"click #input-whitelist-status":"toggleStatus","click #input-whitelist-dash-status":"toggleDashStatus","click #save-whitelist":"save","click #submit-allowlist-item":"submitItem","click #reset-allowlist-item":"resetItem","click .tabCloseButton":"deleteItem","keyup #input-allowlist-address":"onKeyup","paste #input-allowlist-address":"onKeyup","keyup #input-allowlist-description":"onKeyup","paste #input-allowlist-description":"onKeyup","submit form#whitelist-form":"onSubmitPreventDefault"},template:_.template(t),errorShown:null,blockEnterKeyError:null,changeType:null,needsReopen:null,reactComponentInstances:{},onSubmitPreventDefault:function(e){e.preventDefault()},_handleMultiples:function(e){var t=this;return e.filter((function(e){return!t.model.duplicateCheck(e)})).map((function(e){return e.trim()}))},multipleEditErrorClosed:function(){var e=$("#input-allowlist-address").val();e=e.substr(0,e.length-1),$("#input-allowlist-address").val(e).trigger("focus")},multipleEditError:function(){$("#sumo-message-box").is(":visible")||SumoApp.userMessage.error(r.WHITELIST_EDIT_SINGLE_ADDRESS_ERROR,{displayType:SumoApp.userMessage.DisplayType.MSGBOX,title:r.WHITELIST_ERROR_TITLE,callback:this.multipleEditErrorClosed,isHTML:!0})},onKeyup:function(e){var t,i=$(e.target).val(),s=e.keyCode||e.key||-1,n=i.indexOf(",")>-1,a=i.indexOf(";")>-1,r=n||a,o=$("#reset-allowlist-item");if("paste"===e.type&&(t=this,setTimeout((function(){e.type="click",t.onKeyup(e)}),100)),"edit"===this.model.getCurrentMode()&&r)this.multipleEditError();else if(13===s){if(e.stopPropagation(),this.model.getFetching()||$("#submit-whitelist").hasClass("btn-disabled")||""===i)return this.blockEnterKeyError=!1,void(this.errorShown=!1);this.submitItem(e)}else if(""!==i||o.hasClass("btn-disabled"))""!==i&&(o.removeClass("btn-disabled"),$("#submit-allowlist-item").removeClass("btn-disabled"));else{var l=$("#input-allowlist-address").val(),d=$("#input-allowlist-description").val();""==l&&""===d&&o.addClass("btn-disabled")}},toggleStatus:function(){var e=$("#input-whitelist-status").prop("checked");this.model.useAllowlistAPI()?e?0===this.model.getWhitelist().length?(SumoApp.userMessage.error(r.ALLOWLIST_BLANK_SAVE_ERROR,{displayType:SumoApp.userMessage.DisplayType.MSGBOX,title:r.ALLOWLIST_BLANK_SAVE_ERROR_TITLE,isHTML:!0}),this.revertAllowlistCheckbox()):this.model.getCurrentUserIPInAllowlist()?SumoApp.userMessage.question(r.ALLOWLIST_STATUS_WARNING,{displayType:SumoApp.userMessage.DisplayType.MSGBOX,title:r.ALLOWLIST_STATUS_TITLE,isHTML:!0,okCallback:this.allowlistOn.bind(this),cancelCallback:this.revertAllowlistCheckbox}):SumoApp.userMessage.question(sprintf(r.ALLOWLIST_USER_IP_NOT_ALLOWLISTED,this.model.getUserIP()),{okCallback:this.addUserIP.bind(this),cancelCallback:this.cancelAllowlistIPCheck.bind(this),okText:r.ALLOWLIST_ADD_MY_IP,cancelText:r.ALLOWLIST_CONTINUE,isHTML:!0}):(this.model.setAllowlistStatus(!1),this.model._saveAllowlistStatus(this.model.allowlistTypes.login).then((()=>{SumoApp.userMessage.info(r.ALLOWLIST_LOGIN_DISABLED)}))):(e&&SumoApp.userMessage.info(r.ALLOWLIST_STATUS_WARNING,{displayType:SumoApp.userMessage.DisplayType.MSGBOX,title:r.ALLOWLIST_STATUS_TITLE,isHTML:!0}),this.model.setAllowlistStatus(e),$("#save-whitelist").removeClass("btn-disabled"))},allowlistOn:function(){this.model.setAllowlistStatus(!0),this.model._saveAllowlistStatus(this.model.allowlistTypes.login).then((()=>{SumoApp.userMessage.info(r.ALLOWLIST_LOGIN_ENABLED)}))},revertAllowlistCheckbox:function(){$("#input-whitelist-status").prop("checked",!1)},cancelAllowlistIPCheck:function(e){e.keyCode&&27===e.keyCode||e.originalEvent&&("button"===e.originalEvent.target.className||"ui-icon ui-icon-closethick"===e.originalEvent.target.className)?this.revertAllowlistCheckbox():this.allowlistOn()},toggleDashStatus:function(){var e=$("#input-whitelist-dash-status").prop("checked");e?(this.model.useAllowlistAPI()?0===this.model.getWhitelist().length?(SumoApp.userMessage.error(r.ALLOWLIST_BLANK_SAVE_ERROR,{displayType:SumoApp.userMessage.DisplayType.MSGBOX,title:r.ALLOWLIST_BLANK_SAVE_ERROR_TITLE,isHTML:!0}),this.revertAllowlistDashboardCheckbox()):(this.model.setAllowlistDashboardStatus(e),this.model._saveAllowlistStatus(this.model.allowlistTypes.content).then((()=>{SumoApp.userMessage.info(r.ALLOWLIST_CONTENT_ENABLED)}))):this.model.setAllowlistDashboardStatus(e),$("#save-whitelist").removeClass("btn-disabled")):SumoApp.userMessage.question(r.WHITELIST_STATUS_OFF_WARNING,{displayType:SumoApp.userMessage.DisplayType.MSGBOX,title:r.WHITELIST_DASHBOARD_STATUS_TITLE,isHTML:!0,okCallback:this.dashboardWhitelistOff.bind(this),cancelCallback:this.revertAllowlistDashboardCheckbox,okText:r.WHITELIST_OFF_CONFIRM_YES,cancelText:r.WHITELIST_OFF_CONFIRM_NO})},dashboardWhitelistOff:function(){this.model.setAllowlistDashboardStatus(!1),this.model.useAllowlistAPI()&&this.model._saveAllowlistStatus(this.model.allowlistTypes.content).then((()=>{SumoApp.userMessage.info(r.ALLOWLIST_CONTENT_DISABLED)})),$("#save-whitelist").removeClass("btn-disabled")},revertAllowlistDashboardCheckbox:function(){var e=$("#input-whitelist-dash-status"),t=e.prop("checked");e.prop("checked",!t)},editItem:function(e){this._populateEditForm(e.data.cidr,e.data.description)},resetItem:function(){$("#reset-allowlist-item").hasClass("btn-disabled")||this._populateEditForm(null,null)},deleteItem:function(e,t){var i;"delete"!==this.changeType&&(this.changeType="delete",i=`${t.cidr||""}`.trim(),e.stopPropagation(),this.needsReopen=!0,this.model.removeItem(i),this.model.setCurrentUserIPInAllowlist(),$("#save-whitelist").removeClass("btn-disabled"))},submitItem:function(e){if(!this.model.getFetching()&&!$(e.target).hasClass("btn-disabled")){$("#submit-allowlist-item").addClass("btn-disabled"),$("#reset-allowlist-item").addClass("btn-disabled");var t,i,s=`${$("#input-allowlist-address").val()||""}`.trim(),n="edit"===this.model.getCurrentMode(),a=s.indexOf(","),o=s.indexOf(";"),l=a>0||o>0,d=!1,c=this.model.duplicateCheck(s);if(i=`${$("#input-allowlist-description").val()||""}`.trim(),""===s)this.renderError(r.WHITELIST_ADD_ERROR_TITLE,r.WHITELIST_BLANK_ADDRESS);else{if(c&&n){if(s!==this.model.getPreviousEditValue()){var u=$("#input-allowlist-address").data("original-value"),h=$("#input-allowlist-description").data("original-value");s!==u?(this.model.setCurrentEditValue(s),this.model.setCurrentEditValueDescription(i),this.renderError(r.ALLOWLIST_EDIT_ERROR_TITLE,sprintf(r.WHITELIST_DUPLICATE_ADDRESS,s)),this._populateEditForm(u,h)):i!==h&&this._updateEditedItem(s,i)}else $("#input-allowlist-address").trigger("focus");return}if(l)d=(t=this._handleMultiples(_.uniq(s.split(a>0?",":";")))).length>0;else{if(n)return this._updateEditedItem(s,i),void this.model.setCurrentUserIPInAllowlist();c?d=!1:(t=[s],d=!0)}d?(this.model.setCurrentEditValue(t),this.model.setCurrentEditValueDescription(i),this._addToAllowlist(t,i),this.model.setCurrentUserIPInAllowlist()):this.renderError(r.WHITELIST_ERROR_TITLE,sprintf(r.WHITELIST_DUPLICATE_ADDRESS,s))}}},_updateEditedItem:function(e,t){if(this.model.useAllowlistAPI()){var i=$("#input-allowlist-address").data("original-value");return this.model.editCIDR(i,e,t)}this.persistWhitelist("edit",e,t)},_addToAllowlist:function(e,t){if(this.model.useAllowlistAPI())return this.model.addCIDR(e[0],t);var s,n=this.model;_.isArray(e)?_.each(e,(function(e){e&&(s=new i({entity:e,description:t}),n.getWhitelist().add(s))})):(s=new i({entity:e,description:t}),n.getWhitelist().add(s)),this.persistWhitelist("add",e)},persistWhitelist:function(e,t,i){_.isArray(t)?this.model.validateWhitelist():this.model.validateSingleEntity(t,e,i),this.needsReopen=!0,this.changeType=e},addUserIP:function(){this._addToAllowlist([this.model.getUserIP()],""),this.allowlistOn()},_injectUserIP:function(e){this._addToAllowlist(this.model.getUserIP(),""),this._saveList(e)},_saveList:function(e){e.keyCode&&27===e.keyCode||e.originalEvent&&("button"===e.originalEvent.target.className||"ui-icon ui-icon-closethick"===e.originalEvent.target.className)||(this.model.saveWhitelist(this.changeType),this.$("#input-allowlist-address").trigger("focus")),this.changeType=null},save:function(e){e.preventDefault(),$(e.target).hasClass("btn-disabled")||(this.model.getAllowlistStatus()&&0===this.model.getWhitelist().length?SumoApp.userMessage.error(r.ALLOWLIST_BLANK_SAVE_ERROR,{displayType:SumoApp.userMessage.DisplayType.MSGBOX,title:r.ALLOWLIST_BLANK_SAVE_ERROR_TITLE,isHTML:!0}):this.model.getCurrentUserIPInAllowlist()||!this.model.getAllowlistStatus()?this._saveList(e):SumoApp.userMessage.question(sprintf(r.ALLOWLIST_USER_IP_NOT_ALLOWLISTED,this.model.getUserIP()),{okCallback:this._injectUserIP,cancelCallback:this._saveList,okText:r.ALLOWLIST_ADD_MY_IP,cancelText:r.ALLOWLIST_CONTINUE,isHTML:!0}))},_populateEditForm:function(e,t){e?($("#submit-allowlist-item").val(r.UPDATE),$("#submit-allowlist-item").removeClass("newItem"),$("#reset-allowlist-item").removeClass("btn-disabled"),$("#save-whitelist").addClass("btn-disabled"),this.errorShown=!1,this.blockEnterKeyError=!1):($("#submit-allowlist-item").val(r.ADD),$("#submit-allowlist-item").addClass("newItem"),$("#reset-allowlist-item").addClass("btn-disabled")),this.$("#input-allowlist-address").data("original-value",e).val(e),$("#sumo-message-box").is(":visible")||$(".ao-ctr").is(":visible")||this.$("#input-allowlist-address").trigger("focus"),this.model.setCurrentEditValue(e),this.changeType=null,this.$("#input-allowlist-description").data("original-value",t).val(t),this.model.setCurrentEditValueDescription(t)},toggleForm:function(e){e?(this.$(".policy-readonly").hide(),this.$(".policy-edit").show(),$("#whitelist-edit-link").hide(),this.model.useAllowlistAPI()?$("#whitelist-form-buttons").hide():$("#whitelist-form-buttons").show()):(this.$("#input-allowlist-address").off("keyup"),this.$(".policy-readonly").show(),this.$(".policy-edit").hide(),$("#whitelist-edit-link").show(),$("#whitelist-form-buttons").hide()),this.changeType&&!this.errorShown&&$("#save-whitelist").removeClass("btn-disabled")},close:function(){var e=this.model.getAllowlistServiceStatus();this.needsReopen=!1,this._populateEditForm(null),this.model.restoreWhitelist(),this.model.getAllowlistStatus()!==e&&(this.model.setAllowlistStatus(e),$("#input-whitelist-status").prop("checked",e)),this.toggleForm(!1)},open:function(e){this.toggleForm(!0),this.needsReopen=!1,this._populateEditForm(null)},initialize:function(){_.bindAll(this,"open","render","renderError","clearError","multipleEditErrorClosed","onKeyup","_saveList","_injectUserIP","editItem","deleteItem"),this.listenTo(this.model,"change:triggerViewUpdate",this.render),this.listenTo(this.model,"change:error",this.renderError),this.model.loadData(),this.render(),this.$("#input-allowlist-address").on("keyup",this.onKeyup)},clearError:function(){this.model.clearError(),this.errorShown=!1,this.changeType=null,this._populateEditForm(this.model.getCurrentEditValue(),this.model.getCurrentEditValueDescription())},renderError:function(e,t){var i=this.model.getError()?this.model.getErrorMessage():t;this.blockEnterKeyError=!0,!$("#sumo-message-box").is(":visible")&&i&&(SumoApp.userMessage.error(i,{displayType:SumoApp.userMessage.DisplayType.MSGBOX,title:r.WHITELIST_ERROR_TITLE,callback:this.clearError,isHTML:!0}),$("#sumo-message-box").find(".button").trigger("focus"),a["gn:insufficient_permission"]===this.model.get("errorDetails")&&this.removeSection())},_currentUserMessage:function(){this.model.getCurrentUserIPInAllowlist()?this.options.context.errorUtil.renderInfo(this.$("#current-user-ip-note"),sprintf(r.WHITELIST_CURRENT_USER_IP_NOTE,this.model.getUserIP(),"is")):this.options.context.errorUtil.renderWarning(this.$("#current-user-ip-note"),sprintf(r.WHITELIST_CURRENT_USER_IP_NOTE,this.model.getUserIP(),"isn't"))},render:function(){var e,t,i,n=4,a=10,o=this.model.getWhitelist().preppedForView(),l="";if((e=this.model.getWhitelist().length)>4*a?a=Math.ceil(e/n):n=e>a?Math.ceil(e/a):1,this.model.setFetching(!1),null!==this.model.getCurrentEditValue()&&(l='value="'+this.model.getCurrentEditValue()+'"'),t=$.extend(this.model.toJSON(),{__:r,swItems:o,whitelistColumns:n,whitelistPerColumn:a,currentIPEditVal:l,max_desc_length:50}),i=this.template(t),this.$el.html(i),this.model.getLoaded()){$("#whitelist-loading-section").hide(),this.$(".policy-readonly").html(this.model.toString()).show(),this._currentUserMessage(),this.destroyWhitelistTable();var d="table-whitelist";s.renderWhitelistTable({swItems:o,editItem:this.editItem,deleteItem:this.deleteItem},d),this.reactComponentInstances["table-whitelist"]=document.getElementById(d)}return this.open(),this},destroyWhitelistTable:function(){var e=this.reactComponentInstances;if(e){var t=e["table-whitelist"];t&&(s.destroyWhitelistTable(t),e["table-whitelist"]=void 0)}},destroy:function(){this.$("#input-allowlist-address").off("keyup"),this.destroyWhitelistTable(),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},94045:function(e,t,i){var s,n;s=[i(16471)],void 0===(n=function(e){"use strict";e.accountEnI18n;return Backbone.Model.extend({defaults:{entity:null,description:null,isCurrentUser:null},toString:function(){return this.get("entity")},getDescription:function(){return this.get("description")},destroy:function(){this.stopListening()},isCurrentUser:function(){return this.get("isCurrentUser")},setAsCurrentUser:function(e){this.set({isCurrentUser:e})},getMockItem:function(){return{entity:sprintf("%s.%s.%s.%s",_.random(1,100),_.random(1,100),_.random(1,100),_.random(1,100))}}})}.apply(t,s))||(e.exports=n)},48586:function(e,t){var i;void 0===(i=function(){"use strict";return{mixin:{ACCOUNT_CONST:{USAGE_TYPE:{FREQUENT:"frequent",CONTINUOUS:"continuous",METRICS:"metrics",STORAGE:"storage"},BILLING_PERIOD:{CURRENT:0,PREVIOUS:-1},PERIOD:{CURRENT:"current",PREVIOUS:"previous"}},getCurrentPeriod:function(e){return _.findWhere(this._getBillingPeriods(e),{period:0})},getLastPeriod:function(e){return _.findWhere(this._getBillingPeriods(e),{period:-1})},getUsagesForPeriod:function(e){var t=[];if(e)for(var i=moment.tz(e.startTimestamp,"America/Los_Angeles").startOf("day"),s=e.usages,n=i.clone(),a=null,r=0;r<s.length;r++)a=n.valueOf(),t.push({timestamp:a,date:new Date(a),usage:s[r]}),n.add(1,"day").startOf("day");return _.sortBy(t,"timestamp")},getUsages:function(e,t){var i=[],s=null;return 0===e?s=this.getCurrentPeriod(t):-1===e&&(s=this.getLastPeriod(t)),s&&(i=this.getUsagesForPeriod(s)),i},getUsagesForLastDaysInMB:function(e){var t=this.getBillingUsages();if(!t)return[];e=e||this.getRetentionPeriodInDays()||7;var i=t.currentTime,s=this.getCurrentPeriod(),n=this.getLastPeriod(),a=this.getUsagesForPeriod(n).concat(this.getUsagesForPeriod(s)),r=moment(i).subtract(e,"days").startOf("day").valueOf(),o=moment(i).add(1,"days").startOf("day").valueOf();return _.chain(a).filter((function(e){return r<e.timestamp&&o>e.timestamp})).sortBy("timestamp").value()},getUsageForLastDaysInMB:function(e){var t=this.getUsagesForLastDaysInMB(e);return _.reduce(t,(function(e,t){return e+t.usage}),0)},getCurrentUsagesTotalAndLength:function(e){var t=this.getCurrentPeriod(e),i=this.getTotalBillingDays(t.startTimestamp,null);return e===this.ACCOUNT_CONST.USAGE_TYPE.METRICS&&(i=Math.ceil(i)),this.getPeriodTotalAndLength(t,i)},getPreviousUsagesTotalAndLength:function(e){var t=this.getLastPeriod(e),i=this.getTotalBillingDays(t.startTimestamp,t.endTimestamp);return this.getPeriodTotalAndLength(t,i)},getPeriodTotalAndLength:function(e,t){var i={len:0,averageUsage:0,totalUsage:0},s=Math.floor(e.totalUsage/t);return e&&(i={len:e.usages.length,averageUsage:s,totalUsage:e.totalUsage}),i},_getBillingPeriods:function(e){var t=this.getBillingUsagesFor(e);return t?t.usages:null},getBillingUsagesFor:function(e){switch(e){case this.ACCOUNT_CONST.USAGE_TYPE.METRICS:return this.getMetricsUsages();case this.ACCOUNT_CONST.USAGE_TYPE.FREQUENT:return this.getBasicBillingUsages();case this.ACCOUNT_CONST.USAGE_TYPE.CONTINUOUS:default:return this.getBillingUsages()}}}}}.apply(t,[]))||(e.exports=i)},93889:function(e,t,i){var s,n,a=i(89131);s=[i(27334),i(67747)],void 0===(n=function(e,t){"use strict";var i=e.appModuleInfo,s=i.lazy;return s?{lazy:s,promise:i.promise.then(r)}:(r(),{lazy:s});function n(){a.bootstrap(document,["sumoApp"],{strictDi:!0})}function r(){var e=a.element("#login"),i=a.element("#login").injector();t.isUndefined(i)?n():e.injector().get("$rootScope").$on("$destroy",(function(){n()}))}}.apply(t,s))||(e.exports=n)},84315:function(e,t,i){var s,n;s=[i(60567),i(62670)],void 0===(n=function(e,t){"use strict";var i=e.SumoModel,s=e.GetterSetterMixin;return i.extend({mixins:[s],defaults:{},getComponent:function(){return"BentoUI"},getModelName:function(){return"BentoUIModel"},initialize:function(){},initAjax:function(){this.ajax=SumoApp.ajax},destroy:function(){}})}.apply(t,s))||(e.exports=n)},45047:function(e,t,i){var s,n,a=i(89131);s=[i(60567),i(50963),i(62670),i(10952),i(84315)],void 0===(n=function(e,t,i,s,n){var r=e.SumoViewModule,o=t.getAngularInjectable;return r.extend({events:{},template:_.template(s),getViewName:function(){return"BentoUIView"},getComponent:function(){return"BentoUI"},signout:function(e){SumoApp.userMessage.question(i.logout_confirmation,{okCallback:function(){SumoApp.bentoLoader.onLogout(e)}})},_makeModel:function(){this.model=new n({}),this.postInitialize()},initialize:function(e){_.bindAll(this,"render","onResize"),this._makeModel()},setupResizeTrigger:function(){this.onResizeDebouncer=_.debounce(this.onResize,100),$(window).on("resize",this.onResizeDebouncer)},removeResizeTrigger:function(){$(window).off("resize",this.onResizeDebouncer)},onResize:function(){this.$el.trigger("applicationResize")},postInitialize:function(){this.render()},render:function(){var e=_.extend({},this.model.toJSON(),{__:i}),t=this.template(e);this.$el.html(t),this.setupResizeTrigger();var s=a.element(document.body)[0].scope();return o("compileUtil").compile(this.$el,s,!0),$(".prada > .reveal").remove(),this},destroy:function(){SumoApp.getAngularService("workspacesService").beforeWindowClose(),this.removeResizeTrigger(),this.destroySubViews(),this.model.destroy(),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},85074:function(e,t,i){var s,n;s=[i(60567),i(16471),i(38912)],void 0===(n=function(e,t,i){var s=e.SumoViewModule,n=t.commonEnI18n,a=t.OverlaysEnI18nModule;return s.extend({events:{"click .ao-link":"reactivate"},overlayPage:null,template:_.template(i),initialize:function(){_.bindAll(this,"reactivate","updateLink","resendSuccess","resendError"),this.overlayPage=this.options.overlayPage},resendSuccess:function(){SumoApp.user.logSetupAction({logType:n.wizard_resend_activation},!0),this.updateLink(a.ao_resend_success)},resendError:function(){var e=_.last(arguments).errorMessage;SumoApp.context.messageBox.error(n.activation_error_title,sprintf("<div>%s</div><div>%s</div>",n.activation_error_intro,e)),this.updateLink(a.ao_resend_disabled)},updateLink:function(e){this.$(".ao-link").replaceWith(sprintf('<div class="ao-text">%s</div>',e))},reactivate:function(e){e.preventDefault(),e.stopPropagation();var t=SumoApp.getAngularService("currentUserHelper");SumoApp.ajax.call(this,{endpoint:SumoApp.ajax.Endpoints.V1_ACCOUNT_RESEND_ACTIVATION,errorCode:"source_setup_reactivation",type:"POST",data:t.get().name,success:this.resendSuccess,error:this.resendError})},render:function(){var e={__:a},t=this.template(e);return this.$el.html(t),this}})}.apply(t,s))||(e.exports=n)},1056:function(e,t,i){var s,n;s=[i(60567)],void 0===(n=function(e){"use strict";var t=e.SumoModel,i=e.GetterSetterMixin;return t.extend({defaults:{active:null,term:null,advBtnId:null,inputPlaceholder:null,id:null,inputId:null,searchBtnId:null,inputEventSupport:null,triggerSearchOnKeyUp:!1},mixins:[i],getModelName:function(){return"CommonSearchModel"},getComponent:function(){return"CommonSearch"},setTerm:function(e){var t=SumoUtil.isStringEmpty(e);this.setActive(!t),this.set({term:e})}})}.apply(t,s))||(e.exports=n)},49513:function(e,t,i){var s,n;s=[i(60567),i(16471),i(52970),i(1056)],void 0===(n=function(e,t,i,s){var n=e.SumoViewModule,a=t.commonEnI18n;return n.extend({events:{"click .common-search-btn, #apply-filter":"onSearch","search .common-search-input":"launchSearch","change  .common-search-input":"onKeyup","keyup .common-search-input":"onKeyup","input .common-search-input":"onInput","focus .common-search-input":"onInputFocus","blur .common-search-input":"onInputFocus","click .common-search-adv-btn":"onAdvSearch","click .common-search-clear":"clear"},onFocusHandler:null,template:_.template(i),getComponent:function(){return"CommonSearch"},getViewName:function(){return"CommonSearchView"},initialize:function(e){_.bindAll(this,"render","toggleInputState"),e.onFocusHandler&&(this.onFocusHandler=e.onFocusHandler),this.launchSearch=_.debounce(this.launchSearch,100,!0),this.model=new s(e),this.render()},getEventInfo:function(){return{term:this.model.getTerm()}},getEnabledState:function(){return _.isUndefined(this.$(".common-search-input").attr("disabled"))},enable:function(){this.toggleInputState(!0)},disable:function(){this.toggleInputState(!1)},toggleInputState:function(e){e?this.$(".common-search-input").attr("disabled",null):this.$(".common-search-input").attr("disabled","disabled")},getActive:function(){return this.model.getActive()},setActive:function(e){this.model.setActive(e)},getTerm:function(){return this.model.getTerm()},setTerm:function(e){this.model.getTerm()!==e&&(this.model.setTerm(e),this.trigger("commonSearchLaunched",this.getEventInfo()))},clear:function(){this.$(".common-search-input").val(""),this.setSearchClearBtnDisplay()},setSearchClearBtnDisplay:function(){this.$(".common-search-input").val()?this.$(".common-search-clear").addClass("show"):this.$(".common-search-clear").removeClass("show")},showTerm:function(e){this.$(".common-search-input").val(e),this.setTerm(e)},onAdvSearch:function(){this.model.getAdvBtnId()&&this.trigger("commonSearchAdvanced",this.getEventInfo())},onInput:function(){this.model.getInputEventSupport()&&this.trigger("commonSearchInput",this.getEventInfo())},onInputFocus:function(e){this.onFocusHandler&&this.onFocusHandler($(e.currentTarget).closest(".common-search-container")),this.setSearchClearBtnDisplay()},onKeyup:function(e){var t=e.keyCode||e.key||-1;e.preventDefault(),$.later(10,this,(function(){if("paste"===e.type){var t=this;setTimeout((function(){e.type="click",t.onKeyup(e)}),10)}})),(13===t||this.model.getTriggerSearchOnKeyUp())&&this.launchSearch(e),this.setSearchClearBtnDisplay()},onSearch:function(e){this.launchSearch(e)},launchSearch:function(e){e.preventDefault(),e.stopPropagation();var t=this.$(".common-search-input").val().trim();this.setTerm(t)},render:function(){var e=_.extend(this.model.toJSON(),{__:a}),t=this.template(e);return this.$el.html(t),this.setSearchClearBtnDisplay(),this}})}.apply(t,s))||(e.exports=n)},67188:function(e,t,i){var s,n;s=[i(60567)],void 0===(n=function(e){return e.SumoViewModule.extend({events:{},template:null,data:null,templateKey:null,__:null,getName:function(){return"ListDetailView"},getComponent:function(){return"SumoListView"},initialize:function(){this.data=this.options.data,this.template=this.options.data.template,this.templateKey=this.options.data.templateKey,this.__=this.options.data.i18n},render:function(){var e,t=_.extend({},{__:this.__,data:this.data,templateKey:this.templateKey}),i=this.template(t);return"DEV_NA"===this.data.creator.val&&(e=i.split("list-detail-creation-row"),i=e[0]+" list-detail-creation-row-hidden"+e[1]),i}})}.apply(t,s))||(e.exports=n)},16589:function(e,t,i){var s,n;s=[i(60567),i(34908),i(16471),i(12837),i(52267),i(7770),i(23016),i(15777),i(34074)],void 0===(n=function(e,t,i,s,n,a,r,o,l){var d,c=e.SumoViewModule,u=e.TooltipsterViewModule,h=l.SearchQueryDataModule,g=i.commonEnI18n;return t=t.default,c.extend({events:{"click #mini-progress-view-launch":"launch","launchDashboard #wizard-progress":"onDashboardReady","externalFinish #mini-progress-view-launch":"finish"},mixins:[],el:"#wizard-progress",progressBar:null,searchTipVisible:null,dashboardTipWaiting:null,queryReg:null,queryHpk:null,queryMet:null,isMetQuery:null,template:_.template(s),errorTooltipTemplate:_.template(n),dashboardsTooltipTemplate:_.template(a),searchTooltipTemplate:_.template(r),acceptedFiles:null,startTimestamp:null,endTimestamp:null,searchReadyShown:null,renderDashboardReadyOnly:null,dashboardListenerEnabled:!1,launchSearchImmediately:null,skipSearch:null,searchTourLaunched:null,searchesLaunched:null,upgradeHidden:!1,launchSearchClicked:!1,swService:null,initialize:function(){SumoApp.getAngularService("currentUserHelper");_.bindAll(this,"updateState","render","launch","_searchCleanup","searchReadyHandler","_dashboardCleanup","_dashboardReady","logAction","searchLauncher","savedSearchRetrieved","openDashboard","allowDashboardtip","onDashboardReady"),this.swService=SumoApp.getAngularService("setupWizardService"),this.isMetQuery=!_.isEmpty(this.options.query.met),this.searchesLaunched=0,this.options.txnId&&(this.model=new o,this.model.setP("txn.xid",this.options.txnId)),this.searchTourLaunched=SumoApp.user.userPreferencesModel.shouldShowSearchTour()||this._isTourVisible(),this.options.launchSearchImmediately?(this.launchSearchImmediately=this.options.launchSearchImmediately,this.listenTo(this.model,"change:txn.defaultSearchIds",this.launchSearch)):this.options.renderDashboardReadyOnly&&(this.renderDashboardReadyOnly=this.options.renderDashboardReadyOnly,this.model.isDashboardReady()?this.searchTourLaunched?this.dashboardListenerEnabled||(this.listenTo(SumoApp.sumoEvents,"change:searchTourComplete",this.onDashboardReady),this.dashboardListenerEnabled=!0):this.renderDashboardReadyOnly=!1:this.dashboardListenerEnabled||this.isMetQuery||(this.listenTo(this.model,"change:txn.preferredDashboardId",this.onDashboardReady),this.dashboardListenerEnabled=!0)),this.options.query.reg?(this.queryReg=this.options.query.reg,this.queryHpk=this.options.query.hpk,this.acceptedFiles=this.model.getP("source.acceptedFiles")):this.isMetQuery&&(this.queryMet=this.options.query.met),this.skipSearch=this.options.skipSearch,this.options.txnId&&this.model.getTxn(),d="#sumo-nav-wrapper-search_menu";var e=this;this.destroy=_.wrap(this.destroy,(function(t){e.upgradeHidden&&$(".sumo-header__upgrade").show(),e.model.stopPolling(),t.call(e)}))},logAction:function(e){var t=!1;this.model&&this.model.getP("txn.xid")&&(t=this.model.getP("txn.xid")),SumoApp.user.logSetupAction({sourceType:this.model.getP("source.id"),logType:e,txnId:t})},finish:function(){this._hiders()},_dismiss:function(){this.$("#mini-progress-view-ctr").tooltipster("destroy"),this._hiders(),this.swService.updateProgress(!1)},onDismiss:function(){this._dismiss()},onSetup:function(){this._dismiss(),this.swService.openSetupWizard()},_isTourVisible:function(){return $("#tour-start").is(":visible")||$(".tour-title").is(":visible")},allowDashboardtip:function(){this.searchTipVisible=!1,this.dashboardTipWaiting&&(this._isTourVisible()?this.dashboardListenerEnabled||(this.listenTo(SumoApp.sumoEvents,"change:searchTourComplete",this.onDashboardReady),this.dashboardListenerEnabled=!0):this.onDashboardReady())},_searchCleanup:function(){SumoApp.applicationView.$(d).tooltipster("destroy"),this.searchTipVisible=!1,this.allowDashboardtip()},savedSearchRetrieved:function(e){-1!==_.functions(e).indexOf("setExecuteSearch")?(e.setExecuteSearch(!0),e.setUseExistingTab(!1),SumoUtil.searchDrilldownTrigger(e),this.dashboardTipWaiting=!SumoUtil.isStringEmpty(this.model.getP("txn.preferredDashboardId")),this.model.getP("txn.state")===this.model.states.dashboardDataAvailable&&!e.getLaunchTour()&&this.searchesLaunched<2&&this.onDashboardReady()):SumoApp.userMessage.error(t.error_could_not_retrieve_search)},getSavedSearch:function(e,i){SumoApp.ajax.call(this,{endpoint:SumoApp.ajax.Endpoints.V1_GET_SAVED_SEARCH,data:{searchId:e},errorCode:"saved_search",success:function(e){var s=null;if(e&&0!==e.id){if((s=new h).setQueryString(e.query.queryString),s.setTimeRange(e.query.timeRange),s.setFromSavedSearch(!0),s.setSavedSearchQueryId(e.id),s.setSavedSearch(e),this.searchTourLaunched&&(s.setLaunchTour(!0),this.searchTourLaunched=!1),this.searchesLaunched+=1,e.schedules&&!_.isEmpty(e.schedules[0])&&!SumoUtil.isStringEmpty(e.schedules[0].cronSchedule)){var n=e.schedules[0];s.createCronJobHash(),n.friendlySchedule=n.scheduleType?n.scheduleType:s.getFrequencyFromCronExpression(n.cronSchedule),n.runAt=s.getHourToRunAt(n),s.setSchedules(e.schedules)}this.queryReg=s,i&&i(s)}else SumoApp.userMessage.warn(t.error_txn_search_not_retrieved)}})},searchLauncher:function(e){this.getSavedSearch(e,this.savedSearchRetrieved)},launchSearch:function(){var e=this.model.getP("txn.defaultSearchIds");"None"!==e&&(this.logAction(g.wizard_search_launched_email),_.each(e.split(","),this.searchLauncher)),this.model.isDashboardReady()&&!this.dashboardListenerEnabled&&(this.listenTo(SumoApp.sumoEvents,"change:searchTourComplete",this.onDashboardReady),this.dashboardListenerEnabled=!0)},_launchSearch:function(){(this.logAction(g.wizard_search_launched),this.isMetQuery)?this.model.isGraphiteType()?this.swService.navigate("metrics"):this.swService.navigate("metricsQuery",this.queryMet):(this.queryHpk&&SumoApp.applicationView.onDrilldownSearch({},this.queryHpk),SumoApp.applicationView.onDrilldownSearch({},this.queryReg),this.swService.notification("logSearch"),SumoApp.getAngularService("bentoNavService").updateProgress(!1))},searchReadyHandler:function(){var e=this;$("#tooltip-view-search").on("click",(function(){e.launchSearchClicked||(e.launchSearchClicked=!0,e._launchSearch(),e._searchCleanup())})),$("#tooltip-dismiss-search").on("click",(function(){e._searchCleanup()}))},onSearchReady:function(){this.skipSearch||(this._launchSearch(),this.searchReadyShown=!0)},openDashboard:function(){this.logAction(g.wizard_dashboard_launched_email),SumoApp.context.dashboardManager.showDashboard(this.model.getP("txn.preferredDashboardId"),this.model.getP("txn.preferredDashboardType"),!0)},_dashboardCleanup:function(){if(SumoApp.applicationView.$("#sumo-nav-wrapper-dashboards").hasClass("tooltipstered")){this.getView("dashboardTooltip").$el.tooltipster("destroy"),this.dashboardTipWaiting=!1;_.getPath(this,"queryReg")&&this.queryReg.getQueryName()}},_launchDashboard:function(){this.logAction(g.wizard_dashboard_launched);var e=this.model.getP("txn.preferredDashboardId"),t=this.model.getP("txn.preferredDashboardType");SumoApp.context.dashboardManager.showDashboard(e,t,!0)},_dashboardReady:function(){var e=this._dashboardCleanup,t=this;$("#tooltip-view-dashboard").on("click",(function(){e(),t._launchDashboard()})),$("#tooltip-dismiss-dashboard").on("click",(function(){e()})),SumoApp.applicationView.$("#sumo-nav-wrapper-dashboards").on("mouseenter mouseleave",(function(){e()}))},onDashboardReady:function(){this.searchTipVisible?this.dashboardTipWaiting=!0:this.swService.navigate("dashboard",{id:this.model.getP("txn.preferredDashboardId")})},handleError:function(){if(this.progressBar)if(this.progressBar.is(":visible")){this.$("#mini-progress-error-ctr").show(),this.progressBar.progressBar("option","barClass","error");var e=this,i=new u({el:this.$("#mini-progress-view-ctr"),theme:"popover-interactive",content:$(this.errorTooltipTemplate({__:t})),size:"small",trigger:"click",interactive:!0,functionReady:function(){$("#tooltip-setup").on("click",(function(){e.onSetup()})),$("#tooltip-dismiss").on("click",(function(){e.onDismiss()}))}});this.registerView("errorTooltip",i),i.render()}else this.swService.txnError(t.mini_progress_error_tooltip_description),this.swService.updateProgress(!1)},launch:function(e){e.preventDefault(),this.logAction(g.wizard_dashboard_launched),SumoApp.context.dashboardManager.showDashboard(this.model.getP("txn.preferredDashboardId"),this.model.getP("txn.preferredDashboardType"),!0),this.destroy()},_hiders:function(){this.$("#mini-progress-view-progressbar-ctr").hide(),this.$("#mini-progress-error-ctr").hide(),this.$("#mini-progress-view-launch").hide(),this.upgradeHidden&&($(".sumo-header__upgrade").show(),this.upgradeHidden=!1)},uploadFiles:function(){var e=this.model.getP("txn.xid"),t=$('<input id="sw-upload-files" type="file" name="sw-upload-files[]" multiple value="">');t.fileupload({url:sprintf(SumoApp.ajax.EndpointFormats.V1_COLLECTOR_UPLOAD_LOGS,e),dataType:"json",autoUpload:!1}),t.fileupload("send",{files:this.acceptedFiles}).done(function(e){this.queryReg.setStartTimestamp(e.startTimeInMillis),this.queryReg.setEndTimestamp(e.endTimeInMillis),this.queryReg.setTimeRange(moment(e.startTimeInMillis).format("MM-DD-YYYY hh:mm:ss")+" "+moment(e.endTimeInMillis).format("MM-DD-YYYY hh:mm:ss"))}.bind(this))},isErrorState:function(){var e=this.model.getP("txn.state");return[this.model.states.error,this.model.states.errorAndAppDeleted,this.model.states.timedOut,this.model.states.timedOutAndAppDeleted].indexOf(e)>-1},updateState:function(){var e=this.model.getProgress(),t=this.model.getP("txn.state"),i=SumoApp.getAngularService("currentUserHelper");e?(e!==this.model.progresses.STARTED&&(i.get().isInitialSetupRequired=!1),t===this.model.states.dashboardDataAvailable?(this._hiders(),this.upgradeHidden?($(".sumo-header__upgrade").show(),this.upgradeHidden=!1):$(".sumo-header__account").removeClass("is-small"),this.searchReadyShown||this.onSearchReady(),this._isTourVisible()?this.dashboardListenerEnabled||(this.listenTo(SumoApp.sumoEvents,"change:searchTourComplete",this.onDashboardReady),this.dashboardListenerEnabled=!0):this.onDashboardReady(),this.model.stopPolling()):t===this.model.states.dataSearchable?(this._hiders(),$(".fullpage-ctr.-welcome").is(":visible")||this.onSearchReady()):t===this.model.states.sourceCreated?_.isEmpty(this.acceptedFiles)||this.uploadFiles():this.progressBar.progressBar("option","progress",e)):this.isErrorState()&&this.handleError()},render:function(){if(!this.launchSearchImmediately&&!this.renderDashboardReadyOnly)if(this.model.isDashboardReady())this.onDashboardReady();else{this.listenTo(this.model,"change:txn.state",this.updateState),this.listenTo(SumoApp.sumoEvents,"destroy:miniProgressView",this.destroy);var e=SumoApp.getAngularService("currentUserHelper"),i=this.model.getProgress();if(i){if(i===this.model.progresses.HALTED||i>=this.model.progresses.SEARCHABLE)return}else i=this.model.progresses.INITIAL;$(".sumo-header__upgrade").length>0?(this.upgradeHidden=!0,$(".sumo-header__upgrade").hide()):$(".sumo-header__account").addClass("is-small");var s=$.extend(this.model.toJSON(),{__:t,sourceCat:this.model.getP("source.sourceCategory")}),n=this.template(s);this.$el.html(n),this.progressBar=this.$("#mini-progress-view-progressbar"),this.progressBar.progressBar({progress:i}),e.hasFeatureFlag("UITriggerTimedOutError")&&$.later(6e3,this,(function(){this.model.setP("txn.state",this.model.states.timedOutAndAppDeleted)})),e.hasFeatureFlag("UISkipTxn")&&$.later(6e3,this,(function(){this.model.setP("txn.state",this.model.states.dataSearchable),$.later(6e3,this,(function(){this.model.setP("txn.state",this.model.states.dashboardDataAvailable)}))})),SumoApp.getAngularService("bentoNavService").updateProgress(!0)}}})}.apply(t,s))||(e.exports=n)},48188:function(e,t,i){var s,n;s=[i(60567),i(16471)],void 0===(n=function(e,t){var i=e.SumoViewModule;t.commonEnI18n;return i.extend({events:{"click .submit":"closeDialog"},template:null,closeDialog:function(){$(".ui-widget-overlay").off("click"),this.getView("dialogView").close()},initialize:function(){this.logMessage("initialize","("+this.cid+")"),_.bindAll(this,"closeDialog");var e=SumoApp.factory.createDialogView({el:"#sumo-video-dialog",plugin:{title:this.options.title,width:this.options.width,position:{my:"left top",at:"left+ "+Math.floor(($(window).width()-this.options.width)/2)+" top+"+Math.floor(.8*($(window).height()-this.options.height)/2)}}});this.$el=e.$el,this.registerView("dialogView",e),$(".ui-widget-overlay").on("click",this.closeDialog)},render:function(){var e,t;this.options.isYoutube?e=sprintf("<iframe width='%s' height='%s' src='//www.youtube.com/embed/%s?version=4&autoplay=1' frameborder='0' allowfullscreen></iframe>",this.options.width,this.options.height,this.options.video):(e=sprintf("<iframe width='%s' height='%s' src='//www.sumologic.com/demo/%s' frameborder='0' allowfullscreen></iframe>",this.options.width,this.options.height,this.options.video),t="-is-tutorial"),this.$el.html(e);var i=this.getView("dialogView").$el;i.parent().css({background:"#000",padding:"0"}),SumoUtil.isStringEmpty(this.options.title)&&(i.prev().css({background:"#000",paddingBottom:0,height:12}),i.prev().find(".ui-dialog-title").css({display:"none"}),i.prev().find(".ui-dialog-titlebar-close").css({right:4,top:17,"z-index":12})),i.css({background:"#000"}),i.addClass(t)}})}.apply(t,s))||(e.exports=n)},39061:function(e,t,i){var s,n;s=[i(60567),i(56933)],void 0===(n=function(e,t){var i=e.SumoViewModule,s=e.MenuModelModule,n=e.MenuItemModelModule,a=e.MenuViewModule;return i.extend({events:{},MENU_TIPS:"menu-tip-right menu-tip-center menu-tip-left menu-tip-top menu-tip-bottom",menuItemPrefix:null,menuContainerId:null,menuModel:null,menuItems:null,blockLaunch:null,selectedRowClass:"ui-selected",activeElement:null,defaultPosition:null,preventShow:null,isVisible:function(){return this.$el.is(":visible")},getActiveElement:function(){return this.activeElement},setActiveElement:function(e){this.activeElement=e},hideMenuItemsByName:function(e){var t=this;_.chain(e).each((function(e){t.hideMenuItem("#"+t.menuItemPrefix+"-"+e)}))},hideMenuItem:function(e){this.$(e).hide()},showMenuItem:function(e){this.$(e).show()},getDefaultPosition:function(){return this.defaultPosition},_using:function(e,t,i){var s="top"===i.vertical?7:-7;t.top+=s;var n=e.horizontal||i.horizontal;$(this).css(t).addClass(sprintf("menu-tip-%s menu-tip-%s",n,i.vertical))},show:function(e,t){if(!(_.isFunction(this.preventShow)&&this.preventShow(e)||"click"===e.type&&2===e.button||$(e.target).is("th")))if(this.isVisible())this.hide();else{var i=$(e.currentTarget);this.setActiveElement(i),t=t||{};var s=this.getDefaultPosition();this.trigger("show",e,this),this.$el.removeClass(this.MENU_TIPS).show();var n=_.defaults({of:i,using:this._using.bind(this.$el,t)},s);if(this.$el.show().position(n),t.left){var a=t.left;t.horizontal&&"center"===t.horizontal&&(a=(a-=Math.floor(this.$el.width()/2))<0?0:a),this.$el.css({left:a})}$("body").on("click",this.onOutsideClick)}},_hide:function(){this.trigger("hide",this),this.$("li").show(),this.$el.hide()},hide:function(){this.isVisible()&&(this._hide(),this.blockLaunch=!0,$.later(350,this,(function(){this.blockLaunch=!1})),this.setActiveElement(null),$("body").off("click",this.onOutsideClick))},onOutsideClick:function(e){var t=this.options.menuTriggerSelector||this.options.handleSelector;SumoUtil.isElementOrDescendant($(e.target),t)||this.hide()},_getDefaultsForMenuItem:function(e){var i=this.options.i18n||t,s={cssClass:""};return e&&(s={id:this.menuItemPrefix+"-"+e,label:i["menu_"+e],iconPath:"fa-"+e,showFontIcon:!0,showIcon:!1,cssClass:"menu-item-"+e}),s},_createMenuItem:function(e){var t=this._getDefaultsForMenuItem(e.name),i=_.defaults(e,t);return i.cssClass+=" button-menu-item",new n(i)},createMenu:function(){this.menuItems=_.map(this.options.menuItems,this._createMenuItem,this)},initialize:function(){this.preventShow=this.options.preventShow,this.menuItemPrefix=this.options.menuItemPrefix,this.menuContainerId=this.options.menuContainerId,this.selectedRowClass=this.options.selectedRowClass,this.defaultPosition=this.options.defaultPosition||{my:"right top",at:"right bottom"},_.bindAll(this,"render","show","hide","onOutsideClick"),this.createMenu(),this.render(),this.options.menuTriggerSelector&&$(document).on("click",this.options.menuTriggerSelector,this.show)},render:function(){var e=this.getView("menuView");e&&e.destroy();var t=$("<div>").appendTo(this.$el).attr("id",this.menuContainerId),i="bottom";t.length>0&&t.height()<250&&(i="top");var n=new s({menuItemWidth:this.options.itemWidth||100,menuItemHeight:this.options.itemHeight||32,hasIcons:this.options.hasIcons,subMenuPositionH:this.options.subMenuPositionH||"left",subMenuPositionV:i,menuItems:this.menuItems});return e=new a({model:n}),this.registerView("menuView",e),this.$el.empty().append(e.$el).attr("id",this.menuContainerId),this},destroy:function(){this.preventShow=null,$(document).off("click",this.options.menuTriggerSelector,this.show),this.destroySubViews(!0),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},62610:function(e,t,i){var s,n;s=[i(60567),i(16471),i(31160),i(47285)],void 0===(n=function(e,t,i,s){var n=e.SumoViewModule,a=t.keyedErrors,r=t.contentLibraryEnI18n,o=".sharing-visibility",l=".loading-indicator",d=".link-url-box",c=".is-visible",u=".btn-disabled",h=".tooltipstered",g=SumoUtil.getCSSName;return n.extend({mixins:[],events:{"click .action-button":"close","click .link-url-box":"focusAndSelectLink","change .sharing-visibility":"onVisibilityChange"},template:_.template(i),visibilityPartialTemplate:_.template(s),getViewName:function(){return"ShareContentDialog"},getComponent:function(){return"Library"},getDialogView:function(){return this.getView("dialogView")},isVisible:function(){return this.$el&&this.$el.length>0&&this.$el.is(":visible")},onVisibilityChange:function(){var e=this.$(o);this.model.setProcessing(!0);var t=this.model.getVisibility(),i=e.buttonGroup("value");e.buttonGroup("value",t),this.displayProcessing(),this.model.beforeVisibilityChange(i).then(this.updateVisibility.bind(this,i)).catch(this.displayVisibilityError)},displayProcessing:function(){this.$(o).buttonGroup("disable"),this.$(l).addClass(g(c))},updateVisibility:function(e){return this.model.setVisibility(e).then(this.displayVisibilityChange)},displayVisibilityChange:function(){if(this.model.setProcessing(!1),this.isVisible())this.render();else{var e=this.model.getTypeLabel(),t=sprintf(r.visible_to,e)+" "+r["visibility_"+this.model.getVisibility().toLowerCase()].toLowerCase()+".";SumoApp.userMessage.info(t)}},displayVisibilityError:function(e){this.model.setProcessing(!0);var t=null;if(e.keyedErrors){var i=_.keys(e.keyedErrors);t=_.map(i,(function(e){return a[e]})).join(" ")}else t=e.message;this.isVisible()?this.render({errorMessage:t}):SumoApp.userMessage.error(t)},getVisibilityValues:function(){var e=this.model.getVisibilityStates(),t=this.model.getVisibility();return _.map(this.model.VISIBILITIES,(function(i){return{value:i,selected:i===t,invalid:!e[i].valid,invalidReason:a[e[i].reason],label:r["visibility_"+i.toLowerCase()]}}))},focusAndSelectLink:function(){var e=this.$(d);e.length>0&&e.trigger("focus").trigger("select")},destroyPlugins:function(){var e=this.$(o);$.contains(document.documentElement,e[0])&&e.buttonGroup("destroy");var t=this.$(h);t.length>0&&t.tooltipster("destroy")},show:function(){this.createDialog()},close:function(){this.getDialogView().close()},onProcessingChange:function(){this.model.isProcessing()||this.isVisible()||this.destroy()},createDialog:function(){var e=this,t=SumoApp.factory.createDialogView({el:"#share-content-dialog",plugin:{title:r.share+" "+this.model.getTypeLabel(),width:440,close:function(){e.model.isProcessing()||e.destroy()}}});this.setElement(t.$el),this.registerView("dialogView",t),this.render(),this.model.isProcessing()&&this.displayProcessing()},initialize:function(){if(!this.model||!_.isFunction(this.model.isShareable))throw new SumoError("The provided model does not implement shareable_model_mixin.");_.bindAll(this,"displayVisibilityChange","displayVisibilityError"),this.listenTo(this.model,"change:processing",this.onProcessingChange),this.createDialog()},render:function(e){this.destroyPlugins();var t=this.visibilityPartialTemplate,i=_.map(this.getVisibilityValues(),(function(e){return t(e)})).join(""),s=this.model.getTypeLabel(),n=sprintf(r.visible_to,s);this.model.canBeEdited()||(n=n+" "+r["visibility_"+this.model.getVisibility().toLowerCase()].toLowerCase()+".");var a=_.extend(this.model.toJSON(),{__:r,canBeEdited:this.model.canBeEdited(),visibleToLabel:n,visibilityOptionsHTML:i,showLink:this.model.hasLink(),url:this.model.getURL(),errorMessage:e&&e.errorMessage}),l=this.template(a);return this.$el.html(l),this.$(o).buttonGroup(),this.$(u).tooltipster({theme:"popover",contentAsHTML:!0}),this.focusAndSelectLink(),this},destroy:function(){this.destroyPlugins(),this.destroySubViews(),SumoUtil.destroyView(this),this.trigger("destroy")}})}.apply(t,s))||(e.exports=n)},86377:function(e,t,i){var s,n;s=[i(60567),i(16471),i(75532)],void 0===(n=function(e,t,i){var s=e.SumoViewModule,n=t.keyedErrors,a=t.contentLibraryEnI18n,r=".loading-indicator",o=".link-url-box",l=".is-visible",d=".tooltipstered",c=SumoUtil.getCSSName;return s.extend({events:{"click .action-button":"close","click .link-url-box":"focusAndSelectLink","click #sharing-rbac-toggler label":"toggleAdvanced","click #sharing-rbac":"onRbacChange","change #sharing-visibility":"onVisibilityChange"},template:_.template(i),getViewName:function(){return"ShareContentDialogV2"},getComponent:function(){return"Library"},getDialogView:function(){return this.getView("dialogView")},isVisible:function(){return this.$el&&this.$el.length>0&&this.$el.is(":visible")},onVisibilityChange:function(e){this.model.setProcessing(!0);var t=$(e.target).is(":checked")?this.model.VISIBILITIES.ORG:this.model.VISIBILITIES.PERSONAL;this.displayProcessing(),this.model.beforeVisibilityChange(t).then(this.updateVisibility.bind(this,t)).catch(this.displayVisibilityError)},onRbacChange:function(e){var t=!$(e.target).is(":checked");this.model.setViewerRbac(t).catch(this.displayVisibilityError)},displayProcessing:function(){this.$(r).addClass(c(l))},updateVisibility:function(e){return this.model.setVisibility(e).then(this.displayVisibilityChange)},displayVisibilityChange:function(){if(this.model.setProcessing(!1),this.isVisible())this.render();else{var e=this.model.getTypeLabel(),t=sprintf(a.visible_to,e)+" "+a["visibility_"+this.model.getVisibility().toLowerCase()].toLowerCase()+".";SumoApp.userMessage.info(t)}},displayVisibilityError:function(e){this.model.setProcessing(!0);var t=null;if(e.keyedErrors){var i=_.keys(e.keyedErrors);t=_.map(i,(function(e){return n[e]})).join(" ")}else t=e.message;this.isVisible()?this.render({errorMessage:t}):SumoApp.userMessage.error(t)},getVisibilityValues:function(){var e=this.model.getVisibilityStates(),t=this.model.getVisibility();return _.map(this.model.VISIBILITIES,(function(i){return{value:i,selected:i===t,invalid:!e[i].valid,invalidReason:n[e[i].reason],label:a["visibility_"+i.toLowerCase()]}}))},focusAndSelectLink:function(){var e=this.$(o);e.length>0&&e.trigger("focus").trigger("select")},toggleAdvanced:function(e){$(e.target).toggleClass("-open"),$(e.target).parent().siblings().toggle()},destroyPlugins:function(){var e=this.$(d);e.length>0&&e.tooltipster("destroy")},show:function(){this.createDialog()},close:function(){this.getDialogView().close()},onProcessingChange:function(){this.model.isProcessing()||this.isVisible()||this.destroy()},createDialog:function(){var e=this,t=SumoApp.factory.createDialogView({el:"#share-content-dialog",plugin:{title:a.share+" "+this.model.getTypeLabel(),width:440,close:function(){e.model.isProcessing()||e.destroy()}}});this.setElement(t.$el),this.registerView("dialogView",t),this.render(),this.model.isProcessing()&&this.displayProcessing()},initialize:function(){if(!this.model||!_.isFunction(this.model.isShareable))throw new SumoError("The provided model does not implement shareable_model_mixin.");_.bindAll(this,"displayVisibilityChange","displayVisibilityError"),this.listenTo(this.model,"change:processing",this.onProcessingChange),this.createDialog()},render:function(e){this.destroyPlugins();var t=_.where(this.getVisibilityValues(),{value:this.model.VISIBILITIES.PERSONAL})[0],i=this.model.isOwnerRbac()?"":a.dashboard_owned_by_viewer_rbac_text,s=_.extend(this.model.toJSON(),{__:a,canBeEdited:this.model.canBeEdited(),showLink:this.model.hasLink(),shared:this.model.isShared(),shareDisabled:t.invalid,invalidReason:t.invalidReason,ownerRbac:this.model.isOwnerRbac(),dashboard_owned_by:sprintf(a.dashboard_owned_by,this.model.getOwnerName()),dashboard_owned_by_text:sprintf(i,SumoUtil.encode(this.model.getOwnerName())),url:this.model.getURL(),errorMessage:e&&e.errorMessage}),n=this.template(s);return this.$el.html(n),SumoApp.ngCompile(this.$("#sharing-link-btn")),this.focusAndSelectLink(),this},destroy:function(){this.destroyPlugins(),this.destroySubViews(),SumoUtil.destroyView(this),this.trigger("destroy")}})}.apply(t,s))||(e.exports=n)},84803:function(e,t,i){var s,n;s=[i(63205)],void 0===(n=function(e){"use strict";var t=e.ContentLibraryUtil,i=t.Visibilities,s=t.SharingStatuses,n=t.ContextNames,a="js:personal_invalid_shared_indirectly",r="js:unsupported_visibility",o="content1:duplicate_element",l="content1:not_published",d="content1:worlddashboardpolicy_notenabled",c="content1:double_publish",u=function(e,t){var i={};return i[t]={error:e},{friendlyErrorMessage:e,keyedErrors:i}};return{init:function(){_.bindAll(this,"_loadSharingAttributes","_setSharingAttributes")},defaults:{visibility:i.PERSONAL,sharingStatus:s.PRIVATE,processing:!1,visibilityError:null},mixin:{VISIBILITIES:i,isProcessing:function(){return this.getProcessing()},isShareable:function(){return!0},isShared:function(){return this.getVisibility()===i.ORG||this.getVisibility()===i.WORLD||this.getVisibility()===i.WHITELIST},isWorldShared:function(){return this.getVisibility()===i.WORLD||this.getVisibility()===i.WHITELIST},isAccessible:function(){var e=this.getDashboardActions();return _.contains(e,"CAN_COPY")},isSharedDirectly:function(){return this.getSharingStatus()===s.PUBLISHED},isSharedIndirectly:function(){return this.getSharingStatus()===s.PRIVATE&&this.isShared()},hasLink:function(){return this.isShared()},getURL:function(){throw new SumoError("ShareableModelMixin: getURL is not implemented")},isOwnerRbac:function(){return!this.getUseViewerRbac()},setViewerRbac:function(e){return this.createPromise({endpoint:sprintf(SumoApp.ajax.EndpointFormats.V1_CONTENT_LIBRARY_CHANGE_RBAC,this.getContentLibraryId(),e),type:"PUT",errorCode:"publish_item_rbac",data:{name:this.getName(),description:this.getDescription()}}).then(this._loadSharingAttributes)},getPersonalVisibilityState:function(){var e=!0,t=null;return this.isSharedIndirectly()&&(e=!1,t=a),{valid:e,reason:t}},getUserVisibilityState:function(){var e=!0,t=null;return this.isSharedIndirectly()&&(e=!1,t=a),{valid:e,reason:t}},getOrgVisibilityState:function(){return{valid:!0,reason:null}},getWorldVisibilityState:function(){return{valid:!0,reason:null}},getWhitelistVisibilityState:function(){return{valid:!0,reason:null}},getVisibilityStates:function(){return _.chain(i).map((function(e,t){var i=this["get"+n[t]+"VisibilityState"];return[e,_.isFunction(i)?i.apply(this):{valid:!1,reason:r}]}),this).object().value()},beforeVisibilityChange:function(){return this.createResolvedPromise(this)},setVisibility:function(e,t){var i=this,s=this.getVisibilityStates()[e];return _.isUndefined(s)?this.createRejectedPromise(u("ShareableModelMixin: Undefined visibility state:"+e,r)):s.valid?i.beforeUpdate().then(function(){return this._updateVisibility(e,t).then((function(e){return i.postDashboardUpdate(e)}))}.bind(this)):this.createRejectedPromise(u("ShareableModelMixin: Invalid visibility state:"+e+":"+s.reason,s.reason))},_getVisibilityEndpointData:function(e,t){var s={type:"PUT",endpoint:e===i.ORG?sprintf(SumoApp.ajax.EndpointFormats.V1_CONTENT_LIBRARY_CHANGE_RBAC,this.getContentLibraryId(),t):sprintf(SumoApp.ajax.EndpointFormats.V1_CONTENT_LIBRARY_PUBLISH_ITEM,this.getContentLibraryId()),errorCode:"publish_item",data:{name:this.getName(),description:this.getDescription()}};return i.PERSONAL===e?s={type:"PUT",endpoint:sprintf(SumoApp.ajax.EndpointFormats.V1_CONTENT_LIBRARY_UNPUBLISH_ITEM,this.getContentLibraryId()),errorCode:"unpublish_item"}:s.data.visibility=e,s},apiUpdateRequired:function(e,t){return e!==this.getVisibility()||e===i.ORG&&t!==this.getUseViewerRbac()},_updateVisibility:function(e,t){if(!this.apiUpdateRequired(e,t))return this.createResolvedPromise(this);var i=this._getVisibilityEndpointData(e,t);return this.createPromise(i).catch(this._handleUpdateVisibilityError.bind(this,e)).then(this._loadSharingAttributes)},_fixDuplicateName:function(e){return e+" ("+(new Date).getTime()+")"},_handleUpdateVisibilityError:function(e,t){if(_.has(t.keyedErrors,o)){var s=this._getVisibilityEndpointData(e);if(s.data&&s.data.name)return s.data.name=this._fixDuplicateName(s.data.name),this.createPromise(s);throw t}if(_.has(t.keyedErrors,l)&&e===i.PERSONAL||_.has(t.keyedErrors,c)&&e===i.ORG)return this.createResolvedPromise(this);if(_.has(t.keyedErrors,d))throw this.__&&this.setVisibilityError(this.__.public_not_enabled_error),this.trigger("updateVisibility"),t;throw this.setVisibilityError("Error updating visibility. Please try again later."),this.trigger("updateVisibility"),t},_loadSharingAttributes:function(){var e=this;return this.loadLibraryInfo(!0).then(this._setSharingAttributes).catch((function(t){return e.logErrorMessage("loadContentLibInfo","error: %s",t.message,t),e}))},_setSharingAttributes:function(e){return this.set("useViewerRbac",e.useViewerRbac),this.set("visibility",e.visibility),this.setSharingStatus(e.sharingStatus),this.trigger("updateVisibility"),this},onExternalShareStatusChange:function(e){this.setContentItem(e),this.set("useViewerRbac",e.useViewerRbac),this.set("visibility",e.visibility),this.trigger("updateVisibility")}}}}.apply(t,s))||(e.exports=n)},12897:function(e,t,i){var s,n;s=[i(60567)],void 0===(n=function(e){"use strict";var t=e.SumoModel,i=e.GetterSetterMixin;return t.extend({mixins:[i],defaults:{},getComponent:function(){return"LivetailUI"},getModelName:function(){return"LivetailUIModel"},initialize:function(){},initAjax:function(){this.ajax=SumoApp.ajax},destroy:function(){}})}.apply(t,s))||(e.exports=n)},21242:function(e,t,i){var s,n;s=[i(60567),i(50963),i(87914),i(12897)],void 0===(n=function(e,t,i,s){var n=e.SumoViewModule,a=t.getAngularInjectable;return n.extend({events:{},template:_.template(i),getViewName:function(){return"LivetailUIView"},getComponent:function(){return"LivetailUI"},signout:function(e){SumoApp.userMessage.question(__.logout_confirmation,{okCallback:function(){SumoApp.bentoLoader.onLogout(e)}})},_makeModel:function(){this.model=new s({}),this.postInitialize()},initialize:function(e){_.bindAll(this,"render","onResize"),this._makeModel()},setupResizeTrigger:function(){this.onResizeDebouncer=_.debounce(this.onResize,100),$(window).on("resize",this.onResizeDebouncer)},removeResizeTrigger:function(){$(window).off("resize",this.onResizeDebouncer)},onResize:function(){this.$el.trigger("applicationResize")},postInitialize:function(){this.render()},render:function(){var e=this.template();return this.$el.html(e),this.setupResizeTrigger(),a("compileUtil").compile(this.$el,void 0,!0),$(".prada > .reveal").remove(),this},destroy:function(){this.removeResizeTrigger(),this.destroySubViews(),this.model.destroy(),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},83677:function(e,t,i){var s,n;s=[i(60567),i(34908),i(7772)],void 0===(n=function(e,t,i){var s=e.SumoViewModule;return t=t.default,s.extend({events:{"click #dlgClose":"close"},mixins:[],name:null,error:null,hasError:null,template:_.template(i),getViewName:function(){return"SetupCollectorUpgradingView"},getComponent:function(){return"SetupWizard"},allowClose:function(){return this.hasError},setAllowClose:function(e){this.hasError=e},allowCloseOnEscape:function(e){return this.hasError},initialize:function(){_.bindAll(this,"render","allowCloseOnEscape","allowClose","destroy","close"),this.name=this.options.name,this.error=this.options.error,this.hasError=!SumoUtil.isStringEmpty(this.error);var e=$("<div id='sw-collector-upgrading-dialog' class='cl-info-box'></div>"),i=sprintf(t.sw_collector_upgrading_title,this.name),s=this,n=SumoApp.factory.createDialogView({el:e,plugin:{title:i,dialogClass:"setup-collector-upgrading-dialog",width:440,allowClose:this.allowClose,allowCloseOnEscape:this.allowCloseOnEscape,close:function(){s.destroy()}}});this.$el=n.$el,this.registerView("dialogView",n)},render:function(){var e=this.hasError?sprintf(t.sw_collector_upgrading_err_msg,this.error):t.sw_collector_upgrading_msg,i={__:t,message:e,showError:this.hasError,error:this.error},s=this.template(i);return this.$el.html(s),this.hasError||(this.getView("dialogView").$el.parent().find(".ui-dialog-titlebar-close").hide(),this.getView("dialogView").$(".collector-upgrading-spinner").spinner(),this.getView("dialogView").$(".collector-upgrading-spinner").spinner("updateMessage",e,!0),this.getView("dialogView").$(".collector-upgrading-spinner").spinner("show","multiline")),this},close:function(){this.getView("dialogView").close()},destroy:function(){this.destroySubViews(),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},96593:function(e,t,i){var s,n;s=[i(60567),i(34908),i(13796),i(16471),i(72846),i(1714),i(32500),i(54392),i(20247),i(60072),i(66359),i(41197)],void 0===(n=function(e,t,i,s,n,a,r,o,l,d,c,u){var h=d.CollectormgmtModelModule,g=e.SumoViewModule,p=u.logService;s.commonEnI18n;t=t.default;return g.extend({events:{"click .source-wizard-contact a":"feedback","click #source-wizard-cancel-btn, .logo-img":"cancelWizard","click #source-wizard-restart":"stepBack","click .welcome-source, .welcome-sources-other, .welcome-sources-other img, .welcome-category .vertical-button":"startSource"},mixins:[r],template:_.template(n),collectorsModel:null,collectors:null,collectorsLoading:null,isMetricsFlow:!1,getViewName:function(){return"SetupDataType"},getComponent:function(){return"SetupWizard"},initialize:function(){_.bindAll(this,"render","_startSource"),this.stepController=this.options.stepController,this.isMetricsFlow=this.options.isMetricsFlow,this.loadSourceData(),this.loadCollectors()},collectorsLoaded:function(){this.collectorsLoading=!1;var e=this.collectorsModel._getCollectors();if(0!==e.length){var t;(t=_.map(e.filter((function(e){var t="Hosted"===e.getType(),i="Hosted"!==e.getType()&&"Json"===e.getSourceSyncMode(),s=SumoUtil.isStringEmpty(e.get("collectorVersion"));return!t&&!i&&!s})),(function(e){var t=e.get("collectorVersion");return{name:e.getName(),id:e.getId().toString(),type:e.getType(),osName:e.get("osName"),collectorVersion:t}}))).length>0&&(this.model.setCollectors(t),this.model.retrieveUpgradeCollectorList())}},loadCollectors:function(){this.collectorsModel=new h({context:SumoApp.context}),this.collectorsModel.setFilter(this.collectorsModel.FILTER_RUNNING),this.collectorsModel.setSkipBlades(!0),this.collectorsModel.loadCollectors(1,0,2e3),this.collectorsLoading=!0,this.listenTo(this.collectorsModel,"change:collectors",this.collectorsLoaded)},startPlayground:function(e){this.startSource(e,{currentTarget:{id:"generic-upload"}})},getNavMap:function(){const e=c.currentUserHelper.hasFeatureFlag("UITitanCloudTrail"),t=c.currentUserHelper.hasFeatureFlag("UITitanCloudTrailTest")||c.currentUserHelper.hasFeatureFlag("UITitanHttpsTest");return{...e||t?{cloudtrail:"ceb7fac5-1137-4a04-a5b8-2e49190be3d4",elb:"7bbdf935-d0c2-45b9-8d36-3f0d18b28c5e",cloudfront:"0f4abbb4-99e5-4996-b626-4740fb2ceee1",s3:"cf3ba421-d959-4b08-9ae8-5bd4202eea87"}:{},kubernetes:"162ceac7-166a-4475-8427-65e170ae9837"}},_redirectToIntegration:function(e){var t=SumoApp.getAngularService("$state");this.cancelWizard(),t.go("app.apps.app",{displayContent:"INTEGRATION",appUUID:this.getNavMap()[e]}),p.userTelemetry(`inside setup_data_type_view._redirectToIntegration with id=${e} - user clicked on a data source with integration`)},_shouldRedirectToIntegration:function(e){return Object.keys(this.getNavMap()).indexOf(e)>=0},_startSource:function(e,t){var i,s;if(["systems","apps","apps2","apps3"].indexOf(t)>-1&&("apps2"===t&&(t=this.sourceTypes.apps2),"apps3"===t&&(t=this.sourceTypes.apps3)),e.sources&&(s=e.sources),this._shouldRedirectToIntegration(e.id))return this._redirectToIntegration(e.id);this.model.setP("dataType",{id:e.id,category:t,name:e.name,sources:s}),i={stepController:this.stepController,model:this.model,el:".fullpage-ctr"},new o(i).render()},_preStartSource:function(e,t){var i=this.collectorsLoading||this.model.getP("state.isRetrievingUpgrades")?1500:0;_.delay(this._startSource,i,e,t)},startSource:function(e,t){e&&e.preventDefault();var s,n,a=this._sourceTarget(e,t),r=a.split("-");a&&(Modernizr.history&&$(window).off("popstate",this.getPopStateHandler()),s=r[0],2===r.length?a=r[1]:(r.shift(),a=r.join("-")),"others"===s&&(s="apps",a="custom"),"generic"===s?(n=_.findWhere(i.generic,{id:a}),"remote"===a&&(s="systems")):(n=this.model.getSourceInfo(s,a),"aws"===s&&(n.intro=sprintf(n.intro,n.name))),this._preStartSource(n,s))},_sourceTarget:function(e,t){var i;return t?t.currentTarget.id:((e=$(e.currentTarget)).hasClass("welcome-source")||e.hasClass("vertical-button")||"others-all"===e.attr("id")?i=e:e.parent().hasClass("welcome-source")||e.parent().hasClass("welcome-sources-other")?i=e.parent():e.hasClass("unavailableMsg")&&(i=$(e.data("target"))),i.attr("id").replace("vb-",""))},loadSourceData:function(){var e=i.categories,t=i.sources,s=i.totalRows_r3;this.model.loadSources(e,t,s,this.isMetricsFlow)},_getTitle:function(){return this.model.getP("state.onboardingMode")?t.welcome_select_data_type_title:this.model.getP("state.onboardingMode")?t.welcome_onboarding_title:t.welcome_select_data_type_title},render:function(e){if(this.model.resetTransaction(),this.stopDoing(!0),!this.options.startPlayground){var i,s=$.extend(this.model.toJSON(),{__:t,rows:this.model.getRows(),onboardingMode:this.model.getP("state.onboardingMode"),title:this._getTitle(),pageClass:"",releaseClass:this.releaseClass(),needsActivation:c.currentUserHelper.getOrg().needsActivation}),n=this.template(s);return this.$el.html(n),this.isMetricsFlow&&this.$(".form-toolbar").addClass("hidden"),i=new l({showSetupCollection:!0,showUpload:!1,activeStep:".sw-sb-select-data-type"}),this.registerView(i),this.model.getP("state.contactInvisible")&&this.closeContact(),Modernizr.history&&(window.history.pushState({sumo:!0},window.document.title+"-Data"),$(window).on("popstate",this.getPopStateHandler())),this}this.startPlayground(e)}})}.apply(t,s))||(e.exports=n)},84927:function(e,t,i){var s,n;s=[i(34908),i(66359)],void 0===(n=function(e,t){"use strict";e=e.default;var i=function(e,t){return e.name.localeCompare(t.name)},s={create:{aws:"",upload:"",apps:""},update:{aws:"",upload:"",apps:""}};return{mixin:{states:{started:"Started",dashboardsCreated:"DashboardsCreated",sourceCreated:"SourceCreated",dataIngested:"DataIngested",dataSearchable:"DataSearchable",dashboardDataAvailable:"DashboardDataAvailable",error:"Error",errorCQsNotFilling:"ErrorCQsNotFilling",errorAndAppDeleted:"ErrorAndAppDeleted",timedOut:"TimedOut",timedOutAndAppDeleted:"TimedOutAndAppDeleted"},progresses:{INITIAL:2,STARTED_PCT:2,STARTED:20,DASHBOARDS:40,SOURCE:60,INGESTED:80,SEARCHABLE:99,DATA:100,HALTED:0},ages:{new:"new",existing:"existing",tooOld:"tooOld",upgradeable:"upgradeable",mustUpgrade:"mustUpgrade",upgrading:"upgrading",upgraded:"upgraded",upgradeFailed:"upgradeFailed",notFound:"notFound"},versions:{old:"old",upgradeable:"upgradeable",mustUpgrade:"mustUpgrade",recent:"recent"},resetTransaction:function(){this.setCollector({id:null,name:null,locationType:null,age:null,state:null,isInstalled:null,commandChannelId:null,downloadUrl:null,token:null,installerCommand:null,installerOS:null,shouldbeAwake:null}),this.setSource({id:null,isEndpointFormatted:null,sourceType:null,oldSourceType:null,defaultCategory:null,sourceCategory:null,sourceBlade:null,thirdPartyRef:null,paths:null,matchingFiles:null,defaultPaths:null,winCustomEvents:null,commandId:null,acceptedFiles:null,startTimestamp:null,endTimestamp:null}),this.setTxn({xid:null,state:null,progress:null,previousState:null,preferredDashboardId:null,preferredDashboardType:null,defaultSearchIds:null,sourceIds:null,dataIngestedAmount:null,percentCompleteCurrentTransition:null,transitionWeights:null,longLastingSource:null,showProgressView:null,issue:null,submissionData:null}),this.setErrorRetries(-1),this.stopPolling()},getEndpointType:function(){var e=this.getP("source.sourceType"),t=this.getP("dataType.category"),i=this.getP("dataType.id");return"upload"===i?"upload":"windows-event"===i?"winEventLocal":"windows-performance"===i?"winPerformanceLocal":"hostmetrics"===i?"hostmetrics":"Other"===e||"apps"===e||"installed"===e?"app":SumoUtil.isStringEmpty(e)?t:this.isGraphiteType()?"graphite":e},getEndpoint:function(e){var t=this.getEndpointType();return e?s.create[t]:s.update[t]},getUploadTypeId:function(){var e=this.getP("source.sourceType").toLowerCase(),t=e;switch(e){case"cisco":t="ciscoasa";break;case"pan":t="paloaltonetworks"}return t},isMetricsType:function(e,t){var i=t?t.id:this.getP("dataType.id"),s=["cloudwatch","hostmetrics"];return e&&("custom"===i&&(i="graphite"===this.getP("dataType.category")?"graphite":i),s=_.union(s,["graphite","statsd","dropwizard"])),s.indexOf(i)>-1},isGraphiteType:function(){var e=this.getP("dataType.id");"custom"===e&&(e="graphite"===this.getP("dataType.category")?"graphite":e);return["graphite","statsd","dropwizard"].indexOf(e)>-1},isCloudWatch:function(){return"cloudwatch"===this.getP("dataType.id")},shouldTxnStopPolling:function(e){return e===this.states.dashboardDataAvailable||this.isCloudWatch()&&e===this.states.dataSearchable},setAllEndpoints:function(){s.create={aws:SumoApp.ajax.Endpoints.V1_COLLECTOR_CREATE_AWS_PKG,upload:SumoApp.ajax.Endpoints.V1_COLLECTOR_CREATE_UPLOAD_PKG,app:SumoApp.ajax.Endpoints.V1_COLLECTOR_CREATE_APPS_PKG,http:SumoApp.ajax.Endpoints.V1_COLLECTOR_CREATE_HTTP_PKG,syslog:SumoApp.ajax.Endpoints.V1_COLLECTOR_CREATE_SYSLOG_PKG,graphite:SumoApp.ajax.Endpoints.V1_COLLECTOR_CREATE_GRAPHITE_PKG,hostmetrics:SumoApp.ajax.Endpoints.V1_COLLECTOR_CREATE_HOSTMETRICS_PKG,winEventLocal:SumoApp.ajax.Endpoints.V1_COLLECTOR_CREATE_LOCAL_WINEVENT_PKG,winPerformanceLocal:SumoApp.ajax.Endpoints.V1_COLLECTOR_CREATE_LOCAL_WINPERF_PKG}},isErrorState:function(e){return[this.states.error,this.states.errorAndAppDeleted,this.states.timedOut,this.states.timedOutAndAppDeleted].indexOf(e)>-1},isPreSearchableState:function(e){var t=e?this.getP("txn.previousState"):this.getP("txn.state");return[this.states.started,this.states.dashboardsCreated,this.states.sourceCreated].indexOf(t)>-1},getProgress:function(e){var t,i=e?this.getP("txn.previousState"):this.getP("txn.state"),s=this.getP("txn.transitionWeights"),n=this.getP("txn.percentCompleteCurrentTransition");if(this.isErrorState(i)&&(i=this.states.error),SumoApp.priv.hasUseNewBatonTransactionStateMachine()){switch(i){case this.states.error:t=this.progresses.HALTED;break;case this.states.started:t=this.progresses.STARTED_PCT;break;case this.states.dashboardsCreated:t=_.isUndefined(n)||_.isNull(n)?this.progresses.STARTED_PCT:0===n?2:s.dashboardsCreated*n/100;break;case this.states.sourceCreated:t=s.dashboardsCreated+s.sourceCreated*n/100;break;case this.states.dataIngested:t=s.dashboardsCreated+s.sourceCreated+s.dataIngested*n/100;break;case this.states.dataSearchable:case this.states.dashboardDataAvailable:t=this.progresses.DATA}t=parseInt(t)}else switch(i){case this.states.error:t=this.progresses.HALTED;break;case this.states.started:t=this.progresses.STARTED;break;case this.states.dashboardsCreated:t=this.progresses.DASHBOARDS;break;case this.states.sourceCreated:t=this.progresses.SOURCE;break;case this.states.dataSearchable:t=this.progresses.SEARCHABLE;break;case this.states.dashboardDataAvailable:t=this.progresses.DATA}return t},loadSources:function(e,s,n,a){var r,o,l,d=t.currentUserHelper.hasFeatureFlag("UIOnboardingCustomIntegrationKubernetes"),c=[],u=[],h=0,g=0,p=this;_.each(e,(function(e){e.sources=[]})),_(n).times((function(e){c[e]=Array.apply(0,Array(6))})),_.each(s,(function(t){var i=SumoApp.priv.hasFlagUIMetricsCapability()&&p.isMetricsType(SumoApp.priv.hasFlagUIWizardGraphiteTiles(),t);(a?i:i||!p.isMetricsType(!0,t))&&(r=_.findWhere(e,{id:t.category})).minFlag<=5&&-1===r.sources.indexOf(t)&&r.sources.push(t)})),this.setCategories(e),_.each(e,(function(e){_.each(e.sources,(function(e){"custom"===e.id?o=e:"other"===e.id?l=e:"kubernetes"===e.id?d&&u.push(e):u.push(e)}))})),u.sort(i),u.unshift(o),u.push(l),this.setSources(u),_.each(u,(function(e){e&&(c[h][g]=e,6===(g+=1)&&(g=0,h+=1))})),6*n>u.length&&(c=_.map(c,(function(e){return _.compact(e)}))),this.setRows(c)},getSourceInfo:function(e,t){return _.findWhere(this.getSources(),{id:t})},parseTokenFromCommand:function(){var e=this.getP("collector.installerCommand"),t=e.indexOf("sumo.token=")+11,i=e.indexOf(" -Vsumo.url=");this.setP("collector.token",e.slice(t,i))},_osEndpoint:function(){var e;switch(this.getP("collector.installerOS")){case"linux":e=SumoApp.ajax.Endpoints.V1_COLLECTOR_GET_LINUX_INSTALL,this.setP("collector.installerOS","linux");break;case"macos":e=SumoApp.ajax.Endpoints.V1_COLLECTOR_GET_MACOS_INSTALL,this.setP("collector.installerOS","macos");break;case"windows":e=SumoApp.ajax.Endpoints.V1_COLLECTOR_GET_WINDOWS_INSTALL,this.setP("collector.installerOS","windows")}return e},getInstallerOSString:function(){var t=this.getP("collector.installerOS");if(t){var i=e.sw_source_os_ids_list.split(",");return e.sw_source_os_names_list.split(",")[i.indexOf(t)]}return""},isExistingCollector:function(){var e=this.getP("collector.age");return[this.ages.tooOld,this.ages.existing,this.ages.recent,this.ages.upgradeable,this.ages.upgraded].indexOf(e)>-1},isPollable:function(){var e=this.getP("collector.age");return[this.ages.new,this.ages.existing,this.ages.upgraded].indexOf(e)>-1},isDashboardReady:function(){return this.getP("txn.state")===this.states.dashboardDataAvailable&&!SumoUtil.isStringEmpty(this.getP("txn.preferredDashboardId"))},showMiniProgressView:function(){return this.getP("txn.showProgressView")&&!this.isErrorState(this.getP("txn.state"))}}}}.apply(t,s))||(e.exports=n)},15777:function(e,t,i){var s,n;s=[i(60567),i(34908),i(16471),i(84927),i(64799)],void 0===(n=function(e,t,i,s,n){"use strict";var a=e.SumoModel,r=e.GetterSetterMixin,o=e.ModelErrorHandlerMixin,l=i.keyedErrors;t=t.default;var d=["hostmetrics","collectd","statsd","dropwizard"],c=[{path:"var/lib/mock/path/1",checked:!0},{path:"var/lib/mock/path/2",checked:!0},{path:"var/lib/mock/path/3",checked:!0}];return a.extend({defaults:{categories:null,sources:null,rows:null,collectors:null,upgradeCollectorsList:null,keyedError:null,errorRetries:null,cloudWatchOptions:null,hostMetricsOptions:null,state:{mode:null,onboardingMode:null,contactInvisible:null,isRetrievingUpgrades:null},dataType:{id:null,name:null,category:null,title:null,sources:null},collector:{id:null,name:null,age:null,state:null,isInstalled:null,commandChannelId:null,downloadUrl:null,token:null,installerCommand:null,installerOS:null,shouldbeAwake:null},source:{id:null,isEndpointFormatted:null,sourceType:null,oldSourceType:null,defaultCategory:null,sourceCategory:null,sourceBlade:null,thirdPartyRef:null,paths:null,matchingFiles:null,defaultPaths:null,winCustomEvents:null,commandId:null,acceptedFiles:null,startTimestamp:null,endTimestamp:null},txn:{xid:null,state:null,progress:null,previousState:null,preferredDashboardId:null,preferredDashboardType:null,sourceIds:null,percentCompleteCurrentTransition:null,transitionWeights:null,dataIngestedAmount:null,longLastingSource:null,showProgressView:null,issue:null,submissionData:null},isUserInterestedInKubernetes:!1},pollers:null,startingCommandChannel:"",mixins:[o,r,s],getP:function(e){return _.getPath(this.attributes,e)},setP:function(e,t){var i=e.split(".");i.length>1?(this.get(i[0])[i[1]]=t,this.trigger("change:"+e)):this.has(e)&&this.set(e,t)},initialize:function(){_.bindAll(this,"loadUpgradeCollectorList","onUpgradeStarted","untilUpgraded","onError","onSave","onPollingError","onUniqueRetrieved","getMatchingFilesForPath","untilTxnPolling","onInstallerCommandRetrieved","untilDetectionPolling","finishPathValidationPolling","untilPathsPolling","startPathsPolling","untilDefaultPathsPolling","startDefaultPathsPolling","untilIngestionPolling","startWinCustomEventsPolling","untilWinCustomEventsPolling","startWakeupPolling","untilAwake","onTxnRetrieved","loadCloudWatchOptions","loadHostMetricsOptions"),this.setP("state.mode","create"),this.setAllEndpoints(),this.pollers=[]},getModelName:function(){return"SetupModel"},getComponent:function(){return"SetupWizard"},getCollectorOS:function(e){switch(e=e.split(" ")[0].toLowerCase()){case"linux":e="Linux";break;case"macos":case"osx":e="OS X";break;case"windows":e="Windows"}return e},getCollectors:function(e){var t=this.get("collectors");return t&&e&&e.os&&(e.os=this.getCollectorOS(e.os),t=_.filter(t,(function(t){return!_.isNull(t.osName)&&t.osName.indexOf(e.os)>-1}))),t},getSelectedCollector:function(){var e=this.getP("collector.id");return _.find(this.getCollectors(),(function(t){return t.id===e}))},_getMustUpgrade:function(){var e=this.getSelectedCollector(),t=SumoUtil.getCollectorMajorVersion(e.collectorVersion),i=SumoUtil.getCollectorMinorVersion(e.collectorVersion),s=19===t&&i<155,n=this.getP("dataType.id");"custom"===n&&(n="graphite"===this.getP("dataType.category")?"graphite":n);var a=d.indexOf(n)>-1;return s&&a},_getUpgradeable:function(e){var t=e?SumoApp.priv.getDynamicProperty("collector_command_min_version_comm"):SumoApp.priv.getDynamicProperty("collector_command_min_version_upgrade_with_jre"),i=parseInt(this.getP("collector.id")),s=this.getSelectedCollector(),n=parseInt(SumoUtil.getCollectorMinorVersion(t)),a=!_.isUndefined(_.findWhere(this.getUpgradeCollectorsList(),{id:parseInt(i)})),r=SumoUtil.getCollectorMajorVersion(s.collectorVersion),o=SumoUtil.getCollectorMinorVersion(s.collectorVersion);return 19===r&&n>o&&a},getSelectedCollectorIsTooOldToUpgrade:function(){return this._getUpgradeable(!1)},getSelectedCollectorNeedsUpgrade:function(){if(this.getP("collector.age")===this.ages.new)return!1;var e,t=this._getUpgradeable(!1),i=this._getUpgradeable(!0),s=this._getMustUpgrade();return t?(e=this.versions.tooOld,this.setP("collector.age",this.ages.tooOld)):i?(e=this.versions.upgradeable,this.setP("collector.age",this.ages.upgradeable)):s?(e=this.versions.mustUpgrade,this.setP("collector.age",this.ages.mustUpgrade)):e=this.versions.recent,e},loadHostMetricsOptions:function(e){if(e.categories&&e.categories.length>0){var t=_.map(e.categories,(function(e){return e.metrics=_.map(e.hostMetrics,(function(t){return _.extend(t,{enabled:e.enabledByDefault})})),e.imageClass=e.enabledByDefault?"-all":"-none",e}));this.setHostMetricsOptions(t)}},retrieveHostMetricsOptions:function(){return this.createPromise({endpoint:SumoApp.ajax.Endpoints.V1_COLLECTOR_SUPPORTED_HOSTMETRICS,errorCode:"supported_metrics"}).then(this.loadHostMetricsOptions).catch(this.handleWrappedError)},loadCloudWatchOptions:function(e){if(e){var t=_.sortBy(e.namespaces);this.set({cloudWatchOptions:{regions:e.regions,namespaces:t,tagSupportedNamespaces:e.tagSupportedNamespaces}})}},retrieveCloudWatchOptions:function(){return this.createPromise({endpoint:SumoApp.ajax.Endpoints.V1_COLLECTOR_CLOUDWATCH_OPTIONS,errorCode:"collector_and_blades"}).then(this.loadCloudWatchOptions).catch(this.handleWrappedError)},loadUpgradeCollectorList:function(e){e.upgradeInfo&&e.upgradeInfo.length>0&&(this.setUpgradeCollectorsList(_.map(e.upgradeInfo,(function(e){return{id:e.collectorId,name:e.collectorName,currentVersion:e.currentVersion}}))),this.setP("state.isRetrievingUpgrades",!1))},retrieveUpgradeCollectorList:function(){return this.setP("state.isRetrievingUpgrades",!0),this.createPromise({endpoint:SumoApp.ajax.Endpoints.V1_COLLECTOR_GET_UPGRADABLE,errorCode:"get_upgradeable_collectors"}).then(this.loadUpgradeCollectorList).catch(this.handleWrappedError)},untilUpgraded:function(e){var i=!1,s=this.getPoll("upgrade_single_collector_polling");if(SumoApp.priv.hasFlagUISkipDetection()?(s=10,e.upgradeInfo=[{upgradeStatus:3}],e.description="Mock failure"):s.getAttempts()===s.timesOutAfterTries&&(e.upgradeInfo=[{upgradeStatus:3}],e.description=t.err_timed_out_upgrading_collector),_.isNull(s))return i;if(e&&e.upgradeInfo&&1===e.upgradeInfo.length)if(2===e.upgradeInfo[0].upgradeStatus)SumoApp.priv.hasFlagUISkipDetection()||(this.stopPoll(s),i=!0),this.setP("collector.age",this.ages.upgraded);else if(3===e.upgradeInfo[0].upgradeStatus)SumoApp.priv.hasFlagUISkipDetection()||(this.stopPoll(s),i=!1),this.keyedError=e.description,this.setP("collector.age",this.ages.upgradeFailed);else if(s.getAttempts()<s.timesOutAfterTries)return s.setAttempts(s.getAttempts()+1),!1;return i},startUpgradePolling:function(){var e,t=SumoApp.priv.hasFlagUISkipDetection()?1:30;(e=new n({endpointPolling:SumoApp.ajax.Endpoints.V1_COLLECTOR_GET_UPGRADE_PROGRESS,errorCode:"upgrade_single_collector_polling",type:"POST",dataForPolling:[this.getP("collector.id")],dataReturnHandler:this.untilUpgraded,pollingErrorHandler:this.onPollingError,timesOutAfterTries:t})).startPolling(),this.pollers.push(e)},onUpgradeStarted:function(e){e.error||(this.setP("collector.age",this.ages.upgrading),this.startUpgradePolling())},upgradeCollector:function(){if(!SumoApp.priv.hasFlagUISkipDetection())return this.createPromise({endpoint:sprintf(SumoApp.ajax.EndpointFormats.V1_COLLECTOR_UPGRADE_SINGLE,this.getP("collector.id")),errorCode:"upgrade_single_collector",type:"POST"}).then(this.onUpgradeStarted).catch(this.onError);this.untilUpgraded({upgradeInfo:[{upgradeStatus:2}]})},getMatchingFilesForPath:function(e){var t=_.flatten(_.filter(this.getP("source.matchingFiles"),(function(t){return _.where(t,{pathId:e}).length>0})));return _.pluck(t,"filename")},onUniqueRetrieved:function(e){e&&e.uniqueSourceCategory&&(this.getP("source.defaultCategory")===e.uniqueSourceCategory?this.trigger("change:defaultCategory"):this.setP("source.defaultCategory",e.uniqueSourceCategory.toLowerCase()))},loadUniqueSourceCategory:function(){var e=this.getP("dataType.id"),i=e;"upload"===e&&(e=this.getUploadTypeId());var s=_.find(this.getP("sources"),(function(t){return t&&t.id===e}));if(s?(s=s.sourceCat,"upload"===i&&(s="uploads/"+s)):$.logError("Setup Wizard: Unable to retrieve sourceCategory for dataType "+e),"none"!==s)return this.createPromise({endpoint:SumoApp.ajax.Endpoints.V1_COLLECTOR_GET_UNIQUE_SOURCECAT,errorCode:"unique_sourcecat",timeout:12e4,data:{sourceCategory:s}}).then(this.onUniqueRetrieved).catch(this.onError);$(".source-wizard-main").trigger("noDefaultCategory",{placeholder:t.sw_custom_app_sourcecat_placeholder})},stopPolling:function(){var e=this.pollers;e.length>0&&_.each(e,(function(t){t.setInProgress(!1),t.finish(),t.destroy(),e=_.without(e,t)})),this.pollers=[]},stopPoll:function(e){_.isUndefined(e)||_.isNull(e)||(e.setInProgress(!1),e.finish(),this.pollers=_.without(this.pollers,e))},getPoll:function(e){var t=_.find(this.pollers,(function(t){return t.getErrorCode()===e}));return t||null},removeSelectedCollectorFromList:function(){var e=this.getP("collector.id");this.setCollectors(_.filter(this.getCollectors(),(function(t){return t.id!==e})))},onError:function(){var e=arguments[0];if(200===e.status){var t=e.resultsObj.keyedErrors[0].key;if("cim:no_such_collector"===t)return void this.wakeupFailed(t);if("collector_wakeup"===this.startingCommandChannel&&["cim:upgrade_required","cim:channel_not_started"].indexOf(t)>-1)return void this.finishAwakening(!0);if("default_paths"===this.startingCommandChannel&&["cim:no_results_found","cim:no_files_found_for_path_expression","cim:channel_not_started"].indexOf(t)>-1)return void this.finishDefaultPathPolling(!0);if("validate_paths"===this.startingCommandChannel&&["cim:channel_not_started"].indexOf(t)>-1)return void this.noValidatePathsPolling();this.setKeyedError(t),e.resultsObj.friendlyErrorMessage&&(e.resultsObj.formattedErrorDetails=e.resultsObj.friendlyErrorMessage)}else if(504===e.status){var i=_.clone(e);i=_.extend(i,{keyedErrors:[{key:"cim:unique_sourcecat",value:e.friendlyErrorMessage}]}),e.resultsObj=i,this.setKeyedError(e.resultsObj.keyedErrors[0].key)}this.handleWrappedError(e)},onPollingError:function(){if(0!==this.pollers.length){var e=_.last(this.pollers),t=_.last(arguments);if(_.isObject(t)&&t.keyedErrors){var i,s=t.keyedErrors[0].key;if(["cim:no_results_found","cim:channel_not_started"].indexOf(s)>-1){if("default_paths"===e.getErrorCode())return void this.finishDefaultPathPolling(!0);if("custom_windows_event_channels"===e.getErrorCode())return void this.finishWinCustomEventsPolling(!0);if("validate_paths"===e.getErrorCode())return void this.finishPathValidationPolling(e,!0)}else{if("default_paths"===e.getErrorCode()&&["cim:no_files_found_for_path_expression"].indexOf(s)>-1)return void this.finishDefaultPathPolling(!0);"cim:invalid_path_expressions"===s?(i=sprintf(l[s],_.map(t.keyedErrors[0].values,(function(e){return SumoUtil.encode(e)})).join(", ")),this.setErrorMessage(i),this.setKeyedError(s),this.setErrorDetails("polling_error"),this.setError(!0)):e.setAttempts(e.getAttempts()+1)}}}},onSave:function(e){if(this.stopPolling(),e){if(e.error)return this.setErrorMessage(e.errorMessage),this.setError(!0),!1;if("create"===this.getP("state.mode")){this.setP("txn.xid",e.xid),this.setP("txn.state",e.state),this.setP("txn.longLastingSource",e.longLastingSource);var t=e.transitionWeights;_.isNull(t)&&(t=[10,25,55,10]);var i={dashboardsCreated:t[0],sourceCreated:t[1],dataIngested:t[2],dataSearchable:t[3]};this.setP("txn.transitionWeights",i)}return this}return!1},getSubmissionData:function(){var e=this.getP("txn.submissionData");return _.isArray(e)&&(e=e.map((function(e){return _.omit(e,"isMetrics")}))),e},save:function(){var e="create"===this.getP("state.mode"),t=this.getEndpoint(e),i=this.getSubmissionData(),s=e?"POST":"PUT",n=e?"add_source_package":"edit_source_package";return this.createPromise({endpoint:t,errorCode:n,type:s,timeout:59e3,data:i}).then(this.onSave).catch(this.onError)},onTxnRetrieved:function(e){e&&(this.setP("txn.state",e.properties.state),e.properties.preferredDashboardId&&(this.setP("txn.preferredDashboardId",e.properties.preferredDashboardId),this.setP("txn.preferredDashboardType",e.properties.preferredDashboardType)),e.properties.defaultSearchIds&&this.setP("txn.defaultSearchIds",e.properties.defaultSearchIds))},getTxn:function(){var e=this.getP("txn.xid");return this.createPromise({endpoint:sprintf(SumoApp.ajax.EndpointFormats.V1_COLLECTOR_TXN_STATUS,e),errorCode:"get_existing_txn"}).then(this.onTxnRetrieved).catch(this.onError)},untilTxnPolling:function(e){var t,i,s=this.getPoll("source_package_txn");if(_.isNull(s))return!1;if((e=e.properties).state!==this.getP("txn.state")){var n=this.getP("txn.state");this.setP("txn.previousState",n),this.setP("txn.issue",e.issue),this.setP("txn.state",e.state),e.collectorIds&&(t=e.collectorIds.replace("List(","").replace(")",""),this.setP("collector.id",t)),e.sourceIds&&(i=e.sourceIds.replace("List(","").replace(")",""),this.setP("txn.sourceIds",i)),this.setP("txn.preferredDashboardId",e.preferredDashboardId),this.setP("txn.preferredDashboardType",e.preferredDashboardType)}var a=this.getPoll("histogram_for_collector");return this.isErrorState(e.state)?(this.stopPoll(s),a&&this.stopPoll(a)):(this.setP("txn.percentCompleteCurrentTransition",parseInt(e.percentCompleteCurrentTransition)),this.shouldTxnStopPolling(e.state)&&(this.stopPoll(s),a&&this.stopPoll(a))),s&&!s.getInProgress()},startTxnPolling:function(){var e,t=this.getPoll(this.startingCommandChannel);_.isNull(t)||(t.destroy(),this.pollers=_.without(this.pollers,t)),this.startingCommandChannel="",this.getP("txn.showProgressView")||this.setP("txn.showProgressView",!0),(e=new n({endpointPolling:sprintf(SumoApp.ajax.EndpointFormats.V1_COLLECTOR_TXN_STATUS,this.getP("txn.xid")),errorCode:"source_package_txn",timesOutAfterTries:100,dataReturnHandler:this.untilTxnPolling,pollingErrorHandler:this.onPollingError})).startPolling(),this.pollers.push(e)},finishAwakening:function(e){var t=this.getPoll("collector_wakeup");e&&this.setP("collector.age",this.ages.existing),this.setP("collector.shouldBeAwake",!e),this.stopPoll(t)},untilAwake:function(e){var t=this.getPoll("collector_wakeup"),i=!1;return!_.isNull(t)&&(SumoApp.priv.hasFlagUISkipDetection()&&(e.started=!0),e&&!_.isUndefined(e.started)&&e.started?this.finishAwakening(!1):i=!0,i?t.getAttempts()>t.timesOutAfterTries?this.finishAwakening(!0):(t.setAttempts(t.getAttempts()+1),!1):t&&!t.getInProgress())},startWakeupPolling:function(){var e;(e=new n({endpointPolling:sprintf(SumoApp.ajax.EndpointFormats.V1_COLLECTOR_COMMANDS_IS_STARTED,this.getP("collector.id")),errorCode:"collector_wakeup",dataReturnHandler:this.untilAwake,pollingErrorHandler:this.onPollingError,timesOutAfterTries:6})).startPolling(),this.pollers.push(e)},wakeupFailed:function(e){this.removeSelectedCollectorFromList(),this.setKeyedError(e),this.setErrorMessage(t.err_no_such_collector),this.setP("collector.age",this.ages.notFound),this.setP("collector.shouldBeAwake",!0)},wakeUpCollector:function(){if(this.isPollable()){var e=this.getP("collector.id");return this.createPromise({endpoint:sprintf(SumoApp.ajax.EndpointFormats.V1_COLLECTOR_COMMAND_WAKEUP,e),errorCode:"collector_wakeup",type:"PUT"}).then(this.startWakeupPolling,this.onError)}this.finishAwakening(!0)},onInstallerCommandRetrieved:function(e){e&&(e.command?(this.setP("collector.installerCommand",e.command),this.parseTokenFromCommand()):e.token&&(this.setP("collector.downloadUrl",e.downloadOffering.downloadUrl),this.setP("collector.installerCommand",e.token)))},loadInstallerCommand:function(){var e=this._osEndpoint();return this.createPromise({endpoint:e,type:"POST",errorCode:"installer_command"}).then(this.onInstallerCommandRetrieved,this.onError)},untilDetectionPolling:function(e){var t=this.getPoll("detect_collector_activation");return!_.isNull(t)&&(SumoApp.priv.hasFlagUISkipDetection()&&(e.collectors=[{id:101,name:"mockCollector"}]),e&&!_.isEmpty(e.collectors)?(this.setP("collector.id",e.collectors[0].id),this.setP("collector.name",e.collectors[0].name),this.setP("collector.age",this.ages.new),this.stopPoll(t),!0):t&&!t.getInProgress())},startDetectionPolling:function(){var e;(e=new n({endpointPolling:SumoApp.ajax.Endpoints.V1_COLLECTOR_DETECT_BY_TOKEN,errorCode:"detect_collector_activation",dataForPolling:{alive:Date.now(),limit:1},dataReturnHandler:this.untilDetectionPolling,pollingErrorHandler:this.onPollingError})).startPolling(),this.pollers.push(e)},finishWinCustomEventsPolling:function(e,t){return t&&(SumoApp.priv.hasFlagUISkipDetection()?$.later(200,this,(function(){var e=_.map(_.range(100),(function(e){return sprintf("mock-channel-%s",e)}));this.setP("source.winCustomEvents",e)})):this.trigger("change:source.winCustomEvents")),this.stopPoll(e),!0},untilWinCustomEventsPolling:function(e){var t=this.getPoll("custom_windows_event_channels");if(_.isNull(t))return!1;if(e&&e.commandResult&&!_.isEmpty(e.commandResult.events)){var i=_.difference(e.commandResult.events,["Security","Application","System"]);return this.setP("source.winCustomEvents",i),this.finishWinCustomEventsPolling(t)}return t.getAttempts()>t.timesOutAfterTries?this.finishWinCustomEventsPolling(t,!0):(t.setAttempts(t.getAttempts()+1),!1)},startWinCustomEventsPolling:function(e){var t;this.setP("collector.commandChannelId",e.commandId),(t=new n({endpointPolling:sprintf(SumoApp.ajax.EndpointFormats.V1_COLLECTOR_COMMANDS_GET_CUSTOM_EVENTS_RESULT,this.getP("collector.id")),errorCode:"custom_windows_event_channels",dataForPolling:{commandId:e.commandId},timesOutAfterTries:6,dataReturnHandler:this.untilWinCustomEventsPolling,pollingErrorHandler:this.onPollingError})).startPolling(),this.pollers.push(t)},getWinCustomEventsCommandId:function(){if(this.setP("collector.commandChannelId",null),this.isPollable())return this.startingCommandChannel="custom_windows_event_channels",this.setP("source.winCustomEvents",[]),SumoApp.priv.hasFlagUISkipDetection()?($.later(40,this,(function(){this.finishWinCustomEventsPolling(null,!0)})),!0):this.createPromise({endpoint:sprintf(SumoApp.ajax.EndpointFormats.V1_COLLECTOR_COMMANDS_ISSUE_CUSTOM_EVENTS_COMMAND,this.getP("collector.id")),errorCode:"custom_windows_event_channels",type:"PUT",data:{id:this.getP("collector.id").toString()}}).then(this.startWinCustomEventsPolling,this.onError);this.finishWinCustomEventsPolling(null,!0)},finishPathValidationPolling:function(e,t){return t&&this.trigger("change:source.paths"),this.stopPoll(e),!0},untilPathsPolling:function(e){var t=this.getPoll("validate_paths");return!!_.isNull(t)||(e&&e.commandResult&&!_.isEmpty(e.commandResult.files)?(this.setP("source.paths",_.pluck(e.commandResult.files,"pathExpression")),this.finishPathValidationPolling(t)):t.getAttempts()>t.timesOutAfterTries?this.finishPathValidationPolling(t,!0):(t.setAttempts(t.getAttempts()+1),!1))},startPathsPolling:function(e){var t;this.setP("collector.commandChannelId",e.commandId),(t=new n({endpointPolling:sprintf(SumoApp.ajax.EndpointFormats.V1_COLLECTOR_COMMANDS_GET_RESULT,this.getP("collector.id")),errorCode:"validate_paths",dataForPolling:{commandId:e.commandId,showErrors:!0},timesOutAfterTries:6,dataReturnHandler:this.untilPathsPolling,pollingErrorHandler:this.onPollingError})).startPolling(),this.pollers.push(t)},noValidatePathsPolling:function(){this.trigger("change:source.paths")},getValidatePathsCollectorCommandId:function(e){if(this.setP("collector.commandChannelId",null),this.isPollable()){e=_.isArray(e)?e:[e],this.startingCommandChannel="validate_paths";var t=SumoApp.priv.hasFlagUISkipDetection()?"101":this.getP("collector.id").toString();return this.createPromise({endpoint:sprintf(SumoApp.ajax.EndpointFormats.V1_COLLECTOR_COMMANDS_ISSUE_COMMAND,this.getP("collector.id")),errorCode:"validate_paths",type:"PUT",data:{paths:e,id:t}}).then(this.startPathsPolling,this.onError)}this.trigger("change:source.paths")},finishDefaultPathPolling:function(e){return e&&(SumoApp.priv.hasFlagUISkipDetection()?$.later(200,this,(function(){var e=[];_.each(c,(function(t){var i=t.path.replace(/\//g,"_p_"),s=[];s.push({pathId:i,filename:i+"/anActualFile.log"}),s.push({pathId:i,filename:i+"/anotherActualFile.log"}),e.push(s)})),this.setP("source.matchingFiles",e),this.setP("source.defaultPaths",c)})):this.trigger("change:source.defaultPaths")),!0},untilDefaultPathsPolling:function(e){var t,i,s,n=!1,a=this.getPoll("default_paths");if(_.isNull(a))return n;if(e&&e.commandResult&&!_.isEmpty(e.commandResult.files))t=_.pluck(e.commandResult.files,"pathExpression"),i=_.map(e.commandResult.files,(function(e){return _.map(e.matchingFiles,(function(t){return{pathId:e.pathExpression.replace(/\//g,"_p_"),filename:t.canonicalName}}))})),this.setP("source.matchingFiles",i),s=_.map(t,(function(e){return{path:e,checked:!0}})),this.setP("source.defaultPaths",s),this.stopPoll(a),n=!0;else{var r=a.getAttempts();r>a.timesOutAfterTries?(this.stopPoll(a),this.finishDefaultPathPolling(!0),n=!0):a.setAttempts(r+1)}return n},startDefaultPathsPolling:function(e){var t;(t=new n({endpointPolling:sprintf(SumoApp.ajax.EndpointFormats.V1_COLLECTOR_COMMANDS_GET_RESULT,this.getP("collector.id")),errorCode:"default_paths",dataForPolling:{commandId:e.commandId},dataReturnHandler:this.untilDefaultPathsPolling,finishHandler:this.finishDefaultPathPolling,timesOutAfterTries:6,pollingErrorHandler:this.onPollingError})).startPolling(),this.pollers.push(t)},getDefaultPathsCommandId:function(e){return this.isPollable()?(this.startingCommandChannel="default_paths",SumoApp.priv.hasFlagUISkipDetection()?void this.finishDefaultPathPolling(!0):this.createPromise({endpoint:sprintf(SumoApp.ajax.EndpointFormats.V1_COLLECTOR_COMMANDS_GET_DEFAULT_PATHS,this.getP("collector.id")),errorCode:"default_paths",type:"PUT",data:{sourceType:e}}).then(this.startDefaultPathsPolling,this.onError)):void $.later(40,this,(function(){this.finishDefaultPathPolling(!0)}))},startIngestionPolling:function(){var e,t=moment(),i={startTimestamp:+t.add(-1,"hours"),endTimestamp:+t.add(1,"hours"),bucketCount:60};(e=new n({endpointPolling:sprintf(SumoApp.ajax.EndpointFormats.V1_GET_HISTOGRAM_FOR_COLLECTOR_FORMAT,this.getP("collector.id")),errorCode:"histogram_for_collector",dataForPolling:i,dataReturnHandler:this.untilIngestionPolling,pollingErrorHandler:this.onPollingError})).startPolling(),this.pollers.push(e)},untilIngestionPolling:function(e){var t=e.histogramBucketList,i=0,s=this.getPoll("histogram_for_collector");return t.length>0?(_.each(t,(function(e){i+=e.count})),this.setP("txn.dataIngestedAmount",i),s&&!s.getInProgress()):(this.stopPoll(s),!0)}})}.apply(t,s))||(e.exports=n)},4693:function(e,t,i){var s,n;s=[i(60567),i(34908),i(27971)],void 0===(n=function(e,t,i){var s=e.SumoViewModule;return t=t.default,s.extend({mixins:[],matchingFiles:null,path:null,events:{"click #dlgClose":"closeDialog"},template:_.template(i),getViewName:function(){return"SetupPathFilesDialogView"},getComponent:function(){return"SetupWizard"},initialize:function(){_.bindAll(this,"render","closeDialog"),this.matchingFiles=this.options.matchingFiles,this.path=this.options.path;var e=$("<div id='sw-matching-files-dialog' class='cl-info-box'></div>"),t=this.path,i=SumoApp.factory.createDialogView({el:e,plugin:{title:t,dialogClass:"setup-path-files-dialog",width:440,close:this.closeDialog}});this.$el=i.$el,this.registerView("dialogView",i)},render:function(){var e={__:t,matchingFiles:this.matchingFiles},i=this.template(e);return this.$el.html(i),this},closeDialog:function(e){this.getView("dialogView")&&e&&this.getView("dialogView").close()}})}.apply(t,s))||(e.exports=n)},64799:function(e,t,i){var s,n;s=[i(63205),i(34908),i(60567)],void 0===(n=function(e,t,i){"use strict";var s=i.SumoModel,n=i.GetterSetterMixin,a=e.PollRequestModel;t=t.default;return s.extend({mixins:[n],defaults:{collectorId:null,endpointLaunch:null,endpointPolling:null,endpointIncludesCollectorID:null,httpVerb:null,errorCode:null,dataForLaunch:null,dataForPolling:null,inProgress:null,dataReturnFields:null,attempts:null},type:null,timesOutAfterTries:null,dataReturnHandler:null,finishHandler:null,launchErrorHandler:null,pollingErrorHandler:null,skipVerificationHandler:null,pollRequest:null,getModelName:function(){return"SetupPollingModel"},getComponent:function(){return"SetupWizard"},initialize:function(e){_.bindAll(this,"launch","startPolling","until"),e.endpointIncludesCollectorID?this.setEndpointLaunch(sprintf(e.endpointLaunch,e.collectorId)):this.setEndpointLaunch(e.endpointLaunch),this.type=e.type?e.type:"GET",this.setHttpVerb(e.httpVerb||"GET"),this.setDataForLaunch(e.dataForLaunch),this.setEndpointPolling(e.endpointPolling),this.setDataForPolling(e.dataForPolling),this.setErrorCode(e.errorCode),this.timesOutAfterTries=e.timesOutAfterTries,this.setAttempts(-1),this.setInProgress(!1),this.setDataReturnFields(e.dataReturnFields||[]),this.dataReturnHandler=e.dataReturnHandler,this.finishHandler=e.finishHandler,this.launchErrorHandler=e.launchErrorHandler,this.pollingErrorHandler=e.pollingErrorHandler,this.skipVerificationHandler=e.skipVerificationHandler},launch:function(){var e={endpoint:this.getEndpointLaunch(),errorCode:this.getErrorCode(),type:this.getHttpVerb()};return this.getDataForLaunch&&(e=_.extend(e,{data:this.getDataForLaunch()})),this.createPromise(e).then(this.startPolling).catch(this.launchErrorHandler)},getAjaxHash:function(){return{endpoint:this.getEndpointPolling(),data:this.getDataForPolling(),type:this.type,errorCode:this.getErrorCode(),error:this.pollingErrorHandler}},until:function(e){return this.dataReturnHandler(e)},startPolling:function(){return this.setInProgress(!0),this.pollRequest=new a({caller:this,hash:this.getAjaxHash(),until:this.until,delay:1e4}),this.pollRequest},finish:function(e){this.finishHandler&&this.finishHandler(e),this.setInProgress(!1),this.pollRequest.disable()}})}.apply(t,s))||(e.exports=n)},82973:function(e,t,i){var s,n;s=[i(60567),i(34908),i(13796),i(46264),i(63447),i(60072),i(63205)],void 0===(n=function(e,t,i,s,n,a,r){var o=e.SelectizeViewModule,l=r.EditDialogMixinModule,d=a.SourceS3PollingModelModule,c=a.SourceAwsCloudwatchModelModule,u=a.S3pollingThirdpartyrefViewMixinModule,h=a.CloudwatchFilterViewMixinModule,g=a.SourceScanIntervalViewMixinModule,p=e.SumoViewModule,m=e.TooltipsterViewModule,f=e.ViewErrorHandlerMixinModule;t=t.default;var S=a.IamRolesNetworkService,v='<div class="source-wizard-winevent-row -full"><div class="source-wizard-win-check"><input type="checkbox" id="sw-input-%s" class="sw-win-event-check" value="%s"></div><div class="source-wizard-win-query">%s</div></div>',w=["us-gov-east-1","us-gov-west-1"],b=[{text:t.S3_AWS_MANUALLY_CREATE_ROLE,value:"manual"},{text:t.S3_AWS_CFT_IAM_TEMPLATE,value:"template"}],y="RoleBased";return p.extend({errorMsg:null,DEFAULT_SCAN_INTERVAL:9e5,events:{"click #sw-toggle-all-regions":"toggleAllOn","click #sw-toggle-none-regions":"toggleAllOff","click #sw-toggle-all-namespaces":"toggleAllOn","click #sw-toggle-none-namespaces":"toggleAllOff","keyup #sw-aws-accesskey-id, #sw-aws-accesskey-secret, #sw-aws-bucket, #sw-path-expr":"toggleNonCloudwatchTooltip","paste #sw-aws-accesskey-id, #sw-aws-accesskey-secret, #sw-aws-bucket, #sw-path-expr":"toggleNonCloudwatchTooltip","change #sw-aws-accesskey-id, #sw-aws-accesskey-secret, #sw-aws-bucket, #sw-path-expr, #sw-source-category":"getNamespaceMetricsCount","change #sw-aws-bucket":"renderPolicy","change .cloudwatch-filter__key, .cloudwatch-filter__value, .cloudwatch-filter__namespace":"updateFilterInputs","change #source-wizard-form-awsregion":"boxChange","change #source-wizard-form-awsregions .sw-win-event-check":"onRegionChange","change  #source-wizard-form-awsnamespaces .sw-win-event-check":"onNamespaceChange","click .cwf-delete":"removeCWFilterRow",'change .sw-aws-authmode[name = "authMode"]':"updateAuthMode","keyup #sw-aws-bucket":"updateCfTemplate","click  #sw-cf-consoleBtn":"openCFConsole","click #sw-cf-downloadBtn":"downloadCfTemplate","click .online-help-link":"openHelpDocs","change #sw-aws-region":"onS3regionChange"},keyedError:null,errInfo:null,submitButton:null,isCloudWatch:null,namespacesCount:null,regionsCount:null,tagFilters:null,taggableSpaces:null,tagSupportedNamespaces:[],mixins:[f,l,g,u,n,h],template:_.template(s),getViewName:function(){return"SetupSourceAWSView"},getComponent:function(){return"SetupWizard"},getModelData:function(){var e=_.extend(this.model.getBaseFieldValues(),this.model.getFieldValues(!this.isCloudWatch));return e=_.omit(e,["namespaceMetricsCount","customNamespaces"])},getServiceType:function(){return this.sourceTypeServiceTypeMap[this.options.sourceId]},getSubmissionData:function(){var e,t,i=[],s=[],n={accessKeyId:"",accessKeySecret:"",sourceCategory:""},a=this.$("#sw-aws-roleArn").val();if(_.extend(n,{roleARN:a}),this.isCloudWatch?(e=new SumoUtil.TimeValue(5,"minute").toMillis(),_.extend(n,{scanInterval:e,namespaces:i,regions:s}),this._isTaggableNamespaceChecked()&&_.extend(n,this.cloudwatchFilterFieldValues())):t=this.getView("S3RegionsView").getValue(),this.$("#sw-aws-accesskey-id:visible")){var r=this.$("#sw-aws-accesskey-id").val(),o=this.$("#sw-aws-accesskey-secret").val(),l=this.$("#sw-source-category").val(),d=this.$("#sw-path-expr").val();d&&"/"===d[0]&&(d=d.substr(1));var c,u=this.$("#sw-aws-bucket").val();if(_.extend(n,{accessKeyId:r.trim(),accessKeySecret:o.trim(),sourceCategory:l.trim()}),this.isCloudWatch)c=$("#source-wizard-form-awsnamespaces .sw-win-event-check:checked"),_.each(c,(function(e){i.push($(e).val())})),c=$("#source-wizard-form-awsregions .sw-win-event-check:checked"),_.each(c,(function(e){s.push($(e).val())})),_.extend(n,{namespaces:i,regions:s});else _.extend(n,{bucketName:u.trim(),path:d,region:t})}return n},onS3regionChange:function(){var e=this.getView("S3RegionsView");if(this.govCloudRegionFF&&e){var t=e.getValue(),i=w.includes(t);this.disableIamRolesforGovCloud(i)}},disableIamRolesforGovCloud:function(e){this.govCloudRegionFF&&e?(this.$("#sw-govcloud-warning").show(),this.$("#sw-aws-authmode-accesskey").trigger("click"),this.$("#sw-aws-authmode-rolebased").attr("disabled",!0),this.$("#sw-rolebased-label").addClass("input-disabled"),this.$("#sw-iam-access-warning").show()):(this.$("#sw-govcloud-warning").hide(),this.$("#sw-aws-authmode-rolebased").attr("disabled",!1),this.$("#sw-rolebased-label").removeClass("input-disabled"),this.$("#sw-iam-access-warning").hide())},openHelpDocs:function(e){e.preventDefault();var t=SumoApp.getAngularService("helpNavigationService"),i={};return e.currentTarget.href&&_.extend(i,{url:e.currentTarget.href}),e.currentTarget.name&&_.extend(i,{id:e.currentTarget.name}),t.showHelp(i),!1},getErrorInfo:function(){return this.errInfo},validate:function(){return this.isValidSourceCat()&&this.isValidPath()},isValidPath:function(){var e=this.$("#sw-path-expr").val(),i=/^([a-zA-Z0-9\/\-=._()\*\s]+)$/.test(e);return i||(this.keyedError="ui:bad_path_expression",this.errInfo={errCtr:"#source-wizard-form-awsbucket",errDiv:".source-wizard-error:last",errInp:"#sw-path-expr",errMsg:t.ERROR_PATH_EXPRESSION_REQUIRED}),i},updateMetricsCountDisplay:function(){this.stopListening(this.model,"change:namespaceMetricsCount");var e,t,i=this.model.get("namespaceMetricsCount"),s=[],n=0;if(this.$(".sw-namespace-metric-count").remove(),i.length>0&&(e=this.getSubmissionData(),(s=_.filter(i,(function(t){return e.namespaces.indexOf(t.namespace)>-1}))).length>0)){var a="";_.each(s,(function(e){a=e.namespace.replace(/\//g,"_fwd_").replace(/\./g,"_per_").replace(/ /,"_sp_"),(t=$("#sw-input-"+a).closest(".source-wizard-winevent-row").find(".source-wizard-win-query")).html(t.html()+' <span class="sw-namespace-metric-count">('+e.value+")</span>"),n+=e.value}))}this.$("#sw-cw-metrics-count").text(n)},getNamespaceMetricsCount:function(){if(this.isCloudWatch&&SumoApp.priv.hasFlagUINamespaceMetricsCount()){var e=this.getSubmissionData();this.$(".sw-namespace-metric-count").remove(),""!==e.accessKeyId&&""!==e.accessKeySecret&&e.namespaces.length>0&&e.regions.length>0?(this.listenTo(this.model,"change:namespaceMetricsCount",this.updateMetricsCountDisplay),this.model.getCloudWatchMetricsCount(this.getThirdPartyRef(e,"AwsCloudWatch"))):this.$("#sw-cw-metrics-count").text(0)}},onRegionChange:function(){if(this.govCloudRegionFF){var e=this,t=this.$("#source-wizard-form-awsregions .sw-win-event-check:checked"),i=_.reduce(t,(function(t,i){var s=e.$(i).val();return t=t||w.includes(s)}),!1);this.disableIamRolesforGovCloud(i)}this.onRegionOrNamespaceChange()},onRegionOrNamespaceChange:function(){var e=0===this.$("#source-wizard-form-awsnamespaces .sw-win-event-check:checked").length,t=0===$("#source-wizard-form-awsregions .sw-win-event-check:checked").length;this._toggleTooltipster(e||t),this.getNamespaceMetricsCount()},onNamespaceChange:function(){this.onRegionOrNamespaceChange(),this._isTaggableNamespaceChecked()?(this.cloudWatchFilterVals=this._splitFilters(),this.cloudwatchFilterViewRendered(),this.getActiveTaggableSpaces().length>0&&this.$("#cloudwatch-filter__ctr").show(),this.isTaggableNameSpaceSelected("AWS/EC2")?this.$(".cloudwatch-filter__warning").show():this.$(".cloudwatch-filter__warning").hide()):this.$("#cloudwatch-filter__ctr").hide()},_toggleAll:function(e,t){if($(e.target).hasClass("is-disabled"))return!1;var i=$(e.target).closest(".source-wizard-form");i.find(".sw-win-event-check").prop("checked",t),this.onKeyup({keyCode:1}),i.attr("id").indexOf("namespaces")>-1?this.onNamespaceChange():(this.onRegionChange(),this.getNamespaceMetricsCount())},toggleAllOn:function(e){this._toggleAll(e,!0)},toggleAllOff:function(e){this._toggleAll(e,!1)},getThirdPartyRef:function(e,t){var i,s;if(i=this.authMode===y?{type:"AWSRoleBasedAuthentication",roleARN:e.roleARN}:{type:"S3BucketAuthentication",awsKey:e.accessKeySecret,awsId:e.accessKeyId},this.isCloudWatch){var n=this.regionsCount!==e.regions.length,a=e.tagFilters;if(s={type:"CloudWatchPath"},n&&_.extend(s,{limitToRegions:e.regions}),_.extend(s,{limitToNamespaces:e.namespaces}),a&&a.length>0)this.getFilledTagFilters(e.tagFilters)&&a.length>0&&_.extend(s,{tagFilters:this.getFilledTagFilters(e.tagFilters)});i.region=e.regions}else"na"!==e.region&&(i.region=e.region),s={type:"S3BucketPathExpression",bucketName:e.bucketName,pathExpression:e.path};return this.createThirdPartyRefString(t,s,i,!0)},updateModel:function(e){var t=this.getSubmissionData(),i=this.options.sourceName,s=this.getThirdPartyRef(t,e);t.timeZone=null,this.model.set(_.extend(t,{name:i,thirdPartyRef:s}))},initialize:function(){if(_.bindAll(this,"_anyBlanks","getSubmissionData","updateMetricsCountDisplay","getServiceType","getTaggableNamespacesChecked"),this.isCloudWatch="cloudwatch"===this.options.sourceId,this.isCloudWatch){this.model=new c({context:SumoApp.context});var e=moment().subtract(1,"h");this.model.set("olderThanTimestampFilter",e.valueOf())}else this.model=new d({context:SumoApp.context});this.model.set("scanInterval",this.DEFAULT_SCAN_INTERVAL),this.submitButton=this.options.submitButton,this.disabledClass="btn-disabled",this.cloudwatchCustomNamespaces=[],this.finishInit()},_toggleTooltipster:function(e){e?(this.$(".source-wizard-select-all").addClass("btn-disabled"),this.createTooltipster()):(this.destroyTooltipster(),this.$(".source-wizard-select-all").removeClass("btn-disabled"))},toggleNonCloudwatchTooltip:function(e){if(!this.isCloudWatch){var t=this.$("#sw-aws-accesskey-id").val().length>0,i=this.$("#sw-aws-accesskey-secret").val().length>0,s=this.$("#sw-aws-bucket").val().length>0,n=this.$("#sw-path-expr").val().length>0;this._toggleTooltipster(!(t&&i&&s&&n))}},createTooltipster:function(){if(!this.getView("bucketTooltipster")&&!this.isCloudWatch){var e=new m({el:this.$(".source-wizard-select-all.btn-disabled"),theme:"popover-interactive is-error",size:"small",content:t.sw_policy_doc_warning_aws});this.registerView("bucketTooltipster",e)}},destroyTooltipster:function(){if(this.getView("bucketTooltipster")){var e=this.getView("bucketTooltipster").$el;this.destroySubView("bucketTooltipster"),e.text(t.sw_policy_button)}},renderPolicy:function(){var e=this.$("#sw-aws-bucket").val(),i=e||t.sw_default_bucket;this.$(".bucketname-holder").text(i)},_renderList:function(e,t,i){var s=this.$(e).find(".sumo-list"),n=v,a="",r="";_.isEmpty(t)||(_.each(t,(function(e,t){r=e.replace(/AWS\//,"").replace(/\\/g,"_").toLowerCase(),r=e.replace(/\//g,"_fwd_").replace(/\\/g,"_bck_").replace(/\./g,"_per_").replace(/ /,"_sp_"),a+=sprintf(n,r,e,e)})),s.html(a),this[i]=t.length)},renderNamespaces:function(e,t){this._renderList("#source-wizard-form-awsnamespaces",e,"namespacesCount"),this.tagSupportedNamespaces=t,this.$("#sw-add-namespace").removeClass("-is-disabled"),this.taggableSpaces=this.tagSupportedNamespaces;var i=this;setTimeout((function(){i.getNamespaceMetricsCount()}),0)},renderRegions:function(e){this._renderList("#source-wizard-form-awsregions",e,"regionsCount")},renderS3Regions:function(){var e=this,t="S3RegionsView",i=this.$("#sw-aws-region"),s=this.getView(t);return s||this.S3RegionService.list().then((function(n){var a=_.map(n.regions,(function(e,t){return{value:e||"na",text:t}}));s=new o({el:i,create:!1,options:a}),e.registerView(t,s),s.setValue(_.last(a).value)})),s},updateFilterInputs:function(e){this.updateFilterTagInput(e),this.getNamespaceMetricsCount()},removeCWFilterRow:function(e){this.removeCWFilterTagRow(e),this.getNamespaceMetricsCount()},_isTaggableNamespaceChecked:function(){return this.getTaggableNamespacesChecked().length>0},getTaggableNamespacesChecked:function(){var e=this.tagSupportedNamespaces,t=[];return _.forEach(this.$("#source-wizard-form-awsnamespaces .sw-win-event-check:checked"),(function(i){var s=$(i).attr("value");e.indexOf(s)>-1&&t.push(s)})),t},updateAuthMode:function(e){this.authMode=e.target.value,this.authMode===y?(this.$("#roleBased_row").show(),this.$("#source-wizard-form-awskeys").hide(),this.$("#sw_policy_code_block").hide()):(this.$("#roleBased_row").hide(),this.$("#source-wizard-form-awskeys").show(),this.$("#sw_policy_code_block").show())},renderIamRoleSelectView:function(){var e="IamRolesSelectView",t=this.$(".source-wizard-SelectIamrole"),i=this.getView(e);return i||(i=new o({el:t,create:!1,maxItems:1,disableInput:!0,closeAfterSelect:!0,options:b,items:["manual"],onChange:this.onTemplateModeChange.bind(this)}),this.registerView(e,i)),i},onTemplateModeChange:function(e){"manual"===e?(this.$("#manualRole_row").show(),this.$("#templateRole_row").hide()):(this.$("#manualRole_row").hide(),this.$("#templateRole_row").show(),this.isCloudWatch||0!==this.$("#sw-aws-bucket").val().length?(this.$("#templateRole_row #templateRole_nobucket").hide(),this.$("#templateRole_row #templateRole_codeblock").show()):(this.$("#templateRole_row #templateRole_nobucket").show(),this.$("#templateRole_row #templateRole_codeblock").hide()))},updateCfTemplate:_.debounce((function(e){var t=e.target.value;t.length>0?(this.$("#templateRole_nobucket").hide(),this.$("#templateRole_codeblock").show(),this.setCfTemplate(t)):(this.$("#templateRole_nobucket").show(),this.$("#templateRole_codeblock").hide())}),500),setCfTemplate:function(e){var t=this,i={isEventTemplate:!1,bucketName:e,contentType:{s3:"AwsS3AuditBucket",cloudtrail:"AwsCloudTrailBucket",elb:"AwsElbBucket",cloudfront:"AwsCloudFrontBucket",cloudwatch:"AwsCloudWatch"}[this.options.sourceId]};this.cfService.getTemplateData(i).then((function(e){t.cfTemplate=e.template,t.$("#cloud-template-code-block #cf-code-block-pre").html(e.template)})).catch(this.errorFN)},openCFConsole:function(){SumoApp.getAngularService("cloudFormationTemplateService").launchCfConsole()},downloadCfTemplate:function(){var e=this.$("#sw-aws-bucket").val();SumoApp.getAngularService("cloudFormationTemplateService").download(e,this.cfTemplate)},getAccInfo:function(){var e=this;S.get().then((function(t){e.$("#sw_manual_accid").append(t.accountId),e.$("#sw_manual_extid").append(t.externalId)})).catch(this.errorFN)},finishInit:function(){var e=SumoApp.getAngularService("currentUserHelper");this.cfService=a.cloudFormationTemplateDataService,this.S3RegionService=SumoApp.getAngularService("s3RegionService"),this.authMode=y,this.govCloudRegionFF=e.hasFeatureFlag("UIAWSGovCloudRegion")},render:function(){var e=this.isCloudWatch?t.sw_sourcecat_qtip_metrics:t.sw_sourcecat_qtip,i=this.isCloudWatch?5:4,s=this.isCloudWatch?"images/app/onboarding_help/aws_policy4-cloudwatch.png":"images/app/onboarding_help/aws_policy4.png",n=this.isCloudWatch?t.sw_help_aws_policy_name_cloudwatch:t.sw_help_aws_policy_name_s3,a=$.extend(this.model.toJSON(),{__:t,sw_help_aws_user:sprintf(t.sw_help_aws_user,"images/app/onboarding_help/create_iam1.png","images/app/onboarding_help/create_iam2.png","images/app/onboarding_help/create_iam3.png"),sw_label_sourcecat:sprintf(t.sw_label_sourcecat,this.isCloudWatch?t.sw_label_sourcecat_metrics:t.sw_label_sourcecat_logs),sw_help_aws_policy:sprintf(t.sw_help_aws_policy,"images/app/onboarding_help/aws_policy2.png","images/app/onboarding_help/aws_policy3.png",n,s),sw_label_policy_text:sprintf(t.sw_label_policy_text,this.isCloudWatch?"":t.sw_label_policy_text_bucket),sw_label_policy_num:i,bucketName:t.sw_default_bucket,pathName:t.sw_default_path,sourceCat:this.options.sourceCategory||"",tooltip_sourcecat:e,isCloudWatch:this.isCloudWatch,totalMetricsSelected:0,showCustomNamespaces:!0,authMode:this.authMode,govCloudRegionFF:this.govCloudRegionFF}),r=this.template(a);this.$el.html(r).attr("id","source-wizard-aws-"+this.options.sourceId+"-ctr"),this.$("#sw-govcloud-warning").hide(),this.$("#sw-iam-access-warning").hide(),this.options.contactInvisible&&this.closeContact(),this.isCloudWatch||this.renderS3Regions(),this.createTooltipster(),$(".source-wizard-ctr")[0].scrollIntoView(),this.$("#roleBased_row").show(),this.$("#source-wizard-form-awskeys").hide(),this.$("#templateRole_row").hide(),this.$("#sw_policy_code_block").hide(),this.renderIamRoleSelectView(),this.getAccInfo(),this.isCloudWatch&&this.setCfTemplate();var o=this.$("#template-copy");SumoApp.ngCompile(o,null,!0);var l=this.$(".source-wizard-select-all");return SumoApp.ngCompile(l,null,!0),this}})}.apply(t,s))||(e.exports=n)},72795:function(e,t,i){var s,n;s=[i(60567),i(34908),i(16471),i(48729),i(38345),i(32500),i(48188),i(20247)],void 0===(n=function(e,t,i,s,n,a,r,o){var l=e.SumoViewModule,d=e.TooltipsterViewModule,c=i.commonEnI18n;return t=t.default,l.extend({events:{"click #source-wizard-add-more":"restartAfterCreate","click #source-wizard-go-search":"openSearch","click #source-finish-resend":"reactivate","click .source-wizard-video, .source-wizard_video img":"openVideoPlayer","click .sumo-link":"showHttpUrl"},progressBar:null,httpSourceUrl:null,mixins:[a],template:_.template(s),finishTemplate:_.template(n),getViewName:function(){return"SetupFinishView"},getComponent:function(){return"SetupWizard"},initialize:function(e){_.bindAll(this,"render","updateState","startIngestionPolling","updateIngestionPolling","_uploadComplete","_onSuccess"),this.currentUserHelper=SumoApp.getAngularService("currentUserHelper"),this.stepController=e.stepController,this.httpSourceUrl=e.httpUrl},reactivate:function(e){e.preventDefault(),SumoApp.ajax.call(this,{endpoint:SumoApp.ajax.Endpoints.V1_ACCOUNT_RESEND_ACTIVATION,errorCode:"source_setup_reactivation",type:"POST",data:this.currentUserHelper.get().name,success:function(){this.logAction(c.wizard_resend_activation),this.$("#source-finish-resend").replaceWith(sprintf("<span>%s</span>",t.finish_resend_disabled))},error:this.handleWrappedError})},openSearch:function(e){var t=$(e.target);if(t.hasClass("vertical-button")||(t=t.closest(".vertical-button")),t.hasClass("btn-disabled"))return!1;t.addClass("btn-disabled"),this.logAction(c.wizard_search_launched),this.done()},closeVideo:function(){},openVideoPlayer:function(e){var t=e.currentTarget.parentElement,i=$(t).data("embed"),s=.8*$(window).height(),n=s/556*854;i&&new r({video:i,width:Math.floor(n),height:Math.floor(s),isYoutube:!0}).render();this.logAction(c.wizard_video_played),$("window").on("click",this.closeVideo)},showHttpUrl:function(e){e.preventDefault();var i=this.$("#sw-finish-http-source-url").is(":visible"),s=i?t.finish_http_source_url:t.finish_http_source_url_hide;i?(this.$("#sw-finish-http-source-url").hide(),this.$(".source-wizard-main").removeClass("-is-showing-url")):(this.$(".source-wizard-main").addClass("-is-showing-url"),this.$("#sw-finish-http-source-url").find(".jsonL0").text(this.httpSourceUrl).end().show()),$(e.currentTarget).text(s)},logExceptionHandler:function(e,t){this.logAction(sprintf(c.wizard_exception_logged,t,e.message,e.stack))},startIngestionPolling:function(){try{this.model.startIngestionPolling()}catch(e){this.logExceptionHandler(e,"startIngestionPolling")}},updateIngestionPolling:function(){var e=sprintf(t.finish_messages_ingested_amount,this.model.getP("txn.dataIngestedAmount"));this.$("#source-progress-data-ingested").text(e)},_uploadComplete:function(e,i){try{var s=Math.floor(i.loaded/i.total*100)+"%",n=sprintf(t.finish_byte_uploaded,s);this.$("#source-progress-data-uploaded").text(n),$("#sw-upload-files").off("fileuploadsend"),$("#sw-upload-files").off("fileuploadprogressall",this._uploadComplete)}catch(e){this.logExceptionHandler(e,"_uploadComplete")}},_onSuccess:function(e){try{this.logAction(c.wizard_fileupload_success),this.model.setP("source.startTimestamp",e.startTimeInMillis),this.model.setP("source.endTimestamp",e.endTimeInMillis)}catch(e){this.logExceptionHandler(e,"_onSuccess")}},uploadFiles:function(e){this.logAction(c.wizard_fileupload_begins);var t={xid:e,cid:this.cid,filelist:this.model.getP("source.acceptedFiles"),uploadComplete:this._uploadComplete,onSuccess:this._onSuccess,logger:this.logAction};try{SumoApp.uploadAjaxManager.upload(t)}catch(e){this.logExceptionHandler(e,"uploadFiles")}},updateProgressbar:function(e){if(e||(e=0),this.progressBar.is(":visible")){var t=this.model.getP("txn.state");this.progressBar.progressBar("option","progress",e),t===this.model.states.dataSearchable?(this.progressBar.find(".progress").addClass("done"),this.initProgressTooltip(this.model.progresses.DATA)):this.initProgressTooltip(e)}},updateProgress:function(){var e=this.model.getP("txn.state")===this.model.states.dataSearchable?this.model.progresses.DATA:this.model.getProgress();this.updateProgressbar(e)},progressActions:function(e,t){try{switch(e){case this.model.states.started:this.currentUserHelper.get().isInitialSetupRequired=!1;break;case this.model.states.sourceCreated:this.isGeneric()&&this.uploadFiles(this.model.getP("txn.xid")),this.$("#source-wizard-add-more").removeClass("btn-disabled"),this.$("#source-wizard-cancel-btn").removeClass("-is-disabled"),this.initTooltipster();break;case this.model.states.dataIngested:this.model.isMetricsType(!0)||this.startIngestionPolling();break;case this.model.states.dataSearchable:this.model.ingestionPollingStart||this.isGeneric()||this.model.isMetricsType(!0)||this.startIngestionPolling();break;case this.model.states.errorCQsNotFilling:this.model.stopPolling();break;case this.model.states.error:this.destroyTooltipster(),this.model.stopPolling(),$("#source-finish-indicator").hide(),""!==t&&(this.$("#source-wizard-add-more").removeClass("btn-disabled"),this.$("#source-wizard-cancel-btn").removeClass("-is-disabled"),$("#source-finish-error-ctr").find(".source-wizard-error-text").html(t).end().show())}}catch(e){this.logExceptionHandler(e,"progressActions")}},_finalStateView:function(e){this.model.getPoll("source_package_txn");this.model.setP("txn.showProgressView",!1),this.destroyTooltipster(),this.$("#source-wizard-go-search").removeClass("btn-disabled")},updateState:function(){var e,i=this.model.getP("txn.state"),s=this.model.getP("txn.previousState"),n=this.model.getProgress(),a="";try{switch(SumoUtil.isStringEmpty(s)&&this.model.setP("txn.previousState",this.model.states.started),this.model.isErrorState(i)&&(i=this.model.states.error),i){case this.model.states.error:s===this.model.states.dataSearchable||"bt:cqs_not_receiving_data"===a?(e=t.finish_spinner_data_searchable,n=this.model.getProgress(!0),i=this.model.states.errorCQsNotFilling):(e="",a=this.translateIssue()),this.model.setP("txn.showProgressView",!1);break;case this.model.states.started:this.model.setP("txn.showProgressView",!0);break;case this.model.states.dashboardsCreated:e=t.finish_spinner_dashboards_created,this.model.setP("txn.showProgressView",!0),this.logAction(c.wizard_app_installed);break;case this.model.states.sourceCreated:this.model.setP("txn.showProgressView",!0),e=t.finish_spinner_source_created;break;case this.model.states.dataIngested:this.model.setP("txn.showProgressView",!0),e=t.finish_spinner_data_ingested;break;case this.model.states.dataSearchable:e=t.finish_spinner_data_searchable,this._finalStateView();break;case this.model.states.dashboardDataAvailable:e=t.finish_spinner_data_available,this._finalStateView(!0),this.logAction(c.wizard_transaction_complete)}(e||""===e)&&this.$("#source-progress-data-state").html(e),SumoApp.priv.hasUseNewBatonTransactionStateMachine()||this.updateProgressbar(n)}catch(e){this.logExceptionHandler(e,"updateState")}this.progressActions(i,a)},initProgressTooltip:function(e){this.getView("progressTooltipster")&&this.destroySubView("progressTooltipster");var t=new d({el:this.$(".progress.default"),theme:"progresstip",content:sprintf("%s%%",e),size:"tiny",position:"bottom"});this.registerView("progressTooltipster",t)},initTooltipster:function(){var e=new d({el:this.$("#source-wizard-cancel-btn"),theme:"popover-interactive",content:t.finsh_cancel_tooltip,size:"small",position:"bottom-right"});this.registerView("tooltipster",e)},destroyTooltipster:function(){this.getView("tooltipster")&&this.destroySubView("tooltipster")},renderError:function(){if(this.model.getError()){if("polling_error"===this.model.getErrorDetails()){var e="";switch(this.model.getP("txn.state")){case this.states.started:e=t.finish_error_started;break;case this.states.dashboardsCreated:e=t.finish_error_dashboards_created;break;case this.states.sourceCreated:case this.states.dataIngested:e=t.finish_error_source_created;break;case this.states.dashboardDataAvailable:e=t.finish_error_data_available}this.model.setErrorMessage(e),this.logAction(c.wizard_transaction_error)}this.$("#source-finish-indicator").hide(),this.$("#source-finish-error-ctr").find("span").text(this.model.getErrorMessage()),this.$("#source-finish-error-ctr").show()}else this.$("#source-finish-indicator").show(),this.$("#source-finish-error-ctr").hide()},renderFinish:function(e){var i={__:t,longLastingSource:e,spinnerText:t.finish_spinner_started,httpSource:!e&&this.httpSourceUrl&&this.httpSourceUrl.length>0,finishView:!1,searchBtnLabel:this.model.isMetricsType(!0)?t.finish_go_metrics:t.finish_go_search,userName:SumoUtil.encode(this.currentUserHelper.get().name)},s=this.finishTemplate(i);this.$("#source-wizard-aws-ctr").html(s),e?this.$("#source-wizard-go-search").hide():(SumoApp.priv.hasUseNewBatonTransactionStateMachine()&&this.listenTo(this.model,"change:txn.percentCompleteCurrentTransition",this.updateProgress),this.listenTo(this.model,"change:txn.state",this.updateState),this.listenTo(this.model,"change:txn.dataIngestedAmount",this.updateIngestionPolling),this.listenTo(this.model,"change:error",this.renderError),this.progressBar=this.$(".input-progressbar"),this.progressBar.progressBar({progress:this.model.progresses.INITIAL}),this.initProgressTooltip(this.model.progresses.INITIAL),this.model.getP("txn.state")!==this.model.progresses.STARTED&&(this.currentUserHelper.get().isInitialSetupRequired=!1),this.model.getP("source.acceptedFiles")&&this.model.getP("source.acceptedFiles").length>0?(this.$("#source-wizard-add-more").addClass("btn-disabled"),this.$("#source-wizard-cancel-btn").addClass("-is-disabled")):this.initTooltipster(),(0===this.model.pollers.length||_.isNull(this.model.getPoll("source_package_txn"))||-1===this.model.getPoll("source_package_txn").getAttempts())&&this.model.startTxnPolling()),$(".source-wizard-ctr")[0].scrollIntoView()},render:function(){var e,i=this.model.getP("txn.longLastingSource"),s=t.finish_title,n=$.extend(this.model.toJSON(),{__:t,sw_title:s,formView:!1,longLastingSource:i,finishView:!1,finishViewR2:!0,needsActivation:this.currentUserHelper.getOrg().needsActivation,onboardingMode:this.model.getP("state.onboardingMode")}),a=this.template(n);this.$el.html(a).attr("id","source-finish-ctr"),this.renderFinish(i),e=new o({showSetupCollection:!this.isHosted()||this.isConfigurableHttp(),showUpload:this.isGeneric(),activeStep:".sw-sb-finish"}),this.registerView(e);var r=this.$(".source-wizard-select-all");return SumoApp.ngCompile(r,null,!0),Modernizr.history&&(window.history.pushState({sumo:!1},window.document.title+"-Finish"),$(window).on("popstate",this.getPopStateHandler())),this}})}.apply(t,s))||(e.exports=n)},33549:function(e,t,i){var s,n;s=[i(60567),i(34908),i(13796),i(86252),i(88259),i(63447),i(60072),i(50963),i(63205)],void 0===(n=function(e,t,i,s,n,a,r,o,l){var d=e.SelectizeViewModule,c=l.EditDialogMixinModule,u=r.SourceHttpModelModule,h=e.SumoViewModule,g=e.TooltipsterViewModule;t=t.default;var p=o.TimezoneUtilsConstants;return h.extend({events:{"click #sw-help-http-user-link":"showCurlHelp","click .online-help-link":"onShowHelp","keyup #sw-http-path":"updateCurlPath","change #sw-http-path":"updateCurlPath","paste #sw-http-path":"updateCurlPath","change #sw-timezone-ignore-log, #sw-timezone-from-log":"switchTZLists"},mixins:[a,c],template:null,collectorId:null,source:null,submitButton:null,swLabel:null,errInfo:null,isCollectD:!1,getViewName:function(){return"SetupSourceHTTPView"},getComponent:function(){return"SetupWizard"},initialize:function(){_.bindAll(this,"render");var e=SumoApp.getAngularService("currentUserHelper").hasFeatureFlag("UICollectDAsHTTP");this.serviceType=this.options.serviceType,this.submitButton=this.options.submitButton,this.disabledClass="btn-disabled",this.hasSecond=!0,this.swLabel="custom"!==this.options.sourceId?t.sw_akamai_link_label:t.sw_httpsource_link_label,this.isCollectD=e&&"CollectD"===this.serviceType,this.template=_.template(this.isCollectD?n:s),this.model=new u({context:SumoApp.context})},getSubmissionData:function(){var e,t,i,s=this.$("#sw-source-category").val(),n=this.$("#sw-source-category").is(":visible");return e="custom"===this.options.sourceId?"Custom App":this.serviceType,t=n?{sourceCategory:s.trim(),bladeType:this.serviceType,name:e,thirdPartyRef:this.getThirdPartyRef()}:{sourceCategory:this.getSourceCategory(),bladeType:this.serviceType,name:e,thirdPartyRef:this.getThirdPartyRef()},"sw-timezone-ignore-log"===$('[name="sw-timezone"]:checked').attr("id")?(t.forceTimeZone=!0,i="ignoreLogTZView"):i="fromLogTZView",i&&this.getView(i)&&(t.timeZone=this.getView(i).getValue()),t},_anyBlanks:function(){return!!this.getIgnoreClicks()||_.any(_.values(this.getSubmissionData(!0)),this.isEmptyField)},getModelData:function(){return _.extend(this.model.getBaseFieldValues(),this.model.getFieldValues(!0))},updateModel:function(){this.model.set(this.getSubmissionData())},getSourceUrl:function(e,t){this.model.loadSource(e),this.listenTo(this.model,"change:_dataLoaded",t)},showCurlHelp:function(){this.$(".source-wizard-help-ctr").is(":visible")?(this.$(".source-wizard-help-ctr").hide(),this.$("#sw-help-http-user-link").find("span").text(t.sw_http_help_link_open).end().find("i").addClass("fa-angle-right").removeClass("fa-angle-down"),this.destroyTooltipster()):(this.$(".source-wizard-help-ctr").show(),this.$("#sw-help-http-user-link").find("span").text(t.sw_http_help_link_close).end().find("i").addClass("fa-angle-down").removeClass("fa-angle-right"),this.createTooltipster())},_updateCurlPath:function(e){var i=e.currentTarget.value.trim();SumoUtil.isStringEmpty(i)?(i=t.sw_http_curl_path_default,this.$("#sw-help-http .source-wizard-select-all").addClass("is-disabled"),this.createTooltipster()):(this.$("#sw-help-http .source-wizard-select-all").removeClass("is-disabled"),this.destroyTooltipster()),this.$(".sw-http-curl-path").text(i)},updateCurlPath:function(e){"paste"===e.type&&(e.type="click");var t=this;setTimeout((function(){t._updateCurlPath(e)}),10)},createTooltipster:function(){if(!this.getView("curlTooltipsterP")){var e=new g({el:this.$("#sw-curl-example-select-post.is-disabled"),theme:"popover-interactive",size:"small",content:t.sw_http_curl_path_default_warning});this.registerView("curlTooltipsterP",e)}if(!this.getView("curlTooltipsterG")){var i=new g({el:this.$("#sw-curl-example-select-gzipped.is-disabled"),theme:"popover-interactive",size:"small",content:t.sw_http_curl_path_default_warning});this.registerView("curlTooltipsterG",i)}},destroyTooltipster:function(){this.getView("curlTooltipsterP")&&(this.destroySubView("curlTooltipsterP"),this.destroySubView("curlTooltipsterG"),this.$("#sw-help-http .source-wizard-select-all").text(t.sw_curl_button))},validate:function(){return this.isValidSourceCat()},buildTimezones:function(){var e=o.getTimeZoneList(),t="ignoreLogTZView",i="fromLogTZView",s=$("#source-wizard-timezone-ignore-log"),n=$("#source-wizard-timezone-from-log"),a=this.getView(t),r=this.getView(i),l=p.olsonUTC;a||((a=new d({el:s,create:!1,options:e})).setValue(l),a.disable(),this.registerView(t,a)),r||((r=new d({el:n,create:!1,options:e})).setValue(l),this.registerView(i,r))},getSourceCatLabel:function(){return this.isCollectD?t.sw_label_sourcecat_3:sprintf(t.sw_label_sourcecat,this.isGraphiteType()?t.sw_label_sourcecat_metrics:t.sw_label_sourcecat_logs)},render:function(){var e=this.getSourceCatLabel(),i={__:t,sw_label_sourcecat:e,sw_link_label:this.swLabel,sw_label_timezone_main:sprintf(t.sw_label_timezone_main,this.isCollectD?"4":"2"),swCollectDUrl:"",sw_collectd_conf:t.sw_collectd_conf},s=this.template(i);this.$el.html(s).attr("id","source-wizard-http-ctr").closest(".source-wizard-main").addClass("sw-http-step"),this.options.contactInvisible&&this.closeContact(),this.buildTimezones(),$(".source-wizard-ctr")[0].scrollIntoView();var n=this.$(".source-wizard-select-all");return SumoApp.ngCompile(n,null,!0),$.later(30,this,(function(){this.manageButtonState(this.buttonStates.SUBMIT_OFF),this.$("#sw-source-category").trigger("focus")})),this.submitButton.removeClass("btn-disabled"),this}})}.apply(t,s))||(e.exports=n)},72268:function(e,t,i){var s,n;s=[i(60567),i(34908),i(13796),i(99125),i(98414),i(63447),i(49513)],void 0===(n=function(e,t,i,s,n,a,r){var o=e.SelectizeViewModule,l=e.SumoViewModule,d=e.TooltipsterViewModule,c=[{id:"http",el:"#sw-type-btn-http-source",tip:(t=t.default).sw_select_tooltipster_http},{id:"installed",el:"#sw-type-btn-installed",tip:t.sw_select_tooltipster_install},{id:"syslog",el:"#sw-type-btn-syslog",tip:t.sw_select_tooltipster_syslog},{id:"upload",el:"#sw-type-btn-upload",tip:t.sw_select_tooltipster_upload},{id:"graphite",el:"#sw-type-btn-graphite",tip:t.sw_select_tooltipster_graphite}],u="listCleared";return l.extend({events:{"click .vertical-button":"startFlow","change #source-wizard-form-select-collector-class [type=radio]":"selectClass","click .source-wizard-collector-row":"selectExistingCollectorFromList"},collectorId:null,source:null,selectOrInstall:!0,serviceType:null,selectOSView:null,collectorListView:null,showOSSelector:null,singleOS:null,singleCollectorId:null,startInstructionNumber:null,mixins:[a],template:_.template(s),getViewName:function(){return"SetupSourceSelectOSView"},getComponent:function(){return"SetupWizard"},initialize:function(){_.bindAll(this,"render","selectNewCollector","selectExistingCollectorFromSelect","opened","_anyBlanks"),this.serviceType=this.options.serviceType,this.startInstructionNumber=this.showOSSelector?2:1,"custom"===this.model.getP("dataType.id")&&(this.hasSecond=!0)},_anyBlanks:function(){return!this.$("#sw-collector-class-existing").is(":checked")||!SumoUtil.isStringEmpty(this.collectorId)},startFlow:function(e){var t=e.currentTarget.id.replace("sw-type-btn-","");switch(this.serviceType=t,t){case"installed":case"syslog":this.switchView("last");break;case"graphite":this.switchView("last")}$(".source-wizard-main").trigger("triggerNewFlow",{newFlow:t})},onFilterFocus:function(e){e.hasClass("-focus")?e.removeClass("-focus"):e.addClass("-focus")},filterCollectors:function(){var e,t=this.$("#existing-collectors-search-text").val(),i={};this.singleOS&&(i.os=this.singleOS),SumoUtil.isStringEmpty(t)?(e=this.model.getCollectors(i),t=u):e=_.filter(this.model.getCollectors(i),(function(e){return e.name.toLowerCase().indexOf(t.toLowerCase())>-1})),this.renderExistingCollectorsList(e,t)},selectClass:function(e){var i=$(e.target);if(this.collectorId=null,this.$("#sw-installer-command").hide(),this.spinnerControl(!1),$(".source-wizard-main").trigger("stopDetectionPolling"),"sw-collector-class-new"===i.attr("id")){if(this.getView("sourceTypeView")?this.getView("sourceTypeView").setValue(-1):this.$(".active").removeClass("active"),this.selectOSView&&this.selectOSView.enable(),this.collectorListView.disable(),!this.showOSSelector)return this.collectorId=this.singleOS,this.spinnerControl(!0,".single-os-spinner",t.sw_single_os_spinner),void this.triggerNewCollector()}else this.getView("selectOSView")&&this.getView("selectOSView").setValue(-1),this.collectorListView.enable(),this.singleCollectorId&&this.collectorListView.setValue(this.singleCollectorId),this.selectOSView&&this.selectOSView.disable();$(".source-wizard-main").trigger("existingCollectorSelected")},triggerNewCollector:function(){$(".source-wizard-main").trigger("selectOS",this.collectorId)},selectNewCollector:function(e){return"-1"===e||""===e?($(".source-wizard-main").trigger("stopDetectionPolling"),this.$("#sw-installer-command").hide(),!1):(this.collectorId=e,this.triggerNewCollector(),!1)},selectExistingCollectorFromSelect:function(e){this.collectorId=e,$(".source-wizard-main").trigger("existingCollectorSelected")},selectExistingCollectorFromList:function(e){if(!this.$("#sw-collector-class-new").is(":checked")&&this.collectorListView.getEnabledState()){var t=$(e.target);this.$(".active").removeClass("active"),t.addClass("active"),this.collectorId=_.findWhere(this.model.getCollectors(),{name:t.text()}).id,$(".source-wizard-main").trigger("existingCollectorSelected")}},initSelectExistingCollectorList:function(e){var t="sourceTypeView",i=this.$("#source-wizard-collector-class-existing"),s=e||this.model.getCollectors(),n=_.map(s,(function(e){return{value:e.id,text:e.name}})),a=this.getView(t);return a||(a=new o({el:i,create:!1,options:n,closeAfterSelect:!0,createOnBlur:!1}),1===s.length&&a.setValue(s[0].id),a.selectize.on("change",this.selectExistingCollectorFromSelect),this.registerView(t,a),this.collectorListView=a,a)},initSelectOS:function(e){var t="selectOSView",i=this.$("#sw-source-select-os"),s=_.map(e,(function(e){return{value:e.id,text:e.name}})),n=this.getView(t);return n||(n=new o({el:i,create:!1,options:s,closeAfterSelect:!0,createOnBlur:!1,onChange:this.selectNewCollector}),this.registerView(t,n),n)},filterOSes:function(e){var i,s=t.sw_source_os_ids_list.split(","),n=t.sw_source_os_names_list.split(","),a=_.map(n,(function(e,t){return{name:e,id:s[t]}}));return e?(i=e.split(","),_.filter(a,(function(e){return i.indexOf(e.id)>-1}))):a},getSelectButtons:function(){return _.filter(i.collectionTypes,(function(e){return SumoApp.priv.hasFlagUIMetricsCapability()&&this.model.isMetricsType(SumoApp.priv.hasFlagUIWizardGraphiteTiles(),e)||!this.model.isMetricsType(!0,e)}),this)},createTooltipsters:function(){var e,t=this;_.each(c,(function(i){e=new d({el:t.$(i.el),size:"small",content:i.tip,position:"bottom",restoration:"none"}),t.registerView("sw-types-tip-"+i.id,e)}))},destroyTooltipsters:function(){if(this.getView("sw-types-tip-http")){var e=this;_.each(c,(function(t){e.destroySubView("sw-types-tip-"+t.id)}))}},switchView:function(){this.$(".source-wizard-view-ctr").toggle(),this.spinnerControl(!1),this.hasSecond=!this.hasSecond,this.$(".-last").is(":visible")?(_.isUndefined(this.singleOS)&&(this.selectOSView.enable(),this.selectOSView.setValue(-1),this.selectOSView.disable()),this.$("#sw-installer-command").find(".jsonL0").text("").end().find(".source-wizard-form-label:first").html("").end().hide(),$("#source-wizard-continue").trigger("triggerFadeInSubmit")):$("#source-wizard-continue").trigger("triggerHide")},unfreezeUI:function(){this.collectorListView?(this.$("#source-wizard-form-select-collector-class").find('[type="radio"]').removeAttr("disabled"),this.collectorListView.enable()):this.showOSSelector&&this.selectOSView.enable()},freezeUI:function(){this.collectorListView&&(this.$("#source-wizard-form-select-collector-class").find('[type="radio"]').attr("disabled","disabled"),this.collectorListView.selectize&&this.collectorListView.disable()),this.showOSSelector&&this.selectOSView.selectize&&this.selectOSView.disable()},renderExistingCollectorsList:function(e,i){var s=this.$(".source-wizard-collector-ctr").find(".sumo-list-filterable"),a=_.template(n),o="",l=this.getView("filter-view");o='<div id="existing-collectors-search-view"></div><div class="sumo-list-filterable__inner-container">',_.each(e,(function(e){var i=a({__:t,name:e.name});o+=i})),o+="</div>",s.html(o),l&&(this.stopListening(l,"commonSearchLaunched"),this.destroySubView("filter-view")),l=new r({el:this.$("#existing-collectors-search-view"),id:"existing-collectors-search-view",searchBtnId:"existing-collectors-search-btn",inputId:"existing-collectors-search-text",inputPlaceholder:t.sw_existing_collector_filter_placeholder,triggerSearchOnKeyUp:!0,onFocusHandler:this.onFilterFocus,searchType:"ExistingCollectors"}),this.registerView("filter-view",l),i&&(l.$("input").trigger("focus"),l.showTerm(i===u?"":i),0===e.length&&s.find(".sumo-list-filterable__inner-container").append(sprintf('<div class="sw-filter-list-no-matches">%s</div>',t.sw_existing_collectors_no_matches_msg))),this.collectorListView=l,this.listenTo(l,"commonSearchLaunched",this.filterCollectors)},render:function(){var e=this.filterOSes(this.model.getP("dataType.sources"));this.showOSSelector=e.length>1;var i={};this.showOSSelector||(i.os=e[0].id,this.singleOS=e[0].id);var s=this.model.getCollectors(i),n=s?s.length:0;this.startInstructionNumber=n>0||this.showOSSelector?this.startInstructionNumber:this.startInstructionNumber-1;var a=this.getSelectButtons(),r="custom"===this.model.getP("dataType.id"),o={__:t,sw_install_download_text:sprintf(t.sw_install_download_text_r2,this.startInstructionNumber,"xx"),sw_install_download_finish:sprintf(t.sw_install_download_finish,this.startInstructionNumber),sw_install_download_text_windows_b:sprintf(t.sw_install_download_text_windows_b,this.startInstructionNumber+2),sw_help_windows:sprintf(t.sw_help_windows,"images/app/onboarding_help/setup_wizard_token1.png","images/app/onboarding_help/setup_wizard_token2.png"),sourceOSes:e,sourceOSNames:t.sw_source_os_names_list.split(","),buttons:a,showSelector:r,showOSSelector:this.showOSSelector,collectorsLength:n,maxCollectorsForSelect:n<=40},l=this.template(o);this.$el.html(l).attr("id","source-wizard-systems-ctr").closest(".source-wizard-main").addClass("sw-select-os-step"),this.$(".select-os-spinner, .single-os-spinner").spinner(),n>0&&(n>40?this.renderExistingCollectorsList(s):this.initSelectExistingCollectorList(s),this.$(".source-wizard-collector-ctr").show()),this.showOSSelector?(this.selectOSView=this.initSelectOS(e),n>0&&this.selectOSView.disable(),this.$(".source-wizard-collector-ctr").show(),this.startInstructionNumber=this.startInstructionNumber+1):(this.collectorId=e[0].id,n<=0?(this.startInstructionNumber=1,this.triggerNewCollector()):this.startInstructionNumber=this.startInstructionNumber+1),1===n&&(this.collectorId=this.singleCollectorId=s[0].id,$(".source-wizard-main").trigger("existingCollectorSelected")),r&&this.createTooltipsters(),this.options.contactInvisible&&this.closeContact(),$(".source-wizard-ctr")[0].scrollIntoView();var d=this.$(".source-wizard-select-all");return SumoApp.ngCompile(d,null,!0),this},afterRenderInit:function(){this.showOSSelector||$.later(400,this,(function(){var e=this.showOSSelector?{}:{os:this.singleOS},i=this.model.getCollectors(e);!this.model.getP("collector.installerCommand")&&i&&0===i.length&&this.spinnerControl(!0,".single-os-spinner",t.sw_single_os_spinner)}))}})}.apply(t,s))||(e.exports=n)},34330:function(e,t,i){var s,n;s=[i(60567),i(34908),i(13796),i(71621),i(98667),i(14120),i(63447),i(60072),i(50963),i(49513),i(63205)],void 0===(n=function(e,t,i,s,n,a,r,o,l,d,c){var u=e.SelectizeViewModule,h=c.EditDialogMixinModule,g=o.SourceLocalModelModule,p=o.SourceSyslogModelModule,m=o.SourceWindowsPerfmonModelModule,f=o.SourceWindowsModelModule,S=o.SourceHostmetricsModelModule,v=e.SumoViewModule,w=e.TooltipsterViewModule,b=e.ViewErrorHandlerMixinModule;t=t.default;var y=l.TimezoneUtilsConstants,T='<div class="source-wizard-perfmon-row -header"><div class="source-wizard-win-check">&nbsp;</div><div class="source-wizard-win-name">%s</div><div class="source-wizard-win-query">%s</div></div>',E='<div class="source-wizard-perfmon-row -full"><div class="source-wizard-win-check"><input type="checkbox" class="sw-perfmon-query-check" value="%s"></div><div class="source-wizard-win-name">%s</div><div class="source-wizard-win-query">%s</div></div>',C='<div class="source-wizard-winevent-row -full"><div class="source-wizard-win-check"><input type="checkbox" class="sw-win-event-check" %s value="%s"></div><div class="source-wizard-win-name">%s</div></div>',A="listCleared";return v.extend({createEndpoint:null,updateEndpoint:null,events:{"change #sw-timezone-ignore-log, #sw-timezone-from-log":"switchTZLists","click #sw-win-event-list-custom .sw-win-event-check":"toggleCustomEvent","click #sw-toggle-all":"toggleAllOn","click #sw-toggle-none":"toggleAllOff","click .supportedMetric__categoryToggle":"toggleMetricCategory","click .supportedMetric__categoryCheck":"toggleMetricCategoryItems","click .supportedMetric [type=checkbox]":"toggleMetric","mouseenter .supportedMetric__help":"showTip","mouseleave .supportedMetric__help":"hideTip"},mixins:[b,r,h],template:_.template(s),serviceType:null,submitButton:null,collectorId:null,wildcard:null,hasMultiplePaths:null,selectOrInstall:!1,winCustomEvents:null,isUpgrading:null,hostMetricsOptions:null,focusOutSet:!1,getViewName:function(){return"SetupSourceSystemView"},getComponent:function(){return"SetupWizard"},initialize:function(){_.bindAll(this,"_anyBlanks","getSubmissionData","updateTimezone","_findQuery","collectorUpgraded","onFilterFocus","afterRenderFinish"),this.collectorId=this.options.collectorId,this.serviceType=this.options.serviceType,this.submitButton=this.options.submitButton,this.isUpgrading=this.options.isUpgrading,this.hostMetricsOptions=this.options.hostMetricsOptions,this.disabledClass="btn-disabled";var e={context:SumoApp.context};this.isSyslog()?(this.isGraphiteType()&&(e.port="2003"),this.model=new p(e)):this.isWinPerf()?(this.model=new m(e),this.model.setIsLocal(!0),this.listenTo(this.model,"change:fetchingPerfMonQueriesStatus",this.renderPerfmonQueries)):this.isWinEvent()?(this.model=new f(e),this.model.setIsLocal(!0)):this.isHostMetrics()?this.model=new S(e):(this.model=new g(e),this.wildcard=!0)},_returnArray:function(){var e=!0;return(this.isWinEvent()||this.isWinPerf())&&(e=!1),this.isSyslog()&&!this.isGraphiteType()&&(e=!1),e},getModelData:function(){var e,t,i,s=this._returnArray(),n=this.collectorId,a=_.extend(this.model.getBaseFieldValues(),this.model.getFieldValues(!0),{collectorId:n});return a.multilineProcessing=!0,s&&(this.hasMultiplePaths?(e=a.pathExpression,i=[],_.each(e,(function(e){var s=new g({context:SumoApp.context});s.set(a),s.set("pathExpression",e),t=_.extend(s.getBaseFieldValues(),s.getFieldValues(!0),{collectorId:n}),i.push(t)})),a=i):(_.isArray(a.pathExpression)&&(a.pathExpression=a.pathExpression[0]),a=[a])),a},_findQuery:function(e){return _.findWhere(this.model.getSamplePerfmonQueries(),{name:$(e).val()})},_getSelectedQueries:function(){return{wmiQueries:_.map(this.$(".sw-perfmon-query-check:checked"),this._findQuery)}},_getSelectedEvents:function(){var e,t,i=_.pluck(this.$("#sw-win-event-list-std .sw-win-event-check:checked"),"value");return this.winCustomEvents&&(e=_.where(this.winCustomEvents,{checked:!0}))&&(t=_.map(e,(function(e){return e.channel})),i=_.union(i,t)),{enabledLogFiles:i}},_getSelectedPaths:function(){var e=[];if(this.$("#sw-added-path-expr").is(":visible")){var t=this.$("#sw-added-path-expr:visible").val();-1===e.indexOf(t)&&e.push(t)}return this.$(".sw-win-event-check").is(":checked")&&_.each(this.$(".sw-win-event-check:checked"),(function(t){e.push(t.value.replace(/_p_/g,"/"))})),this.hasMultiplePaths=e.length>1,e},getSelectedMetrics:function(){var e=[],t=$("#source-wizard-form-metrics").find(".supportedMetric__check:checked");return _.each(t,(function(t){e.push($(t).val())})),e.join(",")},getSubmissionData:function(e){var t,i,s,n=this.$("#sw-source-category").val(),a=this.getSourceCategory(),r=SumoUtil.isStringEmpty(a)||e,o=this._getSelectedPaths();this.options.sourceId;if(SumoUtil.isStringEmpty(a)&&SumoUtil.isStringEmpty(n))return{sourceCategory:n};if(t="custom"===this.options.sourceId?"Custom App":this.options.sourceName,r)if(i={sourceCategory:n.trim(),bladeType:this.serviceType,name:t,thirdPartyRef:this.getThirdPartyRef()},this.isSyslog())_.extend(i,{protocol:this.$("[name=sw-protocol]:checked").attr("id").replace("sw-protocol-",""),port:this.$("#sw-port").val().trim()});else if(this.isWinPerf())_.extend(i,this._getSelectedQueries());else if(this.isWinEvent())_.extend(i,this._getSelectedEvents());else if(this.isHostMetrics()){var l=this.getView("interval").getValue(),d=parseInt(l.split(" ")[0]),c="seconds"===l.split(" ")[1]?1e3:6e4,u=this.getSelectedMetrics();_.extend(i,{interval:d*c,metrics:u})}else _.extend(i,{pathExpression:o});else i={sourceCategory:this.getSourceCategory(),bladeType:this.serviceType,name:t,thirdPartyRef:this.getThirdPartyRef()},this.isSyslog()?_.extend(i,{protocol:this.model.get("protocol"),port:this.model.get("port")}):this.isWinPerf()?_.extend(i,{wmiQueries:this.model.get("wmiQueries")}):this.isWinEvent()?_.extend(i,{enabledLogFiles:this.model.get("enabledLogFiles")}):this.isHostMetrics()?_.extend(i,{interval:this.model.get("interval")}):_.extend(i,{pathExpression:this.model.get("pathExpression")});return this.hasTimezone()&&("sw-timezone-ignore-log"===this.$('[name="sw-timezone"]:checked').attr("id")?(i.forceTimeZone=!0,s="ignoreLogTZView"):s="fromLogTZView",this.getView(s)&&(i.timeZone=this.getView(s).getValue())),i},_anyBlanks:function(){return!!this.getIgnoreClicks()||(this.isSyslog()||$(".source-wizard-error").is(":visible")&&$(".source-wizard-error").hide(),_.any(_.values(this.getSubmissionData(!0)),this.isEmptyField))},reset:function(){return this.model.set({sourceCategory:""}),this.model.set({port:""}),!1},validate:function(){var e=!0;return this.isSyslog()&&(e=this.isValidPort()),e&&this.isValidSourceCat()},isValidPort:function(){var e,i=this.model.get("port"),s=i.match(/\D/gi),n=!0;return s&&s.length>0&&(n=!1,e=t.err_invalid_port),i&&!isNaN(i)&&(i>65535||i<0)&&(n=!1,e=t.error_invalid_port_num),!!n||(this.keyedError="ui:invalid_port",this.errInfo={errCtr:"#source-wizard-form-port",errDiv:".source-wizard-error",errInp:"#sw-port",errMsg:e},this.reset())},updateModel:function(e){this.serviceType=e;var t=this.getSubmissionData();"IIS"===e&&this.model.set("multilineProcessing",!1),this.model.set(t)},_toggleAll:function(e,t){if($(e.target).hasClass("is-disabled"))return!1;var i=this.$("#sw-win-event-list-custom").find(".sw-win-event-check"),s=this.winCustomEvents;i.prop("checked",t),_.each(i,(function(e){_.findWhere(s,{channel:$(e).attr("value")}).checked=t})),this.onKeyup({keyCode:1})},toggleAllOn:function(e){this._toggleAll(e,!0)},toggleAllOff:function(e){this._toggleAll(e,!1)},showTip:function(e){this.getView("metricTip")&&this.hideTip();var i=sprintf(t.metric_tooltip,e.target.parentElement.dataset.unit,e.target.parentElement.dataset.description),s=new w({el:$(e.target),content:i,contentAsHTML:!0,size:"auto",position:"right",show:!0});this.registerView("metricTip",s)},hideTip:function(e){this.destroySubView("metricTip")},toggleMetric:function(e){var t=$(e.target).closest(".supportedMetric__category"),i=t.find(".supportedMetric input"),s=_.countBy(i,(function(e){return $(e).is(":checked")?"checked":"unchecked"})),n="-none";i.length===s.checked?n="-all":s.checked>0&&(n="-some"),t.find(".supportedMetric__categoryCheck").removeClass("-all -none -some").addClass(n),this.boxChange()},toggleMetricCategoryItems:function(e){var t=$(e.target).closest(".supportedMetric__category");$(e.target).hasClass("-all")?$(e.target).removeClass("-all").addClass("-none"):$(e.target).removeClass("-none -some").addClass("-all");var i=$(e.target).hasClass("-all");t.find(".supportedMetric__check").prop("checked",i),this.boxChange()},toggleMetricCategory:function(e){$(e.target).closest(".supportedMetric__category").find(".supportedMetric").toggle(),$(e.target).toggleClass("-open")},onFilterFocus:function(e){e.hasClass("-focus")?e.removeClass("-focus"):e.addClass("-focus")},toggleCustomEvent:function(e,t){var i=t&&t.nameTrigger,s=e.target.value;_.findWhere(this.winCustomEvents,{channel:s}).checked=i?!e.target.checked:e.target.checked,this.onKeyup({keyCode:1})},filterCustomEvents:function(){var e,t=this.$("#winevent-search-text").val();SumoUtil.isStringEmpty(t)?(e=this.winCustomEvents,t=A):e=_.filter(this.winCustomEvents,(function(e){return e.channel.toLowerCase().indexOf(t.toLowerCase())>-1})),this.renderWinEventTypes("#sw-win-event-list-custom",e,t),this.onKeyup({keyCode:1})},createTooltipster:function(){if(!this.getView("protocolTipster")){var e=new w({el:this.$("#sw-questionmark-protocol"),size:"small",restoration:"none"});this.registerView("protocolTipster",e);var t=new w({el:this.$("#sw-questionmark-port"),size:"small",restoration:"none"});this.registerView("portTipster",t)}},destroyTooltipster:function(){this.getView("protocolTipster")&&(this.destroySubView("protocolTipster"),this.destroySubView("portTipster"))},updateTimezone:function(){this.boxChange()},buildTimezones:function(){if(0!==$("#source-wizard-timezone-ignore-log").length){var e=l.getTimeZoneList(),t="ignoreLogTZView",i="fromLogTZView",s=$("#source-wizard-timezone-ignore-log"),n=$("#source-wizard-timezone-from-log"),a=this.getView(t),r=this.getView(i),o=y.olsonUTC;a||(a=new u({el:s,create:!1,options:e}),this.registerView(t,a),a.setValue(o),a.selectize.on("change",this.updateTimezone),a.disable()),r||(r=new u({el:n,create:!1,options:e}),this.registerView(i,r),r.setValue(o),r.selectize.on("change",this.updateTimezone))}},renderIntervals:function(){var e=_.map(this.model.singleValuesList,(function(e){return{value:e,text:e}})),t=this.model.singleValueDefault,i="interval",s=$("#source-wizard-interval"),n=this.getView(i);!n&&s.length>0&&(n=new u({el:s,create:!1,options:e}),this.registerView(i,n),n.setValue(t),this.focusOutSet||(this.$el.on("focusout",n.blur),this.focusOutSet=!0,this.on("destroy",this.clearFocusOut)))},clearFocusOut:function(){this.focusOutSet&&(this.$el.off("focusout"),this.off("destroy"))},renderPerfmonQueries:function(){if(this.model.getFetchingPerfMonQueriesStatus()===this.model.STATUS_FETCHING_PERFMON_QUERIES_SUCCESSFUL){var e=this.$("#source-wizard-form-performance").find(".sumo-list"),i=this.model.getSamplePerfmonQueries(),s=E,n="";i.length?(n+=sprintf(T,t.sw_label_perfmon_name,t.sw_label_perfmon_query),_.each(i,(function(e){n+=sprintf(s,e.name,e.name,e.query)}))):n=t.sw_label_perfmon_no_queries,e.html(n)}},renderWinEventTypes:function(e,i,s){var n,a=e.indexOf("std")>-1,r=a?this.model.getControlAttributesWithoutCustom():i,o=this.$(e).find(".sw-win-event-list"),l=C,c="",u=this.getView("filter-view");a?this.spinnerControl(!0,".retrieve-events-spinner",t.sw_winevent_list_spinner_custom):(this.spinnerControl(!1,".retrieve-events-spinner"),s?n=this.winCustomEvents:this.winCustomEvents=_.map(i,(function(e){return{checked:!1,channel:e}})),c='<div id="winevent-search-view"></div><div class="sumo-list-filterable__inner-container">'),r.length>0||s&&!SumoUtil.isStringEmpty(s)?(_.each(r,(function(e){var t=!!s&&(_.findWhere(n,{channel:e.channel}).checked?'checked="checked"':"");e=s?e.channel:e,c+=sprintf(l,t,e,e)})),a||(c+="</div>"),o.html(c),a||(u&&(this.stopListening(u,"commonSearchLaunched"),this.destroySubView("filter-view")),u=new d({el:this.$("#winevent-search-view"),id:"winevent-search-ctr",searchBtnId:"winevent-search-btn",inputId:"winevent-search-text",inputPlaceholder:t.sw_winevent_filter_placeholder,triggerSearchOnKeyUp:!0,onFocusHandler:this.onFilterFocus,searchType:"WinEvent"}),this.registerView("filter-view",u),s&&(u.$("input").trigger("focus"),u.showTerm(s===A?"":s),0===r.length&&o.find(".sumo-list-filterable__inner-container").append(sprintf('<div class="sw-winevent-no-matches">%s</div>',t.sw_winevent_no_matches_msg))),this.listenTo(u,"commonSearchLaunched",this.filterCustomEvents))):o.closest(".source-wizard-form-field").hide()},_pathExpressionLabel:function(){var e=this.wildcard?t.sw_label_default_sourcepaths:t.sw_label_sourcepath,i=this.options.installerOS.toLowerCase().indexOf("windows")>-1?t.sw_label_sourcepath_windows:t.sw_label_sourcepath_non_windows;return e=sprintf(e,this.collectorId?"2":"4",i)},_getPageClass:function(){return this.isWinPerf()||this.isWinEvent()?"sw-step-configure-win-system":this.isSyslog()?"sw-step-configure-syslog":"sw-step-configure-localfile"},_getHelperContent:function(){var e={text:"",block:"",protocolTip:"",text2:"",num:"4."};if(this.isGraphiteType())switch(this.getGraphiteType().toLowerCase()){case"graphite":e.num="-1",e.protocolTip=t.sw_tooltip_protocol_dropwizard;break;case"statsd":e.text=t.sw_help_statsd,e.block=_.template(n),e.protocolTip=t.sw_tooltip_protocol_statsd;break;case"dropwizard":e.text=t.sw_help_dropwizard,e.block=_.template(a),e.protocolTip=t.sw_tooltip_protocol_dropwizard}return e},render:function(){var e=this.isGraphiteType(),i=e||this.isHostMetrics,s=this._getHelperContent(),n=e?s.protocolTip:t.sw_tooltip_protocol,a=i?t.sw_sourcecat_qtip_metrics:t.sw_sourcecat_qtip,r=sprintf(t.sw_label_sourcecat,i?t.sw_label_sourcecat_metrics:t.sw_label_sourcecat_logs),o=$.extend(this.model.toJSON(),{__:t,logsLength:0,sw_label_sourcepath:this._pathExpressionLabel(),path:514,httpAddress:"TBD",sw_label_sourcecat:r,tooltip_sourcecat:a,tooltip_protocol:n,tooltip_port:e?t.sw_tooltip_port_graphite:t.sw_tooltip_port,isSyslog:this.isSyslog(),isGraphite:e,isWindowsPerformance:this.isWinPerf(),isWindowsEvent:this.isWinEvent(),isCustomWindowsEvent:this.isCustomWinEvent(),isHostMetrics:this.isHostMetrics(),hostMetricsOptions:this.hostMetricsOptions,hasTimezone:this.hasTimezone(),queries:[],sw_label_timezone_main:sprintf(t.sw_label_timezone_main,this.isSyslog()?"4":"3"),helper:s}),l=this.template(o),d=this._getPageClass();if(this.$el.html(l).attr("id",sprintf("source-wizard-system-%s-ctr",this.isSyslog()?"syslog":this.options.sourceId)),this.$el.parent().find(".source-wizard-title").text(sprintf("%s: %s",t.sw_steps_collect_logs,this.options.sourceName)),this.isWinPerf()&&this.model.fetchPerfmonQueries(),this.options.contactInvisible&&this.closeContact(),this.collectorId&&this.$(".source-wizard-code-block-ctr, #source-wizard-form-collector-installed").hide(),this.$el.parent().addClass(d).removeClass("sw-select-os-step -is-showing-help"),this.buildTimezones(),this.isHostMetrics()&&this.renderIntervals(),this.isSyslog()&&this.createTooltipster(),e){this.$("#graphite-helper-block").show();var c=this.$(".source-wizard-select-all");SumoApp.ngCompile(c,null,!0)}return $(".source-wizard-ctr")[0].scrollIntoView(),this},collectorUpgraded:function(){this.$("#upgrading-cover").hide(),this.spinnerControl(!1,".upgrading-spinner"),this.loadingSpinners()},loadingSpinners:function(){var e=this.isCustomWinEvent()?t.sw_winevent_list_spinner_custom:t.sw_default_sourcepaths_list_spinner_custom;this.$(".retrieve-events-spinner").spinner(),this.spinnerControl(!0,".retrieve-events-spinner",e),this.getView("fromLogTZView")&&this.getView("fromLogTZView").enable()},loadCover:function(){var e=$("#source-wizard-system-macos-ctr");e.css({overflow:"auto"});var i=e.width(),s={top:"50px",left:"0",height:e.height(),width:i};e.css({overflow:""}),this.$("#upgrading-cover").find(".upgrading-form-cover").css(s).end().show(),this.$(".upgrading-spinner").spinner(),this.spinnerControl(!0,".upgrading-spinner",t.sw_upgrading_collector_spinner_text),this.getView("fromLogTZView")&&this.getView("fromLogTZView").disable()},afterRenderFinish:function(){this.isUpgrading?this.loadCover():this.loadingSpinners()}})}.apply(t,s))||(e.exports=n)},25494:function(e,t,i){var s,n;s=[i(60567),i(34908),i(13796),i(16197),i(63447),i(60072),i(50963),i(63205),i(67747),i(66359)],void 0===(n=function(e,t,i,s,n,a,r,o,l,d){var c=e.SelectizeViewModule,u=o.EditDialogMixinModule,h=a.SourceHttpModelModule,g=e.SumoViewModule,p=e.ViewErrorHandlerMixinModule,m=d.currentUserHelper;t=t.default;var f=r.TimezoneUtilsConstants,S=["zip","xls","xlsx","doc","docx","ppt","pptx","bz2","tar","tgz","pdf","jpg","jpeg","png","gif","svg","dmg","exe"];return g.extend({events:{"click .sw-upload-remove":"deleteAcceptedFile","mouseenter #sw-upload-files":"enterBtn","mouseleave #sw-upload-files":"exitBtn","dragleave #source-wizard-upload-target":"dragout","keyup #sw-source-category":"sourceCatChanged","change #sw-timezone-ignore-log, #sw-timezone-from-log":"switchTZLists"},mixins:[p,n,u],template:_.template(s),defaultSubmissionData:{id:null,alive:!1,autolineMatching:!0,automaticTimestampParsing:!0,bladeType:null,collectorId:null,defaultDateFormat:null,description:null,encoding:"UTF-8",excludeRules:[],forceTimeZone:!1,includeRules:[],manualPrefixRegex:null,maskRules:[],multilineProcessing:!0,name:null,olderThanDaysFilter:0,olderThanTimestampFilter:0,sourceCategory:null,sourceHostName:null,thirdPartyRef:null,timeZone:f.olsonUTC,version:null},sourceType:null,sourceCategory:null,xid:null,uploadTarget:null,selectOrInstall:!1,acceptedFiles:null,getViewName:function(){return"SetupSourceUploadView"},getComponent:function(){return"SetupWizard"},initialize:function(){_.bindAll(this,"_anyBlanks","documentDragover","getSubmissionData","typeChange","removeAcceptedFile","addFileForUpload","dragover"),this.model=new h({context:SumoApp.context}),this.acceptedFiles=[],this.serviceType=this.options.sourceId,this.initButtons({submit:$("#source-wizard-continue"),cancel:$("#source-wizard-restart")},{disabledClass:"btn-disabled"}),this.listenTo(this.model,"change:error",this.renderError)},getModelData:function(){return this.getSubmissionData()},getSubmissionData:function(){var e,t=this.defaultSubmissionData,i=this.acceptedFiles[0].name;return t.thirdPartyRef=this.getThirdPartyRef(),"sw-timezone-ignore-log"===$('[name="sw-timezone"]:checked').attr("id")?(t.forceTimeZone=!0,e="ignoreLogTZView"):e="fromLogTZView",t.timeZone=this.getView(e).getValue(),t.sourceCategory=this.$("#sw-source-category").val().trim(),i.match(/@|#|$|%|^|&/)&&(""===(i=i.replace(/;|@|\$|#|&|\^|%|~|`|!|\(|\)|_|-|\+|=|{|}|\[|]|\'/g,""))&&(i="fileupload_"+moment().format("YYYYMMDD")),".log"===i&&(i="fileupload_"+moment().format("YYYYMMDD")+".log")),t.name=i,t},_anyBlanks:function(){var e=0===this.acceptedFiles.length,t=SumoUtil.isStringEmpty(this.$("#sw-source-category").val()),i=SumoUtil.isStringEmpty(this.serviceType)||"upload"===this.serviceType;return e||t||i},validate:function(){return this.isValidSourceCat()},updateModel:function(){var e=this.getSubmissionData();this.model.set(e)},enterBtn:function(){this.$("#sw-select-uploads").addClass("hover")},exitBtn:function(){this.$("#sw-select-uploads").removeClass("hover")},dragout:function(){this.uploadTarget.removeClass("hover")},dragover:function(e){var t=this.$("#source-wizard-upload-form"),i=!1,s=e.target;do{if(s===t[0]){i=!0;break}s=s.parentNode}while(null!==s);i&&this.uploadTarget.addClass("hover")},isAcceptedFile:function(e){return _.where(this.acceptedFiles,{name:e})},deleteAcceptedFile:function(e){var t=$(e.target).parent().next().text(),i=this.isAcceptedFile(t)[0];this.removeAcceptedFile(i),$(e.target).closest(".source-wizard-upload-file").remove(),0===this.acceptedFiles.length&&this.uploadTarget.removeClass("sw-has-files"),this.onKeyup({keyCode:1})},removeAcceptedFile:function(e){this.acceptedFiles.length>1?this.acceptedFiles=_.without(this.acceptedFiles,e):this.acceptedFiles=[],this.setUploadTooltip()},addAcceptedFile:function(e){this.acceptedFiles.push(e);var t=l.escape(e.name),i=SumoUtil.shortenString(t,80),s=sprintf('<div class="source-wizard-upload-file"><span class="sw-upload-remove"><img src="images/app/icons/x_forfiles.png" /></span><span class="sw-upload-filename" title="%s">%s</span></div>',t,i);this.uploadTarget.append(s).trigger("blur").addClass("sw-has-files")},addFileForUpload:function(e,i){this.dragout(e);var s="",n=SumoApp.priv.getDynamicProperty("ui_onboarding_number_files_limit")||20;if(this.acceptedFiles.length+i.originalFiles.length>n)return s=sprintf(t.err_too_many_files,n),SumoApp.userMessage.warn(s),!1;var a=SumoApp.priv.getDynamicProperty("ui_onboarding_file_size_limit")||100,r=1024*a*1024,o=a+"MB",l=0;if(this.acceptedFiles.length){var d=_.map(this.acceptedFiles,(function(e){return e.size}));if((l=d.reduce((function(e,t){return e+t})))>r)return s=sprintf(t.err_too_large_upload,o),SumoApp.userMessage.warn(s),!1}var c=[];return _.each(i.originalFiles,(function(e){var i="",s=!1;_.isEmpty(this.isAcceptedFile(e.name))||(i=sprintf(t.err_duplicate_file_to_upload,e.name));var n=_.last(e.name.split("."));S.indexOf(n)>-1&&(c.push(n),s=!0),l+=e.size,(e.size>r||l>r)&&(i=sprintf(t.err_too_large_upload,o)),i?m.hasFeatureFlag("UIReplaceToasterPlugin")?SumoApp.userMessage.warn(i):SumoApp.userMessage.warn(i,{isHTML:!0}):s||this.addAcceptedFile(e)}),this),c.length>0&&(m.hasFeatureFlag("UIReplaceToasterPlugin")?SumoApp.userMessage.warn(sprintf(t.err_blocked_file_type_str,c.join(", "))):(s=sprintf(t.err_blocked_file_type,c.join(", ")),SumoApp.userMessage.warn(s,{isHTML:!0}))),this.setUploadTooltip(),SumoApp.sumoEvents.trigger("addedUploadFiles"),this.onKeyup({keyCode:1}),!1},setUploadTooltip:function(){var e;switch(this.acceptedFiles.length){case 0:e=t.sw_upload_tooltip_none;break;case 1:e=t.sw_upload_tooltip_one;break;default:e=sprintf(t.sw_upload_tooltip_some,this.acceptedFiles.length)}this.$("#sw-upload-files").attr("title",e)},typeChange:function(e){this.serviceType=e,this.getView("selectizeView").$el.trigger("blur"),this.$("#sw-source-category").val(""),this.$("#source-wizard-form-sourcecat").find(".form-helper-text").html("")},sourceCatChanged:function(e){this.$("#source-wizard-form-sourcecat").find(".form-helper-text").html("")},buildTimezones:function(){var e=r.getTimeZoneList(),t="ignoreLogTZView",i="fromLogTZView",s=$("#source-wizard-timezone-ignore-log"),n=$("#source-wizard-timezone-from-log"),a=this.getView(t),o=this.getView(i),l=f.olsonUTC;a||((a=new c({el:s,create:!1,options:e})).setValue(l),a.disable(),this.registerView(t,a)),o||((o=new c({el:n,create:!1,options:e})).setValue(l),this.registerView(i,o))},buildSelectList:function(){var e="selectizeView",i=$("#source-wizard-upload-type"),s=_.map(t.sw_upload_types,(function(e){var t=e;switch(e){case"Palo Alto Networks":t="PAN";break;case"Cisco ASA":t="Cisco";break;case"Linux System":t="Linux";break;case"Apache Tomcat":t="Tomcat"}return{class:"named",value:t,text:e}})),n=this.getView(e);return n||(s.push({class:"other",value:t.sw_upload_type_other,text:t.sw_upload_type_other}),n=new c({el:i,create:!1,optgroups:[{value:"named",text:""},{value:"other",text:"_____________"}],optgroupField:"class",optgroupFieldLabel:"text",options:s,placeholder:t.sw_default_source_type,onChange:this.typeChange,onDelete:function(){return!1},render:{optgroup_header:function(){return'<div class="optgroup-header">&nbsp;</div>'}}}),this.registerView(e,n),n)},documentDragover:function(e){e.preventDefault(),"dragover"===e.type&&this.uploadTarget.addClass("hover")},render:function(){var e=SumoApp.priv.getDynamicProperty("ui_onboarding_number_files_limit")||20,i=SumoApp.priv.getDynamicProperty("ui_onboarding_file_size_limit")||100,s=sprintf(t.sw_label_upload_files_text,i,e),n=$.extend(this.model.toJSON(),{__:t,sourceCat:this.options.defaultCategory||"",showSourceType:!0,uploadTypes:t.sw_upload_types,sw_label_upload_files_text:s,sw_label_upload_files_num:"3.",sw_label_sourcecat:sprintf(t.sw_label_sourcecat_n,"2"),sw_label_timezone_main:sprintf(t.sw_label_timezone_main,"4"),httpAddress:"TBD"}),a=this.template(n);return this.$el.html(a).attr("id","source-wizard-"+this.options.sourceId+"-ctr").closest(".source-wizard-main").attr("id","source-wizard-main-upload"),this.sourceCatChanged(),this.options.contactInvisible&&this.closeContact(),this.buildSelectList(),this.buildTimezones(),this.uploadTarget=$("#source-wizard-upload-target"),$("#source-wizard-upload-form").fileupload({url:sprintf(SumoApp.ajax.EndpointFormats.V1_COLLECTOR_UPLOAD_LOGS,this.xid),dataType:"json",autoUpload:!1,dropZone:this.uploadTarget,add:this.addFileForUpload,maxChunkSize:1e7,dragover:this.dragover}),$(document).on("drop dragover",this.documentDragover),$(".source-wizard-ctr")[0].scrollIntoView(),this}})}.apply(t,s))||(e.exports=n)},54392:function(e,t,i){var s,n;s=[i(60567),i(34908),i(13796),i(60072),i(16471),i(48729),i(32500),i(69191),i(20247),i(82973),i(25494),i(72268),i(34330),i(33549),i(72795),i(63205)],void 0===(n=function(e,t,i,s,n,a,r,o,l,d,c,u,h,g,p,m){var f=m.EditDialogMixinModule,S=(s.SourceBaseJson,s.SourceS3Json,e.SumoViewModule),v=e.TooltipsterViewModule,w=n.commonEnI18n;return t=t.default,S.extend({events:{"keyup [type=text], [type=number]":"onKeyup","change [type=text], [type=number]":"onKeyup","paste [type=text], [type=number]":"onKeyup","change #sw-source-category":"sourceCatChanged","change .-full [type=checkbox]":"boxChange","click .-full .source-wizard-win-name, .-full .source-wizard-win-check-cover":"toggleListCheckbox","click .source-wizard-contact a":"feedback","change #source-wizard-upload-type":"loadUniqueSourceCategory","click #source-wizard-restart, .source-wizard-error .action-link":"stepBack","click #source-wizard-cancel-btn":"cancelWizard","click .source-wizard-open-help, .source-wizard-open-help i":"openHelp","click .source-wizard-help-section img":"openHelpImage","click .source-wizard-os-btn":"selectOS","selectCollector .source-wizard-main":"selectCollector","selectOS .source-wizard-main":"selectOSFromDrop","click #source-wizard-continue":"save","triggerNewFlow .source-wizard-main":"triggerNewFlow","click #sw-add-path-expr":"addPath","keyup #sw-path-expression":"onKeyupAddPath","change #sw-path-expression":"onKeyupAddPath","paste #sw-path-expression":"onKeyupAddPath","click #sw-add-new-path-field i":"cancelAddPath","click #sw-add-new-path-expr":"addPathToList","click .-default-path .source-wizard-win-checkable":"updateDefaultPaths","click .source-wizard-view-files":"renderPathFiles","click #sw-add-namespace":"addNamespace","keyup #sw-namespace":"onKeyupAddNamespace","change #sw-namespace":"onKeyupAddNamespace","paste #sw-namespace":"onKeyupAddNamespace","click #sw-add-new-namespace-field i":"cancelAddNamespace","click #sw-add-new-namespace-field":"addNamespaceToList","triggerFinish #source-wizard-continue":"_finish","triggerHide #source-wizard-continue":"renderStep","triggerFadeInSubmit #source-wizard-continue":"fadeInSubmit","stopDetectionPolling .source-wizard-main":"stopDetectionPolling","existingCollectorSelected .source-wizard-main":"existingCollectorSelected","noDefaultCategory .source-wizard-main":"noDefaultCategory"},sourceView:null,upgradingDialog:null,spinnerHost:null,submitButton:null,cancelButton:null,hasPopped:null,alreadySaved:null,confirmExit:null,httpSourceUrl:null,mixins:[r,o,f],template:_.template(a),ignoreFields:null,getViewName:function(){return"SetupSourceView"},getComponent:function(){return"SetupWizard"},initialize:function(){_.bindAll(this,"render","updateSourceCategory","selectCollector","onCollectorStarted","selectOS","installerCommandLoaded","saved","_save","collectorDetected","stopListeningForSourceCat","notUpgradeableCancelled","notUpgradeableConfirmed","startConfiguration","upgradeCollector","startSystemViewRetrievals"),this.deferrable=when.defer(),this.stepController=this.options.stepController,this.clearErrorsOnInput=!0,this.alreadySaved=!1,this.confirmExit=!1,this.model.setP("source.acceptedFiles",[]),$("#mini-progress-view-launch").length>0&&$("#mini-progress-view-launch").trigger("externalFinish"),this.listenTo(SumoApp.sumoEvents,"addedUploadFiles",this.boxChange)},getSourceType:function(){return this.isGeneric()?this.sourceTypes.generic:this.isApps()?this.sourceTypes.apps:this.isSystem()?this.sourceTypes.system:this.isAWS()?this.sourceTypes.aws:this.isSyslog()?this.sourceTypes.syslog:this.isGraphite()?this.sourceTypes.graphite:this.isHttp()?this.sourceTypes.http:"error"},setSourceType:function(e){this.model.setP("source.sourceType",e)},getPageTitle:function(e){var i=this.model.getP("dataType.title"),s=this.model.getP("dataType.name");return this.isAWS()||this.isHttp()?i=sprintf("%s: %s",t.sw_steps_collect_logs,SumoUtil.toTitleCase(s)):this.isGeneric()?i=t.welcome_upload_files:(this.isApps()||this.isSyslog()||this.isGraphite())&&(i=_.isEmpty(e)?t.sw_steps_setup_collection:sprintf(t.sw_title_on_s3,sprintf("%s: %s",t.sw_steps_collect_logs,s))),i},getSubmissionData:function(){return this.sourceView.getSubmissionData()},_anyBlanks:function(){return this.sourceView._anyBlanks()},spinnerOver:function(e,t,i){var s;if(e.is(":visible"))if(t){var n=e.outerHeight(),a=e.width();s=$('<div id="spinner-over-ctr"><span id="spin-wrapper" class="loading-indicator is-visible"></div>',{height:n,width:a,marginTop:-n}),e.after(s),e.prop("disabled","disabled"),i?s.addClass(i):this.spinnerHost=e}else this.$("#spinner-over-ctr").remove(),e.prop("disabled",!1),this.spinnerHost=null},spinnerControl:function(e,t,i){var s=this.$(".spinner-toolbar");s.is(":visible")&&(e?(s.spinner("updateMessage",t,!0),s.spinner("show",i)):(s.spinner("updateMessage",""),s.spinner("hide")))},fadeInSubmit:function(){this.manageButtonState(this.buttonStates.SUBMIT_FADEIN)},disableSubmit:function(){this.spinnerControl(!1),this.manageButtonState(this.buttonStates.SUBMIT_OFF),this.$("#sw-installer-command").fadeOut()},_finishSystemScreen:function(e,t,i,s){this.sourceView=this.renderSourceView(e,{collectorId:i,isUpgrading:s}),this.stepController.stepForward({view:this.sourceView}),t&&this.spinnerOver(this.sourceView.$("#sw-source-category"),!0),this.getView("sidebar").activateStep(".sw-sb-collect-logs-sidebar"),this.scrollToTop(),this.sourceView.afterRenderFinish&&this.sourceView.afterRenderFinish(),s||e!==this.sourceTypes.installer||this.startSystemViewRetrievals(),this.initTooltipster(),this.manageButtonState(this.buttonStates.SUBMIT_SHOW)},_startSystemScreen:function(e,t){var i,s,n,a=t.sourceType;t.collectorId&&(i=t.collectorId),t.useSpinner&&(s=t.useSpinner),t.isUpgrading&&(n=t.isUpgrading),this._finishSystemScreen(a,s,i,n)},notUpgradeableCancelled:function(){this.manageButtonState(this.buttonStates.SUBMIT_ON)},notUpgradeableConfirmed:function(e){this._startSystemScreen(e,{sourceType:this.sourceTypes.installer,useSpinner:!0,collectorId:this.model.getP("collector.id")})},startConfiguration:function(e){_.isUndefined(e.currentTarget)?(this.disableSubmit(),this._startSystemScreen(e,{sourceType:this.sourceTypes.installer,useSpinner:!0,collectorId:this.model.getP("collector.id"),isUpgrading:!1})):this.manageButtonState(this.buttonStates.SUBMIT_ON)},_upgradeCleanup:function(){this.stopListening(this.model,"change:collector.age"),this.getView("upgradingDialog").setAllowClose(!0),this.getView("upgradingDialog").close()},triggerWakeup:function(){this.sourceView.freezeUI(),this.spinnerControl(!0,t.sw_waking_up_collector),this.listenTo(this.model,"change:collector.shouldBeAwake",this.onCollectorStarted),this.model.wakeUpCollector()},onCollectorUpgraded:function(){this.model.getP("collector.age")===this.model.ages.upgraded?(this._upgradeCleanup(),this.triggerWakeup()):this.model.getP("collector.age")===this.model.ages.upgradeFailed&&(this._upgradeCleanup(),this.renderUpgradeFailed())},upgradeCollector:function(){this.model.upgradeCollector(),this.renderUpgradingDialog(),this.listenTo(this.model,"change:collector.age",this.onCollectorUpgraded)},getDefaultPaths:function(){this.needsPathsPolling()&&(this.model.getDefaultPathsCommandId(this.sourceTypeServiceTypeMap[this.model.getP("dataType.id")]),this.listenTo(this.model,"change:error",this.renderError),this.listenTo(this.model,"change:source.defaultPaths",this.renderDefaultPaths),this.model.isPollable()&&$.later(100,this,(function(){0!==this.$(".sumo-list.-error").length||this.sourceView.$("#source-wizard-form-sourcepath .sumo-list").children().length||this.spinnerOver(this.sourceView.$("#source-wizard-form-sourcepath .sumo-list"),!0,"-no-neg-margin")})))},getWinCustomEvents:function(){this.model.getWinCustomEventsCommandId(),this.listenTo(this.model,"change:error",this.renderError),this.listenTo(this.model,"change:source.winCustomEvents",this.renderWinCustomEvents)},getCloudWatchOptions:function(){this.model.retrieveCloudWatchOptions(),this.listenTo(this.model,"change:cloudWatchOptions",this.renderNamespaces)},toggleListCheckbox:function(e){var t=$(e.target).closest(".source-wizard-winevent-row").find(".sw-win-event-check");$.later(10,this,(function(){t.trigger("click",{nameTrigger:!0})}))},sourceCatChanged:function(e){var t,i=this.model.getP("source.defaultCategory"),s=new RegExp(/^\d+(?!\D)/);this.$("#source-wizard-form-sourcecat").find(".form-helper-text").remove(),SumoUtil.isStringEmpty(i)||(t=i.split("_"),s.test(_.last(t))&&(i=_.without(t,_.last(t)).join("_"))===e.target.value&&this.updateSourceCategory())},loadUniqueSourceCategory:function(e,t){t&&this.model.setP("source.defaultCategory","");var i=e?$(e.target).val():this.model.getP("dataType.category");this.setSourceType(i),SumoUtil.isStringEmpty(this.model.getP("source.defaultCategory"))||this.isGeneric()?(this.listenTo(this.model,"change:error",this.renderError),this.model.loadUniqueSourceCategory(),this.listenTo(this.model,"change:source.defaultCategory",this.updateSourceCategory),$.later(30,this,(function(){!this.spinnerHost&&_.isEmpty(this.sourceView.$("#sw-source-category").val())&&this.spinnerOver(this.sourceView.$("#sw-source-category"),!0)}))):$.later(30,this,(function(){this.sourceView.$("#sw-source-category").val(this.model.getP("source.defaultCategory"))}))},stopListeningForSourceCat:function(e){this.spinnerHost&&(this.stopListening(this.model,"change:error"),this.stopListening(this.model,"change:source.defaultCategory"),this.spinnerOver(this.spinnerHost,!1)),e&&e.placeholder&&this.$("#sw-source-category").attr("placeholder",e.placeholder)},noDefaultCategory:function(e,t){_.delay(this.stopListeningForSourceCat,40,t)},updateSourceCategory:function(){var e,i=this.model.getP("source.defaultCategory"),s=new RegExp(/^\d+(?!\D)/);SumoUtil.isStringEmpty(i)?this.sourceView.$("#sw-source-category").val(""):(this.stopListeningForSourceCat(),e=i.split("_"),s.test(_.last(e))&&(this.$("#sw-source-category").parent().after(sprintf("<div class='form-helper-text'>%s</div>",t.sw_sourcecat_reuse_notice)),i=_.without(e,_.last(e)).join("_")),this.sourceView.$("#sw-source-category").val(i),this.boxChange({}))},updateSourceModel:function(e){e?this.sourceView.reset():this.sourceView.updateModel(this.getServiceType())},installerCommandLoaded:function(){this.stopListening(this.model,"change:installerCommand"),this.renderInstallerCommand()},cleanUpDetectionPolling:function(){this.stopListening(this.model,"change:collector.id"),this.stopListening(this.model,"collector.installerCommand"),this.spinnerControl(!1),this.sourceView.getView("selectOSView")&&!SumoUtil.isStringEmpty(this.model.getP("collector.id"))&&this.sourceView.getView("selectOSView").disable()},stopDetectionPolling:function(){this.model.stopPolling(),this.cleanUpDetectionPolling(),this.manageButtonState(this.buttonStates.SUBMIT_OFF)},collectorDetected:function(){this.cleanUpDetectionPolling(),_.isNull(this.model.getP("collector.id"))||(this.sourceView.freezeUI(),this.manageButtonState(this.buttonStates.SUBMIT_ON),this.model.setP("collector.isInstalled",!0))},existingCollectorSelected:function(){if(this.model.setP("collector.id",this.sourceView.collectorId),this.sourceView.spinnerControl(!1,".select-os-spinner"),this.sourceView.spinnerControl(!1,".single-os-spinner"),SumoUtil.isStringEmpty(this.sourceView.collectorId))this.stopListening(this.model,"change:installerCommand"),this.manageButtonState(this.buttonStates.SUBMIT_OFF),this.model.setP("collector.age",this.model.ages.new),this.model.setP("collector.isInstalled",!1);else{this.manageButtonState(this.buttonStates.SUBMIT_ON);var e=this.$('[type="radio"]:checked').attr("id").indexOf("new")>-1?this.model.ages.new:this.model.ages.existing;this.model.setP("collector.age",e),this.model.setP("collector.isInstalled",!0)}},selectOS:function(e){var t=(e.target&&e.target.id?e.target.id:$(e.target).parent().attr("id")).replace("source-wizard-os-","");switch(t){case"s3":this._startSystemScreen(e,{sourceType:this.sourceTypes.aws,useSpinner:!0}),this.$el.parent().find(".source-wizard-title").text(this.getPageTitle(t));break;case"local":this._startSystemScreen(e,{sourceType:this.sourceTypes.generic});break;default:this.model.setP("collector.installerOS",t),this.model.loadInstallerCommand(),this.manageButtonState(this.buttonStates.SUBMIT_OFF),this.listenTo(this.model,"change:collector.installerCommand",this.installerCommandLoaded)}},triggerNewFlow:function(e,i){e.preventDefault();var s,n,a=i.newFlow;switch(this.logAction(w.wizard_custom_type_selected),a){case"installed":case"syslog":case"graphite":return;case"http-source":this.model.setP("source.oldSourceType",this.sourceTypes.apps),this.model.setP("dataType.category",this.sourceTypes.http),s=this.sourceTypes.http,n=t.sw_name_http;break;case"upload":this.model.setP("dataType.category",this.sourceTypes.generic),s=this.sourceTypes.generic,n=t.sw_name_upload;break;default:return this.logError("Setup Wizard: Triggered an unknow type of flow."),!1}this._finishSystemScreen(s),this.$el.parent().find(".source-wizard-title").text(sprintf("%s: %s",t.sw_steps_collect_logs,n)),this.renderStep()},selectOSFromDrop:function(e,t){t&&("windows"===t&&this.getView("sourceView").spinnerControl(!0,".select-os-spinner"),this.selectOS({target:{id:t}}),this.submitButton.is(":visible")&&this.disableSubmit())},onCollectorStarted:function(e){if(this.spinnerControl(!1),this.stopListening(this.model,"collector.shouldBeAwake"),this.model.getP("collector.age")===this.model.ages.notFound)this.model.setP("collector.id",null),this.renderError(!0),this.sourceView.unfreezeUI();else{var t=this.model.getP("collector.id");this._startSystemScreen(e,{sourceType:this.sourceTypes.installer,useSpinner:!0,collectorId:t})}},selectCollector:function(e){var t=this.sourceView.collectorId;this.disableSubmit(),this._startSystemScreen(e,{sourceType:this.sourceTypes.installer,useSpinner:!0,collectorId:t})},getSourceUrl:function(){this.sourceView.getSourceUrl(this.model.getP("txn.sourceIds"),this.preRenderHttpSourceUrl),this.sourceView.setIgnoreClicks(!1),this.stopListening(this.model,"change:sourceIds")},_finish:function(){Modernizr.history&&$(window).off("popstate",this.getPopStateHandler()),this.confirmExit=!1,this.stepController.hasCreatedSource=!0,this.listenTo(this.model,"change:error",this.renderError),this.logAction(w.wizard_continue_clicked),this.model.setP("txn.state",this.model.states.started);var e=new p({stepController:this.stepController,el:".fullpage-ctr",model:this.model,httpUrl:this.httpSourceUrl});$("#source-wizard-upload-form").length>0&&$("#source-wizard-upload-form").fileupload("destroy"),this.stepController.stepForward({view:e})},_toggleCheckboxes:function(e){this.$(".source-wizard-form-field").find('[type="checkbox"]').is(":visible")&&this.$(".source-wizard-form-field").find('[type="checkbox"]').attr("disabled",e),this.$("#sw-add-path-expr").is(":visible")&&(e?this.$("#sw-add-path-expr").addClass("-is-disabled"):this.$("#sw-add-path-expr").removeClass("-is-disabled"))},saved:function(e){e&&(this.isHttp()?(this.spinnerControl(!0,t.sw_http_source_building),this.model.startTxnPolling(),this.listenTo(this.model,"change:txn.sourceIds",this.getSourceUrl)):(this.sourceView.setIgnoreClicks(!1),this._finish()))},_save:function(){if(this.sourceView.setIgnoreClicks(!0),this.alreadySaved)"SetupSourceHTTPView"===this.sourceView.getViewName()&&this._finish();else{var e=this.model.save();e&&(this.alreadySaved=!0,this.needsPathsPolling()&&this.stopListening(this.model,"change:paths"),e.then(this.saved))}},_needsUpgrade:function(e){var t="ok";if(e)return"hosted";if(SumoApp.priv.hasFlagUISkipDetection())return t;if(this.model.getP("collector.age")!==this.model.ages.new)switch(this.model.getSelectedCollectorNeedsUpgrade()){case this.model.versions.recent:t="needsWakeup";break;case this.model.versions.upgradeable:t="needsUpgrade";break;case this.model.versions.mustUpgrade:t="mustUpgrade";break;case this.model.versions.tooOld:t="tooOld"}return t},save:function(e){var i=this.isHosted();if(this.submitable()){if(this.manageButtonState(this.buttonStates.SUBMIT_CANCEL_OFF),this.$("#sw-add-new-path-expr").is(":visible")&&this.cancelAddPath(e),this.model.getP("collector.isInstalled")){if(this.manageButtonState(this.buttonStates.CANCEL_ON),this.isCustom()&&this.model.setP("dataType.category",this.sourceView.serviceType),!i&&this.model.isExistingCollector()){var s=_.findWhere(this.model.getCollectors(),{id:this.sourceView.collectorId}).name;this.model.setP("collector.name",s)}var n=this._needsUpgrade(i);if("needsUpgrade"===n)return void this.renderUpgradeConfirmation();if("needsWakeup"===n)return void this.triggerWakeup();if("tooOld"===n)return void this.renderConfirmCollectorChoice();if("mustUpgrade"===n)return void this.renderMustUpgradeConfirmation();if("ok"===n)return void this._startSystemScreen(e,{sourceType:this.sourceTypes.installer,useSpinner:!0,collectorId:this.model.getP("collector.id")})}if("SetupSourceSystemView"===this.sourceView.getViewName()&&this._toggleCheckboxes(!0),this.updateSourceModel(),this.sourceView.validate&&!this.sourceView.validate()){var a=this.sourceView.getErrorInfo();return this._toggleCheckboxes(!1),this._renderError(a.errCtr,a.errDiv,a.errMsg,a.errInp),!1}var r="";this.$("#source-wizard-form-sourcepath").is(":visible")&&(r=t.sw_spinner_validating_path),this.spinnerControl(!0,r),this.stopListening(this.model,"change:error"),this.model.setError(!1),this.listenTo(this.model,"change:error",this.renderError),SumoApp.priv.hasFlagUISkipDetection()||this.model.setP("txn.submissionData",this.sourceView.getModelData());var o=this.sourceView.getSourceCategory();SumoUtil.isStringEmpty(o)?$.logErrorLocal("No SourceCategory for txn"):this.model.setP("source.sourceCategory",o),_.has(this.sourceView,"acceptedFiles")&&(this.model.setP("source.acceptedFiles",this.sourceView.acceptedFiles),this.model.setP("dataType.name",this.sourceView.serviceType)),this.needsPathsPolling()?(this.sourceView.setIgnoreClicks(!0),this.model.getValidatePathsCollectorCommandId(this.sourceView.model.get("pathExpression")),this.listenTo(this.model,"change:source.paths",this._save)):this._save()}},startSystemViewRetrievals:function(){this.model.getP("collector.age")===this.model.ages.upgraded&&this.sourceView.collectorUpgraded(),this.sourceView.isWinEvent()?($.later(100,this,(function(){this.sourceView.renderWinEventTypes("#sw-win-event-list-std")})),this.getWinCustomEvents()):this.isCustom()||this.model.getP("collector.age")===this.model.ages.tooOld?this.renderDefaultPaths():(this.model.isPollable()||_.has(this.sourceView,"isUpgrading")&&!this.sourceView.isUpgrading)&&this.getDefaultPaths()},initTooltipster:function(){var e=new v({el:this.$("img.sw-questionmark"),theme:"popover-interactive",size:this.isAWS()?"small":"large",contentAsHTML:!0});this.registerView("qmarkTooltip",e)},_getSourceCat:function(e,t){var i="";return t&&t===this.sourceTypes.finish?i=this.sourceView.getSourceCategory():t&&t===this.sourceTypes.http?i="http":e&&e.sourceCat&&(t!==this.sourceTypes.aws&&t!==this.sourceTypes.generic||(i=e.sourceCat)),i},renderSourceView:function(e,t){var i,s,n,a=this._getSourceCat(t,e),r=!1,o="";switch(this.sourceView&&this.destroySubView("sourceView"),a&&(this.stepController.hasCreatedSource=!0,this.model.setP("source.sourceCategory",a)),_.isNull(this.submitButton)&&(this.submitButton=this.$("#source-wizard-continue")),e){case this.sourceTypes.aws:n=this.$("#source-wizard-aws-ctr").length?this.$("#source-wizard-aws-ctr"):this.$("#source-wizard-systems-ctr"),s=new d({el:n,sourceId:this.model.getP("dataType.id"),sourceName:this.model.getP("dataType.name"),submitButton:this.submitButton,contactInvisible:this.model.getP("state.contactInvisible")}),this.confirmExit=!0,this.stepController.hasCreatedSource=!1,"cloudwatch"===this.model.getP("dataType.id")&&this.getCloudWatchOptions(),this.loadUniqueSourceCategory();break;case this.sourceTypes.system:case this.sourceTypes.apps:case this.sourceTypes.syslog:case this.sourceTypes.graphite:this.model.retrieveHostMetricsOptions(),s=new u({el:this.$("#source-wizard-aws-ctr"),model:this.model,serviceType:this.getServiceType(),contactInvisible:this.model.getP("state.contactInvisible")}),this.model.setP("collector.age",this.model.ages.new),this.confirmExit=!0;break;case this.sourceTypes.generic:n=this.$("#source-wizard-aws-ctr").length?this.$("#source-wizard-aws-ctr"):this.$("#source-wizard-systems-ctr"),s=new c({el:n,sourceId:this.model.getP("dataType.id"),serviceType:this.getServiceType(),contactInvisible:this.model.getP("state.contactInvisible")}),r=!0,this.confirmExit=!0;break;case this.sourceTypes.http:s=new g({el:this.$("#source-wizard-aws-ctr").length?this.$("#source-wizard-aws-ctr"):this.$("#source-wizard-systems-ctr"),sourceId:this.model.getP("dataType.id"),collectorId:this.model.getP("collector.id"),serviceType:this.getServiceType(),submitButton:this.submitButton,contactInvisible:this.model.getP("state.contactInvisible")}),this.confirmExit=!0,this.loadUniqueSourceCategory(null,!0),this.alreadySaved=!1;break;case this.sourceTypes.installer:this.model.isExistingCollector()?(i=this.model.getSelectedCollector(),o=this.model.getCollectorOS(i.osName)):o=this.model.getP("collector.installerOS"),s=new h({el:this.$("#source-wizard-systems-ctr"),sourceId:this.model.getP("dataType.id"),sourceName:this.model.getP("dataType.name"),collectorId:this.model.getP("collector.id"),serviceType:this.getServiceType(!0),submitButton:this.submitButton,installerOS:o,installer_command:this.model.getP("collector.installerCommand"),isUpgrading:t.isUpgrading,isPolling:this.model.isPollable(),contactInvisible:this.model.getP("state.contactInvisible"),hostMetricsOptions:this.model.getHostMetricsOptions()}),this.loadUniqueSourceCategory(null,!0),this.model.setP("collector.isInstalled",!1)}return this.registerView("sourceView",s),r&&(this.model.setP("source.sourceCategory",null),this.model.setP("source.sourceType",null)),this.onMultipartStep=this.isCustom(),Modernizr.history&&(window.history.pushState({sumo:!1},window.document.title+"-"+e),$(window).on("popstate",this.getPopStateHandler())),s},render:function(e){SumoUtil.isStringEmpty(this.model.getP("source.oldSourceType"))||(this.model.setP("dataType.category",this.model.getP("source.oldSourceType")),this.model.setP("source.oldSourceType",null));var i,s=SumoApp.getAngularService("currentUserHelper"),n=this.getPageTitle(),a={__:t,sw_title:n,formView:!0,needsActivation:s.getOrg().needsActivation,finishView:!1,finishViewR2:!1,longLastingSource:!1,onboardingMode:this.model.getP("state.onboardingMode")},r=this.template(a),o=this.getSourceType(),d=this.model.getP("source.defaultCategory");return this.$el.html(r).attr("id","source-wizard-ctr"),this.$(".spinner-toolbar").spinner(),this.$el.height(""),i=new l({showSetupCollection:!this.isHosted(),showUpload:this.isGeneric(),activeStep:".sw-sb-select-data-type"}),this.registerView("sidebar",i),this.sourceView=this.renderSourceView(o,{defaultCategory:d}),this.initButtons({submit:this.$("#source-wizard-continue"),cancel:this.$("#source-wizard-restart")},{disabledClass:"btn-disabled"}),this.manageButtonState(this.buttonStates.SUBMIT_OFF_CANCEL_ON),this.model.setP("source.sourceCategory",null),this.model.setP("source.sourceType",null),e?this.stepController.stepBack():this.stepController.stepForward({view:this.sourceView}),this.renderStep(),this.initTooltipster(),this.scrollToTop(),this.sourceView.afterRenderInit&&this.sourceView.afterRenderInit(),this.logAction(w.wizard_source_selected),this}})}.apply(t,s))||(e.exports=n)},38822:function(e,t,i){var s,n;s=[i(60567),i(34908),i(13796),i(16471),i(69493),i(1714),i(32500),i(96593),i(34431),i(20407),i(89867),i(66359),i(41197)],void 0===(n=function(e,t,i,s,n,a,r,o,l,d,c,u,h){var g=e.SumoViewModule,p=c.accountDataService,m=u.currentUserHelper,f=h.logService;s.commonEnI18n;return t=t.default,g.extend({events:{"click .source-wizard-contact a":"feedback","click #source-wizard-cancel-btn, .logo-img":"cancelWizard","click #upload-files-button":"startPlayground","click #sw-entry-live-data":"selectDataType","click #sw-entry-livedata":"selectDataType","click #sw-entry-learn":"goToLearn","click #sw-entry-uploadfiles":"startPlayground","click #resend-activation-link":"resendActivationLink","click #app-catalog-button":"goToAppCatalog","click #pendo-sumo-tour-button":"startPendoSumoTour","click #sw-entry-kubernetes-all-sources":"selectDataType","click #sw-entry-kubernetes":"goToKubernetesIntegration"},mixins:[r],template:_.template(n),getViewName:function(){return"SetupView"},getComponent:function(){return"SetupWizard"},initialize:function(){_.bindAll(this,"render","onActivationLinkSent"),SumoApp.sumoEvents.trigger("destroy:miniProgressView"),SumoApp.setupWizardMetrcisFlow&&(this.isMetricsFlow=!0,SumoApp.setupWizardMetrcisFlow=!1),this.stepController=new a,this.stepController.setStep(this,0),this.stepController.hasExitedWizard=!1;var e=m.get().isInitialSetupRequired;this.model.setP("state.onboardingMode",e),this.model.setP("state.contactInvisible",!e),this.model.set("activationSent",!1),this.isMetricsFlow?this.selectDataType():this.render()},startPlayground:function(e){Modernizr.history&&$(window).off("popstate",this.getPopStateHandler()),this.model.resetTransaction(),this.stepController.destroyOldSteps(),new o({model:this.model,stepController:this.stepController,startPlayground:!0}).render(e)},onActivationLinkSent:function(){this.model.set("activationSent",!0),this.render()},resendActivationLink:function(e){var t=m.get().name;p.resendActivationLink(t).then(this.onActivationLinkSent)},startPendoSumoTour:function(t){this.cancelWizard(t),e.applicationState.go("app.home");var i=setInterval((function(){const e=pendo&&pendo.findGuideById("P9lihUi-xNPOvTTSmSgd5CTU8rA");e&&e.isShown()?clearInterval(i):e&&e.show()}),200)},goToAppCatalog:function(t){this.cancelWizard(t),e.applicationState.go("app.apps.all")},goToLearn:function(t){this.cancelWizard(t);const i=d.store;l.switchTab("learn")(i.dispatch,i.getState),e.applicationState.go("app.home")},getActivationTimeLimit:function(){return m.getDynamicProperty("ui_activation_time_limit")||3},selectDataType:function(){Modernizr.history&&$(window).off("popstate",this.getPopStateHandler()),this.stepController.destroyOldSteps();var e=new o({model:this.model,el:this.el,stepController:this.stepController,startPlayground:!1,isMetricsFlow:this.isMetricsFlow});this.stepController.stepForward({view:e}),this.isMetricsFlow=!1,f.userTelemetry("inside setup_view_v3.selectDataType - user clicked navigated to Data Source selection view")},goToKubernetesIntegration:function(t){this.cancelWizard(t),e.applicationState.go("app.apps.app",{displayContent:"INTEGRATION",appUUID:"162ceac7-166a-4475-8427-65e170ae9837"}),f.userTelemetry("inside setup_view_v3.goToKubernetesIntegration - user clicked on the large Kuberntes tile in Setup Wizard")},render:function(e){e&&this.delegateEvents();var s=m.hasFeatureFlag("UIUploadWizard")||m.getOrg().typeHelpers.isTrial&&m.hasFeatureFlag("UIUploadWizardTrial"),n=this.model.getP("isUserInterestedInKubernetes")&&!s?i.kubernetesWelcomeEntries:m.hasFeatureFlag("UISetupWizardLearnLayout")&&!s?i.learnTabWelcomeEntries:i.welcomeEntries,a=$.extend(this.model.toJSON(),{__:t,sw_title:this.model.getP("state.onboardingMode")?t.welcome_onboarding_title:t.welcome_setup_wizard_title,welcome_intro:sprintf(t.welcome_intro,"S"),entries:n,releaseClass:this.releaseClass(),onboardingMode:this.model.getP("state.onboardingMode"),needsActivation:m.getOrg().needsActivation,activationMessage:sprintf(t.sw_activation_reminder,this.getActivationTimeLimit()),showPartnerHerLogo:m.hasFeatureFlag("UIShowHerjavecLogo"),showEsentireLogo:m.hasFeatureFlag("UIShowEsentireLogo"),showFooter:m.hasFeatureFlag("UISetupWizardFooter"),isUploadOnly:s}),r=this.template(a);return this.$el.html(r),f.userTelemetry(`inside setup_view_v3.render with entries=${n.map((e=>e.id)).join(",")}`),this.model.getP("state.contactInvisible")&&this.closeContact(),Modernizr.history&&$(window).on("popstate",this.getPopStateHandler()),s?(this.startPlayground(),this):this}})}.apply(t,s))||(e.exports=n)},1714:function(e,t,i){var s,n;s=[i(66359)],void 0===(n=function(e){"use strict";var t=e.currentUserHelper;return function(){this.currentStep=0,this.hasCreatedSource=!1,this.sourceCategory=null,this.sourceType=null,this.hasExitedWizard=null,this.steps=[],this.currentView=function(e){return e?this.steps[this.currentStep].getViewName():this.steps[this.currentStep]},this.stepCount=function(){return Math.max(this.steps.length,3)},this.firstOrLast=function(){return this.isFirst()||this.isLast()},this.isFirst=function(){var e=t.hasFeatureFlag("UIUploadWizard")||t.getOrg().typeHelpers.isTrial&&t.hasFeatureFlag("UIUploadWizardTrial")?1:0;return this.currentStep===e},this.isLast=function(){return!!this.steps[this.currentStep]&&"SetupFinishView"===this.steps[this.currentStep].getViewName()},this.setContactInvisible=function(e){this.contactInvisible=e},this.setSourceCategory=function(e){this.sourceCategory=e},this.setSourceType=function(e){this.sourceType=e},this.resetTransaction=function(){alert("This  is in model now")},this.switchSourceView=function(e){this.steps[this.currentStep]&&this.steps[this.currentStep].switchView(e)},this.setStep=function(e,t){this.steps[t]&&e.getViewName()===this.steps[t].getViewName()||(this.steps[t]=e)},this.changeView=function(e){var t=e<this.currentStep;this.currentStep=e,this.showStep(t)},this.stepBack=function(e){var t=e?1:this.currentStep-1;if(e&&(this.hasCreatedSource=!1),this.hasCreatedSource)this.restartAfterCreate();else{var i=this.steps.pop();i.destroy(),t+1<this.steps.length&&(i=this.steps.pop()).destroy(),this.changeView(t)}},this.stepForward=function(e){var t=!!e&&e.view;t&&this.setStep(t,this.currentStep+1),this.changeView(this.currentStep+1)},this.destroyOldSteps=function(){var e=this.steps.splice(1);e.length&&_.each(e,(function(e){e.destroy()}))},this.restart=function(e){e&&this.setSourceCategory(null),this.destroyOldSteps(),this.changeView(0)},this.restartAfterCreate=function(){this.restart()},this.showStep=function(e){this.steps[this.currentStep]&&this.steps[this.currentStep].render(e)}}}.apply(t,s))||(e.exports=n)},20247:function(e,t,i){var s,n;s=[i(60567),i(34908),i(59551)],void 0===(n=function(e,t,i){var s=e.SumoViewModule;return t=t.default,s.extend({el:"#source-wizard-side",template:_.template(i),showSetupCollection:null,showUpload:null,sidebarStep:null,initialize:function(){this.showSetupCollection=this.options.showSetupCollection,this.showUpload=this.options.showUpload,this.activeStep=this.options.activeStep,this.sidebarStep=this.options.sidebarStep?this.options.sidebarStep:t.sw_steps_collect_logs,this.render()},activateStep:function(e){this.$("li").removeClass("active"),this.$(e).addClass("active")},_showUpload:function(){this.showUpload?(this.$(".sw-sb-upload-sidebar").show(),this.$(".sw-sb-select-data-type, .sw-sb-collect-logs-sidebar").hide()):(this.$(".sw-sb-upload-sidebar").hide(),this.$(".sw-sb-select-data-type, .sw-sb-collect-logs-sidebar").show())},_showSetupCollection:function(){this.showSetupCollection?this.$(".sw-sb-select-os-sidebar").show():this.$(".sw-sb-select-os-sidebar").hide()},render:function(){var e=this.template({__:t,sidebar_step:this.sidebarStep});this.$el.html(e),this._showSetupCollection(),this._showUpload(),this.activateStep(this.activeStep)}})}.apply(t,s))||(e.exports=n)},69191:function(e,t,i){var s,n;s=[i(34908),i(16471),i(4062),i(47019),i(22141),i(4693),i(83677)],void 0===(n=function(e,t,i,s,n,a,r){"use strict";var o=t.commonEnI18n;return e=e.default,{init:function(){_.bindAll(this,"renderUpgradeConfirmation","_addPath","addPath","_onKeyupAddPath","onKeyupAddPath","_closeAddPathField","_exitIfFocusout","cancelAddPath","addPathToList","updateDefaultPaths","renderDefaultPaths","renderNamespaces","renderWinCustomEvents","renderInstallerCommand","preRenderHttpSourceUrl","clearViewError","_renderError","renderError","renderPathFiles","renderStep","scrollToTop")},mixin:{pathsPushed:0,cloudwatchCustomNamespaces:null,scrollToTop:function(){this.model.getP("state.contactInvisible")?$(".source-wizard-ctr")[0].scrollIntoView():$(".source-wizard-contact")[0].scrollIntoView()},renderConfirmCollectorChoice:function(){var t=this.model.getSelectedCollector().name,i=sprintf(e.sw_confirm_collector_text,t);SumoApp.userMessage.question(i,{title:e.sw_confirm_collector_title,okText:e.sw_confirm_collector_okay,okCallback:this.notUpgradeableConfirmed,cancelText:e.sw_confirm_collector_cancel,cancelCallback:this.notUpgradeableCancelled,isHTML:!0,useTitleIcon:!1})},renderUpgradeConfirmation:function(){var t=this.model.getSelectedCollector().name,i=sprintf(e.sw_upgrade_collector_text,t);SumoApp.userMessage.question(i,{title:e.sw_upgrade_collector_title,okText:e.sw_upgrade_collector_okay,cancelText:e.sw_upgrade_collector_cancel,okCallback:this.upgradeCollector,cancelCallback:this.startConfiguration,isHTML:!0,hasHelpLink:!0,useTitleIcon:!1})},renderMustUpgradeConfirmation:function(){var t=this.model.getSelectedCollector().name,i=sprintf(e.sw_must_upgrade_collector_text,t);SumoApp.userMessage.question(i,{title:e.sw_upgrade_collector_title,okText:e.sw_upgrade_collector_okay,cancelText:e.sw_confirm_collector_cancel,okCallback:this.upgradeCollector,cancelCallback:this.notUpgradeableCancelled,isHTML:!0,hasHelpLink:!0,useTitleIcon:!1,dualConfText:!1})},renderUpgradingDialog:function(){var e=new r({name:this.model.getP("collector.name"),error:""});this.registerView("upgradingDialog",e),e.render()},renderUpgradeFailed:function(){var e=new r({name:this.model.getP("collector.name"),error:this.model.keyedError});this.registerView("upgradingDialog",e),e.render(),this.manageButtonState(this.buttonStates.SUBMIT_ON)},_addPath:function(t){$("#sw-add-new-path-field").length>0&&$("#sw-add-new-path-field").remove();var i=_.template(s);t.parent().before(i({__:e})),this.$("#sw-add-path-expr").parent().hide(),this.$("#sw-path-expression").removeClass("error").trigger("focus"),this.ignoreFields=["sw-path-expression"]},addPath:function(e){e.preventDefault(),$(e.target).hasClass("-is-disabled")||this._addPath($(e.currentTarget))},_onKeyupAddPath:function(e){var t=e.currentTarget,i=e.keyCode;SumoUtil.isStringEmpty(t.value)?this.$("#sw-add-new-path-expr").addClass("is-disabled"):(this.$("#sw-add-new-path-expr").removeClass("is-disabled"),13===i&&this.addPathToList(e))},onKeyupAddPath:function(e){if("paste"===e.type){e.type="click";var t=e.currentTarget.value,i=e.originalEvent.clipboardData?e.originalEvent.clipboardData.getData("text/plain"):"";e.currentTarget.value=t+i}var s=this;setTimeout((function(){s._onKeyupAddPath(e)}),10)},_closeAddPathField:function(){this.$("#sw-add-new-path-field").hide(),this.$("#sw-path-expression").val(""),this.$("#sw-add-path-expr").parent().show(),this.onKeyup({keyCode:1})},_exitIfFocusout:function(e){return"focusout"===e.type&&(!(this.pathsPushed>0||_.isNull(e.relatedTarget))||(this.pathsPushed=0,_.isNull(e.relatedTarget)&&this._closeAddPathField(),!1))},cancelAddPath:function(e){e.preventDefault(),this.pathsPushed=0,this._closeAddPathField()},addPathToList:function(e){if(e.preventDefault(),!this._exitIfFocusout(e)&&!this.$("#sw-add-new-path-expr").hasClass("is-disabled")){var t="click"===e.type,i=this.$("#sw-path-expression").val(),s=this.model.getP("source.defaultPaths")||[];SumoUtil.isStringEmpty(i)||(this._closeAddPathField(),s.push({path:i,checked:!0}),this.pathsPushed=this.pathsPushed+1,this.model.setP("source.defaultPaths",s),this.renderDefaultPaths(),this.ignoreFields=null,t||this.onKeyup({keyCode:1}))}},updateDefaultPaths:function(e){if(e.stopPropagation(),this.$("#sw-add-path-expr").hasClass("-is-disabled"))return!1;$.later(10,this,(function(){var t=$(e.currentTarget).parent().find('[type="checkbox"]'),i="checkbox"===e.target.type?t.prop("checked"):!t.prop("checked"),s=t.val().replace(/_p_/g,"/"),n=this.model.getP("source.defaultPaths");this.model.getP("source.defaultPaths",_.map(n,(function(e){return e.path===s&&(e.checked=i),e})))}))},renderDefaultPaths:function(){var t=this.model.getP("source.defaultPaths"),s=t&&t.length,n=this.model.getMatchingFilesForPath,a=this.$("#source-wizard-form-sourcepath").find(".source-wizard-form-field").not(".-no-separation").find(".sumo-list"),r=a.parent().find("#spinner-over-ctr"),o=_.template(i),l="";this.stopListening(this.model,"change:source.defaultPaths"),this.stopListening(this.model,"change:error"),r.length>0&&r.remove(),this.$("#sw-add-path-expr").removeClass("-is-disabled"),s?(_.each(t,(function(t){var i=t.path.replace(/\//g,"_p_"),s=o({__:e,checked:t.checked,value:i,text:t.path,matchingFiles:n(i),use_cover:!1});l+=s})),this._closeAddPathField()):(l=e.sw_default_paths_none_warning,this._addPath($("#sw-add-path-expr"))),a.html(l).removeClass("-empty"),this.onKeyup({keyCode:1})},_addNamespace:function(t){$("#sw-add-new-namespace-field").length>0&&$("#sw-add-new-namespace-field").remove();var i=_.template(n);t.parent().before(i({__:e})),this.$("#sw-add-namespace").parent().hide(),this.$("#sw-namespace").trigger("focus"),this.ignoreFields=["sw-namespace"]},addNamespace:function(e){e.preventDefault(),$(e.target).hasClass("-is-disabled")||this._addNamespace($(e.currentTarget))},_onKeyupAddNamespace:function(e){var t=e.currentTarget,i=e.keyCode;if(SumoUtil.isStringEmpty(t.value))this.$("#sw-add-new-namespace").addClass("is-disabled");else if(this.$("#sw-add-new-namespace").removeClass("is-disabled"),13===i)return void this.addNamespaceToList(e);_.isUndefined(e.which)||this.clearViewError()},onKeyupAddNamespace:function(e){if("paste"===e.type){e.type="click";var t=e.currentTarget.value,i=e.originalEvent.clipboardData?e.originalEvent.clipboardData.getData("text/plain"):"";e.currentTarget.value=t+i}var s=this;setTimeout((function(){s._onKeyupAddNamespace(e)}),10)},_closeAddNamespaceField:function(){this.$("#sw-add-new-namespace-field").hide(),this.$("#sw-namespace").val(""),this.$("#sw-add-namespace").parent().show(),this.onKeyup({keyCode:1})},_exitIfNamespaceFocusout:function(e){return"focusout"===e.type&&(!_.isNull(e.relatedTarget)||(this._closeAddNamespaceField(),!1))},cancelAddNamespace:function(e){e.preventDefault(),this.pathsPushed=0,this._closeAddNamespaceField()},addNamespaceToList:function(t){if(t.preventDefault(),!this._exitIfNamespaceFocusout(t)&&!this.$("#sw-add-new-namespace").hasClass("is-disabled")){var i,s,n="click"===t.type,a=this.$("#sw-namespace").val().trim();if(!SumoUtil.isStringEmpty(a)){if(!SumoUtil.isValidName(a,["/"]))return this._renderError("#source-wizard-form-awsnamespaces",".source-wizard-error",e.sw_error_custom_namespace_invalid_chars_without_name,"#sw-namespace"),void this.$("#sw-add-new-namespace").addClass("is-disabled");if(0===a.toLowerCase().indexOf("aws/"))return this._renderError("#source-wizard-form-awsnamespaces",".source-wizard-error",e.sw_error_custom_namespace_has_aws,"#sw-namespace"),void this.$("#sw-add-new-namespace").addClass("is-disabled");if(a.indexOf("\\")>-1)this._renderError("#source-wizard-form-awsnamespaces",".source-wizard-error",e.sw_error_custom_namespace_has_backslash,"#sw-namespace");else if(a.indexOf(",")>-1)this._renderError("#source-wizard-form-awsnamespaces",".source-wizard-error",e.sw_error_custom_namespace_has_comma,"#sw-namespace");else{if(_.each(this.sourceView.cloudwatchCustomNamespaces,(function(e){e===a&&(i=!0)})),i)return this._renderError("#source-wizard-form-awsnamespaces",".source-wizard-error",sprintf(e.sw_error_custom_namespace_duplicate,a),"#sw-namespace"),void this.$("#sw-add-new-namespace").addClass("is-disabled");this._closeAddNamespaceField(),this.sourceView.cloudwatchCustomNamespaces.push(a),i=_.map(this.$("#source-wizard-form-awsnamespaces .sw-win-event-check:checked"),(function(e){return"#"+e.id})),s="#sw-input-"+a.replace(/\\/g,"_bck_").replace(/\//g,"_fwd_").replace(/\./g,"_per_").replace(/ /,"_sp_"),i.push(s),this.renderNamespaces(!1),i.length>0&&_.each(i,(function(e){$(e).prop("checked",!0)})),this.ignoreFields=null,this.$(s).trigger("focus").trigger("blur"),n||this.onKeyup({keyCode:1})}}}},renderPathFiles:function(e){if(!this.submitButton.hasClass("btn-disabled")){this.stopListening(this.model,"change:source.paths"),e.preventDefault();var t=_.map($(e.target).data("matching-files").split(","),(function(e){return e.replace(/_p_/g,"/")})),i=$(e.target).parent().find(".source-wizard-win-name").text();new a({matchingFiles:t,path:i}).render()}},renderWinCustomEvents:function(){"SetupSourceSystemView"===this.sourceView.getViewName()&&this.sourceView.isWinEvent()&&(this.sourceView.renderWinEventTypes("#sw-win-event-list-custom",this.model.getP("source.winCustomEvents")),this.stopListening(this.model,"change:source.winCustomEvents"),this.stopListening(this.model,"change:error"))},renderNamespaces:function(e){var t=_.union(this.sourceView.cloudwatchCustomNamespaces,this.model.getCloudWatchOptions().namespaces),i=this.model.getCloudWatchOptions().tagSupportedNamespaces;this.sourceView.renderNamespaces(t,i),e&&this.sourceView.renderRegions(this.model.getCloudWatchOptions().regions),this.stopListening(this.model,"change:cloudWatchOptions")},renderInstallerCommand:function(){var t,i=this.sourceView.startInstructionNumber,s=this.model.getP("collector.installerCommand");this.$(".-last").length&&!this.$(".-last").is(":visible")||!this.$(".-last")||SumoUtil.isStringEmpty(s)||this.$("#sw-collector-class-existing").is(":checked")||(this.sourceView.spinnerControl(!1,".single-os-spinner"),this.sourceView.spinnerControl(!1,".select-os-spinner"),"windows"===this.model.getP("collector.installerOS")?(t=sprintf(e.sw_install_download_text_windows,i),this.$(".sw-windows-installer-command").find(".action-link").attr("href",this.model.getP("collector.downloadUrl")).end().show(),this.$(".source-wizard-form-label-is-finish > span").first().text(i+2+".")):(t=sprintf(e.sw_install_download_text_r2,i,this.model.getInstallerOSString()),this.$(".source-wizard-form-label-is-finish > span").first().text(i+1+"."),this.$(".sw-windows-installer-command").hide()),this.sourceView.showOSSelector||(t=sprintf("%s %s %s",t.substr(0,t.lastIndexOf("</span>")),sprintf(e.sw_installer_sys_reqs_html,e.sw_select_os_tooltip),"</span>")),this.$("#sw-installer-command").find(".jsonL0").text(s).end().find(".source-wizard-form-label:first").html(t).end().fadeIn(),this.sourceView.showOSSelector||this.initTooltipster(),this.manageButtonState(this.buttonStates.SUBMIT_FADEIN),this.spinnerControl(!0,"","multiline"),this.$("#sw-spinner-troubleshooting").hide(),$.later(6e4,this,(function(){$("#sw-spinner-troubleshooting").length>0&&$("#sw-spinner-troubleshooting").show()})),this.stopListening(this.model,"change:collector.id"),this.model.setP("collector.id",null),this.model.startDetectionPolling(),this.listenTo(this.model,"change:collector.id",this.collectorDetected))},preRenderHttpSourceUrl:function(){var e=SumoApp.getAngularService("currentUserHelper").hasFeatureFlag("UICollectDAsHTTP");if(this.httpSourceUrl=this.sourceView.model.get("endpoint"),e&&this.isCollectD()?this.renderCollectDConf():this.renderHttpSourceUrl(!0),this.model.getP("txn.longLastingSource")){var t=this.model.getPoll("source_package_txn");this.model.stopPoll(t)}},clearViewError:function(){this.model&&(this.$(".source-wizard-error-text").text(""),this.$(".source-wizard-error").hide(),this.$(".error").removeClass("error"),this.model.clearError())},_renderError:function(e,t,i,s){this.$(e).find(".source-wizard-error-text").html(i),this.$(e).find(t).show(),this.$(s).addClass("error"),this.updateSourceModel(!0),this.manageButtonState(this.buttonStates.SUBMIT_OFF_CANCEL_ON),this.logAction(o.wizard_validation_error)},renderError:function(t){if(this.model.getError()||t){this.sourceView.setIgnoreClicks(!1),this.alreadySaved=!1;var i,s,n=this.model.getErrorMessage(),a=this.model.getKeyedError()?this.model.getKeyedError():this.sourceView.keyedError,r=".source-wizard-error";if(this.spinnerControl(!1),!this.spinnerHost&&this.$("#spinner-over-ctr")&&this.$("#spinner-over-wrapper").remove(),this._toggleCheckboxes(!1),!SumoUtil.isStringEmpty(n)){switch("bad_path_expression"===(a=a?a.split(":")[1]:-1)&&(a=this.isAWS()?"aws:bad_path_expression":"dp:bad_path_expression"),a){case"aws_bad_credentials":i="#source-wizard-form-awskeys",s="#sw-aws-accesskey-id, #sw-aws-accesskey-secret";break;case"s3_bucket_not_exists":case"s3_unsupported_bucket_name":case"s3_bucket_no_get_permissions":case"s3_bucket_no_listing_permissions":i="#source-wizard-form-awsbucket",r=".source-wizard-error:first",s="#sw-aws-bucket";break;case"s3_bucket_bad_endpoint":i="#source-wizard-form-awsregion";break;case"s3_bucket_has_no_files":case"aws:bad_path_expression":i="#source-wizard-form-awsbucket",r=".source-wizard-error:last",s="#sw-path-expr";break;case"dp:bad_path_expression":case"path_validation_timeout":i="#source-wizard-form-sourcepath",r=".source-wizard-error:last",s="#sw-path-expr";break;case"channel_not_started":i="#source-wizard-form-sourcepath",n=e.err_cannot_open_channel_to_collector;break;case"missing_download_offerings":case"no_matching_download_offerings":i="#source-wizard-form-select-os";break;case"no_matching_source_type":case"no_files_found_for_path_expression":case"invalid_path_expressions":i="#source-wizard-form-sourcepath",s="#sw-path-expression";break;case"invalid_sourcecat_chars":i="#source-wizard-form-sourcepath";break;case"source_category_too_long":case"unique_sourcecat":this.spinnerOver(this.$("#sw-source-category"),!1),i="#source-wizard-form-sourcecat";break;case"no_such_collector":i="#source-wizard-form-select-collector-class-existing";break;default:SumoApp.userMessage.error(n)}a&&this._renderError(i,r,n,s)}}},renderStep:function(){var e=this.getView("sidebar");e&&(this.sourceView.selectOrInstall?(e.activateStep(".sw-sb-select-os-sidebar"),this.isCustom()&&this.manageButtonState(this.buttonStates.SUBMIT_HIDE)):this.isGeneric()?e.activateStep(".sw-sb-upload-sidebar"):e.activateStep(".sw-sb-collect-logs-sidebar"),this.isAWS()&&this.$("#sw-aws-accesskey-id").trigger("focus"))}}}}.apply(t,s))||(e.exports=n)},63447:function(e,t,i){var s,n;s=[i(34908)],void 0===(n=function(e){"use strict";return e=e.default,{init:function(){_.bindAll(this,"getThirdPartyRef","opened","closeContact","_anyBlanks","reset","spinnerControl","isEmptyField","updateModel","getSourceCategory","switchTZLists","hasTimezone","getIgnoreClicks","setIgnoreClicks","switchView","getErrorInfo","isWinPerf","isWinEvent","isSyslog","isOnLastScreen")},mixin:{errInfo:null,serviceType:null,hasSecond:null,hideContinue:null,shouldIgnoreClick:null,opened:function(){},getThirdPartyRef:function(){var e=this.isGraphiteType()?"Graphite":"CollectD"===this.serviceType?"Carbon2":this.serviceType;return JSON.stringify({resources:[{serviceType:e,path:{type:"NoPathExpression"},authentication:{type:"NoAuthentication"}}]})},getErrorInfo:function(){return this.errInfo},getSourceCategory:function(){return this.model.get("sourceCategory")},isOnLastScreen:function(){return this.$(".source-wizard-view-ctr.-last").is(":visible")&&!this.$("#sw-http-source-url").is(":visible")},isWinPerf:function(){return["windows-performance","WindowsPerformance"].indexOf(this.serviceType)>-1},isWinEvent:function(){return["windows-event","WindowsEvent","custom-windows-event","CustomWindowsEvent"].indexOf(this.serviceType)>-1},isCustomWinEvent:function(){return["custom-windows-event","CustomWindowsEvent"].indexOf(this.serviceType)>-1},isHostMetrics:function(){return"HostMetrics"===this.serviceType},hasTimezone:function(){return!(this.isWinEvent()||this.isWinPerf()||this.isHostMetrics()||this.isGraphiteType())},isSyslog:function(){var e="Other"===this.serviceType?this.options.serviceType:this.serviceType;return["syslog","cisco","paloaltonetworks","Cisco","PAN"].indexOf(e)>-1||this.isGraphiteType()},getGraphiteType:function(){return"Other"===this.serviceType?this.options.serviceType:this.serviceType},isGraphiteType:function(){var e=this.getGraphiteType();return["graphite","Graphite","statsd","StatsD","dropwizard","DropWizard"].indexOf(e)>-1},getIgnoreClicks:function(){return this.shouldIgnoreClick},setIgnoreClicks:function(e){this.shouldIgnoreClick=e},updateModel:function(){},spinnerControl:function(e,t,i){var s=this.$(t);s.length&&(e?(s.spinner("updateMessage",i),s.spinner("show")):(s.spinner("updateMessage",""),s.spinner("hide")))},closeContact:function(){this.$el.closest(".fullpage-ctr").removeClass("contact-visible").find(".source-wizard-contact").hide()},switchTZLists:function(e){"sw-timezone-ignore-log"===e.target.id?(this.getView("ignoreLogTZView").enable(),this.getView("fromLogTZView").disable()):(this.getView("fromLogTZView").enable(),this.getView("ignoreLogTZView").disable()),this.boxChange(e)},switchView:function(e){e&&(this.$(".source-wizard-view-ctr").toggle(),$(".source-wizard-title")[0].scrollIntoView(),this.hasSecond&&(this.hasSecond=!1))},isEmptyField:function(e){return _.isString(e)?SumoUtil.isStringEmpty(e):!!_.isArray(e)&&0===e.length},isValidSourceCat:function(){return SumoUtil.isValidName(this.getSourceCategory(),["\\\\","/"])?!(this.getSourceCategory().indexOf(" ")>-1)||(this.errInfo={errCtr:"#source-wizard-form-sourcecat",errDiv:".source-wizard-error",errInp:"#sw-source-category",errMsg:e.err_invalid_source_category_space},!1):(this.keyedError="ui:invalid_sourcecat_chars",this.errInfo={errCtr:"#source-wizard-form-sourcecat",errDiv:".source-wizard-error",errInp:"#sw-source-category",errMsg:e.err_invalid_source_category},!1)},reset:function(){},_anyBlanks:function(){return!1}}}}.apply(t,s))||(e.exports=n)},88100:function(e,t){var i;void 0===(i=function(){return Backbone.Model.extend({createView:function(e,t){$.log("Sumo.Ui.Setup.StepModel.createView - Step: '%s (%s)'",this.getStepId(),this.getTitle());var i=$.extend(e||{},this.getModelOptions()||{});t(new(this.getViewClass())(i))},createModel:function(e,t){$.log("Sumo.Ui.Setup.StepModel.createModel - Step: '%s (%s)'",this.getStepId(),this.getTitle());var i=$.extend(e||{},this.getModelOptions()||{}),s=this.getModelClass();t(s?new s(i):null)},getStepId:function(){return this.get("id")},getName:function(){return this.get("name")},getTitle:function(){return this.get("title")},getDescription:function(){return this.get("description")},isBackButtonHidden:function(){return this.get("hideBackButton")},getViewClass:function(){return this.get("viewClass")},getModelClass:function(){return this.get("modelClass")},getModelOptions:function(){return this.get("modelOptions")},getExitCallback:function(){return this.get("exitCallback")},isHidden:function(){return this.get("hidden")},onStepActivation:function(){var e=this.get("onStepActivation");e&&e()},defaults:{id:null,name:null,title:null,description:null,hideBackButton:!1,viewClass:null,modelClass:null,modelOptions:null,exitCallback:null,hidden:!1}})}.apply(t,[]))||(e.exports=i)},33962:function(e,t,i){var s,n;s=[i(88100)],void 0===(n=function(e){return Backbone.Collection.extend({model:e})}.apply(t,s))||(e.exports=n)},68641:function(e,t,i){var s,n;s=[i(60567),i(53091),i(71314)],void 0===(n=function(e,t,i){return e.SumoViewModule.extend({mixins:[],events:{},getViewName:function(){return"HerokuHeaderView"},getComponent:function(){return"thirdpartyheaders"},getOrganizationName:function(){return SumoApp.getAngularService("currentUserHelper").getOrg().name||""},initialize:function(e){var t=this.getOrganizationName(),i=localStorage.getItem("ui.heroku.appName"),s=i||t,n=localStorage.getItem("ui.heroku.addonId"),a=n||SumoApp.priv.getDynamicProperty("heroku_app_add_on_id");Boomerang.init({app:s.replace(/\+/g," "),addon:a.replace(/\+/g," ")}),$("head").append($("<link>",{rel:"stylesheet",href:"css/sumo/partners/heroku.css"})),this.render()},render:function(){return this}})}.apply(t,s))||(e.exports=n)},50168:function(e,t,i){var s,n;s=[i(63205)],void 0===(n=function(e){"use strict";return{toolTip:{HARD:e.searchJSON.hard_tooltip,MEDIUM:e.searchJSON.hard_tooltip,EASY:e.searchJSON.easy_tooltip},subHeading:{LONG_RANGE:e.searchJSON.long_range_heading,LOW_SELECTIVITY:e.searchJSON.low_sel_heading,SCANNED_DATA:e.searchJSON.scan_data_heading,SCANNED_DATA_AUTO_PARSE:e.searchJSON.scan_data_auto_parse_heading,HEAVY_OPERATOR:e.searchJSON.heavy_operator_heading,NO_VIEWS_USED:e.searchJSON.no_views_heading},examples:{LONG_RANGE:[e.searchJSON.long_range_ex1,e.searchJSON.long_range_ex2,e.searchJSON.long_range_ex3],LOW_SELECTIVITY:[e.searchJSON.low_sel_ex1,e.searchJSON.low_sel_ex2,e.searchJSON.low_sel_ex3,e.searchJSON.low_sel_ex4],SCANNED_DATA:[e.searchJSON.scan_data_ex1,e.searchJSON.scan_data_ex2,e.searchJSON.scan_data_ex3,e.searchJSON.scan_data_ex4],SCANNED_DATA_AUTO_PARSE:[e.searchJSON.scan_data_auto_parse_ex1,e.searchJSON.scan_data_ex1,e.searchJSON.scan_data_ex2,e.searchJSON.scan_data_ex3,e.searchJSON.scan_data_ex4],HEAVY_OPERATOR:[e.searchJSON.heavy_operator_ex1,e.searchJSON.heavy_operator_ex2],NO_VIEWS_USED:[e.searchJSON.no_views_ex1,e.searchJSON.no_views_ex2]}}}.apply(t,s))||(e.exports=n)},48365:function(e,t,i){var s,n;s=[i(60567),i(63205),i(27481),i(19028),i(22443),i(50963),i(50563),i(5013),i(51901),i(83957)],void 0===(n=function(e,t,i,s,n,a,r,o,l,d){var c=r.applicationContext,u=e.SumoViewModule,h=e.MenuControllerViewModule,g=e.ResultsViewerConstants;o=o.searchPerformanceService;var p=l.SearchPerformanceMetrics;return u.extend({events:{"click #aggregate-viewer-selectors .action-button":"onViewerButtonClick","click #aggregate-save-back-to-monitor-button":"onSaveBackToMonitor","click #aggregate-add-to-dashboard-button":"onAddToDashboard","click #aggregate-export-button":"onExportResults","exportResults #aggregate-export-controls":"onExportResults","resetMinorTickInterval #aggregate-actions-view":"onResetMinorTickInterval","chartRendered #aggregate-actions-view":"onChartRendered"},template:_.template(i),viewerTypeButtons:null,menuController:null,exportViewReact:null,onSearchStatusChange:function(){this.enableDisableActions()},onRecordCountLastFetchedChange:function(){this.enableDisableActions()},isActionButtonDisabled:function(e){return this.$("#"+e).hasClass("btn-disabled")},enableActionButton:function(e){this.$("#"+e).removeClass("btn-disabled")},disableActionButton:function(e){this.$("#"+e).addClass("btn-disabled")},isCurrentViewer:function(e){return this.$("#"+e).hasClass("is-active")},onViewerButtonClick:function(e){var t=$(e.currentTarget).attr("id"),i=_.invert(this.viewerTypeButtons);o.start({id:"changeViewType"+i[t],metric:p.ViewTypeChangeDelay,skipSli:!0}),this.isActionButtonDisabled(t)||this.isCurrentViewer(t)||this.model.setViewerType(i[t])},onSaveBackToMonitor:function(e){var t="aggregate-save-back-to-monitor-button";this.isActionButtonDisabled(t)||(this.disableActionButton(t),$.later(300,this,(function(){this.enableActionButton(t)})),$("#search-view").trigger("saveBackToMonitor"))},onAddToDashboard:function(e){o.start({id:"addSaveToDashboard",metric:p.AddToDashboardDelay,skipSli:!0});var t="aggregate-add-to-dashboard-button";if(!this.isActionButtonDisabled(t)){this.disableActionButton(t),$.later(300,this,(function(){this.enableActionButton(t)}));var i=this.model.getViewerType();$("#search-view").trigger("addToDashboard",i)}},onExportResults:function(){this.exportViewReact&&this.exportViewReact.current.onExportResults(_.pluck(this.model.getFields(),"name"))},onResetMinorTickInterval:function(){this.model.getSearchViewSettingsModel().setAggregateResultsSettingsUpdated($.now())},onChartRendered:function(e,t){var i=this.model.getResultsViewerSettingsModel();if(i){var s=i.getXAxis(),n=i.getYAxis();s.minorTickInterval=t.minorTickIntervalX,s.minorGridLineColor=t.minorGridLineColorX,n[0].minorTickInterval=t.minorTickIntervalY,n[0].minorGridLineColor=t.minorGridLineColorY,i.setXAxis(s),i.setYAxis(n);var a=this.model.getSearchViewSettingsModel();a.updateAggregateResultsViewerSettingsModel(i),a.setAggregateResultsSettingsUpdated($.now())}},onViewerTypeChange:function(){var e=this.model.getViewerType(),t=this.viewerTypeButtons[e];if(this.$(".is-active").removeClass("is-active"),this.updateAggregateTabMinWidth(),_.isUndefined(t))throw"No handler for viewerType["+e+"].";this.$("#"+t).addClass("is-active")},updateAggregateTabMinWidth:function(){var e=this.model.getViewerType();this.$("#aggregate-save-back-to-monitor-button").is(":visible")&&e===g.ViewerType.TABLE?$("#aggregate-records").css("min-width","1020px"):$("#aggregate-records").css("min-width","900px")},enableDisableActionsForTimeSeries:function(){var e=[g.ViewerType.LINE_CHART,g.ViewerType.TABLE],t=this.model.getViewerType();_(e).contains(t)||this.model.setViewerType(g.ViewerType.TABLE),this.enableActionButton("aggregate-table-viewer-button"),this.disableActionButton("aggregate-single-value-viewer-button"),a.isTimeSeriesData(this.model.getFields())&&this.enableActionButton("aggregate-line-chart-viewer-button")},enableDisableActionsForMetrics:function(){this.enableActionButton("aggregate-line-chart-viewer-button"),this.enableActionButton("aggregate-table-viewer-button"),this.disableActionButton("aggregate-single-value-viewer-button")},enableDisabledActionsForTimeShift:function(){this.enableActionButton("aggregate-bar-chart-viewer-button"),this.enableActionButton("aggregate-column-chart-viewer-button"),this.enableActionButton("aggregate-line-chart-viewer-button"),this.enableActionButton("aggregate-table-viewer-button"),this.enableActionButton("aggregate-single-value-viewer-button"),this.enableActionButton("aggregate-area-chart-viewer-button"),this.enableActionButton("aggregate-pie-chart-viewer-button"),this.enableActionButton("aggregate-boxplot-chart-viewer-button")},enableDisabledActionsForOthers:function(){this.enableActionButton("aggregate-bar-chart-viewer-button"),this.enableActionButton("aggregate-column-chart-viewer-button"),this.enableActionButton("aggregate-line-chart-viewer-button"),this.enableActionButton("aggregate-area-chart-viewer-button"),this.enableActionButton("aggregate-pie-chart-viewer-button"),this.enableActionButton("aggregate-boxplot-chart-viewer-button")},resetActions:function(){this.disableActionButton("aggregate-bar-chart-viewer-button"),this.disableActionButton("aggregate-column-chart-viewer-button"),this.disableActionButton("aggregate-line-chart-viewer-button"),this.disableActionButton("aggregate-area-chart-viewer-button"),this.disableActionButton("aggregate-pie-chart-viewer-button"),this.disableActionButton("aggregate-boxplot-chart-viewer-button"),this.disableActionButton(this.viewerTypeButtons[g.ViewerType.SANKEY])},enableDisableForLogReduceExplain:function(){this.resetActions(),this.disableActionButton("aggregate-single-value-viewer-button")},enableDisableActions:function(){this.$("#aggregate-export-controls").hide();var e=this.model.getSearchQueryModel(),t=e.getStatus(),i=e.getRecordCount(),s=this.model.getViewerType();if(t===e.STATUS_ERROR||t===e.STATUS_GATHERING_RESULTS&&0===this.model.getFields().length?(this.disableActionButton("aggregate-add-to-dashboard-button"),this.disableActionButton("aggregate-save-back-to-monitor-button")):(this.enableActionButton("aggregate-add-to-dashboard-button"),this.enableActionButton("aggregate-save-back-to-monitor-button")),i>0){if(this.resetActions(),this.model.isChartable()){var n=this.model.getTypeOfQuery(),a=g.QueryType;switch(n){case a.METRICS:this.enableDisableActionsForMetrics();break;case a.TIME_SERIES:this.enableDisableActionsForTimeSeries();break;case a.TIME_SHIFT:this.enableDisabledActionsForTimeShift();break;case a.LOG_REDUCE:case a.LOG_EXPLAIN:this.enableDisableForLogReduceExplain();break;default:this.enableDisabledActionsForOthers()}}this.model.isSankeyApplicable()&&this.enableActionButton(this.viewerTypeButtons[g.ViewerType.SANKEY]),this.disableActionButton("aggregate-map-viewer-button"),this.model.isMapable()&&this.enableActionButton("aggregate-map-viewer-button"),(e.isDoneGathering(t)||e.isPaused(t)||e.isErrorStatus(t)&&0!==i)&&s===g.ViewerType.TABLE&&!c.currentUserHelper.hasFeatureFlag("UILogSearchHideExportOptions")&&c.currentUserHelper.hasPermission("DOWNLOAD_SEARCH_RESULTS")&&this.$("#aggregate-export-controls").show()}else this.resetActions()},initializeActions:function(){var e=this.model.getSearchQueryModel();if(e.isMetricADQuery())this.$("#aggregate-add-to-dashboard-controls").hide();else{this.$("#aggregate-add-to-dashboard-controls").show();var t=e.getDrilldownMonitor();t&&t.isMine&&t.parentType!=n.PanelParentType.DASHBOARD?this.$("#aggregate-save-back-to-monitor-button").show():this.$("#aggregate-save-back-to-monitor-button").hide()}this.enableDisableActions(),this.updateAggregateTabMinWidth()},createExportView:function(){const e={searchQueryId:this.model.getSearchQueryId(),alias:"query",registerSearchExportApi:e=>{this.exportViewReact=e},onErrorCallback:(e,t)=>{$("#search-view").trigger("error",{errorMessage:e,errorDetails:t})}};d.createSearchExportView(e,this.$("#aggregate-export-container")[0])},createSettingsMenu:function(){var e="#aggregate-settings-view",t=this.$(e),i=this;this.menuController=new h({el:this.$("#aggregate-settings-menu"),menuControllerId:"#aggregate-settings-controller",menuControllerIconId:"#aggregate-settings-controller-icon",menuControllerOpenClass:"aggregate-settings-controller-open",menuContainerId:e,onShow:function(e){var s=i.options.context.userInfo,n=e.shiftKey||e.metaKey||s.isDevEnv;i.subviews.get("aggregate-settings-view").onShow(n);var a=$(e.target),r=a.width(),o=a.position().left-t.width()+r+10;t.css({left:o,right:"auto",top:"28px"})}}),this.subviews.register("aggregate-settings-view",new s({model:this.model,context:this.options.context,el:t,controller:this.$("#aggregate-settings-controller")}))},onResize:function(e){this.menuController&&1==e&&this.menuController.hideMenu()},initialize:function(){$.log("Sumo.Ui.Search.Results.AggregateActionsView.initialize - %s",this.cid),_.bindAll(this,"render","onResize","initializeActions","enableDisableActions","isActionButtonDisabled","enableActionButton","disableActionButton","createSettingsMenu","createExportView","onViewerTypeChange","onSearchStatusChange","onRecordCountLastFetchedChange"),this.subviews.setModel(this.model);var e={};e[g.ViewerType.TABLE]="aggregate-table-viewer-button",e[g.ViewerType.BAR_CHART]="aggregate-bar-chart-viewer-button",e[g.ViewerType.COLUMN_CHART]="aggregate-column-chart-viewer-button",e[g.ViewerType.LINE_CHART]="aggregate-line-chart-viewer-button",e[g.ViewerType.AREA_CHART]="aggregate-area-chart-viewer-button",e[g.ViewerType.PIE_CHART]="aggregate-pie-chart-viewer-button",e[g.ViewerType.BOXPLOT_CHART]="aggregate-boxplot-chart-viewer-button",e[g.ViewerType.MAP]="aggregate-map-viewer-button",e[g.ViewerType.SINGLE_VALUE_VIEWER]="aggregate-single-value-viewer-button",e[g.ViewerType.SANKEY]="aggregate-sankey-button",this.viewerTypeButtons=e,this.listenTo(this.model,"change:lastRecordsUpdated",this.enableDisableActions),this.listenTo(this.model,"change:chartData",this.enableDisableActions);var t=this.model.getSearchViewSettingsModel();this.listenTo(t,"change:aggregateResultsViewerType",this.onViewerTypeChange);var i=this.model.getSearchQueryModel();this.listenTo(i,"change:status",this.onSearchStatusChange),this.listenTo(i,"change:recordCountLastFetched",this.onRecordCountLastFetchedChange),this.listenTo(i,"change:drilldownMonitor",this.initializeActions),this.render(),this.createExportView(),this.createSettingsMenu(),this.initializeActions(),this.onViewerTypeChange()},render:function(){$.log("Sumo.Ui.Search.Results.AggregateActionsView.render - "+this.cid);var e={__:t.searchJSON},i=this.template(e);return this.$el.html(i),this},destroy:function(){$.log("Sumo.Ui.Search.Results.AggregateActionsView.destroy - "+this.cid),this.menuController&&this.menuController.destroy(),this.subviews.destroy(),d.destroySearchExportView(this.$("#aggregate-export-container")[0]),this.viewerTypeButtons=null,SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},40473:function(e,t,i){var s,n;s=[i(63205),i(12466),i(60567),i(34074),i(83496),i(50563)],void 0===(n=function(e,t,i,s,n,a){var r=s.SearchQueryDataModule,o=a.applicationContext,l=i.ChartModelModule,d=i.ChartViewModule,c=i.ResultsViewerConstants,u=i.searchParametersService;return Backbone.View.extend({events:{"showChartOptions #aggregate-chart-container":"onShowChartOptions","updateChartAxis #aggregate-chart-container":"onUpdateChartAxis"},template:_.template(t),chartView:null,chartModel:null,metricADFieldNames:["_spike","_level","_trend"],metricADSymbols:{spike:{symbol:"triangle"},level:{symbol:""},trend:{symbol:"circle"},mixed:{symbol:"diamond"}},ANOMALY_COLOR:"#E51C8E",LEVEL_COLOR:"#9ecae1",onShowChartOptions:function(e){this.chartView&&this.chartView.showChartOptions()},onUpdateChartAxis:function(e,t){this.chartModel.setProposedMinorTickInterval(t),this.chartView.updateChartAxis(t)},onSearchStatusChange:function(){this.onRecordsUpdated()},onRecordsUpdated:function(){var e=this.model.getSearchQueryModel(),t=e.getStatus();(e.isPaused(t)||e.isForcePaused(t))&&this.model.loadChartData()},getChartOptions:function(){var e={reflow:!1,enableAnimation:!1,zoomType:"x",showLabels:!0,labelRotation:-45};e.chartType=this.model.getViewerType();var t=this.model.getSearchViewSettingsModel().getAggregateResultsViewerSettingsModel();if(this.model.getSearchQueryModel().getDrilldownMonitor()){var i=this.model.getDrilldownMonitorColorFamilyIndex();e.colorFamilyIndex=i}else _.isFunction(t.getColorFamily)&&t.getColorFamily()||(e.colorsAlt=c.DefaultChartColors);return e.legendSearchInput=this.model.getlegendSearchInput(),e},onMetricADChartDataUpdated:function(e){var t=this.model.getFields(),i=this.model.getChartData(),s=e.metricADConfig,n=s.anomalyField.name,a=s.levelThreshold,r=s.trendThreshold,o=this.metricADFieldNames.map((function(e){return n+e})),l=[],d=[],c=[];if(i)for(var u=0;u<i.length;u++){var h=i[u],g=_.map(o,(function(e){var t=_.find(s,(function(t,i){return-1!==e.indexOf(i)}));if(-1!==e.indexOf("spike")){var i=!_.isUndefined(h[e])&&("true"===h[e]||"1"===h[e]);return{fieldName:e,isAnomaly:i,isEnabled:t,value:i}}i=!_.isUndefined(h[e])&&parseFloat(h[e]);var n=-1!==e.indexOf("level")?a:r;return{fieldName:e,isAnomaly:i>=n,isEnabled:t,value:i}})),p=_.filter(g,(function(e){return e.isEnabled&&e.isAnomaly})),m=null,f=null,S=null;if(_.isArray(p)&&p.length>0){var v="mixed";if(1===p.length){var w=_.first(p).fieldName;v=w.substr(w.lastIndexOf("_")+1)}if(("level"===v||_.find(p,(function(e){return e.fieldName.indexOf("_level")>-1})))&&u<i.length-1){var b={color:this.LEVEL_COLOR,from:i[u+1]._timeslice,to:h._timeslice};c.push(b)}m=this.metricADSymbols[v].symbol,f=this.ANOMALY_COLOR,S={_metricType:v},_.each(g,(function(e){e.isEnabled&&e.isAnomaly&&(S[e.fieldName]=e.value)}))}l.unshift({markerSymbolUrl:m,color:f,additionalSeriesData:S,hiddenSeriesData:{}}),d=_.filter(t,(function(e){var t=e.name;return _.isUndefined(_.find(o,(function(e){return e===t})))}))}this.chartModel.setTooltipFormatter(this.getMetricADTooltip),this.chartModel.setFields(d),this.chartModel.setChartDataProperties(l),this.chartModel.setChartData(i),this.chartModel.setChartPlotBands(c)},getMetricADTooltip:function(t){t.category;var i=t.category,s=t.seriesName,n=t.seriesValue,a=t.markerColor||t.seriesColor,r=t.additionalSeriesData,o=[];if(o.push("<table>"),r){var l=r._metricType,d=e.searchJSON.metric_ad_mixed;"mixed"!==l&&(d=e.searchJSON["metric_ad_"+l]+" "+e.searchJSON.metric_ad_event),o.push("<tr>"),o.push('<td colspan="2" style="font-weight: bold; color: '+a+';">'),o.push(d),o.push("</td>"),o.push("</tr>")}o.push("<tr>"),o.push("<td colspan='2' style='text-align: center;'>");var c=SumoApp.dateUtil.formatDateTime();o.push(c(i)),o.push("</td>"),o.push("</tr>"),o.push("<tr>"),o.push("<td style='text-align: right; font-weight: bold; color: "),o.push(a),o.push("'>");var u=this.chartModel.getMaxTooltipLength(),h=Math.floor(u/2),g=s;g.length>=u&&(g=g.substring(0,u-3)+"..."),g.length>=h+3&&(g=g.substr(0,h)+"<br/>"+g.substr(h)),o.push(g),o.push(":&nbsp;</td>"),o.push("<td style='text-align: left; font-weight: bold;'>");var p="";return p="double"===this.chartModel.getValueFieldsTypes()[s]?SumoUtil.formatDouble(n+"",5):SumoUtil.formatNumber(n+""),o.push(p),o.push("</td>"),o.push("</tr>"),o.push(this._getAdditionalSeriesDataTooltip(r,a)),o.push("</table>"),o.join("")},_getAdditionalSeriesDataTooltip:function(e,t){var i=[];if(e){var s=_.keys(e);if(s)for(var n=0;n<s.length;n++){var a=s[n];if("_metricType"!==a){var r=e[a];i.push("<tr>"),i.push(sprintf('<td style="text-align: right; font-weight: bold; color: %s">',t)),i.push(a),i.push(":&nbsp;</td>"),i.push("<td style='text-align: left; font-weight: bold;'>"),i.push(r),i.push("</td>"),i.push("</tr>")}}}return i.join("")},onChartDataUpdated:function(){var e=this.model.getModelChecksum(!0,!0);if(this.currentChecksum!==e&&(this.currentChecksum=e,$("#aggregate-records-results-status").hide(),this.chartModel)){var t=this.model.getSearchQueryModel(),i=t.getStatus();(t.isDoneGathering(i)||t.isPaused(i)||t.isForcePaused(i))&&(this.chartModel.setChartDataStartMillis(t.getStartMillis()),this.chartModel.setChartDataEndMillis(t.getEndMillis())),this.chartModel.setFields(this.model.getFields()),this.chartModel.setChartData(this.model.getChartData()),this.chartModel.setQueryString(this.getQueryWithParamVal(t)),this.chartModel.setLastDataUpdated($.now())}},getQueryWithParamVal:function(e){var t=e.getSearchExpression(),i=e.getParameterModel(),s=i.get("parameters"),n=i.get("paramPositionMap");return u.getDisplayQueryExpression(t,s,n)},getTimeSeriesAnalyticsOperatorBeforeChartView:function(){var e=this.model.getSearchQueryModel();return this.chartModel.setQueryString(this.getQueryWithParamVal(e)),this.chartModel.getTimeSeriesAnalyticsOperator(!1)},setChartContainerSize:function(){var e=this.$el.width(),t=this.$el.height()-34,s=this.$("#aggregate-records-chart-view");s.width(e),s.height(t);var n=e,a=t-2;this.chartModel.setChartViewWidth(n),this.chartModel.setChartViewHeight(a);var r=this.$("#aggregate-chart-container");if(i.isSearchableLegendFeatureFlagOn()&&this.chartModel.getShowLegend()&&i.validLegendsType(this.chartModel.getChartType())){var o=this.$("#charts-legends-container");this.getTimeSeriesAnalyticsOperatorBeforeChartView()&&this.chartModel.setLegendPosition(c.ChartLegendPosition.BOTTOM),this.chartModel.getLegendPosition()===c.ChartLegendPosition.RIGHT?(s.attr("data-enabled-search-legends","true"),this.chartModel.getLegendWidth()?(o.width(this.chartModel.getLegendWidth()),r.width(n-this.chartModel.getLegendWidth())):(o.width(200),r.width(n-200)),o.height(a+8),r.height(a)):(s.attr("data-enabled-search-legends","false"),r.width(n),o.width(n+16),this.chartModel.getLegendHeight()?(o.height(this.chartModel.getLegendHeight()),r.height(a-this.chartModel.getLegendHeight())):(o.height(120),r.height(a-120)))}else r.width(n),r.height(a)},onResize:function(){$.log("Sumo.Ui.Search.Results.AggregateRecordsChartView.onResize - %s",this.cid);var e=this.$el.width(),t=this.$el.height();e<5||t<5?$.log("Sumo.Ui.Search.Results.AggregateRecordsChartView.onResize - skipping - invalid container size."):this.chartView&&(this.chartModel.getLegendHeight()&&this.chartModel.getLegendHeight()>.95*t&&this.chartModel.setLegendHeight(null),this.setChartContainerSize(),this.chartView.resizeChart())},updateHiddenLegends:function(){this.model.setHiddenLegends(this.chartModel.getSeriesToHide())},updateLegendSearchInput:function(){this.model.setlegendSearchInput(this.chartModel.getlegendSearchInput())},initialize:function(){$.log("Sumo.Ui.Search.Results.AggregateRecordsChartView.initialize - %s",this.cid),_.bindAll(this,"triggerDrilldown","render","getChartOptions","setChartContainerSize","onResize","onRecordsUpdated","onSearchStatusChange","onChartDataUpdated","getMetricADTooltip","updateHiddenLegends"),$("#sumoapp").on("applicationResize.aggregateRecordsChartView",this.onResize),this.listenTo(this.model,"change:lastRecordsUpdated",this.onRecordsUpdated),this.listenTo(this.model,"change:chartDataUpdated",this.onChartDataUpdated);var e=this.model.getSearchQueryModel();this.listenTo(e,"change:status",this.onSearchStatusChange),this.listenTo(SumoApp.sumoEvents,"change:metric-ad-config",this.onChartDataUpdated),this.render(),i.isSearchableLegendFeatureFlagOn()&&this.$("#aggregate-records-chart-view").append("<div id='charts-legends-container'></div>");var t=this.getChartOptions(),s=this.model.getResultsViewerSettingsModel();this.chartModel=new l(t,s),this.setChartContainerSize();var n=this.model.getSearchQueryModel().getTimeSliceInterval();if(this.chartModel.setTimeSliceInterval(n),this.chartModel.setSeriesToHide(this.model.getHiddenLegends()),this.chartModel.setMaxTooltipLength(300),this.listenTo(this.chartModel,"change:seriesToHide",this.updateHiddenLegends),this.listenTo(this.chartModel,"change:legendSearchInput",this.updateLegendSearchInput),i.isSearchableLegendFeatureFlagOn()&&this.chartModel.getShowLegend()){var a=this.model;this.chartModel.setSaveLegendDimensions((function(e){var t=a.getSearchViewSettingsModel();t.updateAggregateResultsViewerSettingsModel(e),t.setAggregateResultsSettingsUpdated($.now())}))}this.chartView=new d({context:this.options.context,model:this.chartModel,el:this.$("#aggregate-chart-container"),clickHandler:this.triggerDrilldown}),this.onChartDataUpdated(),this.model.loadChartData()},triggerDrilldown:function(e){if(o.currentUserHelper.hasFeatureFlag("UISearchChartDrilldown")){var t={queryString:e.point.searchQuery,dataPoint:e.dataPoint,metadata:e.metadata},i=this.model.getSearchQueryModel().getStartMillis(),s=this.model.getSearchQueryModel().getEndMillis();n.fetchDrilldownQueries(t).then((function(t){if(t){var n=new r,a=t[0];n.setQueryString(a.queryString),n.setStartTimestamp(a.startMillis),n.setEndTimestamp(a.endMillis),e.isTimeSeriesData||(n.setStartTimestamp(i),n.setEndTimestamp(s)),SumoUtil.searchDrilldownTrigger(n)}})).catch((function(e){}))}},render:function(){$.log("Sumo.Ui.Search.Results.AggregateRecordsChartView.render - %s",this.cid);var t={__:e.searchJSON},i=this.template(t);return this.$el.html(i),this.model.getRecordsCount()>0&&$("#aggregate-records-results-status").hide(),this},destroy:function(){$.log("Sumo.Ui.Search.Results.AggregateRecordsChartView.destroy - %s",this.cid),$("#sumoapp").off("applicationResize.aggregateRecordsChartView"),this.chartView&&this.chartView.destroy(),this.chartView=null,this.chartModel=null,SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},8958:function(e,t,i){var s,n,a=i(89131);s=[i(63205),i(23836),i(60567),i(9403),i(50563)],void 0===(n=function(e,t,i,s,n){var r=i.MapModelModule,o=n.applicationContext,l=s.geojsonService;return Backbone.View.extend({template:_.template(t),mapView:null,mapModel:null,frozenHeaderHeight:34,scope:null,onSearchStatusChange:function(){this.onRecordsUpdated()},onRecordsUpdated:function(){var e=this.model.getModelChecksum();if(this.currentChecksum!=e){this.currentChecksum=e;var t=this.model.getSearchQueryModel(),i=t.getStatus();(t.isPaused(i)||t.isForcePaused(i))&&this.model.loadMapData()}},getMapOptions:function(){return{}},onMapDataUpdated:function(){if(this.model.getMapDataSize()>0&&($("#aggregate-records-results-status").hide(),this.mapModel)){var e,t=this.model.getFields();this.mapModel.setFields(t),this.mapModel.setMapData(this.model.getMapData()),this.mapModel.setLastDataUpdated($.now()),!this.model.isMapable()&&this.mapChartScope&&a.element(".map-chart").remove();var i=this.model.getMapData(),s=this.model.getCountField();e=l.convertToGeoJson(i,s,this.mapModel.isGuardDuty());var n=l.getBounds(e),r=this.model.getSearchQueryModel().isDoneGathering();o.safeApply(this.mapChartScope,this.updateMapChartScope.bind(this,e,n,r))}},updateMapChartScope:function(e,t,i){this.mapChartScope.geoData=e,this.mapChartScope.geoDataBounds=t,this.mapChartScope.hasLoadedAllResults=i},setMapContainerSize:function(){var e=this.$el.width(),t=this.$el.height()-this.frozenHeaderHeight,i=this.$("#aggregate-records-map-view");i.width(e),i.height(t);var s=e,n=t-2,a=this.$("#aggregate-map-container");a.width(s),a.height(n)},onResize:function(){$.log("Sumo.Ui.Search.Results.AggregateRecordsMapView.onResize - %s",this.cid);var e=this.$el.width(),t=this.$el.height();e<5||t<5?$.log("Sumo.Ui.Search.Results.AggregateRecordsMapView.onResize - skipping - invalid container size."):(this.mapView&&(this.setMapContainerSize(),this.mapView.resizeMap()),o.safeApply(this.mapChartScope,function(){this.mapChartScope.resize=!this.mapChartScope.resize}.bind(this)))},initialize:function(){$.log("Sumo.Ui.Search.Results.AggregateRecordsMapView.initialize - %s",this.cid),_.bindAll(this,"render","getMapOptions","setMapContainerSize","onResize","onRecordsUpdated","onSearchStatusChange","onMapDataUpdated"),this.model.setMapData(null),this.listenTo(this.model,"change:lastRecordsUpdated",this.onRecordsUpdated),this.listenTo(this.model,"change:mapDataUpdated",this.onMapDataUpdated);var e=this.model.getSearchQueryModel();this.listenTo(e,"change:status",this.onSearchStatusChange),this.render();var t=this.getMapOptions(),i=this.model.getResultsViewerSettingsModel();this.mapModel=new r(t,i),this.mapChartScope=o.$rootScope.$new(),this.mapChartScope.geoData=this.model.getMapData(),this.mapChartScope.geoDataBounds=l.getBounds(this.mapChartScope.geoData),this.mapChartScope.hasLoadedAllResults=!1;var n=this.$el.find(".map-chart"),a=l.convertBoundsToCenterAndZoom(s.WORLD_BOUNDS,512,n.width()),d=a.center,c=a.zoom,u=i.attributes.configuration.maptype;this.mapModel.isGuardDuty(this.model.getFields())&&(u="guardDuty",i.setMapType(u)),this.mapChartScope.initialCenterPoint=d,this.mapChartScope.initialZoom=c,this.mapChartScope.mapType=u;var h=SumoApp.ngCompile(n,this.mapChartScope,!0);this.mapChartScope.$on("$destroy",function(){h.remove()}.bind(this)),this.model.loadMapData()},render:function(){$.log("Sumo.Ui.Search.Results.AggregateRecordsMapView.render - %s",this.cid);var t={__:e.searchJSON},i=this.template(t);return this.$el.html(i),this.model.getRecordsCount()>0&&$("#aggregate-records-results-status").hide(),this},destroy:function(){$.log("Sumo.Ui.Search.Results.AggregateRecordsMapView.destroy - %s",this.cid),$("#sumoapp").off("applicationResize.aggregateRecordsMapView"),this.mapView&&this.mapView.destroy(),this.mapView=null,this.mapModel=null,this.mapChartScope&&(this.mapChartScope.$destroy(),this.mapChartScope=void 0),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},23370:function(e,t,i){var s,n;s=[i(63205),i(60567),i(50963),i(66359),i(5013),i(51901),i(50563)],void 0===(n=function(e,t,i,s,n,a,r){var o=t.MapUtilModule,l=t.ResultsViewerConstants,d=t.ChartUtil;n=n.searchPerformanceService;a.SearchPerformanceMetrics;var c=r.applicationContext,u=s.currentUserHelper;return Backbone.Model.extend({chartUtil:null,mapUtil:null,SEARCH_RUNNING_TIMEOUT:12e4,MAX_MAP_DATA_SIZE_LIMIT:1e4,MAX_SANKEY_RECORDS_SIZE_LIMIT:100,defaults:{searchQueryModel:null,subViewModels:null,page:-1,pageCount:0,isFetching:!1,recordsPerPage:25,records:[],lastRecordsUpdated:null,fields:[],maxChartDataSize:1442,chartData:null,chartDataLoading:!1,chartDataStatusMessage:null,chartDataUpdated:null,legendSearchInput:null,maxMapDataSize:1e4,mapData:null,mapDataLoading:!1,mapDataStatusMessage:null,mapDataUpdated:null,hiddenLegends:{},scrollTop:0,scrollLeft:0},initialize:function(){$.log("Sumo.Ui.Search.Results.AggregateRecordsModel.initialize - cid=%s",this.cid),this.ajax=this.get("context").ajax;var e=this.getSearchQueryModel().getSavedSearchSettingsModel();if(e&&this.setHiddenLegends(e.get("hiddenLegends")),this.set({subViewModels:{}}),this.chartUtil=new d,this.mapUtil=new o,this.maxMapDataSize=SumoApp.priv.getDynamicProperty("ui_max_map_data_size_limit")||this.MAX_MAP_DATA_SIZE_LIMIT,this.listenTo(this.getSearchQueryModel(),"change:recordCountLastFetched",this.countsUpdated),c.userHelperOverride.hasFeatureFlag("UISearchAggregateTable")){var t=this.getSearchQueryModel().getSearchViewSettingsModel();t&&(this.set({recordsPerPage:t.getMessagesToDisplay()}),this.listenTo(t,"change:messagesToDisplay",this.messagesToDisplayChanged))}},messagesToDisplayChanged:function(){this.getSearchQueryModel().resetCachedPages();var e=this.getSearchQueryModel().getSearchViewSettingsModel();this.set({recordsPerPage:e.getMessagesToDisplay()}),this.updatePageCount(),this.set({page:-1},{silent:!0}),c.userHelperOverride.hasFeatureFlag("UISearchAggregateTable")&&this.setFetching(!0),this.fetchPage(0)},destroy:function(){var e=this.getSearchQueryModel();e&&this.stopListening(e)},getlegendSearchInput:function(){return this.get("legendSearchInput")},setlegendSearchInput:function(e){this.set({legendSearchInput:e})},getSearchQueryModel:function(){return this.get("searchQueryModel")},setHiddenLegends:function(e){var t=_.extend({},this.get("hiddenLegends"));t[this.getSearchQueryId()]=e,this.set("hiddenLegends",t)},getHiddenLegends:function(){return this.get("hiddenLegends")[this.getSearchQueryId()]||[]},getSearchQueryId:function(){return this.getSearchQueryModel().getSearchQueryId()},getSearchViewSettingsModel:function(){return this.getSearchQueryModel().getSearchViewSettingsModel()},getResultsViewerSettingsModel:function(){var e=this.getSearchViewSettingsModel().getAggregateResultsViewerSettingsModel();if("getColorIndex"in e){var t=this.getSearchQueryModel().getDrilldownMonitor();if(t&&t.id)null==e.getColorIndex()&&e.setColorIndex(this.getDrilldownMonitorColorIndex())}return e},getDrilldownMonitorColorFamilyIndex:function(){var e=this.getSearchQueryModel().getDrilldownMonitor();return e&&e.parentId?e.parentId%l.ColorFamilies.length:null},getDrilldownMonitorColorIndex:function(){var e=this.getSearchQueryModel().getDrilldownMonitor();if(e&&e.id){var t=e.id,i=this.getDrilldownMonitorColorFamilyIndex()||0;return t%l.ColorFamilies[i].length}return null},getSubviewModel:function(e){return this.get("subViewModels")[e]},setSubviewModel:function(e,t){this.get("subViewModels")[e]=t},getPage:function(){return this.get("page")},setPage:function(e){this.set({page:e})},getPageCount:function(){return this.get("pageCount")},setPageCount:function(e){this.set({pageCount:e})},getRecordOffset:function(){return this.getPage()*this.getRecordsPerPage()},isFetching:function(){return this.get("isFetching")},setFetching:function(e){this.set({isFetching:e})},validateOffsetAndLength:function(e,t,i){var s=this.getRecordsPerPage();return null==t?($.log("Sumo.Ui.Search.Results.AggregateRecordsModel.validateOffsetAndLength - offset is null"),!1):t<0?($.log("Sumo.Ui.Search.Results.AggregateRecordsModel.validateOffsetAndLength - offset '%d' is negative",t),!1):t>e-1?($.log("Sumo.Ui.Search.Results.AggregateRecordsModel.validateOffsetAndLength - offset '%d' greater than or equal to records count: '%d'",t,e),!1):null==i?($.log("Sumo.Ui.Search.Results.AggregateRecordsModel.validateOffsetAndLength - length is null"),!1):i<0?($.log("Sumo.Ui.Search.Results.AggregateRecordsModel.validateOffsetAndLength - length '%d' is negative",i),!1):0==i?($.log("Sumo.Ui.Search.Results.AggregateRecordsModel.validateOffsetAndLength - length is zero"),!1):i>s?($.log("Sumo.Ui.Search.Results.AggregateRecordsModel.validateOffsetAndLength - length '%d' is greater than records per page: '%d'",i,s),!1):!(t+i>e)||($.log("Sumo.Ui.Search.Results.AggregateRecordsModel.validateOffsetAndLength - offset '%d' plus length '%d' greater than or equal to records count: '%d'",t,i,e),!1)},getTotalRecordsCount:function(){return this.getSearchQueryModel().getRecordCount()},getViewerType:function(){return this.getSearchViewSettingsModel().getAggregateResultsViewerType().toLowerCase()},setViewerType:function(e){this.getSearchViewSettingsModel().setAggregateResultsViewerType(e)},getRecordsPerPage:function(){return this.get("recordsPerPage")},setRecordsPerPage:function(e){this.set({recordsPerPage:e})},getRecords:function(){return this.get("records")},getRecordsCount:function(){var e=this.getRecords();return e?e.length:0},setRecords:function(e){0===e.length&&0===this.getRecords()||(this.set({records:e}),this.setChartData(e),this.setMapData(e),this.set({lastRecordsUpdated:$.now()}))},getFields:function(){return this.get("fields")},setFields:function(e){this.set({fields:e})},updatePageCount:function(){var e=this.getTotalRecordsCount(),t=this.getRecordsPerPage(),i=Math.ceil(e/t);this.setPageCount(i)},countsUpdated:function(){$.log("Sumo.Ui.Search.Results.AggregateRecordsModel - counts updated for query: '%d'",this.getTotalRecordsCount()),this.updatePageCount();var e=this.getTotalRecordsCount(),t=this.getPageCount();if(e>0){var i=this.getPage();i<0?this.setPage(0):t-1<i&&this.setPage(t-1),this.getViewerType()===l.ViewerType.TABLE||this.getViewerType()===l.ViewerType.SINGLE_VALUE_VIEWER?this.fetchPage(this.getPage()):this.getViewerType()===l.ViewerType.MAP?this.loadMapData():this.loadChartData()}else this.set({page:-1},{silent:!0}),this.setRecords([]),this.setChartData(null),this.setMapData(null)},resetDisplayedRowIndex:function(){this.getSearchViewSettingsModel().setAggregateTableFirstVisibleRowIndex(0)},fetchPage:function(e){if(e<0)$.log("Sumo.Ui.Search.Results.AggregateRecordsModel - fetch page '%d' is negative",e);else if(e>this.getPageCount()-1)$.log("Sumo.Ui.Search.Results.AggregateRecordsModel - fetch page for page '%d' greater than or equal page count: '%d'",e,this.getPageCount());else{var t=this.getTotalRecordsCount(),i=this.getRecordsPerPage(),s=e*i,n=Math.min(i,t-s);this.setPage(e),this.fetchRecords(s,n,(function(){}),e)}},fetchRecords:function(t,i,s,n){if($.log("Sumo.Ui.Search.Results.AggregateRecordsModel - fetching records for offset: '%d', length: '%d'",t,i),this.validateOffsetAndLength(this.getTotalRecordsCount(),t,i))if(this.getSearchQueryModel().isDestroying())$.log("Sumo.Ui.Search.Results.AggregateRecordsModel.fetchRecords - SearchQueryModel is being destroyed, no need to fetch.");else{var a=sprintf(this.ajax.EndpointFormats.V2_SEARCH_MESSAGES_QUERY_FORMAT,this.getSearchQueryId());a=a+"?offset="+t+"&length="+i;var r=this.get("sortData");_.isEmpty(r)||r.default||(a=a+"&sortBy="+r.field+","+("asc"===r.type?"true":"false")),this.setFetching(!0),this.ajax.call(this,{endpoint:a,errorCode:"search_query_records",timeout:this.SEARCH_RUNNING_TIMEOUT,retryLimit:10,success:function(e){if(_.isUndefined(n)||n==this.getPage())if(this.setFetching(!1),this.getSearchQueryModel().isDestroying())$.log("Sumo.Ui.Search.Results.AggregateRecordsModel.fetchRecords - SearchQueryModel is being destroyed, no need to update.");else if(s&&s(),e.records){var t=e.records.records,i=[];if(t.length>0){this.getSearchQueryModel().formatFieldsAndResults(e.records.fields,e.records.records);var a=e.records.fields;this.setFields(a);var r=t[0].keys;_.each(t,(function(e){var t={};i.push(t);for(var s=r.length,n=0;n<s;n++)t[r[n]]=e.values[n]}))}this.setRecords(i)}},error:function(t,i,s,n,a){if(this.setFetching(!1),this.trigger("fetchRecordError"),this.getSearchQueryModel().isDestroying())return $.log("Sumo.Ui.Search.Results.AggregateRecordsModel.fetchRecords - SearchQueryModel is being destroyed, no need to handle errors."),!1;var r=a?a.errorKey:null;if(r&&"sq2:invalid_session"==r){var o=i+" "+e.searchJSON.error_search_invalid_session;return $("#search-view").trigger("error",{errorMessage:o}),!1}return $("#search-view").trigger("error",{errorMessage:i,errorDetails:s}),!1}})}else $.log("Sumo.Ui.Search.Results.AggregateRecordsModel - offset '%d' and/or length: '%d' did not validate, exiting",t,i)},getChartDataStatusMessage:function(){return this.get("chartDataStatusMessage")},setChartDataStatusMessage:function(e){this.set({chartDataStatusMessage:e})},updateChartDataStatusMessage:function(t){var i=null;if(t>0)if(this.getViewerType()===l.ViewerType.SANKEY)if(this.isSankeyApplicable()){if(this.hasMoreRecordsThanMaxSankeyChartData()){var s=SumoUtil.formatNumber(this.MAX_SANKEY_RECORDS_SIZE_LIMIT),n=SumoUtil.formatNumber(this.getTotalRecordsCount());i=sprintf(e.searchJSON.aggregate_chart_max_results,s,n)}}else i=e.searchJSON.aggregate_chart_invalid_data;else if(this.isChartable()||this.getSearchQueryModel().getDrilldownMonitor()){var a=this.getTotalRecordsCount();if(a>t)if(t==this.getMaxChartDataSize()){var r=SumoUtil.formatNumber(t),o=SumoUtil.formatNumber(a);i=sprintf(e.searchJSON.aggregate_chart_max_results,r,o)}else{r=SumoUtil.formatNumber(t),o=SumoUtil.formatNumber(a);i=sprintf(e.searchJSON.aggregate_chart_partial_results,r,o)}}else i=e.searchJSON.aggregate_chart_invalid_data;this.setChartDataStatusMessage(i)},setCommonData:function(e){this.set({chartData:e,mapData:e})},getChartData:function(){return this.get("chartData")},setChartData:function(e){this.setCommonData(e),this.updateChartDataStatusMessage(e?e.length:0),this.setChartDataUpdated()},getDataChecksum:function(e){var t=0;return(e||[]).forEach((function(e){for(var i in e)t=crc32(e[i].toString(),t)})),t},getModelChecksum:function(e,t){var i=e?this.getChartData():this.getRecords(),s=this.getDataChecksum(i);return s=crc32(this.getPage().toString(),s),s=crc32(this.getPageCount().toString(),s),t&&(s=crc32(this.getSearchQueryModel().getStatus().toString(),s)),s},isChartDataLoading:function(){return this.get("chartDataLoading")},setChartDataLoading:function(e){this.set({chartDataLoading:e})},setChartDataUpdated:function(){this.set({chartDataUpdated:$.now()})},getChartDataSize:function(){var e=this.getChartData();return e?e.length:0},isMetricAD:function(){return!1},isMetricADApplicable:function(){var e=!1;if(this.isMetricAD())return e;var t=this.getFields();if(t&&2===t.length&&!this.isMetricAD()){if("_timeslice"!==t[0].name)return e;var i=t[1].type;"long"!==t[0].type||"long"!==i&&"int"!==i&&"double"!==i||(e=!0)}return e},isTimeShiftAnalytics:function(){var e=this.getSearchQueryModel(),t=e&&e.getSearchExpression();return t&&t.indexOf("compare ")>-1},isLogExplain:function(){var e=this.getFields();return!!(e&&e.length>0)&&e.map((function(e){return e.name})).includes("_explanation")},isLogReduce:function(){var e=this.getFields();return!!(e&&e.length>0)&&e.map((function(e){return e.name})).includes("_signature")},getTypeOfQuery:function(){var e=l.QueryType;return this.isTimeShiftAnalytics()?e.TIME_SHIFT:i.isTimeSeriesAnalytics(this.getFields())?e.TIME_SERIES:this.isMetricAD()?e.METRICS:this.isLogReduce()?e.LOG_REDUCE:this.isLogExplain()?e.LOG_EXPLAIN:void 0},isSankeyApplicable:function(){var e=!1,t=this.getFields();return t&&t.length>0&&(e=this.chartUtil.isSankeyApplicable(t)),e},hasMoreRecordsThanMaxSankeyChartData:function(){return this.getTotalRecordsCount()>this.MAX_SANKEY_RECORDS_SIZE_LIMIT},isChartable:function(){var e=this.getChartData(),t=this.getFields();return this.chartUtil.isChartable(e,t)},getMaxChartDataSize:function(){return u.getDynamicProperty("ui_chart_data_size_limit")||this.get("maxChartDataSize")},hasMoreRecordsThanMaxChartData:function(){var e=this.getMaxChartDataSize();return this.getTotalRecordsCount()>e},loadChartData:function(){if($.log("Sumo.Ui.Search.Results.AggregateRecordsModel.loadChartData"),this.isChartDataLoading())$.log("Sumo.Ui.Search.Results.AggregateRecordsModel.loadChartData - already loading chart data.");else{var t=this.getTotalRecordsCount();if(t<1)return $.log("Sumo.Ui.Search.Results.AggregateRecordsModel.loadChartData - total record count = %s.",t),void this.setChartData(null);var i=t;this.hasMoreRecordsThanMaxChartData()&&(i=this.getMaxChartDataSize()),this.getChartDataSize()!==i||this.getMaxChartDataSize()!==i?this.getSearchQueryModel().isDestroying()?$.log("Sumo.Ui.Search.Results.AggregateRecordsModel.loadChartData - SearchQueryModel is being destroyed, no need to fetch."):this.isChartDataLoading()?$.log("Sumo.Ui.Search.Results.AggregateRecordsModel.loadChartData - already loading chart data."):(this.setChartDataLoading(!0),$.log("Sumo.Ui.Search.Results.AggregateRecordsModel.loadChartData - fetching %d records from server.",i),this.setChartDataStatusMessage(e.searchJSON.aggregate_retrieving_chart_data),this.ajax.call(this,{endpoint:sprintf(this.ajax.EndpointFormats.V2_SEARCH_MESSAGES_QUERY_FORMAT,this.getSearchQueryId()),errorCode:"search_query_records",timeout:this.SEARCH_RUNNING_TIMEOUT,retryLimit:10,data:{offset:0,length:i},success:function(e){if(this.getSearchQueryModel().isDestroying())return $.log("Sumo.Ui.Search.Results.AggregateRecordsModel.loadChartData - SearchQueryModel is being destroyed, no need to update."),void this.setChartDataLoading(!1);if(e.records){var t=e.records.records;if(t.length>0){!0,this.getSearchQueryModel().formatFieldsAndResults(e.records.fields,e.records.records);var i=e.records.fields;this.setFields(i);var s=t[0].keys,n=[];_.each(t,(function(e){var t={};n.push(t);for(var i=s.length,a=0;a<i;a++)t[s[a]]=e.values[a]})),this.setChartData(n)}}this.setChartDataLoading(!1)},error:function(t,i,s,n){if(this.getSearchQueryModel().isDestroying())return $.log("Sumo.Ui.Search.Results.AggregateRecordsModel.loadChartData - SearchQueryModel is being destroyed, no need to handle errors."),this.setChartDataLoading(!1),!1;var a=[];return a.push(e.searchJSON.aggregate_chart_loading_failed),a.push("&nbsp;<span id='aggregate-chart-loading-try-again' class='link-in-messages'>"),a.push(e.searchJSON.aggregate_chart_loading_try_again),a.push("</span>"),this.setChartDataStatusMessage(a.join("")),$("#search-view").trigger("error",{errorMessage:i,errorDetails:s}),this.setChartDataLoading(!1),!1}})):$.log("Sumo.Ui.Search.Results.AggregateRecordsModel.loadChartData - chart data is already loaded.")}},findChartRecord:function(e){var t=this.getChartData();if(!e&&e.length<1)return null;var i=0,s=null;return _.each(t,(function(t){if(i=0,_.each(e,(function(e){if(t[e.field]!=e.value)return!1;i++})),i===e.length)return s=t,!1})),s},getMapDataStatusMessage:function(){return this.get("mapDataStatusMessage")},setMapDataStatusMessage:function(e){this.set({mapDataStatusMessage:e})},updateMapDataStatusMessage:function(t){var i=null;if(t>0)if(this.isMapable()){var s=this.getTotalRecordsCount();if(s>t)if(t==this.getMaxMapDataSize()){var n=SumoUtil.formatNumber(t),a=SumoUtil.formatNumber(s);i=sprintf(e.searchJSON.aggregate_map_max_results,n,a)}else{n=SumoUtil.formatNumber(t),a=SumoUtil.formatNumber(s);i=sprintf(e.searchJSON.aggregate_map_partial_results,n,a)}}else i=e.searchJSON.aggregate_map_invalid_data;this.setMapDataStatusMessage(i)},getMapData:function(){return this.get("mapData")},setMapData:function(e){this.setCommonData(e),this.updateMapDataStatusMessage(e?e.length:0),this.setMapDataUpdated()},isMapDataLoading:function(){return this.get("mapDataLoading")},setMapDataLoading:function(e){this.set({mapDataLoading:e})},setMapDataUpdated:function(){this.set({mapDataUpdated:$.now()})},getMapDataSize:function(){var e=this.getMapData();return e?e.length:0},isMapable:function(){var e=this.getMapData(),t=this.getFields();return this.mapUtil.isMapable(e,t)},getCountField:function(){return this.mapUtil.getCountField(this.getFields())},getMaxMapDataSize:function(){return this.get("maxMapDataSize")},hasMoreRecordsThanMaxMapData:function(){var e=this.getMaxMapDataSize();return this.getTotalRecordsCount()>e},loadMapData:function(){if($.log("Sumo.Ui.Search.Results.AggregateRecordsModel.loadMapData"),this.isMapDataLoading())$.log("Sumo.Ui.Search.Results.AggregateRecordsModel.loadMapData - already loading map data.");else{var t=this.getTotalRecordsCount();if(t<1)return $.log("Sumo.Ui.Search.Results.AggregateRecordsModel.loadMapData - total record count = %s.",t),void this.setMapData(null);var i=t;this.hasMoreRecordsThanMaxMapData()&&(i=this.getMaxMapDataSize()),this.getMapDataSize()!=i||this.getMaxMapDataSize()!==i?this.getSearchQueryModel().isDestroying()?$.log("Sumo.Ui.Search.Results.AggregateRecordsModel.loadMapData - SearchQueryModel is being destroyed, no need to fetch."):this.isMapDataLoading()?$.log("Sumo.Ui.Search.Results.AggregateRecordsModel.loadMapData - already loading map data."):(this.setMapDataLoading(!0),$.log("Sumo.Ui.Search.Results.AggregateRecordsModel.loadMapData - fetching %d records from server.",i),this.setMapDataStatusMessage(e.searchJSON.aggregate_retrieving_map_data),this.ajax.call(this,{endpoint:sprintf(this.ajax.EndpointFormats.V2_SEARCH_MESSAGES_QUERY_FORMAT,this.getSearchQueryId()),errorCode:"search_query_records",timeout:this.SEARCH_RUNNING_TIMEOUT,retryLimit:10,data:{offset:0,length:i},success:function(e){if(this.getSearchQueryModel().isDestroying())return $.log("Sumo.Ui.Search.Results.AggregateRecordsModel.loadMapData - SearchQueryModel is being destroyed, no need to update."),void this.setMapDataLoading(!1);if(e.records){var t=e.records.records;if(t.length>0){!0,this.getSearchQueryModel().formatFieldsAndResults(e.records.fields,e.records.records);var i=e.records.fields;this.setFields(i);var s=t[0].keys,n=[];_.each(t,(function(e){var t={};n.push(t);for(var i=s.length,a=0;a<i;a++)t[s[a]]=e.values[a]})),this.setMapData(n)}}this.setMapDataLoading(!1)},error:function(t,i,s,n){if(this.getSearchQueryModel().isDestroying())return $.log("Sumo.Ui.Search.Results.AggregateRecordsModel.loadMapData - SearchQueryModel is being destroyed, no need to handle errors."),this.setMapDataLoading(!1),!1;var a=[];return a.push(e.searchJSON.aggregate_map_loading_failed),a.push("&nbsp;<span id='aggregate-map-loading-try-again' class='link-in-messages'>"),a.push(e.searchJSON.aggregate_map_loading_try_again),a.push("</span>"),this.setMapDataStatusMessage(a.join("")),$("#search-view").trigger("error",{errorMessage:i,errorDetails:s}),this.setMapDataLoading(!1),!1}})):$.log("Sumo.Ui.Search.Results.AggregateRecordsModel.loadMapData - map data is already loaded.")}}})}.apply(t,s))||(e.exports=n)},96641:function(e,t,i){var s,n;s=[i(60567)],void 0===(n=function(e){var t=e.SankeyDiagramModule,i=e.SankeyModelModule,s=e.ResultsViewerConstants;return Backbone.View.extend({events:{},viewer:null,viewerModel:null,onResize:function(){this.viewer&&this.viewer.onResize()},onRecordsUpdated:function(){var e=this.model.getModelChecksum(!0);this.currentChecksum!=e&&(this.currentChecksum=e,this.model.MAX_SANKEY_RECORDS_SIZE_LIMIT>this.viewerModel.getTotalRecordsCount()&&this.model.getTotalRecordsCount()>0&&(this.viewerModel.setTotalRecordsCount(this.model.getTotalRecordsCount()),$("#aggregate-records-results-status").hide(),this.viewerModel&&this.viewerModel.setData(this.model.getFields(),this.model.getChartData())))},initialize:function(){_.bindAll(this,"render","onResize","onRecordsUpdated"),this.listenTo(this.model,"change:chartDataUpdated",this.onRecordsUpdated),this.render();var e={},n=this.model.getSearchQueryModel();if(n.getDrilldownMonitor()){var a=this.model.getDrilldownMonitorColorFamilyIndex(),r=this.model.getDrilldownMonitorColorIndex(),o=s.getColors(a,r);o&&(e.defaultColor=o[0])}else e.defaultColor=s.DefaultChartColors[0];this.viewerModel=new i(e,this.model),this.viewer=new t({context:this.options.context,model:this.viewerModel,el:this.$el,searchQueryModel:n,onDrilldown:this.onDrilldown}),this.onRecordsUpdated()},onDrilldown:function(e){$("#search-view").trigger("transactionDrillDown",e)},render:function(){return this},destroy:function(){this.viewer&&this.viewer.destroy(),this.viewer=null,this.viewerModel=null,SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},80604:function(e,t,i){var s,n;s=[i(60567)],void 0===(n=function(e){e.SubViewHelperModule;var t=e.SingleValueViewerModule,i=e.SingleValueViewerModelModule,s=e.ResultsViewerConstants;return Backbone.View.extend({events:{},viewer:null,viewerModel:null,onResize:function(){this.viewer&&this.viewer.onResize()},onRecordsUpdated:function(){var e=this.model.getModelChecksum();this.currentChecksum!=e&&(this.currentChecksum=e,$("#aggregate-records-results-status").hide(),this.viewerModel&&(this.viewerModel.setFields(this.model.getFields()),this.viewerModel.setRecords(this.model.getRecords()),this.viewerModel.setRecordsUpdated($.now())))},initialize:function(){$.log("Sumo.Ui.Search.Results.AggregateRecordsSingleValueView.initialize (%s)",this.cid),_.bindAll(this,"render","onResize","onRecordsUpdated"),this.listenTo(this.model,"change:lastRecordsUpdated",this.onRecordsUpdated),this.render();var e={};if(this.model.getSearchQueryModel().getDrilldownMonitor()){var n=this.model.getDrilldownMonitorColorFamilyIndex(),a=this.model.getDrilldownMonitorColorIndex(),r=s.getColors(n,a);r&&(e.defaultColor=r[0])}else e.defaultColor=s.DefaultChartColors[0];var o=this.model.getResultsViewerSettingsModel();this.viewerModel=new i(e,o),this.viewer=new t({context:this.options.context,model:this.viewerModel,el:this.$el}),this.onRecordsUpdated(),this.model.fetchPage(this.model.getPage())},render:function(){return this},destroy:function(){$.log("Sumo.Ui.Search.Results.AggregateRecordsSingleValueView.destroy (%s)",this.cid),this.viewer&&this.viewer.destroy(),this.viewer=null,this.viewerModel=null,SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},98641:function(e,t,i){var s,n;s=[i(45922),i(60567),i(86795),i(74103),i(74460),i(50963),i(16471),i(63205),i(22443),i(50563),i(5013),i(51901),i(24867)],void 0===(n=function(e,t,i,s,n,a,r,o,l,d,c,u,h){const{SearchQueryUtil:g,SnowMenuView:p}=i;var m=d.applicationContext,f=t.SearchTablesStaticHeaderHelperModule,S=t.ResultsViewerConstants;c=c.searchPerformanceService;var v=u.SearchPerformanceMetrics,w=a.i18nUtil;return Backbone.View.extend({events:{"mousedown tbody .column":"onMessageMouseDown","mouseup tbody .column":"onMessageMouseUp","click .sortable thead td.column":"sortByColumn","mouseenter .sortable thead td.column":"highlightForSort","mouseleave .sortable thead td.column":"removeSortHighlight","contextmenu .aggregate-table-link":"onLinkContextMenu"},$table:null,template:_.template(e),messageSelectionActionsViewId:null,messageSelectionActionsView:null,hasLoggedPerformance:!1,SCROLLABLE_CLASS:".aggregate-records-table-view:not(.search-query-aggregate-static-header)",STATIC_HEADER_CLASS:".search-query-aggregate-static-header",SORT_HIGHLIGHT_CLASS:"sort-column",SORTED_COLUMN_CLASS:"sorted",SORT_ORDER:{ASC:"asc",DESC:"desc",ASC_REGEX:/^(asc|\+)$/},menuViewCollection:["messageSelectionActionsView"],TABLE_SCROLL_SELECTOR:"#aggregate-records-viewer",snowMenuView:null,sortingClicked:!1,pageChanged:!1,urlLinkColumn:[],firstRender:!0,onMessageMouseDown:function(e){var t=window.getSelection();this.messageSelectionActionsView.hideMenu(),1===e.which&&t&&t.removeAllRanges()},onLinkContextMenu:function(e){var t=SumoUtil.appendElementByTagName("body","div","sumo-menu-container","aggregate-table-link-menu");l.ToUrlContextMenu.renderUrlContextMenu(e,t[0])},getMenuItems:function(e,t){var i=w.get("search.messageSelectionActions"),s=[],n=window.getSelection().toString();return n.length&&(SumoUtil.isChrome()&&(s=[{name:i.copyToClipboard,action:function(){h.copySelectedTextToClipboard(t)||navigator.clipboard.writeText(n)}},"separator"]),s=s.concat([{name:i.addAsAnd,action:function(t){e.selectionAddAsAnd(t,n)}},{name:i.addAsAndNot,action:function(t){e.selectionAddAsAndNot(t,n)}},"separator",{name:i.addAsOr,action:function(t){e.selectionAddAsOr(t,n)}},{name:i.addAsOrNot,action:function(t){e.selectionAddAsOrNot(t,n)}},"separator"]),this.snowMenuView&&this.snowMenuView.newMenuItem&&s.push(this.snowMenuView.newMenuItem)),s},onMessageMouseUp:function(e){var t,i,s=window.getSelection();this.messageSelectionActionsView.hideMenu(),SumoApp.snowConnectionResults&&0===SumoApp.snowConnectionResults.length||1!=e.which||s&&!s.isCollapsed&&(t=s.toString()).trim().length>0&&((i=this.messageSelectionActionsView).setSelectionText(t),i.showParseMenuItem(!1),i.hideQueryOptions(!0),i.showMenu(e))},sortByColumn:function(e,t){var i=this.model.getSearchQueryModel();if(i.isAggregateSortable()){this.$(".aggregate-records-table-view").addClass("loading");var s=this.model.get("sortData");if(this.useSearchAggregateTable){this.sortingClicked=!0;a=t}else var n=$(e.currentTarget),a=n.data("fieldName");var r=(s&&s.field===a&&s.type===this.SORT_ORDER.ASC?this.SORT_ORDER.ASC:this.SORT_ORDER.DESC)===this.SORT_ORDER.ASC?this.SORT_ORDER.DESC:this.SORT_ORDER.ASC;this.useSearchAggregateTable?this.model.set("sortData",{field:t,type:r}):this.model.set("sortData",{field:n.data("fieldName"),type:r}),this.useSearchAggregateTable||(this.sortFieldIndex=n.data("fieldIndex"),this.markSortColumn(this.sortFieldIndex,this.SORT_HIGHLIGHT_CLASS+" "+this.SORTED_COLUMN_CLASS,r)),(i.isDoneGathering()||i.isPaused()||i.isForcePaused())&&this.model.countsUpdated()}},highlightForSort:function(e){if(this.model.getSearchQueryModel().isAggregateSortable()){var t=$(e.target),i=t.data("fieldIndex");i=_.isUndefined(i)&&t.hasClass("sort-icon")?t.parent().data("fieldIndex"):i,this.markSortColumn(i,this.SORT_HIGHLIGHT_CLASS)}},removeSortHighlight:function(e){if(this.model.getSearchQueryModel().isAggregateSortable()){var t=$(e.currentTarget).data("fieldIndex");if(!_.isUndefined(t)){var i=this.$("tr td:nth-of-type("+(t+2)+")");i.hasClass(this.SORTED_COLUMN_CLASS)||i.removeClass(this.SORT_HIGHLIGHT_CLASS)}}},fetching:function(e,t){this.$("tbody").css("opacity",1)},onResize:function(){this.useSearchAggregateTable||(f.updateScrollPosition(this),this.render())},onPageChange:function(){this.useSearchAggregateTable&&(this.pageChanged=!0,this.firstRender||-1===this.model.getPage()||this.renderSearchAggregateTable(this.model.get("sortData"),!0,!0)),f.resetScrollPosition(this)},bindDocumentEvents:function(){$(document).on("mousedown",this.handleMouseDown),$(this.TABLE_SCROLL_SELECTOR).on("scroll",_.throttle(this.hideAllMenuViews,200))},unbindDocumentEvents:function(){$(document).off("mousedown",this.handleMouseDown),$(this.TABLE_SCROLL_SELECTOR).off("scroll",_.throttle(this.hideAllMenuViews,200))},handleMouseDown:function(e){var t=$(e.target);t.parent().hasClass("sumo-menu")||t.parent().hasClass("sumo-sub-menu")||this.hideAllMenuViews()},createMenuView:function(){$("#aggregate-selection-actions-view").remove();var e=SumoUtil.appendElementByTagName("body","div","sumo-menu-container","aggregate-selection-actions-view");this.messageSelectionActionsView=new s({context:this.options.context,el:e,snowMenuView:this.snowMenuView})},getServiceNowView:function(){return this.snowMenuView=new p({}),this.snowMenuView.getMenuItems()},destroyMenuViews:function(){var e=this;this.menuViewCollection.forEach((function(t){e[t]&&e[t].destroy()}))},hideAllMenuViews:function(){var e=this;this.menuViewCollection.forEach((function(t){e[t]&&e[t].hideMenu()}))},initialize:function(){this.firstRender=!0,_.bindAll(this,"render","resetAndRender","fetching","highlightForSort","removeSortHighlight","onLinkContextMenu","clearSort","postInitialize","hideAllMenuViews","handleMouseDown","renderSearchAggregateTable"),this.useSearchAggregateTable=m.userHelperOverride.hasFeatureFlag("UISearchAggregateTable");var e=this;SumoApp.priv.hasConnectionsAccess()?this.getServiceNowView().then((function(t){e.postInitialize()})):this.postInitialize()},postInitialize:function(){this.listenTo(this.model,"change:lastRecordsUpdated",this.resetAndRender),this.listenTo(this.model,"change:isFetching",this.fetching),this.listenTo(this.model,"change:page",this.onPageChange),this.bindToSearchQueryModel(),this.bindToSearchViewSettingsModel(),this.model.on("fetchRecordError",this.clearSort),this.createMenuView(),this.searchQueryUtil=new g,this.model.getSearchQueryModel().isAggregateSortable()&&this.setInitialSortData(),this.model.fetchPage(this.model.getPage()),this.bindDocumentEvents(),this.render()},bindToSearchQueryModel:function(){this.useSearchAggregateTable&&(this.listenTo(this.model.getSearchQueryModel(),"change:status",this.checkAndRenderSearchAggregateTable),this.listenTo(this.model.getSearchQueryModel(),"change:recordCountLastFetched",this.checkAndRenderSearchAggregateTable))},bindToSearchViewSettingsModel:function(){var e=this.model.getSearchViewSettingsModel();this.useSearchAggregateTable&&this.listenTo(e,"change:aggregateTableColumnState",this.renderSearchAggregateTable.bind(this,this.model.get("sortData"),!1,!0))},onSearchTableInit:function(e){this.searchTableApi=e},checkAndRenderSearchAggregateTable:function(){var e=this.model.getSearchQueryModel(),t=e.getRecordCount();(e.isGathering()||e.isDoneGathering()&&t>0)&&0===this.model.getRecords().length?this.renderSearchAggregateTable(this.model.get("sortData"),!0):e.isDoneGathering()&&0===t?this.renderSearchAggregateTable(this.model.get("sortData"),!1):(e.isCancelled()||e.isNotStarted()||e.isErrorStatus()&&0===t)&&this.$("#search_aggregate_table").length&&n.destroySearchAggregateTable(this.$("#search_aggregate_table")[0])},updateTableState:function(e){var t=this.model.getSearchViewSettingsModel(),i=t.getAggregateTableColumnState();JSON.stringify(i)!=JSON.stringify(e)&&(t.setAggregateTableColumnState(e),t.setAggregateResultsSettingsUpdated($.now()))},updateFirstDisplayedRowIndex:function(e){this.model.getSearchViewSettingsModel().setAggregateTableFirstVisibleRowIndex(e)},renderSearchAggregateTable:function(e,t,i=!1){var s=this.model.getSearchViewSettingsModel(),a=this.model.getSearchQueryModel(),r={sortableConfig:{sortField:e?e.field:"",sortType:e?e.type:"",sortByColumn:this.sortByColumn.bind(this),sortable:a.isAggregateSortable()},page:this.model.getPage(),recordsPerPage:this.model.getRecordsPerPage(),records:this.model.getRecords(),fields:this.model.getFields(),columnState:s.getAggregateTableColumnState(),updateColumnState:this.updateTableState.bind(this),updateFirstDisplayedRowIndex:this.updateFirstDisplayedRowIndex.bind(this),firstDisplayedRowIndex:this.model.getSearchViewSettingsModel().getAggregateTableFirstVisibleRowIndex(),getMenuItems:this.getMenuItems.bind(this,this.messageSelectionActionsView),tableType:"aggregate",isFetching:t||!1,searchQueryId:this.model.getSearchQueryModel().getSearchQueryId(),onSearchTableInit:this.onSearchTableInit.bind(this),avoidInlineUpdate:this.firstRender||this.sortingClicked||i};this.$("#search_aggregate_table").length||this.$el.html("<div id='search_aggregate_table'></div>");var o=this.$("#search_aggregate_table")[0];n.createSearchAggregateTable(o,r),0!==this.model.getRecords().length&&(this.firstRender=!1)},floatTheadApplied:null,getUrlLinkColumn:function(e,t){var i,s=[];e.forEach((function(e){i=e.name,a.isMarkdownUrl(t[i])&&s.indexOf(i)<0&&s.push(i)})),this.urlLinkColumn=s},render:function(e=!1){var t=this.model.getModelChecksum(),i=this.model.getSearchQueryModel(),s=this.model.get("sortData");if($.log("new checksum",t),this.currentChecksum==t)return this.sortingClicked&&this.useSearchAggregateTable?(this.renderSearchAggregateTable(s,!1,e),void(this.sortingClicked=!1)):(a.isPositionStickySupported()||this.createStaticHeader(),i.isAggregateSortable()&&(this.markSortColumn(this.sortFieldIndex,this.SORT_HIGHLIGHT_CLASS+" "+this.SORTED_COLUMN_CLASS,(s||{}).type),this.$(".aggregate-records-table-view").removeClass("loading")),void $.log("skipping render, new data is the same as existing data.",t,this.model.getPage(),this.model.getPageCount()));this.currentChecksum=t,$.log("Sumo.Ui.Search.Results.AggregateRecordsTableView.render - "+this.cid);s=this.model.get("sortData");var n=this.model.getRecords(),r=this.model.getFields(),l=i.getRecordCount();if((n.length>0||i.isDoneGathering()&&0===l)&&c.start({id:"aggregate_table_rendering_"+this.model.getSearchQueryModel().getSearchQueryId(),metric:v.AggregateTableRendering}),this.useSearchAggregateTable)(n.length>0||i.isDoneGathering()&&0===l)&&this.renderSearchAggregateTable(s,!1,e);else{var d=this.model.getResultsViewerSettingsModel(),u="table-font-medium";if(d.getFontSize&&d.getFontSize())u="table-font-"+d.getFontSize();n&&n[0]&&r&&r[0]&&this.getUrlLinkColumn(r,n[0]);var h=_.extend({__:o.searchJSON,RecordValueType:S.RecordValueType,fontSizeClass:u,dateFormatter:SumoApp.dateUtil.formatDateTime(),sortable:i.isAggregateSortable(),sortField:s?s.field:"",sortType:s?s.type:"",sortedClass:this.SORTED_COLUMN_CLASS,sortHighlightClass:this.SORT_HIGHLIGHT_CLASS,extractURLFromLink:a.extractURLFromLink,urlLinkColumnField:this.urlLinkColumn},this.model.toJSON()),g=this.template(h);this.$el.html(g),(n.length>0||i.isDoneGathering()&&0===l)&&(c.measureOnce({id:"aggregate_table_rendering_"+this.model.getSearchQueryModel().getSearchQueryId(),metric:v.AggregateTableRendering,metadata:{new_table:!1,first_render:this.firstRender},skipSli:!this.firstRender}),this.firstRender=!1)}return a.isPositionStickySupported()&&$(".aggregate-records-table-view").addClass("sticky-supported"),this.model.getRecordsCount()>0&&(SumoApp.priv.hasPerformanceLoggingEnabled()&&!this.hasLoggedPerformance&&(this.hasLoggedPerformance=!0,$("#aggregate-records").trigger("log")),this.$table=this.$(".aggregate-records-table-view").find("> table"),$("#aggregate-records-results-status").css("display","none")),a.isPositionStickySupported()||(f.updateScrollPosition(this),this.createStaticHeader(),f.updateStaticHeaderPosition(this,this.STATIC_HEADER_CLASS)),this},markSortColumn:function(e,t,i){if(!_.isUndefined(e)){i&&this.$("."+this.SORT_HIGHLIGHT_CLASS).removeClass(t+" "+this.SORT_ORDER.ASC+" "+this.SORT_ORDER.DESC);var s=this.$("tr td:nth-of-type("+(e+2)+")"),n=this.$("thead td:nth-of-type("+(e+2)+")");i&&$(n).addClass(i),s.addClass(t)}},clearSort:function(){this.useSearchAggregateTable&&this.searchTableApi.refreshHeader(),this.sortFieldIndex=void 0,this.$("."+this.SORTED_COLUMN_CLASS).removeClass(this.SORTED_COLUMN_CLASS+" "+this.SORT_HIGHLIGHT_CLASS+" "+this.SORT_ORDER.ASC+" "+this.SORT_ORDER.DESC)},getSortByArguments:function(e){var t=e.match(/\s+sort( by)?\s+/gi);if(!_.isEmpty(t)){var i=t[t.length-1],s=e.lastIndexOf(i),n=s+i.length;return(e.slice(0,s).match(/[^\\]"/g)||[]).length%2==0?e.slice(n).split(/\s*,\s*|\s+/):void 0}},setInitialSortData:function(){var e=this.model.get("sortData")||{};if(!this.model.getSearchQueryModel().get("isReattached")){var t=this.model.getSearchQueryModel().getSearchExpression()||"";t=this.searchQueryUtil.stripComments(t);var i,s,n=this.getSortByArguments(t);if(!_.isEmpty(n))n[0].match(/\+|\-/)?(i=n[0],s=n[1]):(i=n[1],s=n[0]),e={field:s,type:i&&i.match(this.SORT_ORDER.ASC_REGEX)?this.SORT_ORDER.ASC:this.SORT_ORDER.DESC,default:!0}}this.model.set("sortData",e)},createStaticHeader:function(){var e=$(this.TABLE_SCROLL_SELECTOR).find(".aggregate-records-table-view").attr("class");f.createStaticHeader("aggregate-records-viewer .aggregate-records-table-view","search-query-aggregate-static-header",this.$el,e),f.scrollAdjustHeader(this,this.SCROLLABLE_CLASS,this.STATIC_HEADER_CLASS)},_pollingPaused:function(e){return e===this.model.getSearchQueryModel().STATUS_MANUALLY_PAUSED&&this.model.getSearchQueryModel().isGathering(this.model.getSearchQueryModel().getStatus())},resetAndRender:function(){$.log("Sumo.Ui.Search.Results.AggregateRecordsTableView.resetAndRender:"+this.cid),this.urlLinkColumn=[],this.render(this.pageChanged),this.pageChanged=!!this.pageChanged&&!this.pageChanged},destroy:function(){$.log("Sumo.Ui.Search.Results.AggregateRecordsTableView.destroy - "+this.cid),$(".floatThead-container").remove(),this.destroyMenuViews(),this.$table&&this.$table.remove(),this.unbindDocumentEvents(),this.$("#search_aggregate_table").length&&n.destroySearchAggregateTable(this.$("#search_aggregate_table")[0]),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},81612:function(e,t,i){var s,n;s=[i(60567),i(63205),i(47584),i(43118),i(48365),i(50563),i(93636)],void 0===(n=function(e,t,i,s,n,a,r){var o=a.applicationContext,l=e.SumoViewModule,d=(e.SubViewHelperModule,e.ResultsViewerConstants);return l.extend({events:{"click #aggregate-chart-loading-try-again":"onLoadChartData","click #aggregate-map-loading-try-again":"onLoadMapData"},template:_.template(i),onLoadChartData:function(){this.model.loadChartData()},onLoadMapData:function(){this.model.loadMapData()},onChartDataStatusMessageChange:function(){var e=this.model.getChartDataStatusMessage();null==e?this.$("#chart-data-status-message").empty():this.$("#chart-data-status-message").html(e)},onMapDataStatusMessageChange:function(){var e=this.model.getMapDataStatusMessage();null==e?this.$("#map-data-status-message").empty():this.$("#map-data-status-message").html(e)},onViewerTypeChange:function(){this.$("#aggregate-add-to-dashboard-button").removeClass("btn-disabled"),this.$("#aggregate-save-back-to-monitor-button").removeClass("btn-disabled");var e=this.model.getViewerType();switch(e){case d.ViewerType.TABLE:this.$("#aggregate-records-pager").show(),this.$("#aggregate-info-message-container").hide(),!o.currentUserHelper.hasFeatureFlag("UILogSearchHideExportOptions")&&o.currentUserHelper.hasPermission("DOWNLOAD_SEARCH_RESULTS")&&this.$("#aggregate-export-controls").show();break;case d.ViewerType.BAR_CHART:case d.ViewerType.COLUMN_CHART:case d.ViewerType.LINE_CHART:case d.ViewerType.AREA_CHART:case d.ViewerType.PIE_CHART:case d.ViewerType.BOXPLOT_CHART:this.$("#aggregate-records-pager").hide(),this.$("#map-data-status-message").hide(),this.$("#chart-data-status-message").show(),this.$("#aggregate-info-message-container").show(),this.$("#aggregate-export-controls").hide();break;case d.ViewerType.MAP:this.$("#aggregate-records-pager").hide(),this.$("#chart-data-status-message").hide(),this.$("#map-data-status-message").show(),this.$("#aggregate-info-message-container").show(),this.$("#aggregate-export-controls").hide();break;case d.ViewerType.SINGLE_VALUE_VIEWER:this.$("#aggregate-records-pager").hide(),this.$("#aggregate-info-message-container").hide(),this.$("#aggregate-export-controls").hide();break;case d.ViewerType.SANKEY:this.$("#aggregate-records-pager").hide(),this.$("#map-data-status-message").hide(),this.$("#chart-data-status-message").show(),this.$("#aggregate-info-message-container").show(),this.$("#aggregate-export-controls").hide(),SumoApp.priv.hasFlagUIDashboardSankey()||(this.$("#aggregate-add-to-dashboard-button").addClass("btn-disabled"),this.$("#aggregate-save-back-to-monitor-button").addClass("btn-disabled"));break;default:throw"No handler for viewerType["+e+"]."}},onResize:function(e){this.subviews&&this.subviews.iterate((function(t,i){"onResize"in t&&t.onResize(e)}))},initialize:function(){$.log("Sumo.Ui.Search.Results.AggregateRecordsToolbarView.initialize - "+this.cid),_.bindAll(this,"render","onResize","onViewerTypeChange","onChartDataStatusMessageChange","onMapDataStatusMessageChange"),this.listenTo(this.model,"change:chartDataStatusMessage",this.onChartDataStatusMessageChange),this.listenTo(this.model,"change:mapDataStatusMessage",this.onMapDataStatusMessageChange);var e=this.model.getSearchViewSettingsModel();this.listenTo(e,"change:aggregateResultsViewerType",this.onViewerTypeChange),this.render(),this.registerView("aggregate-records-pager",new s({context:this.options.context,model:this.model,el:$("#aggregate-records-pager")})),this.registerView("aggregate-actions-view",new n({context:this.options.context,model:this.model,el:$("#aggregate-actions-container")})),this.onViewerTypeChange(),this.onChartDataStatusMessageChange(),this.onMapDataStatusMessageChange()},renderTimeCompareButton:function(){r.TimeCompareButtonRenderer("time-compare-button-container",{sessionId:this.model.getSearchQueryModel().getSearchQueryId()})},getSearchQueryModel:function(){return this.model.getSearchQueryModel()},render:function(){$.log("Sumo.Ui.Search.Results.AggregateRecordsToolbarView.render - "+this.cid);var e=o.userHelperOverride.hasFeatureFlag("UISearchTimeCompareReact"),i=this.template({__:t.searchJSON});(this.$el.html(i),e)?this.renderTimeCompareButton():(SumoApp.ngCompile($("#time-compare-button-container"),null,!0),(this.jTimeCompareEl=this.$("time-compare-btn")).on("getSearchQueryModel",_.bind(this.onGetSearchQueryModel,this)));return this},onGetSearchQueryModel:function(){$.logWarnLocal("returning-search-query-model");var e=this.model.getSearchQueryModel();this.jTimeCompareEl.trigger("searchQueryModelProvided",e)},destroy:function(){$.log("Sumo.Ui.Search.Results.AggregateRecordsToolbarView.destroy - "+this.cid),o.userHelperOverride.hasFeatureFlag("UISearchTimeCompareReact")||this.jTimeCompareEl.off("getSearchQueryModel"),this.destroySubViews(),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},71120:function(e,t,i){var s,n;s=[i(63205),i(14934),i(60567),i(81612),i(45154),i(50563)],void 0===(n=function(e,t,i,s,n,a){var r=a.applicationContext,o=i.SubViewHelperModule;i.ResultsViewerConstants;return Backbone.View.extend({template:_.template(t),subviews:null,useSearchAggregateTable:!1,onSearchStatusChange:function(){var e=this.model.getSearchQueryModel(),t=e.getStatus();this.$(".search-query-results-status").find("[data-spinner]").spinner("hide"),this.$(".search-results-status-search-not-running,.search-results-status-search-no-results").css("display","none"),e.isGathering(t)?this.useSearchAggregateTable||this.$(".search-results-status-search-running").spinner("show"):e.isDoneGathering(t)?this.useSearchAggregateTable||this.$(".search-results-status-retrieving-results").spinner("show"):(e.isCancelled(t)||e.isNotStarted(t)||e.isErrorStatus(t))&&this.$(".search-results-status-search-not-running").show()},onRecordCountLastFetchedChange:function(){var e=this.model.getSearchQueryModel(),t=e.getStatus(),i=e.getRecordCount();e.isDoneGathering(t)?(this.$(".search-query-results-status").find("div").hide(),this.useSearchAggregateTable||(i>0?this.$(".search-results-status-retrieving-results").spinner("show"):this.$(".search-results-status-search-no-results").show())):e.isCancelled(t)&&(this.$(".search-query-results-status").find("div").hide(),this.$("#aggregate-records-results-status").show(),this.$(".search-results-status-search-not-running").show())},onResize:function(e){this.subviews.iterate((function(t,i){"onResize"in t&&t.onResize(e)}))},initialize:function(){this.subviews=new o("AggregateRecordsView"),this.useSearchAggregateTable=r.userHelperOverride.hasFeatureFlag("UISearchAggregateTable"),_.bindAll(this,"render","onResize","onSearchStatusChange","onRecordCountLastFetchedChange");var e=this.model.getSearchQueryModel();this.listenTo(e,"change:status",this.onSearchStatusChange),this.listenTo(e,"change:recordCountLastFetched",this.onRecordCountLastFetchedChange),this.render(),this.subviews.register("aggregate-records-toolbar",new s({context:this.options.context,model:this.model,el:this.$("#aggregate-records-toolbar")})),this.subviews.register("aggregate-records-viewer",new n({context:this.options.context,model:this.model,el:this.$("#aggregate-records-viewer")})),this.onSearchStatusChange(),this.model.getSearchQueryModel().get("recordCountLastFetched")&&this.onRecordCountLastFetchedChange()},render:function(){var t=this.template({__:e.searchJSON});return this.$el.html(t),this.$(".search-results-status-search-running").spinner(),this.$(".search-results-status-retrieving-results").spinner(),this},destroy:function(){this.subviews.destroy(),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},45154:function(e,t,i){var s,n;s=[i(60567),i(98641),i(40473),i(8958),i(80604),i(96641),i(5013),i(51901),i(50563)],void 0===(n=function(e,t,i,s,n,a,r,o,l){"use strict";var d=l.applicationContext,c=e.ResultsViewerConstants;r=r.searchPerformanceService;var u=o.SearchPerformanceMetrics;return Backbone.View.extend({viewer:null,savedSettingsApplied:!1,getSavedSearchSettingModel:function(){return this.model.getSearchQueryModel().getSavedSearchSettingsModel()},setSearchModified:function(){this.model.getSearchQueryModel().setIsSearchModified(!0)},onViewerTypeChange:function(){this.setSearchModified(),this.getSavedSearchSettingModel().setAggregateViewerType(this.model.getViewerType()),this.getSavedSearchSettingModel().getAggregateResultsSettings()&&this.getSavedSearchSettingModel().setAggregateResultsSettings(this.model.getSearchViewSettingsModel().getAggregateResultsSettings()),this.destroyViewer(),this.createViewer()},onSettingsChange:function(){this.setSearchModified(),this.getSavedSearchSettingModel().setAggregateResultsSettings(this.model.getSearchViewSettingsModel().getAggregateResultsSettings()),d.userHelperOverride.hasFeatureFlag("UISearchAggregateTable")&&this.model.getViewerType()===c.ViewerType.TABLE||(this.destroyViewer(),this.createViewer())},onLegendsClick:function(){this.setSearchModified(),this.getSavedSearchSettingModel().setHiddenLegends(this.model.getHiddenLegends())},destroyViewer:function(){null!=this.viewer&&this.viewer.destroy()},createViewer:function(){var e=this.model.getViewerType();e==c.ViewerType.TABLE?this.viewer=new t({context:this.options.context,model:this.model,el:this.el}):e==c.ViewerType.MAP?this.viewer=new s({context:this.options.context,model:this.model,el:this.el}):e==c.ViewerType.SINGLE_VALUE_VIEWER?this.viewer=new n({context:this.options.context,model:this.model,el:this.el}):e==c.ViewerType.SANKEY?this.viewer=new a({context:this.options.context,model:this.model,el:this.el}):this.viewer=new i({context:this.options.context,model:this.model,el:this.el}),r.measureOnce({id:"changeViewType"+e,metric:u.ViewTypeChangeDelay,skipSli:!0,metadata:{view_type:e}}),r.measureOnce({id:"updateSearchChartSettings",metric:u.ChartSettingsChangeDelay,skipSli:!0,metadata:{view_type:e}})},onResize:function(){null!=this.viewer&&"onResize"in this.viewer&&this.viewer.onResize()},initialize:function(){_.bindAll(this,"render","onResize","createViewer","destroyViewer","onViewerTypeChange","onSettingsChange","onLegendsClick");var e=this.model.getSearchViewSettingsModel();this.listenTo(e,"change:aggregateResultsViewerType",this.onViewerTypeChange),this.listenTo(e,"change:aggregateResultsSettingsUpdated",this.onSettingsChange),this.listenTo(this.model,"change:hiddenLegends",this.onLegendsClick),this.render(),this.createViewer()},render:function(){return this},destroy:function(){this.destroyViewer(),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},19028:function(e,t,i){var s,n;s=[i(63205),i(60567),i(50963),i(66359),i(5013),i(51901),i(50563),i(29950)],void 0===(n=function(e,t,i,s,n,a,r,o){var l=t.MenuModelModule,d=t.MenuItemModelModule,c=t.MenuViewModule,u=t.ResultsViewerSettingsHandlerModule,h=t.SingleValueViewerUtilModule,g=s.currentUserHelper,p=t.ResultsViewerConstants,m=t.ChartUtil;n=n.searchPerformanceService;var f=a.SearchPerformanceMetrics,S=r.applicationContext;return Backbone.View.extend({menuItemModels:{changeTableProperties:new d({id:"changeTableProperties",label:e.searchJSON.aggregate_settings_menu_changeTableProperties}),changeDisplayMessagePreferences:new d({id:"changeDisplayMessagePreferences",label:e.searchJSON.aggregate_settings_menu_displayMessagePreferences}),saveSettings:new d({id:"saveSettings",label:e.searchJSON.aggregate_settings_menu_saveSettings,iconPath:"fa-save",showFontIcon:!0,showIcon:!1}),changeChartProperties:new d({id:"changeChartProperties",label:e.searchJSON.aggregate_settings_menu_changeChartProperties}),changeAxisProperties:new d({id:"changeAxisProperties",label:e.searchJSON.aggregate_settings_menu_changeAxisProperties}),editSeriesProperties:new d({id:"editSeriesProperties",label:e.searchJSON.aggregate_settings_menu_editSeriesProperties}),editLineProperties:new d({id:"editLineProperties",label:e.searchJSON.aggregate_settings_menu_editLineProperties}),manageLegend:new d({id:"manageLegend",label:e.searchJSON.aggregate_settings_menu_manageLegend}),changePieChartProperties:new d({id:"changePieChartProperties",label:e.searchJSON.aggregate_settings_menu_changePieChartProperties}),changeBoxPlotChartProperties:new d({id:"changeBoxPlotChartProperties",label:e.searchJSON.aggregate_settings_menu_changeBoxPlotChartProperties}),changeMapChartProperties:new d({id:"changeMapChartProperties",label:e.searchJSON.aggregate_settings_menu_changeMapChartProperties}),editChartBands:new d({id:"editChartBands",label:e.searchJSON.aggregate_settings_menu_edit_chart_bands}),editSvvProperties:new d({id:"editSvvProperties",label:e.searchJSON.aggregate_settings_menu_edit_single_value_viewer_properties}),editSvvColorsByValueRange:new d({id:"editSvvColorsByValueRange",label:e.searchJSON.aggregate_settings_menu_edit_single_value_viewer_colors_by_value_range}),editSvvLabels:new d({id:"editSvvLabels",label:e.searchJSON.aggregate_settings_menu_edit_single_value_viewer_labels}),editSettingsJSON:new d({id:"editSettingsJSON",label:e.searchJSON.aggregate_settings_menu_editSettingsJSON}),showChartOptions:new d({id:"showChartOptions",label:e.searchJSON.aggregate_settings_menu_showChartOptions}),showGridLines:new d({id:"showGridLines",label:e.searchJSON.aggregate_settings_menu_showGridLines})},canShowGridLinesOption:function(){var e=this.model.getResultsViewerSettingsModel().getConfiguration().yAxis;return!(e&&e.length>1)},isTimeSeriesData:function(){var e=this.model.getFields();if(e){var t=(new m).getKeyFields(e);return!(t.length>1)&&"_timeslice"===t[0]}return!1},shouldShowIcons:function(){return this.model.getViewerType()===p.ViewerType.TABLE&&S.userHelperOverride.hasFeatureFlag("UISearchAggregateTable")},getMenuItems:function(){var e=[],t=this.model.getViewerType(),s=!1;if(t===p.ViewerType.TABLE)S.userHelperOverride.hasFeatureFlag("UISearchAggregateTable")?(e.push(this.menuItemModels.changeDisplayMessagePreferences),e.push(this.menuItemModels.saveSettings)):e.push(this.menuItemModels.changeTableProperties);else if(t===p.ViewerType.SINGLE_VALUE_VIEWER){e.push(this.menuItemModels.editSvvProperties);var n=new h;n.isFirstValueFieldNumber(this.model.getFields())&&e.push(this.menuItemModels.editSvvColorsByValueRange),n.isFirstValueFieldString(this.model.getFields())||e.push(this.menuItemModels.editSvvLabels)}else if(t===p.ViewerType.PIE_CHART)s=!0,e.push(this.menuItemModels.changePieChartProperties),e.push(this.menuItemModels.manageLegend);else if(t===p.ViewerType.BOXPLOT_CHART)s=!0,e.push(this.menuItemModels.changeBoxPlotChartProperties);else if(t===p.ViewerType.MAP)g.hasFeatureFlag("MapboxHeatMapChart")&&(s=!0,e.push(this.menuItemModels.changeMapChartProperties));else{if(s=!0,e.push(this.menuItemModels.changeChartProperties),e.push(this.menuItemModels.changeAxisProperties),t===p.ViewerType.COLUMN_CHART||t===p.ViewerType.LINE_CHART){var a=this.model.getFields();a&&a.length>0&&e.push(this.menuItemModels.editSeriesProperties)}if(i.isTimeSeriesAnalytics(this.model.getFields())||e.push(this.menuItemModels.manageLegend),t!==p.ViewerType.BAR_CHART&&t!==p.ViewerType.COLUMN_CHART||e.push(this.menuItemModels.editChartBands),t!==p.ViewerType.LINE_CHART&&t!==p.ViewerType.AREA_CHART||e.push(this.menuItemModels.editLineProperties),t===p.ViewerType.LINE_CHART||t===p.ViewerType.AREA_CHART)this.canShowGridLinesOption()&&e.push(this.menuItemModels.showGridLines)}return this.showDebugMenuItems&&(e.push(new d({id:"sep-json-editor",isSeparator:!0})),e.push(this.menuItemModels.editSettingsJSON)),s&&this.showDebugMenuItems&&(e.push(new d({id:"sep-chart-show-options",isSeparator:!0})),e.push(this.menuItemModels.showChartOptions)),e},events:{"click #changeTableProperties":"changeTableProperties","click #changeDisplayMessagePreferences":"changeDisplayMessagePreferences","click #saveSettings":"saveSettings","click #changeChartProperties":"changeChartProperties","click #changeAxisProperties":"changeAxisProperties","click #editSeriesProperties":"editSeriesSettings","click #editLineProperties":"editLineSettings","click #manageLegend":"manageLegend","click #changePieChartProperties":"changePieChartProperties","click #changeBoxPlotChartProperties":"changeBoxPlotChartProperties","click #changeMapChartProperties":"changeMapChartProperties","click #editChartBands":"editChartBands","click #editSvvProperties":"editSingleValueViewerProperties","click #editSvvColorsByValueRange":"editSingleValueViewerColorsByValueRange","click #editSvvLabels":"editSingleValueViewerLabels","click #editSettingsJSON":"editSettingsJSON","click #showChartOptions":"showChartOptions","click #showGridLines":"showGridLines"},menuModel:null,menuView:null,settingsHandler:null,showDebugMenuItems:!1,changeTableProperties:function(e){var t=this.model.getResultsViewerSettingsModel();this.settingsHandler.showTablePropertiesDialog(this.options.context,t,!1,this.updateSettings),this.hideMe()},changeDisplayMessagePreferences:function(e){var t=this.model.getSearchViewSettingsModel().getSearchSettings();o.createSearchTableDisplaySettings({settings:t,displayForAggregateTable:!0,searchQueryId:this.model.getSearchQueryId()}),this.hideMe()},saveSettings:function(){var e=this.model.getSearchViewSettingsModel();S.userPreferencesModel.setSearchViewSettingsModel(e),S.userPreferencesModel.saveData(),this.hideMe()},changeChartProperties:function(e){var t=this.model.getDrilldownMonitorColorFamilyIndex(),s=this.model.getResultsViewerSettingsModel(),n=i.isTimeSeriesData(this.model.getFields());this.settingsHandler.showChartPropertiesDialog(this.options.context,t,s,this.updateSettings,n),this.hideMe()},changeAxisProperties:function(e){var t=this.model.getResultsViewerSettingsModel();this.settingsHandler.showChangeAxisDialog(this.options.context,t,this.updateSettings),this.hideMe()},editSeriesSettings:function(e){var t=this.model.getResultsViewerSettingsModel(),i=null,s=this.model.getFields();s&&(i=(new m).getValueFields(s));this.settingsHandler.showChangeSeriesDialog(this.options.context,t,i,this.updateSettings),this.hideMe()},editLineSettings:function(e){var t=this.model.getResultsViewerSettingsModel();this.settingsHandler.showChangeLineDialog(this.options.context,t,this.updateSettings),this.hideMe()},manageLegend:function(e){var t=this.model.getResultsViewerSettingsModel();this.settingsHandler.showChangeLegendDialog(this.options.context,t,this.updateSettings),this.hideMe()},changePieChartProperties:function(e){var t=this.model.getDrilldownMonitorColorFamilyIndex(),i=this.model.getResultsViewerSettingsModel();this.settingsHandler.showPieChartPropertiesDialog(this.options.context,t,i,this.updateSettings),this.hideMe()},changeBoxPlotChartProperties:function(e){var t=this.model.getResultsViewerSettingsModel();this.settingsHandler.showBoxPlotChartPropertiesDialog(this.options.context,t,this.updateSettings),this.hideMe()},changeMapChartProperties:function(e){var t=this.model.getResultsViewerSettingsModel(),i=this.model.getFields();this.settingsHandler.showMapChartPropertiesDialog(this.options.context,t,this.updateSettings,i),this.hideMe()},editChartBands:function(e){var t=this.model.getResultsViewerSettingsModel();this.settingsHandler.showChartBandsEditorDialog(this.options.context,t,this.updateSettings),this.hideMe()},editSingleValueViewerProperties:function(e){var t=this.model.getResultsViewerSettingsModel(),i=(new h).getFirstValueFieldType(this.model.getFields());this.settingsHandler.showSingleValueViewerPropertiesDialog(this.options.context,t,i,this.updateSettings),this.hideMe()},editSingleValueViewerColorsByValueRange:function(e){var t=this.model.getResultsViewerSettingsModel();this.settingsHandler.showSingleValueViewerColorsByValueRangeDialog(this.options.context,t,this.updateSettings),this.hideMe()},editSingleValueViewerLabels:function(e){var t=this.model.getResultsViewerSettingsModel();this.settingsHandler.showSingleValueViewerLabelsEditorDialog(this.options.context,t,this.updateSettings),this.hideMe()},editSettingsJSON:function(e){var t=this.model.getResultsViewerSettingsModel().getConfiguration(),i=this.model.getSearchViewSettingsModel();this.settingsHandler.showJsonEditor(this.options.context,t,(function(e){i.setAggregateResultsViewerSettingsConfiguration(e),i.setAggregateResultsSettingsUpdated($.now())})),this.hideMe()},showChartOptions:function(){var e=$("#aggregate-chart-container");e.length>0&&e.trigger("showChartOptions"),this.hideMe()},isXAxisNumeric:function(){var e=!1,t=this.model.getFields();return _.each(t,(function(t){!0===t.key&&("long"!==t.type&&"double"!==t.type||(e=!0))})),e},updateSettingsGridLines:function(e){var t=$("#aggregate-chart-container");t.length>0&&t.trigger("updateChartAxis",e)},showGridLines:function(e){var t=this.model.getResultsViewerSettingsModel(),i=this.isXAxisNumeric(),s=this.isTimeSeriesData();this.settingsHandler.showGridLinesDialog(this.options.context,t,i,s,this.updateSettingsGridLines),this.hideMe()},onShow:function(e){this.showDebugMenuItems=e,this.resetAndRender()},hideMe:function(){this.options.controller.trigger("hideMenu")},updateSettings:function(e){n.start({id:"updateSearchChartSettings",metric:f.ChartSettingsChangeDelay,skipSli:!0});var t=this.model.getSearchViewSettingsModel();t.updateAggregateResultsViewerSettingsModel(e),t.setAggregateResultsSettingsUpdated($.now())},initialize:function(){$.log("Sumo.Ui.Search.Results.AggregateSettingsView.initialize"),_.bindAll(this,"render","resetAndRender","onShow","hideMe","getMenuItems","updateSettings"),this.settingsHandler=new u,this.render()},render:function(){$.log("Sumo.Ui.Search.Results.AggregateSettingsView.render");var e=this.getMenuItems(),t="bottom",i=$("#aggregate-records-viewer");i.length>0&&(i.height()<250&&(t="top"));var s=this.shouldShowIcons();return this.menuModel=new l({menuItemWidth:s?180:140,menuItemHeight:32,hasIcons:s,subMenuPositionH:"left",subMenuPositionV:t,menuItems:e}),this.menuView=new c({context:this.options.context,model:this.menuModel}),this.$el.append(this.menuView.el),this},resetAndRender:function(){this.menuView.destroy(),this.menuModel=null,SumoUtil.emptyElement(this.$el),this.render()},destroy:function(){$.log("Sumo.Ui.Search.Results.AggregateSettingsView.destroy"),this.settingsHandler=null,this.menuView.destroy(),this.menuModel=null,SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},53288:function(e,t){var i;void 0===(i=function(){return{FeedbackType:{RESET:1,UNDO:2,REDO:3,EXPLODE:4,STAR:5,HIDE:6,SAVE:7,EDIT:8,FAVORITE:9,DISLIKE:10,SORT_COUNT:11,SORT_RELEVANCE:12,NAME_DELTA:13},StatusCode:{DONE:0,WORKING:1,FAIL:2}}}.apply(t,[]))||(e.exports=i)},52555:function(e,t,i){var s,n;s=[i(60567),i(45958),i(34074)],void 0===(n=function(e,t,i){var s=i.SearchQueryDataModule,n=e.SumoViewModule,a=e.SearchMessagesActionsModule,r=e.MenuModelModule,o=e.MenuItemModelModule,l=e.MenuViewModule;return n.extend({mixins:[t],menuItemModels:{surroundingLogsOneMinute:new o({id:"surroundingLogsOneMinute",label:a.surroundingLogsOneMinute}),surroundingLogsFiveMinutes:new o({id:"surroundingLogsFiveMinutes",label:a.surroundingLogsFiveMinutes}),surroundingLogsTenMinutes:new o({id:"surroundingLogsTenMinutes",label:a.surroundingLogsTenMinutes})},events:{"click #surroundingLogsOneMinute":"surroundingLogsOneMinute","click #surroundingLogsFiveMinutes":"surroundingLogsFiveMinutes","click #surroundingLogsTenMinutes":"surroundingLogsTenMinutes","click .connection_launcher":"launchConnection","hideMenu .sumo-menu":"hideMenu"},surroundingLogsOneMinute:function(e){this.surroundingLogs(1)},surroundingLogsFiveMinutes:function(e){this.surroundingLogs(5)},surroundingLogsTenMinutes:function(e){this.surroundingLogs(10)},launchConnection:function(e){var t=this.getFieldValue(this.options.fieldName);_.getPath(this,"options.snowMenuView")&&this.options.snowMenuView.launchConnection(e,{selectionText:t}),this.hideMenu()},surroundingLogs:function(e){if(this.options.context.userInfo.demoUser)this.options.context.messageBox.showMessageForDemoAccount(this.options.context.userInfo,a.surroundingLogs);else{var t=this.options.fieldName,i=t+"="+this.getFieldValue(t);if("_sourceName"==t)i=i+" AND _sourceHost="+this.getFieldValue("_sourceHost");var n=this.options.searchByReceiptTime,r=n?this.options.receiptTime:this.options.messageTime,o=60*e*1e3,l=r-o,d=1*r+o,c=[{blockId:this.options.blockId,messageId:this.options.messageId}],u=new s;u.setQueryString(i),u.setStartTimestamp(l),u.setEndTimestamp(d),u.setSearchByReceiptTime(n),u.setExecuteSearch(!0),u.setMessageLocators(c),this.hideMenu(),SumoUtil.searchDrilldownTrigger(u,"search-tabs-view")}},getFieldValue:function(e){var t=this.options.fieldsContainer,i=".k[title='"+e+"']",s=$(t).find(i),n=$(s).siblings(".v").text();return new RegExp(/[ =\"\[\]\\]/).test(n)&&(n='"'+n.replace(/"/g,'\\"')+'"'),n},hideMenu:function(){this.destroy()},initialize:function(){_.bindAll(this,"render","getMenuModel","surroundingLogs","getFieldValue");var e=[new o({id:"surroundingLogs",label:a.surroundingLogs,subItemsWidth:this.SUB_ITEM_WIDTH,subItemsHaveIcons:!1,subItems:[this.menuItemModels.surroundingLogsOneMinute,this.menuItemModels.surroundingLogsFiveMinutes,this.menuItemModels.surroundingLogsTenMinutes]})];_.getPath(this,"options.snowMenuView")&&(e=e.concat(_.getPath(this,"options.snowMenuView.menuItems")||[])),this.setup(e),this.menuItems=e},setup:function(e){this.menuModel=new r({menuItemWidth:160,menuItemHeight:32,hasIcons:!1,subMenuPositionH:"right",subMenuPositionV:"bottom",menuItems:e}),this.render(),this.showMenu(this.options.eventObject)},render:function(){return this.menuView=new l({model:this.menuModel}),this.$el.append(this.menuView.el),this},destroy:function(){this.menuModel&&this.menuModel.destroy(),this.$el.remove(),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},12161:function(e,t,i){var s,n;s=[i(60567),i(45958)],void 0===(n=function(e,t){var i=e.SumoViewModule,s=e.SearchMessagesActionsModule,n=e.MenuModelModule,a=e.MenuItemModelModule,r=e.MenuViewModule,o=e.browserHelperService;return i.extend({mixins:[t],events:{"click #cell-copyToClipboard":"hideMenu","click #cell-expandJson":"expandJson","click #cell-collapseJson":"collapseJson","click #cell-copyJson":"copyJson","hideMenu .sumo-menu":"hideMenu"},menuItemModels:{copyToClipboard:new a({id:"cell-copyToClipboard",label:s.copyToClipboard}),copyJson:new a({id:"cell-copyJson",label:s.copy_as_JSON,clipboardText:""}),collapseJson:new a({id:"cell-collapseJson",label:s.collapse_cell}),expandJson:new a({id:"cell-expandJson",label:s.expand_cell})},$targetCell:null,targetEl:null,browserSupportsClipboard:null,selectionText:null,initialize:function(){if(_.bindAll(this,"render"),this.browserSupportsClipboard=!o.isSafari(),this.options.$targetCell){this.$targetCell=this.options.$targetCell,this.targetEl=this.$targetCell.find(".jsonview");var e=this.targetEl.text();e.indexOf("  ")>-1&&(e=e.replace(/  /g,"")),this.menuItemModels.copyJson.set({clipboardText:e})}},toggleCollapseExpand:function(e){var t=this.targetEl.parent(),i=e?"expand":"collapse";"expand"===i?t.removeAttr("style"):t.width(t.width()),t.JSONView(i)},expandJson:function(){this.toggleCollapseExpand(!0),this.hideMenu()},collapseJson:function(){this.toggleCollapseExpand(!1),this.hideMenu()},copyJson:function(e){navigator.clipboard.writeText(e),this.hideMenu(),$.later(30,this,(function(){var e=window.getSelection();e&&e.removeAllRanges()}))},setup:function(e){var t="bottom",i=$("#search-query-messages");i.length>0&&(i.height()<250&&(t="top"));this.menuModel=new n({menuItemWidth:195,menuItemHeight:32,hasIcons:!1,subMenuPositionH:"right",subMenuPositionV:t,menuItems:e}),this.render()},setSelectionText:function(e){this.selectionText=e},createCopyToClipboardButton:function(e){this.$("#cell-copyToClipboard").off("click"),this.$("#cell-copyToClipboard").on("click",(function(){navigator.clipboard.writeText(e)}))},render:function(){return this.menuView=new r({model:this.menuModel}),this.$el.empty().append(this.menuView.el),this.createCopyToClipboardButton(this.selectionText),this.delegateEvents(),this},destroy:function(){this.$("#cell-copyToClipboard").off("click"),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},38381:function(e,t,i){var s,n;s=[i(60567),i(45958),i(27234)],void 0===(n=function(e,t,i){var s=e.browserHelperService,n=e.SumoViewModule,a=e.SearchMessagesActionsModule,r=e.MenuModelModule,o=e.MenuItemModelModule,l=e.MenuViewModule;return n.extend({mixins:[t],menuItemModels:{selectionAddAsAnd:new o({id:"selectionAddAsAnd",label:a.selectionAddAsAnd}),selectionAddAsAndNot:new o({id:"selectionAddAsAndNot",label:a.selectionAddAsAndNot}),selectionAddAsOr:new o({id:"selectionAddAsOr",label:a.selectionAddAsOr}),selectionAddAsOrNot:new o({id:"selectionAddAsOrNot",label:a.selectionAddAsOrNot}),selectionAddAsKey:new o({id:"selectionAddAsKey",label:a.selectionAddAsKey}),selectionAddAsValue:new o({id:"selectionAddAsValue",label:a.selectionAddAsValue}),copyToClipboard:new o({id:"cell-copyToClipboard",label:a.copyToClipboard}),copyJson:new o({id:"cell-copyJson",label:a.copy_as_JSON,clipboardText:""}),copyField:new o({id:"copyField",label:a.copyFieldname})},events:{"click #selectionAddAsAnd":"selectionAddAsAnd","click #selectionAddAsAndNot":"selectionAddAsAndNot","click #selectionAddAsOr":"selectionAddAsOr","click #selectionAddAsOrNot":"selectionAddAsOrNot","click #selectionAddAsKey":"handleJsonClick","click #selectionAddAsValue":"handleJsonClick","click .connection_launcher":"launchConnection","click #copyField":"copyField","hideMenu .sumo-menu":"hideMenu","click #cell-copyToClipboard":"hideMenu","click #cell-copyJson":"copyJson","mouseover #cell-copyToClipboard, #cell-copyJson":"removeHighlightedElement","mouseover #selectionAddAsAnd, #selectionAddAsAndNo, #selectionAddAsOr, #selectionAddAsOrNot, #selectionAddAsKey, #selectionAddAsValue, .connection_launcher":"highlightSelectedElement"},menuItems:[],selectedOptions:{},copyJson:function(e){this.hideMenu();var t=this.menuItemModels.copyJson.get("clipboardText");this.jsonActionsView.copyJson(t)},copyField:function(e){var t=this.selectedOptions.validKeyLabelInput;t.match(/\W/)&&(t='%"'+t+'"'),navigator.clipboard.writeText(t),this.hideMenu(),e.stopPropagation()},selectionAddAs:function(e,t){var s=this.selectedOptions.selection;i.selectionAddAs(s,e,t),this.hideMenu()},launchConnection:function(e){var t=_.getPath(this,"options.jsonOptions.selection");_.getPath(this,"options.snowMenuView")&&t&&this.options.snowMenuView.launchConnection(e,{selectionText:t}),this.hideMenu()},selectionAddAsAnd:function(){this.selectionAddAs(!1,"AND")},selectionAddAsAndNot:function(){this.selectionAddAs(!0,"AND")},selectionAddAsOr:function(){this.selectionAddAs(!1,"OR")},selectionAddAsOrNot:function(){this.selectionAddAs(!0,"OR")},handleJsonClick:function(){i.parseJsonSelection(this.selectedOptions),this.hideMenu()},setSelectedOption:function(e){this.selectedOptions=e},hideMenu:function(){this.destroy()},initialize:function(){_.bindAll(this,"render","setSelectedOption","selectionAddAs","removeHighlightedElement","highlightSelectedElement","showMenu","hideMenu");var e=[],t=this.menuItemModels;this.browserSupportsClipboard=!s.isSafari(),this.jsonActionsView=this.options.getJsonActionsView(),e=[t.copyToClipboard,t.copyJson],this.menuItemModels.copyJson.set({clipboardText:JSON.stringify(this.options.jsonOptions.jsonValueUnescaped)}),_.getPath(this,"options.snowMenuView")&&(e=e.concat(_.getPath(this,"options.snowMenuView.menuItems")||[])),this.menuItems=e,this.setup(e),this.showMenu(this.options.event,this.options.jsonOptions)},setup:function(){var e="bottom",t=$("#search-query-messages");t.length>0&&(t.height()<250&&(e="top"));this.menuModel=new r({menuItemWidth:195,menuItemHeight:32,hasIcons:!1,subMenuPositionH:"right",subMenuPositionV:e,menuItems:this.menuItems})},highlightSelectedElement:function(){_.getPath(this,"selectedOptions.selectedElement.addClass")&&this.selectedOptions.selectedElement.addClass("highlight")},removeHighlightedElement:function(){_.getPath(this,"selectedOptions.selectedElement.removeClass")&&this.selectedOptions.selectedElement.removeClass("highlight")},showMenu:function(e,t){this.removeHighlightedElement(),this.setSelectedOption(t),this.highlightSelectedElement(),this.render(t),SumoUtil.setMenuPosition(e.pageX,e.pageY,this.$el,this),this.$el.show()},removeMenuView:function(){this.menuView&&this.menuView.destroy()},render:function(e){var t=[],i=[];if(e.canParseJson&&("key"===e.type?t.push(this.menuItemModels.selectionAddAsKey):"value"===e.type&&t.push(this.menuItemModels.selectionAddAsValue),t.push(new o({isSeparator:!0}))),"key"===e.type&&i.push(this.menuItemModels.copyField),i=(i=(i=i.concat(this.menuItems.slice(1,3))).concat(t)).concat(this.menuItems.slice(3)),e.canParseJson){var s=[this.menuItemModels.selectionAddAsAnd,this.menuItemModels.selectionAddAsAndNot,new o({isSeparator:!0}),this.menuItemModels.selectionAddAsOr,this.menuItemModels.selectionAddAsOrNot];i=i.concat(s)}var n=window.getSelection();if(n&&!n.isCollapsed){i.unshift(this.menuItems[0]);var a=n.toString();this.setMenuAndAppendToDom(i),this.jsonActionsView.createCopyToClipboardButton.call(this,a)}else this.setMenuAndAppendToDom(i);return this},setMenuAndAppendToDom:function(e){this.menuModel.setMenuItems(e),this.removeMenuView(),this.menuView=new l({model:this.menuModel}),this.$el.append(this.menuView.$el)},destroy:function(){this.removeHighlightedElement(),this.removeMenuView(),this.destroySubViews(!0),SumoUtil.destroyView(this),this.$el.remove()}})}.apply(t,s))||(e.exports=n)},74103:function(e,t,i){var s,n;s=[i(60567),i(45958),i(50563),i(27234)],void 0===(n=function(e,t,i,s){i.applicationContext;var n=e.browserHelperService,a=e.SumoViewModule,r=e.SearchMessagesActionsModule,o=e.MenuModelModule,l=e.MenuItemModelModule,d=e.MenuViewModule;return a.extend({mixins:[t],menuItemModels:{selectionAddAsAnd:new l({id:"selectionAddAsAnd",label:r.selectionAddAsAnd}),selectionAddAsAndNot:new l({id:"selectionAddAsAndNot",label:r.selectionAddAsAndNot}),selectionAddAsOr:new l({id:"selectionAddAsOr",label:r.selectionAddAsOr}),selectionAddAsOrNot:new l({id:"selectionAddAsOrNot",label:r.selectionAddAsOrNot}),selectionAddAsParse:new l({id:"selectionAddAsParse",label:r.selectionAddAsParse}),copyToClipboard:new l({id:"copyToClipboard",label:r.copyToClipboard})},events:{"click #selectionAddAsAnd":"selectionAddAsAnd","click #selectionAddAsAndNot":"selectionAddAsAndNot","click #selectionAddAsOr":"selectionAddAsOr","click #selectionAddAsOrNot":"selectionAddAsOrNot","click #selectionAddAsParse":"selectionAddAsParse","click #copyToClipboard":"copyToClipboard","click .connection_launcher":"launchConnection"},selectionText:null,selectionHtml:null,browserSupportsClipboard:null,searchExpression:"",showAllMenuItems:!1,allMenuItems:null,selectionAddAsAnd:function(e,t){var i=t||this.selectionText;s.selectionAddAsAnd(i),this.hideMenu()},selectionAddAsAndNot:function(e,t){var i=t||this.selectionText;s.selectionAddAsAndNot(i),this.hideMenu()},selectionAddAsOr:function(e,t){var i=t||this.selectionText;s.selectionAddAsOr(i),this.hideMenu()},selectionAddAsOrNot:function(e,t){var i=t||this.selectionText;s.selectionAddAsOrNot(i),this.hideMenu()},selectionAddAsParse:function(e,t){var i=t||this.selectionText;s.selectionAddAsParse(i,this.selectionHtml),this.hideMenu()},copyToClipboard:function(e){navigator.clipboard.writeText(this.selectionText),this.hideMenu()},hideQueryOptions:function(e){e?this.$("li").not(".connection_launcher, .connection_cnt").hide():this.$("li").not(".connection_launcher, .connection_cnt").show()},setSelectionText:function(e){this.selectionText=e},setSelectionHtml:function(e){this.selectionHtml=e},initialize:function(){this.browserSupportsClipboard=!n.isSafari(),this.buildAllMenuItems(),this.searchExpression=this.options.searchQueryString,this.showAllMenuItems=!/(^|\|)[\s\n\r\t]*cat/im.test(this.searchExpression);var e=this.getMenuItems();this.setup(e)},setup:function(e){var t="bottom",i=$("#search-query-messages");i.length>0&&(i.height()<250&&(t="top"));this.menuModel=new o({menuItemWidth:195,menuItemHeight:32,hasIcons:!1,subMenuPositionH:"right",subMenuPositionV:t,menuItems:e}),this.render()},render:function(){return this.menuView=new d({model:this.menuModel}),this.$el.append(this.menuView.el),this},getMenuItems:function(){var e=[];return e=this.showAllMenuItems?this.allMenuItems:[this.menuItemModels.copyToClipboard,new l({id:"sep-1",isSeparator:!0})],_.getPath(this,"options.snowMenuView")&&(e=e.concat(_.getPath(this,"options.snowMenuView.menuItems")||[])),e},buildAllMenuItems:function(){var e=[];e.push(this.menuItemModels.copyToClipboard),e.push(new l({id:"sep-1",isSeparator:!0})),e.push(this.menuItemModels.selectionAddAsParse),e.push(new l({id:"sep-2",isSeparator:!0})),e.push(this.menuItemModels.selectionAddAsAnd),e.push(this.menuItemModels.selectionAddAsAndNot),e.push(new l({id:"sep-3",isSeparator:!0})),e.push(this.menuItemModels.selectionAddAsOr),e.push(this.menuItemModels.selectionAddAsOrNot),this.allMenuItems=e},updateMenuItems:function(){var e=this.getMenuItems();this.setup(e)},reset:function(e){this.searchExpression=e.searchExpression;var t=!/(^|\|)[\s\n\r\t]*cat/im.test(this.searchExpression);t!==this.showAllMenuItems&&(this.showAllMenuItems=t,this.updateMenuItems())},showParseMenuItem:function(e){this.$("li#selectionAddAsParse, li#sep-2").toggle(e)},destroy:function(){SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},28215:function(e,t,i){var s,n;s=[i(60567),i(16471),i(50963),i(11717),i(50563),i(60508)],void 0===(n=function(e,t,i,s,n,a){var r=n.applicationContext,o=e.ResultsViewerConstants,l=e.SumoModel,d=e.GetterSetterMixin;return l.extend({defaults:{aggregateResultsSettings:null,hiddenLegends:[],aggregateViewerType:o.ViewerType.TABLE,logsQueryMode:null,errorDetails:null,logsQueryData:null},mixins:[d],initialize:function(e){this.subscribeToSync(e.viewId),this.setLogsQueryMode(e.logsQueryMode||t.QUERY_DISPLAY_MODE.ADVANCED)},getParsedJSONAttributes:function(){return JSON.stringify(this.attributes)},setAggregateResultsSettings:function(e){try{var t=JSON.parse(e),i=this.get("aggregateViewerType");t={settings:{[i]:t.settings[i]}},this.set({aggregateResultsSettings:JSON.stringify(t)})}catch(t){this.set({aggregateResultsSettings:e})}},toggleQueryMode:function(e){r.store.dispatch(s.updateQueryModeAction({id:"search_"+e,queryMode:this.getLogsQueryMode()===t.QUERY_DISPLAY_MODE.BASIC?t.QUERY_DISPLAY_MODE.ADVANCED:t.QUERY_DISPLAY_MODE.BASIC}))},subscribeToSync:function(e){var s=[t.SLICE_NAME,"logQueries","search_"+e].join(".");this.disposeReduxBackboneSync=i.reduxBackboneSyncMultiple(Backbone,r.store,s,this,["logsQueryMode","errorDetails","logsQueryData"])},destroy:function(){this.disposeReduxBackboneSync()}})}.apply(t,s))||(e.exports=n)},61463:function(e,t,i){var s,n;s=[i(63205),i(59882),i(60567),i(25955),i(16471),i(50563),i(5013),i(51901),i(52935)],void 0===(n=function(e,t,i,s,n,a,r,o,l){var d=a.applicationContext,c=i.SubViewHelperModule;r=r.searchPerformanceService;var u=o.SearchPerformanceMetrics,h=n.FACET_ABSOLUTE_RESULTS_LIMIT,g=1,p=2,m=3,f="searchQueryFieldsBodyReact";return Backbone.View.extend({template:_.template(t),subviews:null,cardinalityInfo:{},showCardinality:!0,isCardinalityApprox:!1,reactComponentInstances:{},updateScheduled:!1,destroyed:!1,spinnerDestroyed:!1,initialize:function(){_.bindAll(this,"render","update","updateUtil","_fieldRenderAttributes","onOpenStateChange","onSearchStatusChange","onUserAssignedFieldsChange","onFieldsChange","onZeroMessagesFetched"),this.bindToSearchQueryModel(),this.subviews=new c("SearchQueryFieldsView"),this.render();var e=$("#search-query-messages").css("height");$("#searchQueryFieldsBodyReact").css("height",e)},reInitializeData:function(){this.cardinalityInfo={},this.showCardinality=null,this.isCardinalityApprox=null,this.previousShowSave=void 0,this.previousWarningState=void 0},bindToSearchQueryModel:function(){var e=this.model.get("searchQueryModel");this.listenTo(e,"change:fields",this.onFieldsChange),this.listenTo(e,"change:openListMaps",this.onOpenStateChange),this.listenTo(e,"change:status",this.onSearchStatusChange)},onUserAssignedFieldsChange:function(e,t){if(e){var i=e.previous("userAssignedFields");_.isEqual(i,t)||this.update()}else this.update()},onResize:function(){var e=$("#search-query-messages").css("height");$("#searchQueryFieldsBodyReact").css("height",e),l.showUnusualPinningWarningIfRequired()},onFieldsChange:function(){var e=!0,t={},i=!1,s=this.model.getSearchQueryModel();s&&(i=s.getRawCount()>h,t=this.isCardinalityIncorrect(),e=s.showCardinality()),_.isEqual(this.cardinalityInfo,t)&&e===this.showCardinality&&i===this.isCardinalityApprox||this.update(),this.cardinalityInfo=t,this.showCardinality=e,this.isCardinalityApprox=i},onOpenStateChange:function(e,t){if(e){var i=e.previous("openListMaps");_.isEqual(i,t)||this.update()}else this.update()},onSearchStatusChange:function(e,t){if(e){var i=e.previous("status");if(_.isEqual(i,t))return}var s=this.model.get("searchQueryModel");(s.isCancelled()||s.isErrorStatus())&&this.update()},onZeroMessagesFetched:function(){this.model.getSearchQueryModel().isDoneGathering()&&this.update()},_fieldRenderAttributes:function(t,i,s){var n=this.model.get("searchQueryModel").showCardinality(),a=s.name,r=s.facet.cardinality,o=!n||!s.facet.hasOwnProperty("numericFacetSummary")||s.mute||0===parseInt(r),l=SumoUtil.formatNumberWithUnit(r);return{fieldName:a,fieldNickname:s.nickname,fieldType:s.type,fieldMute:s.mute,cardinality:r,hideCardinality:o,fieldCardinality:o?"":l,selectedClass:a===i?"selected":"",visibilityToggle:"display"===t,fieldSection:t,hover:!1,__:e.searchJSON}},isCardinalityIncorrect:function(){var t,i,s=this.model.getSearchQueryModel(),n=s.showCardinality(),a=s.getStatus(),r=!1,o=s.getBoundary(),l=!1;if(!n)return{isIncorrect:!1};switch(a){case s.STATUS_HISTOGRAM_COMPLETED:r=!0,o<s.AUTO_PAUSE_RAW_RESULTS_LIMIT?(t=e.searchJSON.cardinality_warning_histogram,l=!0,i=g):(t=e.searchJSON.cardinality_warning_100k,i=p);break;case s.STATUS_DONE_GATHERING_RESULTS:s.getTotalMessageCount()>o&&(r=!0,t=e.searchJSON.cardinality_warning_100k,i=m)}return{isIncorrect:r,warningMessage:t,isUpdating:l,warningState:i}},getRenderParams:function(){var t=!0,i=this.model.getSearchQueryModel();if(i){var s=this.isCardinalityIncorrect(),n=i.getOpenListMaps();return t=i.showCardinality(),{isCardinalityIncorrect:s.isIncorrect,openListMaps:n,isUpdating:s.isUpdating,showCardinality:t}}return{__:e.searchJSON,showCardinality:t,warningState:s.warningState,showSave:!1,cardinalityInfo:s}},postRenderHeader:function(t){t.isIncorrect&&this.$(".count-warn").tooltipster({theme:"popover",maxWidth:200,content:t.warningMessage}),this.$(".fa-save").tooltipster({theme:"popover",maxWidth:200,content:e.searchJSON.sqf_save_tooltip})},preRender:function(e){this.previousShowSave=e.showSave,this.previousWarningState=e.warningState},shouldReRenderView:function(e){return e.showSave!==this.previousShowSave||e.warningState!==this.previousWarningState},updateUtil:function(){var e=this;if(!this.destroyed){this.updateScheduled=!1;var t=e.getRenderParams();e.shouldReRenderView(t)?e.render():e.preRender(t);var i=this.model.getSearchQueryModel();!this.spinnerDestroyed&&(this.model.getIsFieldsFetched()||i.isDoneGathering()&&0===i.getRawCount()||i.isErrorStatus())&&(this.renderReactFieldBrowser(),this.destroyFieldBrowserSpinner())}},update:function(){this.updateScheduled||(this.updateScheduled=!0,Promise.resolve().then(this.updateUtil))},renderReactFieldBrowser:function(){this.destroyReactFieldBrowser();var e=this.model.get("searchQueryModel");this.model.getIsFieldsFetched()&&d.currentUserHelper.hasFeatureFlag("UISearchFacetsApi")&&r.start({id:"field_browser_rendering_"+e.getSearchQueryId(),metric:u.FieldBrowserRendering});var t={searchQueryId:e.getSearchQueryId(),searchUniqId:e.getUniqId()};s.createFieldBrowserContainerAt(document.getElementById(f),t),this.reactComponentInstances.searchQueryFieldsBodyReact=document.getElementById(f)},renderFieldBrowserSpinner:function(e){this.spinnerDestroyed=!1,s.createFieldBrowserSpinnerAt(document.getElementById("search-query-fields-loader"),e)},destroyFieldBrowserSpinner:function(){this.spinnerDestroyed=!0;let e=document.getElementById("search-query-fields-loader");e&&s.destroyFieldBrowserSpinner(e)},destroyReactFieldBrowser:function(){var e=this.reactComponentInstances.searchQueryFieldsBodyReact;e&&(s.destroyFieldBrowser(e),this.reactComponentInstances.searchQueryFieldsBodyReact=void 0)},render:function(){var e=this,t=e.getRenderParams();e.preRender(t);var i=e.template(t);return e.$el.html(i),e.renderReactFieldBrowser(),e},reset:function(e){e&&(this.stopListening(this.model.getSearchQueryModel()),this.model=e,this.listenTo(this.model,"zeroMessagesFetched",this.onZeroMessagesFetched),this.bindToSearchQueryModel(),this.renderFieldBrowserSpinner(),this.reInitializeData())},makeRelative:function(e){$(".cloned-element").remove()},makeAbsolute:function(e){var t=e.parents(".field"),i=t.clone();i.addClass("hover"),this.fieldPreviewer.position({my:"left top",at:"left top",of:t}).html(i).addClass("is-visible")},destroy:function(){this.destroyed=!0,this.subviews.destroy(),this.destroyReactFieldBrowser(),this.destroyFieldBrowserSpinner(),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},23661:function(e,t){var i;void 0===(i=function(){return Backbone.Model.extend({defaults:{_mRowId:null,_offset:null,_MAX_MSG_LINES:6,_highlightDictionaryTerms:null},initialize:function(){var e="row_"+this.get("_blockid")+"_"+this.get("_messageid");this.set({_mRowId:e})}})}.apply(t,[]))||(e.exports=i)},36142:function(e,t,i){var s,n;s=[i(63205),i(6895),i(60567),i(50963),i(98175),i(24867)],void 0===(n=function(e,t,i,s,n,a){var r=i.SubViewHelperModule,o=/<span class=\"y\">(.*?)\<\/span\>/g,l={collapsed:!0,nl2br:!0,recursive_collapser:!0,expand_html:"&#9654",collapse_html:"&#9660",replacementMap:{}};return Backbone.View.extend({events:{"click div.v":"onFieldValueClick","click .m-show-full-elm":"onShowFullMessageClick","click .m-show-partial-elm":"onShowPartialMessageClick","click .collapse-showmore":"scrollToCurrentRow","click .ac":"showMenu","click .show-raw":"showRawData","click .show-json":"showJsonFormat","contextmenu .jsonview .key":"handleJsonKeyClick","contextmenu .qval > span:not(.ellipsis)":"handleJsonValClick","change .row-json-selection":"onToggleCollapseExpand"},skipHighlighting:!1,template:_.template(t),subviews:null,parsedFields:[],replacements:null,REPLACE_CONST:{TAG22:"~~tag22~~"},preActions:function(e){var t=$(e.currentTarget);t.addClass("active"),t.siblings().removeClass("active")},escapeDoubleCurlies:function(e){return e.replace(/{{/g,"<span>{</span><span>{</span>").replace(/}}/g,"<span>}</span><span>}</span>")},onExpandCollapseAll:function(){this.renderJsonWithState("none")},renderJsonWithState:function(e){var t=this,i=this.$el.closest("tr"),s=this.options.queryMessagesettings.UTFCharacterDecoding;_.each(t.parsedFields,(function(a){if(msgContainer=i.find('[field-name="'+a.name+'"] .d .json-prettifier'),a.isJson&&msgContainer&&msgContainer.length>0){"expand"===e?(t.expandAll=!0,t.collapseAll=!1):"collapse"===e?(t.collapseAll=!0,t.expandAll=!1):(t.expandAll=!1,t.collapseAll=!1);var r=$(".search-query-messages-table-view"),o=r.length>0?r[r.length-1]:null;n.createJsonPrettifier(msgContainer[0],{src:s?a.jsonValueUnescaped:a.jsonValue,contextMenuListenerForKey:t.handleJsonKeyClick,contextMenuListenerForValue:t.handleJsonValClick,expandAll:t.expandAll,collapseAll:t.collapseAll,onExpandCollapseAll:t.onExpandCollapseAll,lazyLoad:!0,root:o,keywords:a.terms})}}))},destroyAllJsonPrettifiers:function(){var e=this.$(".d .json-prettifier");_.each(e,(function(e){n.destroyJsonPrettifier(e),$(e).parent(".d").html("")}))},getEventInfo:function(e){var t=$(e.target).closest("[field-name]"),i=t.attr("field-name");return{container:t,fieldName:i,fieldData:_.find(this.parsedFields,{name:i}),msgContainer:t.find(".d")}},showRawData:function(e){this.preActions(e);var t=this.getEventInfo(e);n.destroyJsonPrettifier(t.msgContainer.find(".json-prettifier")[0]),t.msgContainer.html("<pre class='m m-p wr' ng-non-bindable>"+a.safelyRenderSpanTags(t.fieldData.value)+"</pre>"+this.options.showMoreTemplate),this.options.initShowMore(t.msgContainer),this.highlightDictionaryTerms(),s.isPositionStickySupported()||$("#search-query-messages-table").trigger("createStaticHeader")},onToggleCollapseExpand:function(e,t){this.renderJsonWithState(t)},showJsonFormat:function(e){this.preActions(e);var t=this.getEventInfo(e),i=t.msgContainer,a=this.options.queryMessagesettings.UTFCharacterDecoding;i.html("<div class='json-prettifier'></div>");var r=$(".search-query-messages-table-view"),o=r.length>0?r[r.length-1]:null;n.createJsonPrettifier(i.find(".json-prettifier")[0],{src:a?t.fieldData.jsonValueUnescaped:t.fieldData.jsonValue,contextMenuListenerForKey:this.handleJsonKeyClick,contextMenuListenerForValue:this.handleJsonValClick,expandAll:this.expandAll,collapseAll:this.collapseAll,onExpandCollapseAll:this.onExpandCollapseAll,lazyLoad:!0,root:o,keywords:t.fieldData.terms}),s.isPositionStickySupported()||$("#search-query-messages-table").trigger("createStaticHeader")},highlightJSONContent:function(e,t,i){"_raw"===t&&i&&i.length>0&&e.JSONView("highlight",i,"y")},toggleMessageVisibility:function(e){var t=this.$(".m-show-full"),i=this.$(".m-show-partial"),s=this.$(".m-p"),n=this.$(".m-f"),a="hide";e?n.html(this.fullMsg):setTimeout((function(){n.html("")})),n.toggleClass(a,!e),i.toggleClass(a,!e),s.toggleClass(a,e),t.toggleClass(a,e),this.highlightDictionaryTerms()},getProperIndex:function(e,t){return t?t+("number"==typeof e?"["+e+"]":"."+e):"number"==typeof e?"["+e+"]":e.toString()},getNestedValue:function(e,t,i){var s,n,a=this,r=$(e.target),o=r.parents(".jsn-parsed").eq(0).attr("field-name"),l=(r.parents("li.obj-container, .object-in-array"),i);s=l.some((function(e){return e.toString().includes(".")}));var d=l.reduce((function(e,t){return a.getProperIndex(t,e)}),"");n=d.toString();var c,u=s?l.reduce((function(e,t){return"number"==typeof t?e+"["+t+"]":e+"['"+t+"']"}),"$"):d,h=$(e.currentTarget),g=$(e.currentTarget).text(),p="";if(c=_.find(this.parsedFields,{name:o}),"value"===t)for(var m in p=c&&_.getPath(c.jsonValue,l),c.replacementsTriggered){var f=new RegExp(c.replacementsTriggered[m],"g");p=p.replace(f,m)}return{selectedElement:h,value:p,nestedKey:u,fieldName:o,selection:g,type:t,validKeyLabelInput:n,jsonValueUnescaped:c.jsonValueUnescaped}},handleJsonKeyClick:function(e,t){var i=this.getNestedValue(e,"key",t);this.options.showJsonMenu(e,i)},handleJsonValClick:function(e,t){var i=this.getNestedValue(e,"value",t);this.options.showJsonMenu(e,i)},onShowFullMessageClick:function(){this.toggleMessageVisibility(!0)},onShowPartialMessageClick:function(){this.toggleMessageVisibility(!1),this.scrollToCurrentRow()},scrollToCurrentRow:function(){var e=this.$el.attr("id");$("#search-query-messages-table").trigger("scrollRowIntoView",e)},onFieldValueClick:function(e){var t=$(e.target),i=t.parent().find(".k").attr("title"),s=t.text(),n=e.altKey;s=SumoUtil.scrubQueryText(s);var a="";a=i?i+"="+s:s,n&&(a="!"+a),$("#search-expression").trigger("appendToSearchExpression",{value:a})},highlightDictionaryTerms:function(){this.skipHighlighting||(this.model.get("_highlightDictionaryTerms")?(this.$(".dt1").addClass("dt1-h"),this.$(".dt2").addClass("dt2-h")):(this.$(".dt1").removeClass("dt1-h"),this.$(".dt2").removeClass("dt2-h")))},showMenu:function(e){var t=$(e.currentTarget),i={context:this.options.context,controller:t,fieldName:t.parent().find(".k").attr("title"),fieldsContainer:t.parent().parent(),blockId:this.model.get("_blockid"),messageId:this.model.get("_messageid"),messageTime:Number(this.model.get("_messagetime")),receiptTime:Number(this.model.get("_receipttime")),searchByReceiptTime:this.options.searchByReceiptTime};this.options.showSurroundingMessageMenu(e,i)},initialize:function(){_.bindAll(this,"render","highlightDictionaryTerms","handleJsonKeyClick","handleJsonValClick","showRawData","showJsonFormat","scrollToCurrentRow","highlightJSONContent","onExpandCollapseAll","renderJsonWithState","destroyAllJsonPrettifiers"),this.subviews=new r("SearchQueryMessageView"+this.cid),this.expandAll=!1,this.collapseAll=!1,this.listenTo(this.model,"change:_highlightDictionaryTerms",this.highlightDictionaryTerms),this.render()},formatValueAndClass:function(e,t,i){var s=this.options.FieldTypeEnum,n=t,a=i||"";return e!==s.INT&&e!==s.LONG&&e!==s.DOUBLE||(a+=" num",n=e===s.DOUBLE?SumoUtil.formatDouble(n,5):SumoUtil.formatNumber(n)),{value:n,cssClass:a}},removeAllSpanTags:function(e){return e.replace(/\<span class=["'].*?["']\>/g,"").replace(/\<\/span\>/g,"")},isFieldJSON:function(e,t,n){if(_.isUndefined(e)||_.isNull(e))return!1;var a=SumoApp.priv.getDynamicProperty("ui_json_searchresults_max_length")>0?SumoApp.priv.getDynamicProperty("ui_json_searchresults_max_length"):1e4,r=this.options.queryMessagesettings.UTFCharacterDecoding,d={name:t,isJSON:!1,jsonValue:{},value:e,jsonValueUnescaped:{},terms:[],cssClass:"",isRaw:"_raw"===t,exceedMaxSize:e.length>a,replacementsTriggered:{}};e=e.replace(/(^[\n\r\s]+|[\n\r\s]+$)/g,""),d.cssClass=d.isRaw?"message":"parsed column-"+t;var c=[];if((d=_.extend(d,this.formatValueAndClass(n,e,d.cssClass))).isRaw){for(;null!==(result=o.exec(e));){var u=this.removeAllSpanTags(result[1]);u&&c.push(u)}d.terms=_.uniq(c)}this.replacements={"%22":this.REPLACE_CONST.TAG22};for(var h=10;h<20;h++)this.REPLACE_CONST["TAG"+h]="~~tag"+h+"~~",this.replacements["%"+h]=this.REPLACE_CONST["TAG"+h];var g=this.removeAllSpanTags(e);if(r){for(var p in this.replacements){var m=new RegExp(p,"g");g=g.replace(m,this.replacements[p])}for(var f in g=g.trim(),d.replacementsTriggered={},this.REPLACE_CONST)-1!==g.indexOf(this.REPLACE_CONST[f])&&(d.replacementsTriggered[f.replace("TAG","%")]=this.REPLACE_CONST[f],l.replacementMap[this.REPLACE_CONST[f]]="TAG22"==f?'"':"")}g=s.decodeHTMLEntities(g);try{if(!("{"!==g.charAt(0)&&"["!==g.charAt(0)||"]"!==g.charAt(g.length-1)&&"}"!==g.charAt(g.length-1))){if(d.jsonValue=JSON.parse(g),isNaN(d.jsonValue)){d.isJson=!0;var S=this.decodeHTMLCharCodes(g);d.jsonValueUnescaped=i.customParseJSON(r?unescape(S):S)}d.terms=c}}catch(e){}return d},decodeHTMLCharCodes:function(e){return e.replace(/&#(\d{2,4});/g,(function(e,t){return String.fromCharCode(t)}))},render:function(){var t=this.model.get("_offset"),i=SumoUtil.formatNumber(t),s=[],a=this.options.searchByReceiptTime,r=this.options.queryMessagesettings.UTFCharacterDecoding,o={};a&&(o._receipttime=this.processTimeStamp("_receipttime")),o._messagetime=this.processTimeStamp("_messagetime");var l,d=[],c=(this.options.FieldTypeEnum,this.options.visibleFields),u=!1;if(c)for(var h=0;h<c.length;h++){var g,p=c[h],m=p.name,f=this.model.get(m),S=p.type,v={name:m,value:f,cssClass:"parsed",isJson:!1,isRaw:!1,terms:[]};_.extend(v,this.formatValueAndClass(S,v.value,v.cssClass)),m.indexOf("timeslice")>=0?(o[m]=this.processTimeStamp(m),v.cssClass="timestamp"):"_messagetime"!==m&&(g=this.isFieldJSON(f,m,S),v=_.extend(v,g),_.getPath(g,"terms.length")&&(s=_.union(s,g.terms)),u=u||g.isJson);var w=v.value||"";v.useMultiline=w&&w.length>0&&("string"==typeof w||w instanceof String)&&(w.indexOf("\n")>-1||w.length>250),d.push(v)}var b={__:e.searchJSON,offset:t,offsetString:i,searchByReceiptTime:a,hideReceiptTime:this.options.hideReceiptTime,timestampFields:o,parsedFields:d,sourceHost:this.model.get("_sourcehost"),sourceName:this.model.get("_sourcename"),sourceCategory:this.model.get("_sourcecategory"),hasRawField:this.options.hasRawField,isSumoIndex:this.options.isSumoIndex,showMoreTemplate:this.options.showMoreTemplate},y=this.template(b);if(this.$el.html(y),$('.toggleCollapseExpand[data-action="expand"]').addClass("active"),$('.toggleCollapseExpand[data-action="collapse"]').removeClass("active"),this.options.hasRawField){var T=_.findWhere(d,{name:"_raw"});if(T&&!T.isJson){l=this.$(".message .d");var E=SumoUtil.createElementByTagName("pre","m m-p");E.html(this.escapeDoubleCurlies(T.value)||""),l.append(E),l.append(this.options.showMoreTemplate)}}if(u){var C=this,A=this.$el.closest("tr");_.each(d,(function(e){if(l=A.find('[field-name="'+e.name+'"] .d'),e.isJson&&!e.exceedMaxSize){l.html("<div class='json-prettifier'></div>"),l=A.find('[field-name="'+e.name+'"] .d .json-prettifier');var t=$(".search-query-messages-table-view"),i=t.length>0?t[t.length-1]:null;n.createJsonPrettifier(l[0],{src:r?e.jsonValueUnescaped:e.jsonValue,contextMenuListenerForKey:C.handleJsonKeyClick,contextMenuListenerForValue:C.handleJsonValClick,expandAll:C.expandAll,collapseAll:C.collapseAll,onExpandCollapseAll:C.onExpandCollapseAll,lazyLoad:!0,root:i,keywords:s})}else e.isJson&&l.find(".m").html(e.value)})),$("#jsonAction__ctr").trigger("showJsonControls")}return this.parsedFields=d,this},processTimeStamp:function(e){var t=this.model.get(e),i=new XDate(parseInt(t)),s=parseInt(t,10),n=SumoApp.dateUtil.formatDate()(s),a=SumoApp.dateUtil.formatTimePrecision()(s);return(SumoApp.dateUtil.alwaysShowTzOffset()||SumoApp.dateUtil.isDefaultTimeZoneCustom())&&(a+=" "+SumoApp.dateUtil.getFormattedUtcOffset(s)),{val:t,time:i,dateString:n,timeString:a}},destroy:function(){this.destroyAllJsonPrettifiers(),this.subviews.destroy(),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},84266:function(e,t,i){var s,n;s=[i(63205),i(86795),i(50963),i(50563),i(24867),i(5013),i(51901)],void 0===(n=function(e,t,i,s,n,a,r){const{SearchQueryUtil:o}=t;var l=s.applicationContext,d=a.searchPerformanceService,c=r.SearchPerformanceMetrics;return Backbone.Model.extend({FieldType:{STRING:"string",INT:"int",LONG:"long",DOUBLE:"double",BOOLEAN:"boolean"},SEARCH_RUNNING_TIMEOUT:12e4,defaults:{searchQueryModel:null,subViewModels:null,page:-1,pageCount:0,isFetching:!1,isFieldsFetched:!1,toFetchFields:!1,recordsPerPage:25,fetchingPage:-1,searchByReceiptTime:!1,fields:null,messages:[],lastMessagesUpdated:null,targetMessageFound:!1,targetMessageFetched:null,scrollTop:0,scrollLeft:0,selectedRange:null,newMessagesOrderChanged:!1},initialize:function(){$.log("Sumo.Ui.Search.Results.SearchQueryMessagesModel.initialize - cid=%s",this.cid),this.ajax=this.get("context").ajax,this.set({subViewModels:{}});var e=this.getSearchQueryModel();e&&(l.currentUserHelper.hasFeatureFlag("UIGetRawResultsFirst")&&this.getRawOnInitialize(),this.listenTo(e,"change:rawCountLastFetched",this.countsUpdated),this.listenTo(e,"change:displayMessageOffset",this.selectedMessageOffsetChanged),this.listenTo(e,"change:messageLocatorsAndOffsets",this.onTargetMessageFound),this.set({searchByReceiptTime:this.getSearchQueryModel().getSearchByReceiptTime()}));var t=this.getSearchViewSettingsModel();t&&(this.set({recordsPerPage:t.getMessagesToDisplay()}),this.listenTo(t,"change:showRecentMessagesFirst",this.messageOrderChanged),this.listenTo(t,"change:messagesToDisplay",this.messagesToDisplayChanged))},destroy:function(){this.stopListening(),this.clearFetchMessagesTimeOut()},resetPage:function(){this.set({page:-1})},getRawOnInitialize:function(){this.set({page:0}),this.fetchMessages(0,25,!0,void 0,!0),this.resetPage()},clearFetchMessagesTimeOut:function(){this.fetchMessageTimeOut&&clearTimeout(this.fetchMessageTimeOut)},getNewMessagesOrderChanged:function(){return this.get("newMessagesOrderChanged")},setNewMessagesOrderChanged:function(e){return this.set({newMessagesOrderChanged:e})},getToFetchFields:function(){return this.get("toFetchFields")},setToFetchFields:function(e){return this.set({toFetchFields:e})},setIsFieldsFetched:function(e){return this.set({isFieldsFetched:e})},getIsFieldsFetched:function(){return this.get("isFieldsFetched")},getSearchQueryModel:function(){return this.get("searchQueryModel")},getSearchQueryId:function(){return this.getSearchQueryModel().getSearchQueryId()},getSearchViewSettingsModel:function(){return this.getSearchQueryModel().getSearchViewSettingsModel()},getSearchByReceiptTime:function(){return this.get("searchByReceiptTime")},getSubviewModel:function(e){return this.get("subViewModels")[e]},setSubviewModel:function(e,t){this.get("subViewModels")[e]=t},getPage:function(){return this.get("page")},setPage:function(e){this.set({page:e})},getPageCount:function(){return this.get("pageCount")},setPageCount:function(e){this.set({pageCount:e})},getRecordOffset:function(){return this.getPage()*this.getRecordsPerPage()},isFetching:function(){return this.get("isFetching")},getFetchingPage:function(){this.get("fetchingPage")},setFetchingPage:function(e){this.set("fetchingPage",e)},setFetching:function(e){this.set({isFetching:e})},getSelectedRange:function(){return this.get("selectedRange")},setSelectedRange:function(e){this.set({selectedRange:e})},isTimeSeriesAnalyticsOperator:function(){var e=`${this.getSearchQueryModel().getSearchExpression()||""}`.trim();if((e=SumoUtil.stripQuery(e)).length<2)return!1;if(-1===e.indexOf("|"))return!1;for(var t,i=e.split("|"),s=" *"+["predict","outlier"].join("| *"),n=0;n<i.length;n++)if((t=new RegExp(s,"ig").exec(i[n].trim()))&&0==t.index)return!0;return!1},validateOffsetAndLength:function(e,t,i){var s=this.getRecordsPerPage();return null==t?($.log("Sumo.Ui.Search.Results.SearchQueryMessagesModel.validateOffsetAndLength - offset is null"),!1):t<0?($.log("Sumo.Ui.Search.Results.SearchQueryMessagesModel.validateOffsetAndLength - offset '%d' is negative",t),!1):t>e-1?($.log("Sumo.Ui.Search.Results.SearchQueryMessagesModel.validateOffsetAndLength - offset '%d' greater than or equal to records count: '%d'",t,e),!1):null==i?($.log("Sumo.Ui.Search.Results.SearchQueryMessagesModel.validateOffsetAndLength - length is null"),!1):i<0?($.log("Sumo.Ui.Search.Results.SearchQueryMessagesModel.validateOffsetAndLength - length '%d' is negative",i),!1):0==i?($.log("Sumo.Ui.Search.Results.SearchQueryMessagesModel.validateOffsetAndLength - length is zero"),!1):i>s?($.log("Sumo.Ui.Search.Results.SearchQueryMessagesModel.validateOffsetAndLength - length '%d' is greater than records per page: '%d'",i,s),!1):!(t+i>e&&!this.isTimeSeriesAnalyticsOperator())||($.log("Sumo.Ui.Search.Results.SearchQueryMessagesModel.validateOffsetAndLength - offset '%d' plus length '%d' greater than or equal to records count: '%d'",t,i,e),!1)},getTotalRecordsCount:function(){return this.getSearchQueryModel().getTotalMessageCount()},getSelectedRecordsCount:function(){var e=this.getSelectedRange();return null!==e?e.startMessage.toMessageOffset-e.endMessage.fromMessageOffset:this.getSearchQueryModel().getTotalMessageCount()},getRawCount:function(){return this.getSearchQueryModel().getRawCount()},getRecordsPerPage:function(){return this.get("recordsPerPage")},setRecordsPerPage:function(e){this.set({recordsPerPage:e})},getFields:function(){return this.get("fields")},setFields:function(e){this.set({fields:e}),this.getSearchQueryModel().setFields(e)},getFacets:function(){return this.getSearchQueryModel().getFacets()},setFacets:function(e){this.getSearchQueryModel().setFacets(e)},getParsedFieldNames:function(){var e=[],t=this.getFields(),i=new o;if(t){var s=_.keys(t),n=this;e=_.filter(s,(function(e){return n.hasRawField()?!_.contains(i.INTERNAL_FIELDS,e):!_.contains(i.INTERNAL_FIELDS,e)||_.contains(i.METADATA_TO_SHOW,e)}))}return e},getVisibleFieldNames:function(){return this.getVisibleFields().map((function(e){return e.name}))},getVisibleFields:function(){var e=this.getSearchQueryModel().getUserAssignedFields()[1];if(!_.isEmpty(e)){var t={showExpandCollapse:!0},i={showExpandCollapse:!1};_.each(e,(function(e){e.name.indexOf("_messagetime")>=0?_.extend(e,i):_.extend(e,t)}))}return e},hasField:function(e){var t=this.getFields();if(null==t||0==t.length)return!1;var i=_.keys(t);return!(void 0===_.find(i,(function(t){return t==e})))},hasRawField:function(){return this.hasField("_raw")},hasMetadataFields:function(){var e=this.getFields();if(null==e||0==e.length)return!1;var t=_.keys(e);return _.find(t,(function(e){return"_sourcehost"==e||"_sourcename"==e||"_sourcecategory"==e}))},getMessages:function(){return this.get("messages")},setMessages:function(e){if(this.set({messages:e}),this.set({lastMessagesUpdated:$.now()}),e&&e.length>0)if(this.calculateOffsetAndLengthForPage(this.getPage()).exceedsRawBoundary)this.getSearchQueryModel().set({displayStartMillis:null,displayEndMillis:null,displayRange:null});else{var t=1e17,i=-1,s=this.getSearchByReceiptTime()?"_receipttime":"_messagetime";_.each(e,(function(e){var n=_.indexOf(e.keys,s),a=e.values[n];t=Math.min(t,a),i=Math.max(i,a)})),this.getSearchQueryModel().set({displayStartMillis:t,displayEndMillis:i,displayRange:t+"-"+i})}},clearMessages:function(){this.set({page:-1},{silent:!0}),this.setMessages([]),this.set({lastMessagesUpdated:$.now()})},_compareMessagesV2:function(e){const t={orderSame:!0,lengthSame:!0};var i=this.getMessages();if(null==i||null==e)return{orderSame:!1,lengthSame:!1};var s=i.length,a=e.length;0!=s&&0!=a&&s==a||(t.lengthSame=!1);for(var r=this.getParsedFieldNames(),o=r.length,d=n.toMessageHashList(i),c=n.toMessageHashList(e),u=0;u<s;u++){var h=d[u],g=c[u];if(h._messageid!=g._messageid)return t.orderSame=!1,t;if(h._blockid!=g._blockid)return t.orderSame=!1,t;if(o>0)for(var p=0;p<o;p++){var m=r[p];if(h[m]!=g[m]){if(!l.currentUserHelper.hasFeatureFlag("UIGetRawResultsFirst"))return t.orderSame=!1,t;if(!this.isFieldNil(h[m])&&!this.isFieldNil(g[m]))return t.orderSame=!1,t}}}return t},_compareMessages:function(e){var t=this.getMessages();if(null==t||null==e)return!1;var i=t.length,s=e.length;if(0==i||0==s||i!=s)return!1;for(var a=this.getParsedFieldNames(),r=a.length,o=n.toMessageHashList(t),d=n.toMessageHashList(e),c=0;c<i;c++){var u=o[c],h=d[c];if(u._messageid!=h._messageid)return!1;if(u._blockid!=h._blockid)return!1;if(r>0)for(var g=0;g<r;g++){var p=a[g];if(u[p]!=h[p]){if(!l.currentUserHelper.hasFeatureFlag("UIGetRawResultsFirst"))return!1;if(!this.isFieldNil(u[p])&&!this.isFieldNil(h[p]))return!1}}}return!0},isFieldNil:function(e){return null==e||null==e||0==e.length},getTargetMessageFound:function(){return this.get("targetMessageFound")},setTargetMessageFound:function(e){this.set({targetMessageFound:e})},fetchFields:function(t){if(this.getToFetchFields()){if(!t||this.getSearchQueryModel().isDestroying()||this.getSearchQueryModel().getViewDestroyed())return void this.setToFetchFields(!1);var i=$.now();$.log("Sumo.Ui.Search.Facets.SearchQueryMessagesModel - fetching start=%s",i),this.ajax.call(this,{endpoint:sprintf(this.ajax.EndpointFormats.V2_SEARCH_FACETS_FORMAT,t),errorCode:"search_query_messages",retryLimit:10,timeout:this.SEARCH_RUNNING_TIMEOUT,success:function(e){var s=$.now();if($.log("Sumo.Ui.Search.Facets.SearchQueryMessagesModel - fetching end=%s, duration=%s",s,s-i),!(this.lastFieldRequestTimeStamp&&this.lastFieldRequestTimeStamp>i)){if(!this.getIsFieldsFetched()&&e.fields.length&&this.setIsFieldsFetched(!0),this.lastFieldRequestTimeStamp=i,this.getSearchQueryModel().shouldShowSummaryView()){var n=new o;this.parseAndSetFacets(e.facets.concat(n.SUMMARY_VIEW.FACET)),this.parseAndSetFields(e.fields.concat(n.SUMMARY_VIEW.FIELD),this.getMessages())}else this.parseAndSetFacets(e.facets),this.parseAndSetFields(e.fields,this.getMessages());this.getSearchQueryModel().refreshUserAssignedFields(),e.facetCalculationCompleted?this.setToFetchFields(!1):setTimeout((()=>this.fetchFields(t)),1e3)}},error:function(t,i,s,n,a){this.setToFetchFields(!1);var r=a?a.errorKey:null;if(r&&"sq2:invalid_session"==r){var o=i+" "+e.searchJSON.error_search_invalid_session;return $("#search-view").trigger("error",{errorMessage:o}),!1}return $("#search-view").trigger("error",{errorMessage:i,errorDetails:s}),!1}})}},countsUpdated:function(){this.getSearchQueryModel().isPaused()||($.log("Sumo.Ui.Search.Results.SearchQueryMessagesModel - counts updated total: '%d' raw:'%d'",this.getSelectedRecordsCount(),this.getRawCount()),this.updatePageCount(),this.getSelectedRecordsCount()>0?(this.getPage()<0&&this.setPage(0),this.fetchPage(this.getPage()),l.currentUserHelper.hasFeatureFlag("UISearchFacetsApi")&&!this.getToFetchFields()&&(this.getToFetchFields()||this.setIsFieldsFetched(!1),this.setToFetchFields(!0),this.fetchFields(this.getSearchQueryId()))):(this.set({page:-1},{silent:!0}),this.setMessages([]),this.trigger("zeroMessagesFetched")))},messageOrderChanged:function(){this.getRecordsPerPage()===this.getSearchViewSettingsModel().getMessagesToDisplay()&&(this.set({page:-1},{silent:!0}),this.fetchPage(0,null,!0))},messagesToDisplayChanged:function(){this.set("visitedPages",[]),this.getSearchQueryModel().resetCachedPages(),this.set({recordsPerPage:this.getSearchViewSettingsModel().getMessagesToDisplay()}),this.updatePageCount(),this.set({page:-1},{silent:!0}),this.setFetching(!0),this.fetchPage(0,null,!0)},selectedMessageOffsetChanged:function(){var e=this.getSearchQueryModel().get("displayMessageOffset");if(!(e<0)){var t=this.getRecordsPerPage(),i=Math.floor(e/t);i!=this.getPage()&&this.fetchPage(i,null,!0)}},getTargetMessageLocator:function(){var e=this.getSearchQueryModel().getMessageLocatorsAndOffsets();if(e&&e.length>0){var t=e[0].messageLocator;if(t)return t}return null},getTargetMessageOffset:function(){var e=this.getSearchQueryModel().getMessageLocatorsAndOffsets();return e&&e.length>0?e[0].offset:null},onTargetMessageFound:function(){$.log("Sumo.Ui.Search.Results.SearchQueryMessagesModel.onTargetMessageFound");var e=this.getTargetMessageOffset();if(null!=e){if(e>=this.getTotalRecordsCount())return $.log("Sumo.Ui.Search.Results.SearchQueryMessagesModel.onTargetMessageFound - message count not caught up yet."),void $.later(300,this,(function(){this.onTargetMessageFound()}));$.later(300,this,(function(){this.setTargetMessageFound(!0),this.getPage()<1&&this.fetchPageWithTargetMessage()}))}},fetchPageWithTargetMessage:function(){$.log("Sumo.Ui.Search.Results.SearchQueryMessagesModel.fetchPageWithTargetMessage()");var e=this.getTargetMessageOffset();if($.log("Sumo.Ui.Search.Results.SearchQueryMessagesModel.fetchPageWithTargetMessage() - target msg offset=%s",e),null!=e){if(!this.getSearchViewSettingsModel().getShowRecentMessagesFirst())(e=this.getTotalRecordsCount()-e-1)<0&&(e=0);var t=this.getRecordsPerPage(),i=Math.floor(e/t);if(i==this.getPage())this.set({targetMessageFetched:$.now()});else{var s=this;this.fetchPage(i,(function(){s.set({targetMessageFetched:$.now()})}),!0)}}},calculateOffsetAndLengthForPage:function(e){var t=this.getSelectedRange(),s=/\s+sort( by)?\s+/i.test(this.getSearchQueryModel().getSearchExpression())||this.getSearchViewSettingsModel().getShowRecentMessagesFirst();return null!==t?i.calculateOffsetAndLengthForPageWithSelection({page:e,totalCount:this.getRawCount(),pageSize:this.getRecordsPerPage(),descendingOrder:s,selectedRange:this.getSelectedRange(),selectedRecordsCount:this.getSelectedRecordsCount()}):i.calculateOffsetAndLengthForPage({page:e,totalCount:this.getRawCount(),pageSize:this.getRecordsPerPage(),descendingOrder:s})},fetchPage:function(e,t,i){var s=this.getSearchQueryModel();if(e<0)return $.log("Sumo.Ui.Search.Results.SearchQueryMessagesModel - fetch page '%d' is negative",e),void this.trigger("zeroMessagesFetched");if(e>this.getPageCount()-1)return $.log("Sumo.Ui.Search.Results.SearchQueryMessagesModel - fetch page for page '%d' greater than or equal page count: '%d'",e,this.getPageCount()),void this.trigger("zeroMessagesFetched");var n=s.get("pagedMessages")[e],a=this.calculateOffsetAndLengthForPage(e),r=!0,o=this.getPage(),d=this.getSearchViewSettingsModel().getShowRecentMessagesFirst();_.isEmpty(n)&&(!d||e!=o||a.length>this.getMessages().length)&&(r=!1),this.setPage(e),_.isEmpty(n)||this.setMessages(n),this.clearFetchMessagesTimeOut(),l.currentUserHelper.hasFeatureFlag("UISearchFacetsApi")&&a.length<=this.getMessages().length&&!this.timeDepQuery()&&!i||this.fetchMessages(a.offset,a.length,r,(function(){s.set({displayMessageOffset:-1},{silent:!0}),t&&t()}),this.getSearchQueryId())},timeDepQuery:function(){return/\s+sort( by)?\s+/i.test(this.getSearchQueryModel().getSearchExpression())},resetDisplayedRowIndex:function(){this.getSearchViewSettingsModel().setNonAggTableFirstVisibleRowIndex(0)},fetchMessages:function(t,i,s,n,a,r){var o=this.getPage(),u=this;if(!this.validateOffsetAndLength(this.getTotalRecordsCount(),t,i)&&!a)return $.logInfo("Sumo.Ui.Search.Results.SearchQueryMessagesModel - offset '%d' and/or length: '%d' did not validate, exiting for %s id",t,i,r||this.getSearchQueryId()),void this.trigger("zeroMessagesFetched");s||(this.setFetching(!0),this.setFetchingPage(o));var h=$.now();$.log("Sumo.Ui.Search.Results.SearchQueryMessagesModel - fetching start=%s",h),this.getSearchQueryModel().isDestroying()?$.log("Sumo.Ui.Search.Results.SearchQueryMessagesModel.fetchMessages - SearchQueryModel is being destroyed, no need to fetch."):this.getSearchQueryId()&&(l.userHelperOverride.hasFeatureFlag("UISearchNonAggregateTable")&&$.logInfo("Sumo.Ui.Search.Results.SearchQueryMessagesModel - fetching messages with offset '%d' and length: '%d' for %s id. It was started %d milliseconds ago.",t,i,r||this.getSearchQueryId(),Date.now()-this.getSearchQueryModel().get("searchQueryStartMillis")),this.ajax.call(this,{endpoint:sprintf(this.ajax.EndpointFormats.V2_SEARCH_MESSAGES_RAW_FORMAT,r||this.getSearchQueryId()),errorCode:"search_query_messages",retryLimit:10,timeout:this.SEARCH_RUNNING_TIMEOUT,data:{offset:t,length:i,highlight:!0},success:function(e){var a=$.now();if($.log("Sumo.Ui.Search.Results.SearchQueryMessagesModel - fetching end=%s, duration=%s",a,a-h),!(u.lastRequestTimeStamp&&u.lastRequestTimeStamp>h)){u.lastRequestTimeStamp=h;var l=this.getSearchQueryModel();e.messages&&0===e.messages.messages.length?u.fetchMessageTimeOut=setTimeout((function(){u.fetchMessages(t,i,s,n,r||u.getSearchQueryId())}),500):e.messages&&e.messages.messages.length>0&&_.isEmpty(l.get("pagedMessages")[o])&&!l.isDestroying()&&l.getRawCount()>0&&!l.isAggregateQuery()&&d.start({id:"non_aggregate_table_rendering_"+l.getSearchQueryId(),metric:c.NonAggregateTableRendering}),s||(this.setFetching(!1),this.setFetchingPage(o)),this.getSearchQueryModel().isDestroying()?$.log("Sumo.Ui.Search.Results.SearchQueryMessagesModel.fetchMessages - SearchQueryModel is being destroyed, no need to update."):(n&&n(),e.messages?this.processMessages(e.messages,s,o):(this.setFacets(null),this.setFields(null),this.getSearchQueryModel().refreshUserAssignedFields()))}},error:function(t,i,n,a,r){if(s||(this.setFetching(!1),this.setFetchingPage(o)),this.getSearchQueryModel().isDestroying())return $.log("Sumo.Ui.Search.Results.SearchQueryMessagesModel.fetchMessages - SearchQueryModel is being destroyed, no need to show errors."),!1;this.trigger("zeroMessagesFetched");var l=r?r.errorKey:null;if(l&&"sq2:invalid_session"==l){var d=i+" "+e.searchJSON.error_search_invalid_session;return $("#search-view").trigger("error",{errorMessage:d}),!1}return $("#search-view").trigger("error",{errorMessage:i,errorDetails:n}),!1}}))},filterMessages:function(e){this.setSelectedRange(e),this.updatePageCount(),null!==e&&e.startMessage.toMessageOffset===e.endMessage.fromMessageOffset?this.clearMessages():(this.set({page:-1},{silent:!0}),this.fetchPage(0,null,!0))},parseAndSetFacets:function(e){if(e){var t={};e.forEach((function(e){t[e.name]=e})),this.setFacets(t)}else this.setFacets(null)},isFieldUserReferenced:function(e){var t=this.getFields();return _.getPath(t,e+".userReferenced")},parseAndSetFields:function(e,t){var i=Object.keys(this.getFields()||[]).length,s=!1;if(e){this.getSearchQueryModel().formatFieldsAndResults(e,t);for(var n={},a=0;a<e.length;a++){var r=e[a];n[r.name]=r}this.setFields(n),e.length!=i&&(s=!0)}else this.setFields(null);return s},appendSummaryViewMessages:function(e){var t=e.messages,i=new o,s=/\b_\w+/,a=/\w+\.\w+/,r=t.map((function(e){var t=e.keys.indexOf("_raw");t>-1&&(e={keys:e.keys.concat("fields"),values:e.values.concat(e.values[t])});var r=[],o=[];return e.keys.forEach((function(t,l){if(!(s.test(e.keys[l])||i.IGNORED_SUMMARY_VALUES.includes(e.values[l])||a.test(e.keys[l]))){r.push(t);var d=e.values[l],c=n.getValueMetaObject(d);if(!(c.jsonValue&&Object.keys(c.jsonValue).length>0))return o.push(d);o.push(c.jsonValue)}})),{keys:r,values:o}}));return r=n.toMessageHashList(r),{messages:t=t.map((function(e,t){return{keys:e.keys.concat(i.SUMMARY_VIEW.FIELD.name),values:e.values.concat(JSON.stringify(n.sortObjectKeys(n.removeDuplicateKeys(r[t])))).map((function(e){return"object"==typeof e?JSON.stringify(e):e}))}})),fields:e.fields.concat(i.SUMMARY_VIEW.FIELD),facets:e.facets.concat(i.SUMMARY_VIEW.FACET)}},processMessages:function(e,t,i){var s=l.currentUserHelper.hasFeatureFlag("UISearchFacetsApi");if(this.getSearchQueryModel().shouldShowSummaryView()&&(e=this.appendSummaryViewMessages(e)),s)this.getSearchQueryModel().formatFieldsAndResults(e.fields,e.messages);else{!this.getIsFieldsFetched()&&e.fields.length&&this.setIsFieldsFetched(!0),this.parseAndSetFacets(e.facets,e.messages);var n=this.parseAndSetFields(e.fields,e.messages);this.getSearchQueryModel().refreshUserAssignedFields()}var a=e.messages,r=/\s+sort( by)?\s+/i.test(this.getSearchQueryModel().getSearchExpression());if(this.getSearchViewSettingsModel().getShowRecentMessagesFirst()||r||(a=a.reverse()),l.currentUserHelper.hasFeatureFlag("UISearchTablePreventMultipleRenders")){if(t){const{lengthSame:e,orderSame:t}=this._compareMessagesV2(a);if(this.setNewMessagesOrderChanged(!t),e&&t&&!n)return}}else if(t&&this._compareMessages(a)&&!n)return;this.getSearchQueryModel().setPagedMessages(a,i),i===this.getPage()&&this.setMessages(a)},fetchMessageAtOffset:function(t,i){this.getSearchQueryModel().isDestroying()?$.logInfo("Sumo.Ui.Search.Results.SearchQueryMessagesModel.fetchMessageAtOffset - SearchQueryModel is being destroyed, no need to fetch. for %s id",this.getSearchQueryId()):this.ajax.call(this,{endpoint:sprintf(this.ajax.EndpointFormats.V2_SEARCH_MESSAGES_RAW_FORMAT,this.getSearchQueryId()),errorCode:"search_query_messages",retryLimit:10,timeout:this.SEARCH_RUNNING_TIMEOUT,data:{offset:t,length:1,highlight:!1},success:function(e){if(this.getSearchQueryModel().isDestroying())return $.log("Sumo.Ui.Search.Results.SearchQueryMessagesModel.fetchMessageAtOffset - SearchQueryModel is being destroyed, no need to continue."),!1;e.messages&&e.messages.messages&&e.messages.messages.length>0?i(e.messages.messages[0]):$.log("Sumo.Ui.Search.Results.SearchQueryMessagesModel - fetchMessageAtOffset Message NOT found at offset %s",t)},error:function(t,i,s,n,a){if(this.getSearchQueryModel().isDestroying())return $.log("Sumo.Ui.Search.Results.SearchQueryMessagesModel.fetchMessageAtOffset - SearchQueryModel is being destroyed, no need to handle errors."),!1;var r=a?a.errorKey:null;if(r&&"sq2:invalid_session"==r){var o=i+" "+e.searchJSON.error_search_invalid_session;return $("#search-view").trigger("error",{errorMessage:o}),!1}return $("#search-view").trigger("error",{errorMessage:i,errorDetails:s}),!1}})},updatePageCount:function(){var e=this.getSelectedRecordsCount(),t=this.getRecordsPerPage();this.setPageCount(Math.ceil(e/t))}})}.apply(t,s))||(e.exports=n)},77561:function(e,t,i){var s,n;s=[i(60567),i(66359),i(29950)],void 0===(n=function(e,t,i){var s=e.SearchMessagesSettingsModule,n=e.MenuModelModule,a=t.currentUserHelper,r=e.MenuItemModelModule,o=e.MenuViewModule;return Backbone.View.extend({menuItemModels:{displayMessagePreferences:new r({id:"displayMessagePreferences",label:s.displayMessagePreferences,iconPath:void 0,showFontIcon:!1,showIcon:!1}),showNumberColumn:new r({id:"showNumberColumn",label:s.showNumberColumn,iconPath:"fa-check",showFontIcon:!0,showIcon:!1}),showMessageTimeColumn:new r({id:"showMessageTimeColumn",label:s.showMessageTimeColumn,iconPath:"fa-check",showFontIcon:!0,showIcon:!1}),showMessageTextColumn:new r({id:"showMessageTextColumn",label:s.showMessageTextColumn,iconPath:"fa-check",showFontIcon:!0,showIcon:!1}),showParsedFields:new r({id:"showParsedFields",label:s.showParsedFields,iconPath:"fa-check",showFontIcon:!0,showIcon:!1}),exportResults:new r({id:"exportResults",label:s.exportResults,iconPath:"icon--download",showFontIcon:!0,showIcon:!1}),exportResultsAll:new r({id:"exportResultsAll",label:s.exportResultsAll,iconPath:"icon--download",showFontIcon:!0,showIcon:!1}),saveSettings:new r({id:"saveSettings",label:s.saveSettings,iconPath:"fa-save",showFontIcon:!0,showIcon:!1})},events:{"click #displayMessagePreferences":"displayMessagePreferences","click #showNumberColumn":"toggleSetting","click #showMessageTimeColumn":"toggleSetting","click #showMessageTextColumn":"toggleSetting","click #showParsedFields":"toggleSetting","click #exportResults":"exportResults","click #exportResultsAll":"exportResultsAll","click #saveSettings":"saveSettings"},menuModel:null,menuView:null,displayMessagePreferences:function(e){var t=this.model,s=t.getSearchViewSettingsModel().getSearchSettings(),n=t.getSearchQueryModel();i.createSearchTableDisplaySettings({settings:s,searchQueryId:n.getSearchQueryId()}),this.hideMe()},toggleSetting:function(e){var t=""===e.target.id?$(e.target).parents("li").attr("id"):e.target.id;this.model.getSearchViewSettingsModel().toggleValue(t),this.menuItemModels[t].toggleShowFontIcon(),this.hideMe()},setSetting:function(e,t){this.model.getSearchViewSettingsModel().toggleValue(e,t),this.menuItemModels[e].setShowFontIcon(t)},exportResults:function(){$("#search-query-messages-export").trigger("exportDisplayedFieldReact"),this.hideMe()},exportResultsAll:function(){$("#search-query-messages-export").trigger("exportAllFieldReact"),this.hideMe()},saveSettings:function(){var e=this.model.getSearchViewSettingsModel();SumoApp.user.userPreferencesModel.setSearchViewSettingsModel(e),SumoApp.user.userPreferencesModel.saveData(),this.hideMe()},hideMe:function(){this.options.controller.trigger("hideMenu")},destroy:function(){$.log("Sumo.Ui.Search.Results.SearchQueryMessagesSettingsView.destroy"),this.menuView.destroy(),SumoUtil.destroyView(this)},onShow:function(e){this.model.getSearchQueryModel();var t=this.menuModel.get("menuItems"),i=[this.menuItemModels.showNumberColumn,this.menuItemModels.showMessageTimeColumn,this.menuItemModels.showMessageTextColumn];t=[new r({id:"columns",label:s.showColumns,subItemsWidth:120,subItemsHaveIcons:!0,subItems:i}),new r({id:"sep-main-1",isSeparator:!0}),this.menuItemModels.displayMessagePreferences,new r({id:"sep-main-2",isSeparator:!0}),this.menuItemModels.exportResults,this.menuItemModels.exportResultsAll,this.menuItemModels.saveSettings],this.menuModel.set({menuItems:t}),this.menuView.destroy(),this.$(".sumo-menu").remove(),this.render()},initialize:function(){var e=this.model.getSearchViewSettingsModel();this.menuItemModels.showNumberColumn.setShowFontIcon(e.getShowNumberColumn()),this.menuItemModels.showMessageTimeColumn.setShowFontIcon(e.getShowMessageTimeColumn()),this.menuItemModels.showMessageTextColumn.setShowFontIcon(e.getShowMessageTextColumn());var t=[this.menuItemModels.displayMessagePreferences,new r({id:"sep-main-3",isSeparator:!0})];!a.hasFeatureFlag("UILogSearchHideExportOptions")&&a.hasPermission("DOWNLOAD_SEARCH_RESULTS")&&(t=t.concat([this.menuItemModels.exportResults,this.menuItemModels.exportResultsAll])),t=t.concat([this.menuItemModels.saveSettings]),this.menuModel=new n({menuItemWidth:180,menuItemHeight:32,hasIcons:!0,subMenuPositionH:"left",subMenuPositionV:"bottom",menuItems:t}),_.bindAll(this,"render","onShow"),this.render()},render:function(){return this.menuView&&this.menuView.destroy(),this.menuView=new o({model:this.menuModel}),this.$el.append(this.menuView.el),this}})}.apply(t,s))||(e.exports=n)},87883:function(e,t,i){var s,n;s=[i(15460),i(60567),i(86795),i(36142),i(23661),i(34074),i(74103),i(12161),i(52555),i(38381),i(75806),i(50963),i(88097),i(63205),i(50563),i(5013),i(51901),i(73166),i(41636),i(24867)],void 0===(n=function(e,t,i,s,n,a,r,o,l,d,c,u,h,g,p,m,f,S,v,w){const{SearchQueryUtil:b,SnowMenuView:y}=i;var T=a.SearchQueryDataModule,E=p.applicationContext,C=t.browserHelperService,A=t.SubViewHelperModule,M=t.SearchTablesStaticHeaderHelperModule;m=m.searchPerformanceService;var I=f.SearchPerformanceMetrics,R=u.i18nUtil,P=S.fieldNameMap;return t.SumoViewModule.extend({mixins:[v],events:function(){return Object.assign({},this.SHOWMORE_EVENTS,{scrollRowIntoView:"onScrollRowIntoView",createStaticHeader:"createStaticHeader","mouseup .jsonview, .row-json-selection":"preventEventPropagation","click .exceeds-raw-boundary-link":"onBoundaryExceedsClick","messages:createStaticHeader":"createStaticHeader","contextmenu pre.m, tbody td.parsed":"onRightClick"})},ANOMALY_INCIDENT_QUERY:/(_index|_view)=sumologic_anomaly_events/,DEBOUNCE_INTERVAL_NON_AGG_TABLE:100,topContainerId:1,template:_.template(e),subviews:null,SCROLLABLE_CLASS:".search-query-messages-table-view",STATIC_HEADER_CLASS:".search-query-messages-static-header",SUMMARY_COLUMN:"summary",messageSelectionActionsView:null,jsonActionsView:null,jsonSelectionActionView:null,snowMenuView:null,firstRender:!0,reRenderRequired:!1,searchTableApi:null,resetAndRenderScheduled:!1,destroyed:!1,menuViewCollection:["messageSelectionActionsView","jsonSelectionActionView","surroundingMessageView","jsonActionsView"],sumoIndexSearchQueries:["_index=sumologic_audit","_index=sumologic_volume","_index=sumologic_audit_events"],getTopContainerElementId:function(){return"search-query-messages-table-container-"+this.topContainerId},getScrollableElement:function(){return this.$(this.SCROLLABLE_CLASS)},getTopContainerElement:function(){var e=this.getTopContainerElementId();return this.$("#"+e)},createMenuContainer:function(e){var t=$("#"+e);return t.length?t.empty():t=SumoUtil.appendElementByTagName("body","div","sumo-menu-container",e),t},preventEventPropagation:function(e){e.preventDefault(),e.stopPropagation()},showMenu:function(e,t){this.preventEventPropagation(e),this.surroundingMessageView&&this.surroundingMessageView.destroy(),t.el=this.createMenuContainer("service-now"),t.eventObject=e,t.snowMenuView=this.snowMenuView,this.surroundingMessageView=new l(t)},createJsonSelectionActionView:function(e,t){var i=this.model.getSearchQueryModel().shouldShowSummaryView()&&t.fieldName===this.SUMMARY_COLUMN;this.jsonSelectionActionView&&this.jsonSelectionActionView.destroy();var s=SumoUtil.appendElementByTagName("body","div","sumo-menu-container","json-menu-container");return new d({context:this.options.context,el:s,snowMenuView:this.snowMenuView,event:e,jsonOptions:{...t,canParseJson:!i},getJsonActionsView:this.getJsonActionsView})},showJsonMenu:function(e,t){this.preventEventPropagation(e),this.jsonSelectionActionView=this.createJsonSelectionActionView(e,t)},onMessageMouseUp:function(e){this.displayMessageSelectionMenu(e,1)},onRightClick:function(e){e.currentTarget.matches(".jsn-parsed")?e.preventDefault():(this.preventEventPropagation(e),this.displayMessageSelectionMenu(e,3))},addCopyButtons:function(e){e.find("thead").find("td").each((function(e,t){var i=t.querySelector("span.headerCopyFieldnameButton");if(i){var s=i.getAttribute("data");s.match(/\W/)&&(s='%"'+s+'"');var n=R.get("search.fieldNameCopied",s);h.createClipboardButtonAtContainer(i,{content:s,size:"small",toastMessage:n})}}))},displayMessageSelectionMenu:function(e,t){var i=!1,s=this.messageSelectionActionsView;if(s.hideMenu(),e.which===t){var n=window.getSelection();if(n&&!n.isCollapsed){var a=n.toString(),r="";if(n.rangeCount){for(var o=document.createElement("div"),l=0,d=n.rangeCount;l<d;++l)o.appendChild(n.getRangeAt(l).cloneContents());r=o.innerHTML,o.remove()}if(a.trim().length>0){var c=!1;try{3===(o=n.getRangeAt(0).commonAncestorContainer).nodeType&&(o=o.parentNode);var u=o.nodeName,h=o.className;u.match(/pre/i)&&h.match(/\bm\b/)?(c=!0,i=!0):u.match(/td|span/i)&&h.match(/\bparsed\b|\bparsedKv\b/)&&$(o).parents("tbody").length>0?c=!0:$(o).parents("pre.m, tbody div.json-prettifier").length>0?(c=!0,i=!0):$(o).parents("tbody td.parsed").length>0&&(c=!0)}catch(e){$.log("Sumo.Ui.Search.Results.SearchQueryMessagesTableView.displayMessageSelectionMenu - Error: %s",e)}if(!c)return;s.setSelectionText(a),_.isNull(r.match(/<br>/))?s.setSelectionHtml(""):s.setSelectionHtml(r),s.showMenu(e),s.showParseMenuItem(i)}}}},getDrilldownQueryString:function(){var e=new b,t=this.model.getSearchQueryModel().getSearchExpression(),i=u.findSubqueryRegion(t),s=t,n="";return-1!==i[0]&&-1!==i[1]&&(n=t.slice(i[0],i[1]),s=t.slice(0,i[0])+t.slice(i[1],t.length)),t=e.removeAggregation(s),t=(t=e.removeSummarize(t)).slice(0,i[0])+n+t.slice(i[0])},onBoundaryExceedsClick:function(){var e=this.model.getRawCount(),t=new T,i=this.model.getSearchQueryModel(),s=this.getDrilldownQueryString();t.setQueryString(s);var n=i.getParameterModel().getParameters()||[];t.setParameters(n),t.setExecuteSearch(!0);var a=this.model.getSearchByReceiptTime(),r=(i=this.model.getSearchQueryModel()).getAutoParsingInfo(),o=i.getSelectedRange();if(t.setSearchByReceiptTime(a),t.setAutoParsingInfo(r),null===o||a){var l=1e3*Math.floor(this.model.getSearchQueryModel().getStartMillis()/1e3);t.setStartTimestamp(l),this.model.fetchMessageAtOffset(e-1,(function(e){var i=a?"_receipttime":"_messagetime",s=_.indexOf(e.keys,i),n=Number(e.values[s]);t.setEndTimestamp(1e3*Math.ceil(n/1e3)),SumoUtil.searchDrilldownTrigger(t,"search-tabs-view")}))}else t.setStartTimestamp(1e3*Math.floor(o.startMessage.time/1e3)),t.setEndTimestamp(1e3*Math.ceil(o.endMessage.time/1e3)),SumoUtil.searchDrilldownTrigger(t,"search-tabs-view")},fetching:function(){this.model.isFetching()?(this.$("tbody").css("opacity",.4),this.useNewSearchTable&&!this.firstRender&&0!==this.model.getPage()&&this.renderNonAggTableDebounced(!0)):this.model.getFetchingPage()===this.model.getPage()&&this.$("tbody").css("opacity",1)},onScrollRowIntoView:function(e,t){SumoUtil.scrollElementIntoView(this.$("#"+t),this.getScrollableElement())},applyViewSettings:function(){var e=!0;this.showMetadataFields(e),this.wrapMessageText(e),this.highlightDictionaryTerm(e),this.showNumberColumn(e),this.showMessageTimeColumn(e),this.showMessageTextColumn()},showMetadataFields:function(e){var t=this.model.getSearchViewSettingsModel().getShowMetadataFields();this.useNewSearchTable?this.renderNonAggTable(!0):(this.getTopContainerElement().find("div.f").toggle(t),!0!==e&&this.onResize())},wrapMessageText:function(e){var t=this.model.getSearchViewSettingsModel().getWrapMessageText(),i=this.getTopContainerElement();t?i.find("pre.m").removeClass("nwr").addClass("wr"):i.find("pre.m").removeClass("wr").addClass("nwr"),!0!==e&&this.onResize()},highlightDictionaryTerm:function(e){var t=this.model.getSearchViewSettingsModel().getHighlightDictionaryTerm();this.useNewSearchTable?this.renderNonAggTable(!0):(this.subviews.iterate((function(e,i){0===i.indexOf("messageView-")&&e.model.set({_highlightDictionaryTerms:t})})),!0!==e&&this.onResize())},showNumberColumn:function(e){this.getTopContainerElement().find(".offset").toggle(!0),!0!==e&&this.onResize()},showMessageTimeColumn:function(e){this.getTopContainerElement().find(".timestamp").toggle(!0),!0!==e&&this.onResize()},showMessageTextColumn:function(){this.model.hasRawField()&&this.getTopContainerElement().find(".message").toggle(!0)},getTargetMessageRowId:function(){var e=this.model.getTargetMessageLocator();return e?"#row_"+e.blockId+"_"+e.messageId:null},onLastMessagesUpdated:function(){this.resetAndRender(this.reRenderRequired||this.model.getNewMessagesOrderChanged()),this.reRenderRequired=!1,this.model.setNewMessagesOrderChanged(!1)},onTargetMessageFetched:function(){$.log("Sumo.Ui.Search.Results.SearchQueryMessagesTableView.onTargetMessageFetched (%s)",this.cid),this.highlightTargetMessage()},highlightTargetMessage:function(){if(this.useNewSearchTable)this.searchTableApi&&this.searchTableApi.highlightTargetMessage&&this.searchTableApi.highlightTargetMessage();else{var e=this.getTargetMessageRowId();if(e){var t=this.$(e);0!==t.length&&(t.addClass("target"),SumoUtil.scrollElementIntoView(t,this.getScrollableElement()))}}},onResize:function(){var e="#"+this.getTopContainerElementId()+" .search-query-messages-table-view",t=this.$(e);if(!(t.length<1)){var i=t.width(),s=t.offset().left,n=e+" thead .message",a=this.$(n);if(a.length<1)u.isPositionStickySupported()||this.createStaticHeader();else{var r=i-(a.offset().left-s),o=e+" .message",l=this.$(o);if(this.model.getSearchViewSettingsModel().getWrapMessageText()){var d=(r<500?500:r)+"px";l.css({width:d,"max-width":d})}else l.css({width:"100%","max-width":"none"});if(u.isPositionStickySupported()||this.createStaticHeader(),this.$el.parents("#search-results-tab-messages").is(":visible")){var c=this;setTimeout((function(){c.initShowMore(c.$el)}))}M.updateScrollPosition(this)}}},createStaticHeader:function(){var e=this.getTopContainerElementId();M.createStaticHeader(e,"search-query-messages-static-header",this.$el),M.updateStaticHeaderPosition(this,this.STATIC_HEADER_CLASS)},bindDocumentEvents:function(){$(document).on("mousedown",this.handleMouseDown),$(".search-query-messages-table-view").on("scroll",_.throttle(this.hideAllMenuViews,200))},unbindDocumentEvents:function(){$(document).off("mousedown",this.handleMouseDown),$(".search-query-messages-table-view").off("scroll",_.throttle(this.hideAllMenuViews,200))},createJsonActionsView:function(){var e=this.createMenuContainer("json-actions-view");return new o({context:this.options.context,el:e,snowMenuView:this.snowMenuView})},getJsonActionsView:function(){return this.jsonActionsView=this.jsonActionsView||this.createJsonActionsView(),this.jsonActionsView},createMenuView:function(){$("#message-selection-actions-view").remove();var e=SumoUtil.appendElementByTagName("body","div","sumo-menu-container","message-selection-actions-view");this.messageSelectionActionsView=new r({context:this.options.context,el:e,snowMenuView:this.snowMenuView,searchQueryString:this.model.getSearchQueryModel().getSearchExpression()})},resetMenuView:function(){this.messageSelectionActionsView&&this.messageSelectionActionsView.reset({searchExpression:this.model.getSearchQueryModel().getSearchExpression()})},handleMouseDown:function(e){var t=$(e.target);t.parents().hasClass("sumo-menu")||t.parents().hasClass("sumo-sub-menu")||this.hideAllMenuViews()},hideAllMenuViews:function(){var e=this;this.menuViewCollection.forEach((function(t){e[t]&&e[t].hideMenu()}))},destroyMenuViews:function(){var e=this;this.menuViewCollection.forEach((function(t){e[t]&&e[t].destroy()}))},initialize:function(){this.firstRender=!0,_.bindAll(this,"render","resetAndRenderUtil","resetAndRender","renderNonAggTable","onResize","getTopContainerElementId","getTopContainerElement","removeTopContainerElement","fetching","getTargetMessageRowId","onTargetMessageFetched","onLastMessagesUpdated","highlightTargetMessage","applyViewSettings","showMetadataFields","wrapMessageText","highlightDictionaryTerm","showNumberColumn","showMessageTimeColumn","showMessageTextColumn","bindDocumentEvents","unbindDocumentEvents","showMenu","createMsgView","createJsonSelectionActionView","showJsonMenu","createMenuView","hideAllMenuViews","destroyMenuViews","handleMouseDown","postInitialize","getJsonActionsView"),this.browserSupportsClipboard=!C.isSafari(),this.useNewSearchTable=E.userHelperOverride.hasFeatureFlag("UISearchNonAggregateTable"),this.useExpandCollapseMenu=E.userHelperOverride.hasFeatureFlag("UISearchExpandCollapseMessagesMenu"),this.renderNonAggTableDebounced=_.debounce(this.renderNonAggTable,this.DEBOUNCE_INTERVAL_NON_AGG_TABLE),this.onExpandCollapseAllDebounced=_.debounce(this.onExpandCollapseAll,this.DEBOUNCE_INTERVAL_NON_AGG_TABLE);var e=this;SumoApp.priv.hasConnectionsAccess()?this.getServiceNowView().then((function(t){e.postInitialize()})):this.postInitialize()},onRawCountLastFetchedChange:function(){this.model.getSearchQueryModel().isDoneGathering()&&0===this.model.getMessages().length&&this.renderNonAggTableDebounced()},onQuerystatusChange:function(){var e=this.model.getSearchQueryModel();(e.isDoneGathering()&&0===e.getRawCount()||e.isErrorStatus())&&this.model.isFetching()&&this.model.setFetching(!1),(e.isGathering()&&!e.isGathering(e.get("previousStatus"))||e.isErrorStatus())&&this.renderNonAggTableDebounced()},postInitialize:function(){this.subviews=new A("SearchQueryMessagesTableView"),this.bindToThisModel(),this.bindToSearchQueryModel(),this.bindToSearchViewSettingsModel(),this.useNewSearchTable?this.model.getSearchQueryModel().getStatus()>0&&(this.currentChecksum=this.getCurrentCheckSum(),this.renderNonAggTable()):this.currentChecksum=this.getCurrentCheckSum(),this.render(),this.useNewSearchTable||this.createMenuView()},bindToThisModel:function(){this.listenTo(this.model,"change:lastMessagesUpdated",this.onLastMessagesUpdated),this.listenTo(this.model,"change:isFetching",this.fetching),this.listenTo(this.model,"change:targetMessageFetched",this.onTargetMessageFetched),this.listenTo(this.model,"change:page",this.onPageChange)},bindToSearchQueryModel:function(){this.useNewSearchTable&&(this.listenTo(this.model.getSearchQueryModel(),"change:rawCountLastFetched",this.onRawCountLastFetchedChange),this.listenTo(this.model.getSearchQueryModel(),"change:status",this.onQuerystatusChange)),this.listenTo(this.model.getSearchQueryModel(),"change:userAssignedFields",this.resetAndRender.bind(this,!0)),this.listenTo(this.model.getSearchQueryModel(),"change:selectedRange",(()=>{this.reRenderRequired=!0}))},bindToSearchViewSettingsModel:function(){var e=this.model.getSearchViewSettingsModel();this.listenTo(e,"change:showMetadataFields",this.showMetadataFields),this.listenTo(e,"change:wrapMessageText",this.wrapMessageText),this.listenTo(e,"change:highlightDictionaryTerm",this.highlightDictionaryTerm),this.listenTo(e,"change:linesPerMessage",this.renderNonAggTable.bind(this,!0)),this.listenTo(e,"change:showNumberColumn",this.showNumberColumn),this.listenTo(e,"change:showMessageTimeColumn",this.showMessageTimeColumn),this.listenTo(e,"change:showMessageTextColumn",this.showMessageTextColumn),this.useNewSearchTable?(this.listenTo(e,"change:nonAggTableColumnState",this.renderNonAggTable.bind(this,!0)),this.listenTo(e,"change:UTFCharacterDecoding",this.renderNonAggTable.bind(this,!0)),this.listenTo(e,"change:expandAll",this.onExpandCollapseAllDebounced),this.listenTo(e,"change:expandJSON",this.onExpandCollapseAllDebounced),this.listenTo(e,"change:showRecentMessagesFirst",(()=>{this.reRenderRequired=!0}))):this.listenTo(e,"change:UTFCharacterDecoding",this.render.bind(this,!0))},surroundingLogs:function(e,t){var i=this.model.getSearchQueryModel();w.openSurroundingMessages({minutes:e,searchExpression:i.getSearchExpression(),logsQueryMode:i.getSavedSearchSettingsModel().getLogsQueryMode(),messageOptions:t})},getSurroundingMessagesDataUrl:function(e,t){var i=this.model.getSearchQueryModel();return w.getSurroundingMessagesDataUrl({minutes:e,searchExpression:i.getSearchExpression(),logsQueryMode:i.getSavedSearchSettingsModel().getLogsQueryMode(),messageOptions:t})},onFieldValueClick:function(e,t,i){var s=i=SumoUtil.scrubQueryText(i);t&&(s=(P[t]||t)+"="+i),e.altKey&&(s="!"+s),$("#search-expression").trigger("appendToSearchExpression",{value:s})},canRenderNonAggTable:function(){if(this.destroyed)return!1;var e=this.model.getMessages();if(e&&0!==e.length)return!0;var t=this.model.getSearchQueryModel();return!(!t.isDoneGathering()||0!==this.model.getSelectedRecordsCount())||(!t.isDoneGathering()||this.model.getSelectedRecordsCount()>0)&&!t.isPaused()},areResultsFetching:function(){var e=this.model.getSearchQueryModel(),t=w.toMessageHashList(this.model.getMessages()),i=this.model.getSearchViewSettingsModel().getShowRecentMessagesFirst(),s=/\s+sort( by)?\s+/i.test(this.model.getSearchQueryModel().getSearchExpression());return this.model.isFetching()||e.isGathering()&&0===t.length||0===t.length&&!i&&!s&&!e.isDoneGathering()},onSearchTableInit:function(e){this.searchTableApi=e,$("#jsonAction__ctr").trigger("showJsonControls");var t=this.model.getSearchViewSettingsModel().getExpandAll(),i=this.model.getSearchViewSettingsModel().getExpandJSON();(t||i)&&this.onExpandCollapseAll()},onExpandCollapseAll:function(){var e=this.model.getSearchViewSettingsModel().getExpandAll(),t=this.model.getSearchViewSettingsModel().getExpandJSON();this.searchTableApi&&(this.useExpandCollapseMenu?this.searchTableApi.toggleExpandCollapseRowAndJSON(e,t):this.searchTableApi.toggleExpandCollapse(e))},updateColumnState:function(e){this.model.getSearchViewSettingsModel().setNonAggTableColumnState(e)},updateRowDataState:function(e,t){this.model.getSearchViewSettingsModel().updateRowDataState(e,t)},setAllJSONExpanded:function(e){this.model.getSearchViewSettingsModel().setExpandJSON(e)},updateFirstDisplayedRowIndex:function(e){this.model.getSearchViewSettingsModel().setNonAggTableFirstVisibleRowIndex(e)},renderNonAggTable:function(e=!1){if(this.canRenderNonAggTable()){var t=this.model.calculateOffsetAndLengthForPage(this.model.getPage()),i=this.model.getTargetMessageLocator(),s=i?i.blockId+"_"+i.messageId:null,n=w.toMessageHashList(this.model.getMessages()),a=this.model.getSearchViewSettingsModel().getExpandAll(),r=this.model.getSearchViewSettingsModel().getExpandJSON();this.searchTableApi&&(a||r)&&this.onExpandCollapseAll();var o=this.model.getSearchQueryModel(),l=null===o.getSelectedRange()||o.hasMoreResults();this.trigger("stopLoading"),$("#search-query-messages-results-status").css("display","none");var d=this.areResultsFetching();n.length||(this.firstRender=!0);var u={pageCount:this.model.getPageCount(),records:d?[]:n,fields:this.model.getVisibleFields(),recordsPerPage:this.model.getRecordsPerPage(),linesPerMessage:this.model.getSearchViewSettingsModel().getLinesPerMessageToDisplay(),rowDataState:this.model.getSearchViewSettingsModel().getRowDataState(),updateRowDataState:this.updateRowDataState.bind(this),setAllJSONExpanded:this.setAllJSONExpanded.bind(this),page:this.model.getPage(),searchByReceiptTime:this.model.getSearchByReceiptTime(),hideReceiptTime:o.getHideReceiptTime(),UTFCharacterDecoding:this.model.getSearchViewSettingsModel().getUTFCharacterDecoding(),showMessageFooter:this.model.getSearchViewSettingsModel().getShowMetadataFields(),messageFooterActions:{getSurroundingMessages:this.surroundingLogs.bind(this),onFieldValueClicked:this.onFieldValueClick.bind(this),getSurroundingMessagesUrl:this.getSurroundingMessagesDataUrl.bind(this)},reachedMessageLimit:t.exceedsRawBoundary&&l,onBoundaryExceedsClick:this.onBoundaryExceedsClick.bind(this),targetMessage:s,highlightDictionaryTerm:this.model.getSearchViewSettingsModel().getHighlightDictionaryTerm(),id:this.model.getSearchQueryId(),onSearchTableInit:this.onSearchTableInit.bind(this),columnState:this.model.getSearchViewSettingsModel().getNonAggTableColumnState(),updateColumnState:this.updateColumnState.bind(this),updateFirstDisplayedRowIndex:this.updateFirstDisplayedRowIndex.bind(this),firstDisplayedRowIndex:this.model.getSearchViewSettingsModel().getNonAggTableFirstVisibleRowIndex(),isFetching:d,searchQueryId:this.model.getSearchQueryModel().getSearchQueryId(),snowMenuItem:this.snowMenuView&&this.snowMenuView.newMenuItem,showSummaryView:this.model.getSearchQueryModel().shouldShowSummaryView(),avoidInlineUpdate:this.firstRender||e};this.$("#search-query-messages-table-2").length||this.$el.html('<div id="search-query-messages-table-2" style="height:100%"></div>');var h=$("#search-query-messages-table-2")[0];c.createSearchNonAggregateTable(h,u),n.length&&(this.firstRender=!1)}},render:function(e){if(!this.useNewSearchTable){this.removeTopContainerElement(this.getTopContainerElementId());var t=$.now();$.log("Sumo.Ui.Search.Results.SearchQueryMessagesTableView.render(%s): start=%s",this.cid,t);var i=this.model.getVisibleFields().slice(0),s=this.model.getRecordOffset(),a=this.model.getMessages(),r=a.length,o=w.toMessageHashList(a),l=this.getTopContainerElementId(),d=SumoUtil.createElementByTagName("div","search-query-messages-table-view-contents",l);this.$el.append(d);var c=this.model.calculateOffsetAndLengthForPage(this.model.getPage());$.logInfo(c.exceedsRawBoundary);var h=this.model.getSearchQueryModel();h.setHideReceiptTime(!_.findWhere(h.getFields(),{name:"_receipttime"}));var p={__:g.searchJSON,FieldTypeEnum:this.model.FieldType,visibleFields:i,bExceedsRawBoundary:c.exceedsRawBoundary,searchByReceiptTime:this.model.getSearchByReceiptTime(),messageCount:r,hideReceiptTime:h.getHideReceiptTime()},m=this.template(p);if(d.html(m),u.isPositionStickySupported()){var f=this.$(".search-query-messages-table-view");f.length>0&&this.addCopyButtons($(f[f.length-1]).find("#search_query_results_view_table")),$(".search-query-messages-table-view").addClass("sticky-supported")}this.$thead=this.$el.find("thead").addClass("hide");var S=null===h.getSelectedRange()||h.hasMoreResults();if(c.exceedsRawBoundary&&S){var v=d.find(".exceeds-raw-boundary-message"),b={i18n:g.searchJSON,key:"raw_messages_exceed_boundary"};this.options.context.errorUtil.renderWarning(v,b),$("#search-query-messages-results-status").css("display","none")}else for(var y=d.find("tbody").get(0),T=0,E=this.model.getSearchQueryModel().getSearchExpression(),C=_.isString(E)&&this.ANOMALY_INCIDENT_QUERY.test(E),A=[],I=SumoApp.priv.hasPerformanceLoggingEnabled(),R=$("#search-query-messages"),P=0;P<r;P++){var D=o[P];D._offset=1+s+T;var x=new n(D),N=document.createElement("tr");N.setAttribute("id",x.get("_mRowId")),N.setAttribute("row-index",T),y.appendChild(N);var U={context:this.options.context,model:x,el:$(N),FieldTypeEnum:this.model.FieldType,fields:this.model.getFields(),visibleFields:i,searchByReceiptTime:this.model.getSearchByReceiptTime(),isIncidentView:C,hasRawField:this.model.hasRawField()};A.push(U),I&&1===T&&R.trigger("log"),T++}M.scrollAdjustHeader(this,this.SCROLLABLE_CLASS,this.STATIC_HEADER_CLASS);var V=$.now();return $.log("Sumo.Ui.Search.Results.SearchQueryMessagesTableView.render(%s): end=%s, duration=%s",this.cid,V,V-t),e&&($('.toggleCollapseExpand[data-action="expand"]').addClass("active"),$('.toggleCollapseExpand[data-action="collapse"]').removeClass("active")),A&&A.length&&setTimeout(this.renderMessages.bind(this,A)),this.unbindDocumentEvents(),this.bindDocumentEvents(),this}},onPageChange:function(){M.resetScrollPosition(this),this.reRenderRequired=!0},getServiceNowView:function(){return this.snowMenuView=new y({}),this.snowMenuView.getMenuItems()},createMsgView:function(e,t){var i=this,n=this.model.getSearchQueryModel(),a=n.getSearchViewSettingsModel()._currentAttributes,r=n.getSearchExpression().replace(/\s+/g,""),o=this.sumoIndexSearchQueries.filter((function(e){return r.includes(e)})).length,l=n.getHideReceiptTime(),d=[];_.each(e,(function(e,t){e.showSurroundingMessageMenu=i.showMenu,e.showJsonMenu=i.showJsonMenu,e.isSumoIndex=o,e.hideReceiptTime=l,e.queryMessagesettings=a,e.initShowMore=i.initShowMore,e.showMoreTemplate=i.showMoreTemplate,d.push(e)}));var c=0;d.length>0&&requestAnimationFrame((function e(){var n=d[c];i.subviews.register("messageView-"+c,new s(n)),++c<d.length?requestAnimationFrame(e):t()}))},renderMessages:function(e){this.trigger("stopLoading"),$("#search-query-messages-results-status").css("display","none");var t=this;this.createMsgView(e,(function(){t.applyViewSettings(),t.model.hasRawField()||t.model.isFieldUserReferenced("message")||t.$("td.message").css("display","none"),t.$thead.removeClass("hide"),t.onResize(),M.updateScrollPosition(t),t.highlightTargetMessage(),m.measureOnce({id:"non_aggregate_table_rendering_"+t.model.getSearchQueryModel().getSearchQueryId(),metric:I.NonAggregateTableRendering,metadata:{new_table:!1,first_render:t.firstRender},skipSli:!t.firstRender}),t.firstRender=!1}))},getCurrentCheckSum:function(){var e=this.model.getMessages(),t=this.model.getVisibleFieldNames()||[],i=e.map((function(e){return e.keys.reduce((function(i,s,n){return t.includes(s)&&(i.keys.push(s),i.values.push(e.values[n])),i}),{keys:[],values:[]})})),s=JSON.stringify(i),n=t.toString();return crc32(s+n+this.model.getPage())},resetAndRenderUtil:function(e=!1){var t=$.now();if(!this.destroyed){this.resetAndRenderScheduled=!1,$.log("Sumo.Ui.Search.Results.SearchQueryMessagesTableView.resetAndRender(%s): start=%s",this.cid,t);var i=this.model.getMessages(),s=this.getCurrentCheckSum();if(this.currentChecksum!==s){this.currentChecksum=s,this.subviews.destroy();var n=this.getTopContainerElementId();this.$("#"+n).hide(),$.later(10,this,(function(){this.removeTopContainerElement(n)})),this.topContainerId=this.topContainerId+1;var a=$.now();$.log("Sumo.Ui.Search.Results.SearchQueryMessagesTableView.resetAndRender(%s): end=%s, duration=%s",this.cid,a,a-t),this.render(),this.useNewSearchTable&&this.renderNonAggTableDebounced(e),m.measureOnce({id:"toggleVisibilityAndUpdateTable",metric:I.ToggleFieldAndUpdateTable})}else $.log("skipping render, new data is the same as existing data.",s,i)}},resetAndRender:function(e=!1){this.resetAndRenderScheduled||(this.resetAndRenderScheduled=!0,Promise.resolve().then(this.resetAndRenderUtil(e)))},reset:function(e){e&&(this.stopListening(this.model),this.stopListening(this.model.getSearchQueryModel()),this.stopListening(this.model.getSearchViewSettingsModel()),this.model=e,this.bindToThisModel(),this.bindToSearchQueryModel(),this.bindToSearchViewSettingsModel(),this.currentChecksum=null,this.resetMenuView())},removeTopContainerElement:function(e){var t=$.now();$.log("Sumo.Ui.Search.Results.SearchQueryMessagesTableView.removeTopContainerElement(%s): start=%s",this.cid,t);var i=this.$("#"+e);SumoUtil.removeElement(i);var s=$.now();$.log("Sumo.Ui.Search.Results.SearchQueryMessagesTableView.removeTopContainerElement(%s): end=%s, duration=%s",this.cid,s,s-t)},destroyCopyFieldButtons:function(){var e=document.getElementsByClassName("headerCopyFieldnameButton");Array.from(e).forEach((function(e){h.destroyClipboardButton(e)}))},destroy:function(){var e=$.now();this.destroyed=!0,this.destroyCopyFieldButtons(),$.log("Sumo.Ui.Search.Results.SearchQueryMessagesTableView.destroy(%s): start=%s",this.cid,e),this.useNewSearchTable&&this.$("#search-query-messages-table-2").length&&(this.searchTableApi=null,c.destroySearchNonAggregateTable(this.$("#search-query-messages-table-2")[0])),this.unbindDocumentEvents(),this.subviews&&this.subviews.destroy(),this.destroyMenuViews();var t=this.getTopContainerElementId();this.removeTopContainerElement(t),SumoUtil.destroyView(this);var i=$.now();$.log("Sumo.Ui.Search.Results.SearchQueryMessagesTableView.destroy(%s): end=%s, duration=%s",this.cid,i,i-e),this.$el.remove()}})}.apply(t,s))||(e.exports=n)},66223:function(e,t,i){var s,n;s=[i(63205),i(98176),i(60567),i(43118),i(77561),i(50963),i(50563),i(5013),i(51901),i(99235),i(40845),i(83957),i(82319)],void 0===(n=function(e,t,i,s,n,a,r,o,l,d,c,u,h){var g=r.applicationContext;o=o.searchPerformanceService;var p=l.SearchPerformanceMetrics,m=i.SubViewHelperModule,f=i.MenuControllerViewModule;i.searchParametersService;return Backbone.View.extend({events:{"click #search-query-field-browser-toggler":"toggleFieldBrowserState","click #show-target-message-button":"onShowTargetMessageButtonClick","click #logreduce-button":"onLogReduceButtonClick","showJsonControls #jsonAction__ctr":"showJsonControls","click .toggleCollapseExpand":"toggleCollapseExpand","exportAllFieldReact #search-query-messages-export":"onExportAllField","exportDisplayedFieldReact #search-query-messages-export":"onExportDisplayedField"},template:_.template(t),subviews:null,menuController:null,exportViewReact:null,onResize:function(){this.adjustFieldsWrapper()},onShowTargetMessageButtonClick:function(){$.log("Sumo.Ui.Search.Results.SearchQueryMessagesToolbarView.onShowTargetMessageButtonClick (%s)",this.cid),this.model.fetchPageWithTargetMessage()},showJsonControls:function(){this.$("#jsonAction__ctr").show()},onExportDisplayedField:function(){this.exportViewReact.current.exportDisplayedField()},onExportAllField:function(){this.exportViewReact.current.exportAllField()},toggleCollapseExpand:function(e){e.preventDefault();var t=$(e.currentTarget),i=t.data("action"),s="expand"===i;o.start({id:"onToggleCollapseExpand",metric:s?p.NonAggregateExpandAllDelay:p.NonAggregateCollapseAllDelay,skipSli:!0}),t.removeClass("active"),t.siblings().addClass("active"),this.useNewSearchTable||$(".row-json-selection").trigger("change",[i]),this.model.getSearchViewSettingsModel().setExpandAll(s),this.useNewSearchTable||o.measureOnce({id:"onToggleCollapseExpand",metric:s?p.NonAggregateExpandAllDelay:p.NonAggregateCollapseAllDelay,skipSli:!0})},onLogReduceButtonClick:function(){$.log("Sumo.Ui.Search.Results.SearchQueryMessagesToolbarView.onLogReduceButtonClick (%s)",this.cid),this.doLogReduceDebouncer()},getFieldBrowser:function(){return $("#search-query-fields-wrapper")},setFieldBrowserState:function(e){this.getFieldBrowser().toggleClass("off",!e),this.$("#search-query-field-browser-toggler").toggleClass("off",!e),$("#search-query-messages-wrapper-column-fields").toggleClass("browser-closed",!e),$("#search-query-messages-wrapper-column-messages").toggleClass("browser-closed",!e),e&&(this.adjustFieldsWrapper(),this.setFieldBrowserSetting(e))},adjustFieldsWrapper:function(){$("#search-query-fields-wrapper").css("overflow-y","hidden")},getFieldBrowserState:function(){return!this.getFieldBrowser().hasClass("off")},setFieldBrowserSetting:function(e){this.model.getSearchQueryModel().getSearchViewSettingsModel().setFieldBrowserOpen(e)},toggleFieldBrowserState:function(e){$(e.currentTarget).hide().show(0);var t=!this.getFieldBrowserState();this.setFieldBrowserState(t),this.setFieldBrowserSetting(t),a.isPositionStickySupported()||$(".search-query-messages-table-view").trigger("messages:createStaticHeader")},refreshFieldBrowser:function(){var e=this.model.getSearchQueryModel(),t=e.isGathering()||e.isPaused()||e.isDoneGathering()||e.isDoneGatheringHistogram()||e.isError()||e.isNotStarted()||this.model.isFetching();this.setFieldBrowserState(t)},onGetSearchQueryModel:function(){$.logWarnLocal("returning-search-query-model");var e=this.model.getSearchQueryModel();this.$el.find("summarize-delta-button").trigger("searchQueryModelProvided",e)},getSearchQueryModel:function(){return this.model.getSearchQueryModel()},renderSummarizeButton:function(){c.SummarizeDeltaButtonRenderer("summarize-delta-button-container",{sessionId:this.model.getSearchQueryId()})},doLogReduce:function(){if(this.isValidLogReduce()){$.log("Sumo.Ui.Search.Results.SearchQueryMessagesModel.logReduce() - appending '| logreduce' to search expression");var e=this.model.getSearchQueryModel(),t=e.getSearchExpression();h.doLogReduce({searchExpression:t,timerangeText:e.getTimerangeText(),searchByReceiptTime:e.getSearchByReceiptTime(),autoParsingInfo:e.getAutoParsingInfo(),parameterModel:e.getParameterModel()})}},showHideTargetMessageButton:function(){this.$("#show-target-message-button").toggle(this.model.getTargetMessageFound())},showHideLogReduceButton:function(){$.log("Sumo.Ui.Search.Results.SearchQueryMessagesToolbarView.updateLogReduceButton (%s)",this.cid),this.$("#logreduce-button").toggle(this.isValidLogReduce())},showHideSummarizeDeltaButton:function(){this.$("#summarize-delta-button").toggle(this.isValidSummarizeDelta())},showHideSelectionTimestamp:function(){var t=this.model.getSearchQueryModel().getSelectedRange(),i=null!==t,s=this.$("#histogram-selection-timerange");if(s.toggle(i),i){var n=SumoApp.dateUtil.formatTime(),a=n(t.startMessage.time),r=n(t.endMessage.time),o=sprintf(e.searchJSON.timerange_selection_text,a,r),l=sprintf(e.searchJSON.timerange_selection_text_tooltip,a,r);s.text(o),s.tooltipster({theme:"quicktip"}),s.tooltipster("content",l)}},showHideExpandCollapse:function(){this.model.getSearchViewSettingsModel().getExpandAll()&&this.useNewSearchTable&&($('.toggleCollapseExpand[data-action="expand"]').removeClass("active"),$('.toggleCollapseExpand[data-action="collapse"]').addClass("active"))},onSearchStatusChange:function(){this.refreshFieldBrowser()},isValidLogReduce:function(){var e=this.model.getSearchQueryModel();return h.isValidLogReduce({status:e.getStatus(),parseQueryResult:e.getParseQueryResult(),buckets:e.get("histogram"),rawCount:e.getRawCount(),fields:this.model.getFields()})},isValidSummarizeDelta:function(){var e=this.model.getSearchQueryModel();return h.isValidSummarizeDelta({status:e.getStatus(),parseQueryResult:e.getParseQueryResult(),buckets:e.get("histogram"),rawCount:e.getRawCount(),fields:this.model.getFields()})},initialize:function(){$.log("Sumo.Ui.Search.Results.SearchQueryMessagesToolbarView.initialize (%s)",this.cid),_.bindAll(this,"render","showHideTargetMessageButton","onGetSearchQueryModel"),this.listenTo(this.model,"change:targetMessageFound",this.showHideTargetMessageButton),this.listenTo(this.model,"change:pageCount",this.showHideLogReduceButton),this.listenTo(this.model,"change:fields",this.showHideLogReduceButton),this.listenTo(this.model,"change:pageCount",this.showHideSummarizeDeltaButton),this.listenTo(this.model,"change:fields",this.showHideSummarizeDeltaButton),this.listenTo(this.model.getSearchQueryModel(),"change:status",this.onSearchStatusChange),this.listenTo(this.model.getSearchQueryModel(),"change:selectedRange",this.showHideSelectionTimestamp),this.useNewSearchTable=g.userHelperOverride.hasFeatureFlag("UISearchNonAggregateTable"),this.useExpandCollapseMenu=g.userHelperOverride.hasFeatureFlag("UISearchExpandCollapseMessagesMenu"),this.useLogCompareReact=g.userHelperOverride.hasFeatureFlag("UISearchLogCompareReact"),this.subviews=new m("SearchQueryMessagesToolbarView"),this.subviews.setModel(this.model),this.doLogReduceDebouncer=SumoUtil.debouncer(150,this,this.doLogReduce),this.render(),this.subviews.register("search-query-messages-pager",new s({model:this.model,el:this.$("#search-query-messages-pager")})),this.subviews.register("messages-settings",new n({model:this.model,context:this.options.context,el:this.$("#messages-settings-view"),controller:this.$("#messages-settings-controller")})),this.menuController=new f({el:this.$("#messages-settings-menu"),menuControllerId:"#messages-settings-controller",menuControllerIconId:"#messages-settings-controller-icon",menuControllerOpenClass:"messages-settings-controller-open",menuContainerId:"#messages-settings-view"});const e={alias:"raw",searchQueryId:this.model.getSearchQueryId(),registerSearchExportApi:e=>{this.exportViewReact=e},onErrorCallback:(e,t)=>{$("#search-view").trigger("error",{errorMessage:e,errorDetails:t})}};u.createSearchExportView(e,this.$("#search-query-messages-export")[0]),this.$el.find("summarize-delta-button").on("getSearchQueryModel",this.onGetSearchQueryModel);var t=this.model.getSearchQueryModel().getSearchViewSettingsModel();this.useExpandCollapseMenu&&(this.listenTo(t,"change:expandAll",this.renderExpandCollapseMenu),this.listenTo(t,"change:expandJSON",this.renderExpandCollapseMenu)),this.showHideTargetMessageButton(),this.showHideLogReduceButton(),this.showHideSummarizeDeltaButton(),this.showHideSelectionTimestamp(),this.showHideExpandCollapse()},getExpandCollapseProps:function(){var e=this;return{expandAll:this.model.getSearchViewSettingsModel().getExpandAll(),expandJSON:this.model.getSearchViewSettingsModel().getExpandJSON(),toggleFn:function(t,i){e.model.getSearchViewSettingsModel().setExpandAll(t),e.model.getSearchViewSettingsModel().setExpandJSON(i)}}},renderExpandCollapseMenu:function(){d.ExpandCollapseMenuRenderer("expandCollapseMenu",this.getExpandCollapseProps())},render:function(){$.log("Sumo.Ui.Search.Results.SearchQueryMessagesToolbarView.render (%s)",this.cid);var t=this.model.getSearchQueryModel(),i=this.useNewSearchTable?e.searchJSON.data_table_expand_all:e.searchJSON.expand_all,s=this.useNewSearchTable?e.searchJSON.data_table_collapse_all:e.searchJSON.collapse_all,n=this.template({__:e.searchJSON,queryStateDone:t.getStatus()===t.STATUS_DONE_GATHERING_RESULTS,expandAllLabel:i,collapseAllLabel:s,getSearchQueryModel:this.getSearchQueryModel,useExpandCollapseMenu:this.useExpandCollapseMenu&&this.useNewSearchTable});this.$el.html(n),SumoApp.ngCompile(this.$el,null,!0);var a=t.getSearchViewSettingsModel().isFieldBrowserOpen();return this.useExpandCollapseMenu&&this.useNewSearchTable&&this.renderExpandCollapseMenu(),this.useLogCompareReact&&t.getSearchQueryId()&&this.renderSummarizeButton(),this.setFieldBrowserState(a),this},destroy:function(){$.log("Sumo.Ui.Search.Results.SearchQueryMessagesToolbarView.destroy (%s)",this.cid);var e=this.$el.find("summarize-delta-button");e.off("getSearchQueryModel"),e.trigger("view-will-destroy"),this.menuController.destroy(),this.subviews.destroy(),u.destroySearchExportView(this.$("#search-query-messages-export")[0]),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},37857:function(e,t,i){var s,n;s=[i(63205),i(4258),i(60567),i(61463),i(66223),i(87883),i(50563)],void 0===(n=function(e,t,i,s,n,a,r){var o=r.applicationContext,l=i.SubViewHelperModule;i.SearchTablesStaticHeaderHelperModule;return Backbone.View.extend({maxWidth:500,template:_.template(t),subviews:null,onSearchStatusChange:function(){var e=this.model.getSearchQueryModel(),t=e.getStatus(),i=e.getTotalMessageCount();$.log("Sumo.Ui.Search.Results.SearchQueryMessagesView(%s).onSearchStatusChange - status=%s",this.cid,t),this.stopLoader(),this.$(".search-results-status-search-not-running").hide(),!this.useNewNonAggTable&&(e.isDoneGathering()&&0===e.getRawCount()||e.isErrorStatus())&&this.model.setFetching(!1),e.isGathering(t)?this.$(".search-results-status-search-running").spinner("show"):e.isDoneGathering(t)?this.useNewNonAggTable?this.stopLoader():this.$(".search-results-status-retrieving-results").spinner("show"):e.isCancelled(t)||e.isNotStarted(t)||e.isErrorStatus(t)?this.$(".search-results-status-search-not-running").show():0===i&&e.isPaused(t)&&this.$(".search-results-status-search-paused").show()},stopLoader:function(){this.$(".search-results-status-search-paused").hide(),this.$(".search-query-results-status").find("[data-spinner]").spinner("hide")},onRawCountLastFetchedChange:function(){var e=this.model.getSearchQueryModel(),t=e.getStatus(),i=this.model.getSelectedRecordsCount();e.isDoneGathering(t)?(this.stopLoader(),i>0?this.useNewNonAggTable?this.stopLoader():this.$(".search-results-status-retrieving-results").spinner("show"):this.$(".search-results-status-search-no-results").show()):e.isCancelled(t)?(this.stopLoader(),this.$("#search-query-messages-results-status").show(),this.$(".search-results-status-search-not-running").show()):0!==this.model.getMessages().length||e.isDoneGathering(t)||e.isPaused(t)||(this.stopLoader(),this.useNewNonAggTable||(this.$("#search-query-messages-results-status").show(),this.$(".search-results-status-retrieving-results").spinner("show")))},_undebouncedOnResize:function(){this.subviews.iterate((function(e,t){"onResize"in e&&e.onResize()}))},makeResizable:function(){this.$("#search-query-messages-wrapper-column-fields").resizable({animate:!1,helper:"resizable-outline",containment:"document",alsoResize:"#search-query-fields-wrapper",maxWidth:this.maxWidth,autoHide:!0,handles:"e"})},initialize:function(){this.useNewNonAggTable=o.userHelperOverride.hasFeatureFlag("UISearchNonAggregateTable"),$.log("Sumo.Ui.Search.Results.SearchQueryMessagesView.initialize(%s)",this.cid),this.subviews=new l("SearchQueryMessagesView"),this.onResize=_.debounce(this._undebouncedOnResize.bind(this),500),_.bindAll(this,"render","makeResizable","onResize","onSearchStatusChange","onRawCountLastFetchedChange","stopLoader"),this.bindToSearchQueryModel(),this.render(),this.onSearchStatusChange(),this.model.getSearchQueryModel().get("rawCountLastFetched")&&this.onRawCountLastFetchedChange(),this.subviews.register("fields-view",new s({context:this.options.context,model:this.model,el:this.$("#search-query-fields")})),this.subviews.register("search-query-messages-toolbar",new n({model:this.model,context:this.options.context,el:this.$("#search-query-messages-toolbar")}));var e=new a({model:this.model,context:this.options.context,el:this.$("#search-query-messages-table")});this.listenTo(e,"stopLoading",this.stopLoader),this.subviews.register("search-query-messages-table",e),$(window).on("resize",this.onResize)},bindToSearchQueryModel:function(){var e=this.model.getSearchQueryModel();this.listenTo(e,"change:status",this.onSearchStatusChange),this.listenTo(e,"change:rawCountLastFetched",this.onRawCountLastFetchedChange),this.listenTo(e,"change:selectedRange",this.filterMessages)},render:function(){$.log("Sumo.Ui.Search.Results.SearchQueryMessagesView.render:"+this.cid);var t=this.template({__:e.searchJSON,UIUseNewNonAggTable:this.useNewNonAggTable});this.$el.html(t),this.makeResizable(),this.$(".search-results-status-search-running").spinner(),this.$(".search-results-status-retrieving-results").spinner();return this},reRender:function(){this.$("#search-query-messages-results-status").attr("style",""),this.$(".search-results-status-search-not-running").attr("style",""),this.$(".search-results-status-search-paused").attr("style",""),this.$(".search-results-status-search-no-results").attr("style",""),this.$(".search-results-status-search-running").attr("style",""),this.$(".search-results-status-retrieving-results").attr("style",""),this.useNewNonAggTable||(this.$(".search-results-status-search-running").spinner(),this.$(".search-results-status-retrieving-results").spinner())},reset:function(){this.subviews.get("fields-view").reset(this.model),this.subviews.remove("search-query-messages-toolbar",!0),this.subviews.register("search-query-messages-toolbar",new n({model:this.model,context:this.options.context,el:this.$("#search-query-messages-toolbar")})),this.subviews.get("search-query-messages-table").reset(this.model)},resetAndRender:function(e){e&&(this.stopListening(this.model.getSearchQueryModel()),this.model=e,this.bindToSearchQueryModel(),this.reset(),this.reRender(),this.useNewNonAggTable||this.onSearchStatusChange())},filterMessages:function(){var e=this.model.getSearchQueryModel().getSelectedRange();this.model.filterMessages(e)},destroy:function(){this.model.clearFetchMessagesTimeOut(),$.log("Sumo.Ui.Search.Results.SearchQueryMessagesView.destroy: "+this.cid),$(window).off("resize",this.onResize),this.subviews.destroy(),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},38369:function(e,t,i){var s,n;s=[i(50963),i(63205),i(29264),i(60567),i(37857),i(84266),i(71120),i(23370),i(40783),i(6164),i(50563),i(5013),i(51901),i(41197),i(30113)],void 0===(n=function(e,t,i,s,n,a,r,o,l,d,c,u,h,g,p){var m=c.applicationContext,f=s.SubViewHelperModule;u=u.searchPerformanceService;var S=h.SearchPerformanceMetrics,v=e.getHashLessUrl,w=s.ResizeObserverModule;return Backbone.View.extend({resultsTabsInfo:null,$tabs:null,hrefs:null,onResizeRecordedDimensions:null,removeResultsViewResizeObserver:null,initResultsTabsInfo:function(){var e=this.model.ResultsTabType,t={};t[e.MESSAGES]={id:"search-results-tab-messages",viewClass:n,modelClass:a,el:"#search-query-messages"},t[e.AGGREGATES]={id:"search-results-tab-aggregates",viewClass:r,modelClass:o,el:"#aggregate-records"},t[e.SUMMARIZE]={id:"search-results-tab-summarize",viewClass:l,modelClass:d,el:"#summarize-records"},this.resultsTabsInfo=t},getResultsTabById:function(e){var t=this.model.ResultsTabType;for(var i in t){var s=t[i];if(this.resultsTabsInfo[s].id==e)return s}return null},events:{"click #search-results-actions-container .action-button":"onToggleResultsView","click #search-switch-actions-container .action-button":"onToggleTableClassicView","selectTab #search-query-results-tabs":"selectTab"},onToggleTableClassicView:function(){var e=m.userHelperOverride.hasFeatureFlag("UISearchNonAggregateTable"),t=this.getShowAggregatesTab(),i=this.getShowSummarizeTab();g.logService.userTelemetry({module:"search",component:"search",action:e?"switch-to-classic-table":"switch-to-new-table",params:{resultsTabSelection:this.getResultsTabSelection(t,i)}}),m.userHelperOverride.overrideFeatureFlag("UISearchNonAggregateTable",!e),m.userHelperOverride.overrideFeatureFlag("UISearchAggregateTable",!e),m.userHelperOverride.overrideFeatureFlag("UISearchSummarizeTable",!e);var s=this.model.getSearchViewSettingsModel();e&&s&&s.getMessagesToDisplay()!==s.getDefaultMessagesToDisplay()&&s.resetToDefaultMessagesToDisplay(),this.resetAndRender(this.model),this.configureSwitchClassicViewButtons()},onToggleResultsView:function(e){var t=$(e.currentTarget).is("#expand-results-btn");this.model.getSearchViewSettingsModel().setResultsViewMaximized(t),this.$el.toggleClass("expanded",t),!t&&$("#search-view #search-expression").trigger("refresh")},template:_.template(i),subviews:null,onResize:function(e){this.onResizeRecordedDimensions={width:this.$el.innerWidth(),height:this.$el.innerHeight()},this.subviews.iterate((function(t,i){"onResize"in t&&t.onResize(e)}))},onResultsTabSelect:function(e,t){u.start({id:"onResultsTabSelect",metric:S.ResultsTabSwitchDelay,skipSli:!0}),$.log("Sumo.Ui.Search.SearchQueryResultsView.onResultsTabSelect(%s)",this.cid);var i=t.newPanel[0].id,s=this.getResultsTabById(i);$.log("Sumo.Ui.Search.SearchQueryResultsView.onResultsTabSelect - tab id: [%s], tab: [%s]",i,s),this.model.setSearchResultsTabSelection(s);var n=this.subviews.get(s);n&&"onResize"in n&&$.later(10,this,(function(){n.onResize(),u.measureOnce({id:"onResultsTabSelect",metric:S.ResultsTabSwitchDelay,skipSli:!0})}))},renderResultsTabView:function(e){if(e)if(e===this.model.ResultsTabType.MESSAGES&&m.currentUserHelper.hasFeatureFlag("UISearchMessagesTabReact"))p.renderSearchResultsMessagesTab({searchQueryId:this.model.getSearchQueryId(),searchUniqId:this.model.getUniqId()});else{$.log("Sumo.Ui.Search.Results.SearchQueryResultsView.renderResultsTabView(%s) - tab: %s",this.cid,e);var t=this.resultsTabsInfo[e],i={modelClass:t.modelClass,viewClass:t.viewClass,viewOptions:{el:this.$(t.el),context:this.options.context},modelOptions:{context:this.options.context,searchQueryModel:this.model}};this.subviews.createView(e,i,(function(e){}),!0)}},selectTab:function(e){var t=this.$tabs.find('.ui-tabs-nav li[aria-controls="'+this.resultsTabsInfo[e].id+'"]').index();this.$("#search-query-results-tabs").tabs("option","active",t)},initialize:function(){$.log("Sumo.Ui.Search.Results.SearchQueryResultsView.initialize(%s)",this.cid),this.subviews=new f("SearchQueryResultsView"),this.subviews.setModel(this.model),_.bindAll(this,"initResultsTabsInfo","getResultsTabById","render","renderResultsTabView","onResize","onResultsTabSelect","onToggleTableClassicView","configureSwitchClassicViewButtons","resizeObserverCallback"),this.initResultsTabsInfo();var e=this.getBaseUrl();this.hrefs={messagesHref:e+"#search-results-tab-messages",aggregateHref:e+"#search-results-tab-aggregates",summarizeHref:e+"#search-results-tab-summarize"},this.render();var t=this;this.$tabs=this.$("#search-query-results-tabs").tabs({beforeActivate:function(e,i){return t.onResultsTabSelect(e,i)}}),this.setup(),this.configureSwitchClassicViewButtons()},getBaseUrl:function(){return v(location.href)},renderTabs:function(e,t){var i=this.model.ResultsTabType;e?this.renderResultsTabView(i.AGGREGATES):(this.$tabs.find('.ui-tabs-nav li[aria-controls="'+this.resultsTabsInfo[i.AGGREGATES].id+'"]').remove(),$("#"+this.resultsTabsInfo[i.AGGREGATES].id).remove(),this.$tabs.tabs("refresh")),t?this.renderResultsTabView(i.SUMMARIZE):(this.$tabs.find('.ui-tabs-nav li[aria-controls="'+this.resultsTabsInfo[i.SUMMARIZE].id+'"]').remove(),$("#"+this.resultsTabsInfo[i.SUMMARIZE].id).remove(),this.$tabs.tabs("refresh"))},removeExistingTabs:function(e,t){var i=this.model.ResultsTabType;if(!e){var s=this.$tabs.find('.ui-tabs-nav li[aria-controls="'+this.resultsTabsInfo[i.AGGREGATES].id+'"]');s.length&&(s.remove(),$("#"+this.resultsTabsInfo[i.AGGREGATES].id).remove(),this.$tabs.tabs("refresh"))}if(!t){var n=this.$tabs.find('.ui-tabs-nav li[aria-controls="'+this.resultsTabsInfo[i.SUMMARIZE].id+'"]');n.length&&(n.remove(),$("#"+this.resultsTabsInfo[i.SUMMARIZE].id).remove(),this.$tabs.tabs("refresh"))}},reRenderExistingTabs:function(e,i){var s=this.model.ResultsTabType;this.removeExistingTabs(e,i),e&&(this.addTab("search-results-tab-aggregates",t.searchJSON.tab_aggregates,'<div id="aggregate-records"></div>'),this.renderResultsTabView(s.AGGREGATES)),i&&(this.addTab("search-results-tab-summarize",t.searchJSON.tab_summarize,'<div id="summarize-records"></div>'),this.renderResultsTabView(s.SUMMARIZE))},getResultsTabSelection:function(e,t){var i=this.model.ResultsTabType,s=this.model.getSearchResultsTabSelection();return $.log("Sumo.Ui.Search.Results.SearchQueryResultsView.initialize(%s) - tab selection=%s",this.cid,s),null==s?s=e?i.AGGREGATES:t?i.SUMMARIZE:i.MESSAGES:(s!=i.AGGREGATES||e)&&(s!=i.SUMMARIZE||t)||(s=i.MESSAGES),s},getShowAggregatesTab:function(){return this.model.isAggregateQuery()},getShowSummarizeTab:function(){var e=this.model.isSummarizeQuery(),t=this.model.isSummarizeDrillDownQuery();return e&&!t},createTabViews:function(e){var t=this.model.ResultsTabType;e&&e.skipMessagesView||this.renderResultsTabView(t.MESSAGES);var i=this.getShowAggregatesTab(),s=this.getShowSummarizeTab();i&&s&&(i=!1,s=!1);var n=this.getResultsTabSelection(i,s);this.selectTab(n),this.renderTabs(i,s),this.model.getSearchQueryId()&&this.model.setSearchResultsTabSelection(n)},configureMaxNormalViewButtons:function(){this.model.getSearchViewSettingsModel().getResultsViewMaximized()?(this.$("#expand-results-btn").hide(),this.$("#shrink-results-btn").show()):(this.$("#expand-results-btn").show(),this.$("#shrink-results-btn").hide())},configureSwitchClassicViewButtons:function(){m.userHelperOverride.hasFeatureFlag("UISearchNonAggregateTable")?(this.$("#change-to-classic-btn").show(),this.$("#change-to-new-table-btn").hide()):(this.$("#change-to-classic-btn").hide(),this.$("#change-to-new-table-btn").show())},setup:function(){var e=this.model.ResultsTabType;this.configureMaxNormalViewButtons(),this.createTabViews(),this.listenTo(this.model,"change:selectedRange",_.partial(this.selectTab,e.MESSAGES))},addTab:function(e,t,i){var s="#"+e;if(!this.$(s).length){var n=this.getBaseUrl()+s;$('<li><a href="'+n+'">'+t+"</a></li>").appendTo(this.$tabs.find(".ui-tabs-nav")),this.$tabs.tabs("refresh");var a=this.$("#search-query-results-tabs").children("div"),r=a[a.length-1];r.id=e,$(r).html(i)}},resizeObserverCallback:function(e){setTimeout((()=>{let t=e.contentRect.width,i=e.contentRect.height;this.onResizeRecordedDimensions&&t===this.onResizeRecordedDimensions.width&&i===this.onResizeRecordedDimensions.height||this.onResize(!0)}),50)},render:function(){$.log("Sumo.Ui.Search.Results.SearchQueryResultsView.render(%s)",this.cid);var e=this.template({__:t.searchJSON,hrefs:this.hrefs,UISearchMessagesTabReact:m.currentUserHelper.hasFeatureFlag("UISearchMessagesTabReact")});return this.$el.html(e),this.removeResultsViewResizeObserver&&this.removeResultsViewResizeObserver(),this.removeResultsViewResizeObserver=w(this.$el[0],this.resizeObserverCallback),this},resetAndRender:function(e){if(e){this.stopListening(this.model),this.model=e;var t=this.model.ResultsTabType;this.subviews.remove(t.AGGREGATES,!0),this.subviews.remove(t.SUMMARIZE,!0),this.subviews.remove(t.MESSAGES,!0),this.subviews.setModel(this.model),this.setup()}},resetAndAddTab:function(e,t,i){var s="#"+e;if(!this.$(s).length){var n=this.getBaseUrl()+s;$('<li><a href="'+n+'">'+t+"</a></li>").appendTo(this.$tabs.find(".ui-tabs-nav")),this.$tabs.tabs("refresh"),this.$("#search-query-results-tabs").append(`<div id="${e}"><div id="${i}"></div></div>`)}},resetAndRenderTabs:function(){var e=this.getShowAggregatesTab(),i=this.getShowSummarizeTab();this.removeExistingTabs(e,i),e&&this.resetAndAddTab("search-results-tab-aggregates",t.searchJSON.tab_aggregates,"aggregate-records"),i&&this.resetAndAddTab("search-results-tab-summarize",t.searchJSON.tab_summarize,"summarize-records"),this.model.setSearchResultsTabSelection(null);var s=this.getResultsTabSelection(e,i);this.selectTab(s)},resetAndRenderSubviewsExceptMessages:function(e){if(e){this.stopListening(this.model),this.model=e;var t=this.model.ResultsTabType;this.resetAndRenderTabs(),this.subviews.remove(t.AGGREGATES,!0),this.subviews.remove(t.SUMMARIZE,!0),this.subviews.setModel(this.model),this.resetAndRenderMessagesView(this.model),this.setupSubviewsExceptMessages()}},resetAndRenderMessagesView:function(e){if(m.currentUserHelper.hasFeatureFlag("UISearchMessagesTabReact"))p.renderSearchResultsMessagesTab({searchQueryId:e.getSearchQueryId(),searchUniqId:e.getUniqId()});else{var t=this.model.ResultsTabType;this.subviews.changeModel(t.MESSAGES,{modelClass:this.resultsTabsInfo[t.MESSAGES].modelClass,modelOptions:{context:this.options.context,searchQueryModel:e,isFetching:!0}},(e=>{this.subviews.get(t.MESSAGES).resetAndRender(e),e.resetDisplayedRowIndex()}))}},setupSubviewsExceptMessages:function(){var e=this.model.ResultsTabType;this.configureMaxNormalViewButtons(),this.createTabViews({skipMessagesView:!0}),this.listenTo(this.model,"change:selectedRange",_.partial(this.selectTab,e.MESSAGES))},destroy:function(e){$.log("Sumo.Ui.Search.Results.SearchQueryResultsView.destroy - "+this.cid),this.removeResultsViewResizeObserver&&this.removeResultsViewResizeObserver(),this.subviews.destroy(e),m.currentUserHelper.hasFeatureFlag("UISearchMessagesTabReact")&&p.destroySearchResultsMessagesTab(),SumoUtil.destroyView(this)},destroySubviewsExceptMessages:function(){this.subviews.iterate(((e,t)=>{t!==this.model.ResultsTabType.MESSAGES&&this.subviews.remove(t,!0)}))}})}.apply(t,s))||(e.exports=n)},43118:function(e,t,i){var s,n;s=[i(63205),i(50563)],void 0===(n=function(e,t){var i=e.PagerViewModule;t.applicationContext;return Backbone.View.extend({pagerView:null,pagerEvents:null,firstPage:function(){this.fetchPage(0)},previousPage:function(){this.fetchPage(Math.max(0,this.model.getPage()-1))},nextPage:function(){var e=this.model.getPageCount(),t=this.model.getPage();e>0&&this.fetchPage(Math.min(e-1,t+1))},lastPage:function(){var e=this.model.getPageCount();e>0&&this.fetchPage(e-1)},gotoPage:function(e){this.fetchPage(e)},fetchPage:function(e){this.model.resetDisplayedRowIndex();var t=this.model.getSearchQueryModel().getSearchQueryId();SumoUtil.logSearchMessagePageAccess(t,e,this.model.getPage(),this.model.getPageCount()),this.model.fetchPage(e,null,!0)},initialize:function(){$.log("Sumo.Ui.Search.Results.SearchResultsPagerView.initialize: "+this.cid),_.bindAll(this,"render","firstPage","previousPage","nextPage","lastPage","gotoPage"),this.pagerEvents=_.extend({},Backbone.Events),this.pagerEvents.on("firstPage",this.firstPage),this.pagerEvents.on("previousPage",this.previousPage),this.pagerEvents.on("nextPage",this.nextPage),this.pagerEvents.on("lastPage",this.lastPage),this.pagerEvents.on("gotoPage",this.gotoPage),this.render()},render:function(){return $.log("Sumo.Ui.Search.Results.SearchResultsPagerView.render:"+this.cid),this.pagerView=new i({model:this.model,el:this.el,pagerEvents:this.pagerEvents,bShowReload:!1}),this},destroy:function(){$.log("Sumo.Ui.Search.Results.SearchResultsPagerView.destroy: "+this.cid),this.pagerEvents.off(),this.pagerView.destroy(),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},45958:function(e,t){var i;void 0===(i=function(){"use strict";return{init:function(){_.bindAll(this,"getMenuModel","destroy","getSubMenuHeight","getSubMenuWidth","showMenu","hideMenu","launchConnection")},mixin:{SUB_ITEM_WIDTH:80,menuModel:null,menuView:null,hideMenu:function(){this.$el.hide()},showMenu:function(e){this.$el.show(),SumoUtil.setMenuPosition(e.pageX,e.pageY,this.$el,this)},getSubMenuWidth:function(){return this.SUB_ITEM_WIDTH},launchConnection:function(e){_.getPath(this,"options.snowMenuView")&&this.options.snowMenuView.launchConnection(e,{selectionText:this.selectionText}),this.hideMenu()},getSubMenuHeight:function(){if(!this.SUB_ITEM_HEIGHT){var e,t=0;this.$el.find(".sumo-sub-menu").each((function(i,s){e=$(s).height(),t=t>e?t:e})),this.SUB_ITEM_HEIGHT=t}return this.SUB_ITEM_HEIGHT},getMenuModel:function(){return this.menuModel},adjustMaxHeightSubMenu:function(e){this.$(".sumo-sub-menu").each((function(t,i){e&&$(i).css("max-height",e+"px")}))},destroy:function(){this.menuView&&this.menuView.destroy(),this.destroySubViews(!0)}}}}.apply(t,[]))||(e.exports=i)},41636:function(e,t){var i;void 0===(i=function(){"use strict";return{init:function(){_.bindAll(this,"initShowMore","onExpandShowMoreClick","onCollapseShowMoreClick")},mixin:{showMoreMaxHeight:165,showMoreTemplate:'<pre class="container-showmore"><span class="expand-showmore" style="display: none; padding: 0 10px; cursor: pointer; background-color: #E6E6E6; font-size: 12px;">...</span><span class="collapse-showmore" style="display: none; padding: 0 20px; cursor: pointer; background-color: #E6E6E6; font-size: 12px;">-</span></pre>',SHOWMORE_EVENTS:{"click .expand-showmore":"onExpandShowMoreClick","click .collapse-showmore":"onCollapseShowMoreClick"},initShowMore:function(e){var t=this.showMoreMaxHeight;setTimeout((function(){e.find(".container-showmore").each(((e,i)=>{var s=i.previousElementSibling,n=i.firstElementChild,a=n.nextElementSibling;s.style.overflowY="hidden",s.style.maxHeight="",s.offsetHeight>t?(i.style.display="inline-block",n.style.display="inline-block",a.style.display="none",s.style.maxHeight=t+"px"):(i.style.display="none",n.style.display="none",a.style.display="none")}))}))},onExpandShowMoreClick:function(e){var t=e.target,i=t.nextElementSibling,s=t.parentElement.previousElementSibling;t.style.display="none",i.style.display="inline-block",s.style.maxHeight=""},onCollapseShowMoreClick:function(e){var t=e.target,i=t.previousElementSibling,s=i.parentElement.previousElementSibling;i.style.display="inline-block",t.style.display="none",s.style.maxHeight=this.showMoreMaxHeight+"px"}}}}.apply(t,[]))||(e.exports=i)},9734:function(e,t,i){var s,n;s=[i(63205),i(77315),i(60567),i(53288),i(66359),i(83957)],void 0===(n=function(e,t,i,s,n,a){var r=i.SubViewHelperModule;return Backbone.View.extend({events:{"initFeedbackActions #feedback-actions":"toggleFeedbackActions","click #undo-feedback-button":"onUndoFeedback","click #redo-feedback-button":"onRedoFeedback","click #summarize-export-button":"onExportResults"},template:_.template(t),subviews:null,exportViewReact:null,onRecordCountLastFetchedChange:function(){this.enableDisableActions()},updateSaveBaselineButton:function(){this.model.getSearchQueryModel(),this.model.isFetchingFeedback()},toggleFeedbackActions:function(){$.log("Sumo.Ui.Search.Results.SummarizeActionsView.toggleFeedbackActions - cid=%s",this.cid);var e=this.model.isFetchingFeedback(),t=this.model.getUndoFeedbackStackSize();!e&&t>0?this.$("#undo-feedback-button").removeClass("is-disabled"):this.$("#undo-feedback-button").addClass("is-disabled");var i=this.model.getRedoFeedbackStackSize();!e&&i>0?this.$("#redo-feedback-button").removeClass("is-disabled"):this.$("#redo-feedback-button").addClass("is-disabled");this.model.getSearchQueryModel().getSavedSearchId();this.updateSaveBaselineButton(),this.model.setEditedSignatureId(null)},isActionButtonDisabled:function(e){return this.$("#"+e).hasClass("is-disabled")},onUndoFeedback:function(e){this.isActionButtonDisabled("undo-feedback-button")||this.model.undoFeedback()},onRedoFeedback:function(e){this.isActionButtonDisabled("redo-feedback-button")||this.model.redoFeedback()},onResetFeedbackComplete:function(){$("#search-view").trigger("restartSearchQuery")},onExportResults:function(){this.exportViewReact&&this.exportViewReact.current.onExportResults(["_count","_signature"])},enableDisableActions:function(){this.$("#feedback-actions").hide();var e=!n.currentUserHelper.hasFeatureFlag("UILogSearchHideExportOptions")&&n.currentUserHelper.hasPermission("DOWNLOAD_SEARCH_RESULTS");this.$("#summarize-export-controls").toggle(e);var t=this.model.getSearchQueryModel(),i=t.getStatus(),s=t.getRecordCount();t.isDoneGathering(i)&&s>0&&0==t.isSummarizeDrillDownQuery()&&this.$("#feedback-actions").show()},initializeActions:function(){this.enableDisableActions(),this.toggleFeedbackActions()},initialize:function(){$.log("Sumo.Ui.Search.Results.SummarizeActionsView.initialize - cid=%s",this.cid),_.bindAll(this,"render","initializeActions","enableDisableActions","onRecordCountLastFetchedChange","toggleFeedbackActions","onResetFeedbackComplete"),this.subviews=new r("SummarizeActionsView"),this.subviews.setModel(this.model),this.listenTo(this.model,"change:lastFeedbackTime",this.toggleFeedbackActions),this.listenTo(this.model,"change:resetFeedbackComplete",this.onResetFeedbackComplete),this.listenTo(this.model,"change:isFetchingFeedback",this.toggleFeedbackActions);var e=this.model.getSearchQueryModel();this.listenTo(e,"change:recordCountLastFetched",this.onRecordCountLastFetchedChange),this.listenTo(e,"change:status",this.updateSaveBaselineButton),this.render();const t={searchQueryId:this.model.getSearchQueryId(),alias:"query",registerSearchExportApi:e=>{this.exportViewReact=e},onErrorCallback:(e,t)=>{$("#search-view").trigger("error",{errorMessage:e,errorDetails:t})}};a.createSearchExportView(t,this.$("#summarize-export-container")[0]),this.initializeActions()},render:function(){$.log("Sumo.Ui.Search.Results.SummarizeActionsView.render - "+this.cid);var t=_.extend({__:e.searchJSON},this.model.toJSON()),i=this.template(t);return this.$el.html(i),this},destroy:function(){$.log("Sumo.Ui.Search.Results.SummarizeActionsView.destroy - "+this.cid),this.subviews.destroy(),a.destroySearchExportView(this.$("#summarize-export-container")[0]),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},6164:function(e,t,i){var s,n;s=[i(53288),i(63205),i(50963)],void 0===(n=function(e,t,i){return Backbone.Model.extend({SortOrder:{DESC:0,ASC:1},SEARCH_RUNNING_TIMEOUT:12e4,defaults:{searchQueryModel:null,subViewModels:null,page:-1,pageCount:0,isFetching:!1,isFetchingFeedback:!1,recordsPerPage:15,records:[],lastRecordsUpdated:null,fields:[],undoFeedbackStack:null,redoFeedbackStack:null,resetFeedbackComplete:!1,lastFeedbackTime:null,feedbackTimers:{},sortedBy:null,sortOrder:0,isResizing:!1,scrollTop:0,scrollLeft:0},editedSignatureId:null,initialize:function(){$.log("Sumo.Ui.Search.Results.SummarizeRecordsModel.initialize - cid=(%s)",this.cid),this.ajax=this.get("context").ajax,this.set({subViewModels:{}}),this.listenTo(this.getSearchQueryModel(),"change:recordCountLastFetched",this.countsUpdated),this.on("change:sortOrder",this.sortOrderChanged,this)},destroy:function(){var e=this.getSearchQueryModel();e&&this.stopListening(e,"change:recordCountLastFetched"),this.off("change:sortOrder",this.sortOrderChanged),this.cancelPollForFeedbackResults()},getSearchQueryModel:function(){return this.get("searchQueryModel")},getSearchQueryId:function(){return this.getSearchQueryModel().getSearchQueryId()},getSearchViewSettingsModel:function(){return this.getSearchQueryModel().getSearchViewSettingsModel()},getSubviewModel:function(e){return this.get("subViewModels")[e]},setSubviewModel:function(e,t){this.get("subViewModels")[e]=t},getPage:function(){return this.get("page")},setPage:function(e){this.set({page:e})},getPageCount:function(){return this.get("pageCount")},setPageCount:function(e){this.set({pageCount:e})},getRecordOffset:function(){return this.getPage()*this.getRecordsPerPage()},isFetching:function(){return this.get("isFetching")},setFetching:function(e){this.set({isFetching:e})},isFetchingFeedback:function(){return this.get("isFetchingFeedback")},setFetchingFeedback:function(e){this.set({isFetchingFeedback:e})},getSortedBy:function(){return this.get("sortedBy")},setSortedBy:function(e){this.set({sortedBy:e})},getSortOrder:function(){return this.get("sortOrder")},setSortOrder:function(e){this.set({sortOrder:e})},isDescendingSortOrder:function(){return this.get("sortOrder")===this.SortOrder.DESC},getEditedSignatureId:function(){return this.editedSignatureId},setEditedSignatureId:function(e){this.editedSignatureId=e},validateOffsetAndLength:function(e,t,i){var s=this.getRecordsPerPage();return null==t?($.log("Sumo.Ui.Search.Results.SummarizeRecordsModel.validateOffsetAndLength - offset is null"),!1):t<0?($.log("Sumo.Ui.Search.Results.SummarizeRecordsModel.validateOffsetAndLength - offset '%d' is negative",t),!1):t>e-1?($.log("Sumo.Ui.Search.Results.SummarizeRecordsModel.validateOffsetAndLength - offset '%d' greater than or equal to records count: '%d'",t,e),!1):null==i?($.log("Sumo.Ui.Search.Results.SummarizeRecordsModel.validateOffsetAndLength - length is null"),!1):i<0?($.log("Sumo.Ui.Search.Results.SummarizeRecordsModel.validateOffsetAndLength - length '%d' is negative",i),!1):0==i?($.log("Sumo.Ui.Search.Results.SummarizeRecordsModel.validateOffsetAndLength - length is zero"),!1):i>s?($.log("Sumo.Ui.Search.Results.SummarizeRecordsModel.validateOffsetAndLength - length '%d' is greater than records per page: '%d'",i,s),!1):!(t+i>e)||($.log("Sumo.Ui.Search.Results.SummarizeRecordsModel.validateOffsetAndLength - offset '%d' plus length '%d' greater than or equal to records count: '%d'",t,i,e),!1)},getTotalRecordsCount:function(){return this.getSearchQueryModel().getRecordCount()},getRecordsPerPage:function(){return this.get("recordsPerPage")},setRecordsPerPage:function(e){this.set({recordsPerPage:e})},getRecords:function(){return this.get("records")},getRecordsCount:function(){var e=this.getRecords();return e?e.length:0},hasOnlyOneL1Cluster:function(){var e=this.getRecords();if(1!=e.length)return!1;var t=e[0]._count;return!t||t<=1},hasDeltaRecords:function(){var e=this.getRecords();if(null==e)return!1;var t=e.length;if(0==t)return!1;for(var i=0;i<t;i++){if("true"==e[i]._isdelta)return!0}return!1},setRecords:function(e){this.set({records:e,lastRecordsUpdated:new Date})},getRecordById:function(e){var t=this.get("records");return t?_.find(t,(function(t){return t._id==e})):null},getFields:function(){return this.get("fields")},setFields:function(e){this.set({fields:e})},getFeedbackTimer:function(e){return this.getFeedbackTimers()[e]},setFeedbackTimer:function(e,t){var i=this.getFeedbackTimers();return i[e]=t,this.setFeedbackTimers(i)},getFeedbackTimers:function(){return this.get("feedbackTimers")},setFeedbackTimers:function(e){return this.set({feedbackTimers:e})},getLastFeedbackType:function(){return this.get("lastFeedbackType")},setLastFeedbackType:function(e){this.set({lastFeedbackType:e})},getUndoFeedbackStack:function(){return this.get("undoFeedbackStack")},getUndoFeedbackStackSize:function(){var e=this.getUndoFeedbackStack();return null!=e?e.length:0},pushToUndoFeedbackStack:function(e){var t=this.getUndoFeedbackStack();null==t&&(t=[]),t.push(e),this.set({undoFeedbackStack:t})},popFromUndoFeedbackStack:function(){var e=this.getUndoFeedbackStack();if(null==e||0==e.length)return null;var t=e.pop();return this.set({undoFeedbackStack:e}),t},getRedoFeedbackStack:function(){return this.get("redoFeedbackStack")},getRedoFeedbackStackSize:function(){var e=this.getRedoFeedbackStack();return null!=e?e.length:0},pushToRedoFeedbackStack:function(e){var t=this.getRedoFeedbackStack();null==t&&(t=[]),t.push(e),this.set({redoFeedbackStack:t})},clearRedoFeedbackStack:function(){this.set({redoFeedbackStack:[]})},popFromRedoFeedbackStack:function(){var e=this.getRedoFeedbackStack();if(null==e||0==e.length)return null;var t=e.pop();return this.set({redoFeedbackStack:e}),t},countsUpdated:function(){$.log("Sumo.Ui.Search.Results.SummarizeRecordsModel - counts updated for query: '%d'",this.getTotalRecordsCount());var e=this.getTotalRecordsCount(),t=this.getRecordsPerPage();this.setPageCount(Math.ceil(e/t)),e>0?(this.getPage()<0&&this.setPage(0),this.fetchPage(this.getPage())):(this.set({page:-1},{silent:!0}),this.setRecords([]))},sortOrderChanged:function(){this.set({page:-1},{silent:!0}),this.fetchPage(0)},resetDisplayedRowIndex:function(){this.getSearchViewSettingsModel().setSummarizeTableFirstVisibleRowIndex(0)},fetchPage:function(e){if(e<0)$.log("Sumo.Ui.Search.Results.SummarizeRecordsModel - fetch page '%d' is negative",e);else if(e>this.getPageCount()-1)$.log("Sumo.Ui.Search.Results.SummarizeRecordsModel - fetch page for page '%d' greater than or equal page count: '%d'",e,this.getPageCount());else{var t=i.calculateOffsetAndLengthForPage({page:e,totalCount:this.getTotalRecordsCount(),pageSize:this.getRecordsPerPage(),descendingOrder:this.isDescendingSortOrder()});this.setPage(e),this.fetchRecords(t.offset,t.length,(function(){}))}},fetchRecords:function(e,i,s){$.log("Sumo.Ui.Search.Results.SummarizeRecordsModel - fetching records for offset: '%d', length: '%d'",e,i),this.validateOffsetAndLength(this.getTotalRecordsCount(),e,i)?this.getSearchQueryModel().isDestroying()?$.log("Sumo.Ui.Search.Results.SummarizeRecordsModel.fetchRecords - SearchQueryModel is being destroyed, no need to fetch."):(this.setFetching(!0),this.getUndoFeedbackStackSize()>0&&(this.setFetching(!1),this.setFetchingFeedback(!0)),this.ajax.call(this,{endpoint:sprintf(this.ajax.EndpointFormats.V2_SEARCH_MESSAGES_QUERY_FORMAT,this.getSearchQueryId()),errorCode:"search_query_records",retryLimit:1,timeout:this.SEARCH_RUNNING_TIMEOUT,data:{offset:e,length:i},success:function(e){if(this.setFetching(!1),this.setFetchingFeedback(!1),this.getSearchQueryModel().isDestroying())$.log("Sumo.Ui.Search.Results.SummarizeRecordsModel.fetchRecords - SearchQueryModel is being destroyed, no need to continue.");else if(s&&s(),e.records){var t=e.records.records;if(t.length>0){this.isDescendingSortOrder()||(t=t.reverse());var i=e.records.fields;i&&i.length&&(i=i.map((function(e){return e.name&&"string"==typeof e.name&&(e.name=e.name.toLowerCase()),e}))),this.setFields(i);var n=t[0].keys,a=[];_.each(t,(function(e){for(var t={},i=n.length,s=0;s<i;s++){var r=n[s];r&&"string"==typeof r&&(r=r.toLowerCase()),t[r]=e.values[s]}a.push(t)})),this.setRecords(a)}}},error:function(e,i,s,n,a){if(this.setFetching(!1),this.setFetchingFeedback(!1),this.getSearchQueryModel().isDestroying())return $.log("Sumo.Ui.Search.Results.SummarizeRecordsModel.fetchRecords - SearchQueryModel is being destroyed, no need to handle errors."),!1;var r=a?a.errorKey:null;if(r&&"sq2:invalid_session"==r){var o=i+" "+t.searchJSON.error_search_invalid_session;return $("#search-view").trigger("error",{errorMessage:o}),!1}return $("#search-view").trigger("error",{errorMessage:i,errorDetails:s}),!1}})):$.log("Sumo.Ui.Search.Results.SummarizeRecordsModel - offset '%d' and/or length: '%d' did not validate, exiting",e,i)},undoFeedback:function(){var t=this.getUndoFeedbackStack(),i=this.getUndoFeedbackStackSize();if(!(i<1)){var s=t[i-1];this.sendFeedback(e.FeedbackType.UNDO,s)}},redoFeedback:function(){var t=this.getRedoFeedbackStack(),i=this.getRedoFeedbackStackSize();if(!(i<1)){var s=t[i-1];this.sendFeedback(e.FeedbackType.REDO,s)}},resetFeedback:function(){(null!=this.getSearchQueryModel().getSavedSearchId()||this.getUndoFeedbackStackSize()>0||this.getRedoFeedbackStackSize()>0)&&this.sendFeedback(e.FeedbackType.RESET,-1)},checkBeforeFeedback:function(e,i,s){this.getEditedSignatureId()?SumoApp.userMessage.question(t.searchJSON.EDITED_SIG_QUESTION,{okCallback:this.editedOkCallback,cancelCallback:this.editedCancelCallback,okText:t.searchJSON.EDITED_CONTINUE,cancelText:t.searchJSON.EDITED_CANCEL,isHTML:!0}):this.changePage()},sendFeedback:function(e,t,i){$.log("Sumo.Ui.Search.Results.SummarizeRecordsModel.sendFeedback - type=%s, id=%s, string=%s",e,t,i),this.setFetching(!0),this.setFetchingFeedback(!0);var s=this;this.ajax.call(this,{endpoint:sprintf(this.ajax.EndpointFormats.V2_SUMMARIZE_FEEDBACK_FORMAT,this.getSearchQueryId()),type:"POST",errorCode:"summarize_feedback",data:{feedbackType:e,feedbackTarget:void 0===t||null==t?"":""+t,feedbackString:SumoUtil.isStringEmpty(i)?"":i},success:function(t){var i=t.feedbackId;this.setLastFeedbackType(e),$.log("Sumo.Ui.Search.Results.SummarizeRecordsModel.sendFeedback - Received feedbackStatusId: %s",i),s.pollForFeedbackResults(i,e,500),this.setEditedSignatureId(null)},error:function(e,t){return!0}})},pollForFeedbackResults:function(e,t,i){var s=i||500;this.getFeedbackTimers()[e]=$.later(s,this,(function(){this._pollForFeedbackResults(e,t)})),this.setFetching(!0),this.setFetchingFeedback(!0)},_pollForFeedbackResults:function(t,i){var s=this;$.log("Sumo.Ui.Search.Results.SummarizeRecordsModel.pollForFeedbackResults - Checking with statusId: %s",t),this.getFeedbackTimer(t)||this.setFeedbackTimer(t,{}),this.ajax.call(this,{endpoint:sprintf(this.ajax.EndpointFormats.V2_SEARCH_INTERACTION_STATUS,this.getSearchQueryId()),errorCode:"summarize_feedback",timeout:1e4,data:{interactionId:t},success:function(n){var a=s.getFeedbackTimers();if(t in a)if(n&&n.interactionStatus&&n.interactionStatus.statusCode==e.StatusCode.DONE){try{var r=parseInt(n.interactionStatus.statusMessage,16),o=n.interactionStatus.statusValue;$.log("Sumo.Ui.Search.Results.SummarizeRecordsModel.pollForFeedbackResults - Received feedbackId: %s",r),s.postFeedback(i,r,1*o),s.setFetchingFeedback(!1)}catch(e){$.log("Sumo.Ui.Search.Results.SummarizeRecordsModel.pollForFeedbackResults - Error processing status values: %s",e)}s.cancelPollForFeedbackResults(t)}else n.interactionStatus.statusCode==e.StatusCode.WORKING?($.log("Sumo.Ui.Search.Results.SummarizeRecordsModel.pollForFeedbackResults - Feedback processing not done for statusId: %s",t),s.pollForFeedbackResults(t,i)):($.log("Sumo.Ui.Search.Results.SummarizeRecordsModel.pollForFeedbackResults - Feedback processing failed for statusId: %s",t),s.cancelPollForFeedbackResults(t));else $.log("Sumo.Ui.Search.Results.SummarizeRecordsModel.pollForFeedbackResults - Dropping feedbackId: %s since it's out of date",r)},error:function(e,n){var a=s.getFeedbackTimers();if(t in a){$.log("Sumo.Ui.Search.Results.SummarizeRecordsModel.pollForFeedbackResults - Error returned for statusId: %s, error: %s",t,n),s.cancelPollForFeedbackResults(t);var r=t,o=s.getTotalRecordsCount();s.postFeedback(i,r,1*o)}}})},cancelPollForFeedbackResults:function(e){if(e)this._cancelPollTimer(e);else{var t=this.getFeedbackTimers();_.each(t,(function(e,t,i){this._cancelPollTimer(t)}),this)}0==_.size(this.getFeedbackTimers())&&(this.setFetching(!1),this.setFetchingFeedback(!1))},_cancelPollTimer:function(e){var t=this.getFeedbackTimers(),i=t[e];delete t[e],this.setFeedbackTimers(t),i&&i.cancel&&i.cancel()},postFeedback:function(t,i,s){switch($.log("Sumo.Ui.Search.Results.SummarizeRecordsModel(%s).postFeedback - feedback type=(%s)",this.cid,t),t){case e.FeedbackType.RESET:return this.set({undoFeedbackStack:null,redoFeedbackStack:null,lastFeedbackTime:null},{silent:!0}),void this.set({resetFeedbackComplete:!0});case e.FeedbackType.UNDO:this.popFromUndoFeedbackStack(),this.pushToRedoFeedbackStack(i);break;case e.FeedbackType.REDO:this.popFromRedoFeedbackStack(),this.pushToUndoFeedbackStack(i);break;case e.FeedbackType.EXPLODE:case e.FeedbackType.STAR:case e.FeedbackType.HIDE:case e.FeedbackType.FAVORITE:case e.FeedbackType.DISLIKE:case e.FeedbackType.EDIT:this.pushToUndoFeedbackStack(i),this.clearRedoFeedbackStack();break;case e.FeedbackType.SORT_COUNT:case e.FeedbackType.SORT_RELEVANCE:this.setSortedBy(t);break;default:throw"No handler for feedbackType["+t+"]."}this.set({lastFeedbackTime:new Date});var n=this.getTotalRecordsCount();if(this.getSearchQueryModel().set({recordCount:s},{silent:!0}),0==s)this.setPageCount(0),this.set({page:-1},{silent:!0}),this.setFields([]),this.setRecords([]);else{var a=this.getRecordsPerPage(),r=Math.ceil(s/a);this.setPageCount(r);var o=this.getPage();o<0?this.fetchPage(0):s<n&&o+1>r?(this.setPage(o-1),this.fetchPage(o-1)):this.fetchPage(o)}},saveBaseline:function(e,t){this.ajax.call(this,{endpoint:sprintf(this.ajax.EndpointFormats.V2_SUMMARIZE_SAVE_BASELINE_FORMAT,this.getSearchQueryId()),errorCode:"summarize_save_baseline",data:{baselinePath:e},success:function(e){e&&!e.error?t(null):t(e.error)},error:function(e,i,s,n){$.log("Sumo.Ui.Search.Results.saveBaseline.error: %s",n),t(i,s)}})},getResizing:function(){return this.get("isResizing")},setResizing:function(e){this.set({isResizing:e})}})}.apply(t,s))||(e.exports=n)},13206:function(e,t,i){var s,n;s=[i(63205),i(26500),i(34074),i(60567),i(53288),i(63341),i(47695),i(50963),i(20951),i(50563)],void 0===(n=function(e,t,i,s,n,a,r,o,l,d){var c=i.SearchQueryDataModule,u=d.applicationContext,h=s.SubViewHelperModule,g=s.SearchTablesStaticHeaderHelperModule,p=s.searchParametersService;return Backbone.View.extend({events:{"click thead .count":"sortByCount","click thead .relevance":"sortByRelevance","click thead .anomaly":"sortByRelevance","click .explode-icon":"explodeRecord","click .thumbsup-icon":"likeRecord","click .thumbsdown-icon":"dislikeRecord","click .view-details-link":"viewRecordDetails","click tbody .cluster":"editSummary","click .edit-icon":"editSummary","click pre.m":"editSummary","scroll #summarize-records-table-view table":"onScroll"},MIN_CLUSTER_COL_WIDTH:486,MIN_SIGNATURE_EDIT_WIDTH:815,MIN_SIGNATURE_WINDOW_HEIGHT:400,OTHERS_SIGNATURE_ID:"0xFFFFFFFFFFFFFFFF",subviews:null,template:_.template(t),originalContainer:null,summarizeToolbarBottom:0,toolbar:null,toolbarHeight:null,editSigId:null,destroyed:!1,editSigText:[],noScrollElements:"body, #search-view, #summarize-records-table",resized:!1,lastSignatureAdjusted:!1,retinaUsed:!1,SCROLLABLE_CLASS:".summarize-records-table-view",STATIC_HEADER_CLASS:".search-query-summarize-static-header",fetching:function(){var e=this.model.isFetching()?.4:1;this.useNewSummarizeTable?this.$("#search-query-summarize-table-2").css("opacity",e):(this.$("tbody").css("opacity",e),this.$el.removeClass("summarize-visible"))},onScroll:function(e){if(this.model.isFetching())return!1},explodeRecord:function(e,t){var i;if(this.useNewSummarizeTable)i=t;else{var s=$(e.currentTarget);s.off("click",this.explodeRecord),i=s.parent().find("input[name='_id']").val()}_.isUndefined(i)&&(i="-1"),$.log("explode feedback action. id = %s",i),this.model.sendFeedback(n.FeedbackType.EXPLODE,i)},_uneditableSignatures:function(t,i){var s="";return"Others"===t?s=e.searchJSON.edited_sig_uneditable_other_msg:($("#search-query-stats").find("img").length>0||1!=i)&&(s="return"),s},_blockEditing:function(e){return this.useNewSummarizeTable?this.model.isFetching()||!this.model.getSearchQueryModel().isDoneGathering()||this.destroyed:this.model.isFetching()||!this.$el.hasClass("summarize-visible")||$(e.target).hasClass("btn")||$(e.target).parents("td").hasClass("others-cluster")},showEditSummaryDialog:function(t,i,s){var o=this;this.editSummaryDialog=$('<div id="signature-edit-dialog"></div>').dialog({title:e.searchJSON.SIGNATURE_EDIT_TITLE,autoOpen:!0,modal:!0,resizable:!1,width:1030,position:{my:"left top",at:"left+"+SumoUtil.getLeftPositionOfDialog(1030)+" top+"+SumoUtil.getTopPositionOfDialog()},beforeClose:function(){if(!o.signatureEditView.closeable())return!1},close:function(){o.signatureEditView.options.exitCallback.call(),$(this).dialog("destroy").remove()}});var l=new a({id:i,signature:s});this.signatureEditView=new r({model:l,el:$("#signature-edit-dialog"),manualUpdateCallback:function(e){o.model.sendFeedback(n.FeedbackType.EDIT,e.getId(),e.getSignature()),this.closeDialog()},exitCallback:this.closeEditSummaryDialog})},closeEditSummaryDialog:function(){this.signatureEditView&&this.signatureEditView.destroy(),this.editSummaryDialog&&$("#signature-edit-dialog").is(":visible")&&(this.editSummaryDialog.dialog("close"),this.listenTo(this.model,"change:error")),this.editSummaryDialog=this.signatureEditView=void 0},editSummary:function(t,i,s){if(t.stopPropagation(),!this._blockEditing(t)&&(this.useNewSummarizeTable||!this.editSigId||"editModeContainer"!==this.editSigId.parent().attr("id"))&&!$("#sumo-message-box").is(":visible")){var n,a;$(".no-scroll").removeClass("no-scroll"),this.useNewSummarizeTable||(a=(n=$(t.currentTarget)).hasClass("m")?n:n.hasClass("edit-icon")?n.parents("tr").find("pre.m"):n.hasClass("cluster")?n.find("pre.m"):n.parent());var r=this._uneditableSignatures(this.useNewSummarizeTable?s:$(a).text(),t.which);if(r&&"return"!==r)$("#sumo-message-box").is(":visible")||SumoApp.userMessage.error(r,{displayType:SumoApp.userMessage.DisplayType.MSGBOX,title:e.searchJSON.edited_sig_uneditable_title,isHTML:!0});else{this.lastSignatureAdjusted=!1,this.useNewSummarizeTable||(this.editSigId=$(a));var o=this.useNewSummarizeTable?i:this.editSigId.parents("tr").first().find("[name=_id]").val();this.showEditSummaryDialog(t,o,this.useNewSummarizeTable?s:this.editSigId.text())}}},likeRecord:function(e,t){var i;this.useNewSummarizeTable?i=t:i=$(e.currentTarget).parent().find("input[name='_id']").val();$.log("like feedback action. id = %s",i),this.model.sendFeedback(n.FeedbackType.FAVORITE,i)},dislikeRecord:function(e,t){var i;this.useNewSummarizeTable?i=t:i=$(e.currentTarget).parent().find("input[name='_id']").val();$.log("dislike feedback action. id = %s",i),this.model.sendFeedback(n.FeedbackType.DISLIKE,i)},viewRecordDetails:function(e,t,i){var s;if(this.useNewSummarizeTable)s=SumoApp.priv.hasFlagClusterIdInDetails()?t:i;else{var n=$(e.target);s=SumoApp.priv.hasFlagClusterIdInDetails()?n.parents("tr").find(".actions input").val()||this.OTHERS_SIGNATURE_ID:n.parents("tr").find(".check input").val()}var a=this.model.getSearchQueryModel(),r=a.getSearchQueryId(),o=SumoUtil.appendToSearchExpression(a.getSearchExpression(),"| details "+s),l=a.get("startMillis"),d=a.get("endMillis"),u=new c;u.setInitiatingSearchQueryId(r),u.setQueryString(o),u.setStartTimestamp(l),u.setEndTimestamp(d),u.setSearchByReceiptTime(a.getSearchByReceiptTime()),u.setExecuteSearch(!0);var h=a.getParameterModel();h&&(u.setParameters(h.getParameters()),u.setParamViewState(p.getParamViewState(!0,!0,!1))),SumoUtil.searchDrilldownTrigger(u,"search-tabs-view")},setupSorting:function(e){var t="sortable-column ",i=null;if(!_.isEmpty(e.records)){var s=e.records[0];i=parseInt(s._sortorder,10)}var n=1===e.sortOrder?"-asc":"",a="",r="";return _.isNull(i)||(a=t+(0===i?"sorted"+n:""),r=t+(1===i?"sorted"+n:"")),_.extend(e,{bSortEnabled:true,countSortClass:a,relevanceSortClass:r})},sortByCount:function(e){var t=$("thead .relevance").length>0?$("thead .relevance"):$("thead .anomaly");this.sortByColumn(n.FeedbackType.SORT_COUNT,$("thead .count"),t)},sortByRelevance:function(e){var t=$("thead .relevance").length>0?$("thead .relevance"):$("thead .anomaly");this.sortByColumn(n.FeedbackType.SORT_RELEVANCE,t,$("thead .count"))},sortByColumn:function(e,t,i){if(this.model.setSortedBy(e),t.hasClass("sorted")||t.hasClass("sorted-asc")){t.toggleClass("sorted sorted-asc");var s=t.hasClass("sorted-asc")?this.model.SortOrder.ASC:this.model.SortOrder.DESC;this.model.set({sortOrder:s})}else this.model.sendFeedback(e),this.model.set({sortOrder:this.model.SortOrder.DESC},{silent:!0}),t.addClass("sorted");i.removeClass("sorted sorted-asc")},sortByReactColumn:function(e,t,i){var s="";if("_count"===e?(s=n.FeedbackType.SORT_COUNT,this.model.setSortedBy(s)):(s=n.FeedbackType.SORT_RELEVANCE,this.model.setSortedBy(s)),t){var a="asc"===i?this.model.SortOrder.DESC:this.model.SortOrder.ASC;this.model.set({sortOrder:a})}else this.model.sendFeedback(s),this.model.set({sortOrder:this.model.SortOrder.DESC},{silent:!0})},onResize:function(e){g.updateScrollPosition(this);var t=this;_.defer((function(){t._resizer(e)}))},_resizer:function(e){var t=this.$("div.summarize-records-table-view");if(!(t.length<1||this.$("thead td.cluster, tbody td.cluster").length<1)){var i=t.width(),s=t.offset().left,n=this.$("thead td.cluster"),a=i-(n.offset().left-s),r=a<this.MIN_CLUSTER_COL_WIDTH?this.MIN_CLUSTER_COL_WIDTH:a,l=this.$("tbody td.cluster");n.css("width",r+"px"),l.css("width",r+"px"),l.css("max-width",r+"px"),o.isPositionStickySupported()||g.createStaticHeader("summarize-records-table","search-query-summarize-static-header",this.$el,"summarize-records-table-view"),g.updateStaticHeaderPosition(this,this.STATIC_HEADER_CLASS)}},onPageChange:function(){g.resetScrollPosition(this)},initialize:function(){$.log("Sumo.Ui.Search.Results.SummarizeRecordsTableView.initialize - "+this.cid),_.bindAll(this,"render","resetAndRender","onResize","fetching","explodeRecord","likeRecord","dislikeRecord","sortByCount","sortByRelevance","editSummary","onScroll","closeEditSummaryDialog"),this.subviews=new h("SearchView"),this.useNewSummarizeTable=u.userHelperOverride.hasFeatureFlag("UISearchSummarizeTable"),this.listenTo(this.model,"change:lastRecordsUpdated",this.resetAndRender),this.listenTo(this.model,"change:isFetching",this.fetching),this.useNewSummarizeTable||(this.listenTo(this.model,"change:isResizing",this.onResize),this.listenTo(this.model,"change:page",this.onPageChange)),this.render(),$("#feedback-actions").trigger("initFeedbackActions")},getSortInfo:function(){var e=this.model.getRecords(),t=this.model.getSortOrder(),i=null;if(!_.isEmpty(e)){var s=e[0];i=parseInt(s._sortorder,10)}var n="";return _.isNull(i)||(n=0===i?"_count":"_relevance"),{sortType:1===t?"asc":"dsc",sortField:n}},updateColumnState:function(e){this.model.getSearchViewSettingsModel().setSummarizeTableColumnState(e)},renderReactSummarizeTable:function(){this.$("#search-query-summarize-table-2").length||this.$el.html('<div id="search-query-summarize-table-2" style="height:100%"></div>');var e=this.model.getSearchQueryModel(),t=this.$("#search-query-summarize-table-2")[0],i=this.getSortInfo(),s={page:this.model.getPage(),recordsPerPage:this.model.getRecordsPerPage(),records:this.model.getRecords(),sortType:i.sortType,sortField:i.sortField,isSummarizeV2Query:e.isSummarizeV2Query(),isSummarizeDrillDownQuery:e.isSummarizeDrillDownQuery(),isDoneGathering:e.isDoneGathering(),showRelevanceDiffusion:!e.isSummarizeDeltaQuery(),bIsUndoOperation:2==this.model.getLastFeedbackType(),viewRecordDetails:this.viewRecordDetails.bind(this),sortByColumn:this.sortByReactColumn.bind(this),likeRecord:this.likeRecord.bind(this),dislikeRecord:this.dislikeRecord.bind(this),explodeRecord:this.explodeRecord.bind(this),onSelectionChange:this.options.onViewDetailsCheckSelectionChange,columnState:this.model.getSearchViewSettingsModel().getSummarizeTableColumnState(),updateColumnState:this.updateColumnState.bind(this),onSignatureUpdateCallback:(e,t)=>{this.model.sendFeedback(n.FeedbackType.EDIT,e,t)}};l.createSearchSummarizeTable(t,s)},render:function(t){var i=this.model.getSearchQueryModel();if(!this.useNewSummarizeTable){$.log("Sumo.Ui.Search.Results.SummarizeRecordsTableView.render - "+this.cid),$("#summarize-signature-editor-toolbar").length&&$("#summarize-signature-editor-toolbar").remove();var s=2==this.model.getLastFeedbackType(),n=_.extend({__:e.searchJSON,bIsUndoOperation:s,OTHERS_SIGNATURE_ID:this.OTHERS_SIGNATURE_ID},this.model.toJSON());n=this.setupSorting(n);var a=this.template(n);if(this.$el.html(a),o.isPositionStickySupported()&&$(".summarize-records-table-view").addClass("sticky-supported"),(_.isUndefined(this.previousPage)||this.previousPage!==n.page)&&this.$el.scrollTop(0),this.previousPage=n.page,$("#login").css("min-height",""),this.model.getRecordsCount()>0){$("#summarize-records-results-status").hide();var r=i.getStatus();i.isDoneGathering(r)?($.log("Sumo.Ui.Search.Results.SummarizeRecordsTableView.render - search is done."),0==i.isSummarizeDrillDownQuery()?($.log("Sumo.Ui.Search.Results.SummarizeRecordsTableView.render - search is done - show feedback actions."),this.$(".actions").show(),this.$(".relevance").show()):($.log("Sumo.Ui.Search.Results.SummarizeRecordsTableView.render - you are in the View Details tab."),this.model.hasOnlyOneL1Cluster()&&(this.$("td.check").hide(),this.$("#summarize-records-table-notes").show())),this.$el.addClass("summarize-visible"),this.toolbar=$("#summarize-signature-editor-toolbar"),this.toolbarHeight=Math.round(this.toolbar.outerHeight())):$.log("Sumo.Ui.Search.Results.SummarizeRecordsTableView.render - search status = %s.",r)}return this.onResize(t),s&&$.later(100,this,(function(){$(".feedback-updated-cluster, .feedback-new-cluster, .feedback-undo-cluster").animate({backgroundColor:"white"},7e3)})),$("#view-details-action-button").trigger("updateStatus"),g.scrollAdjustHeader(this,this.SCROLLABLE_CLASS,this.STATIC_HEADER_CLASS),g.updateScrollPosition(this),this}i.getStatus()>0&&(this.model.getRecords().length>0||i.isDoneGathering()&&0===i.getRecordCount()?($("#summarize-records-results-status").hide(),this.renderReactSummarizeTable()):this.options.onViewDetailsCheckSelectionChange([]))},resetAndRender:function(e){$.log("Sumo.Ui.Search.Results.SummarizeRecordsTableView.resetAndRender:"+this.cid),this.render(e)},destroy:function(){$.log("Sumo.Ui.Search.Results.SummarizeRecordsTableView.destroy - "+this.cid),this.destroyed=!0,this.closeEditSummaryDialog(),this.$el.removeClass("summarize-visible"),$("#login").css("min-height",$(window).height()),this.subviews.destroy(),this.useNewSummarizeTable&&this.$("#search-query-summarize-table-2").length&&l.destroySearchSummarizeTable(this.$("#search-query-summarize-table-2")[0]),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},67198:function(e,t,i){var s,n;s=[i(63205),i(18632),i(60567),i(43118),i(9734),i(40845),i(50563)],void 0===(n=function(e,t,i,s,n,a,r){var o=r.applicationContext,l=i.SubViewHelperModule;return Backbone.View.extend({template:_.template(t),subviews:null,onGetSearchQueryModel:function(){$.logWarnLocal("returning-search-query-model");var e=this.model.getSearchQueryModel();this.$el.find("summarize-delta-button").trigger("searchQueryModelProvided",e)},initialize:function(){if($.log("Sumo.Ui.Search.Results.SummarizeRecordsToolbarView.initialize - "+this.cid),_.bindAll(this,"render","onGetSearchQueryModel"),this.subviews=new l("SummarizeRecordsToolbarView"),this.render(),this.subviews.register("summarize-records-pager",new s({context:this.options.context,model:this.model,el:this.$("#summarize-records-pager")})),this.subviews.register("summarize-actions-view",new n({context:this.options.context,model:this.model,el:$("#summarize-actions-container")})),o.userHelperOverride.hasFeatureFlag("UISearchLogCompareReact"))a.SummarizeDeltaButtonRenderer("summarize-delta-button-container-2",{sessionId:this.model.getSearchQueryId()});else{var e=this.$el.find("summarize-delta-button");e.on("getSearchQueryModel",this.onGetSearchQueryModel),SumoApp.ngCompile(e,null,!0)}},getSearchQueryModel:function(){return this.model.getSearchQueryModel()},render:function(){$.log("Sumo.Ui.Search.Results.SummarizeRecordsToolbarView.render - "+this.cid);var t=this.template({__:e.searchJSON});return this.$el.html(t),this},destroy:function(){$.log("Sumo.Ui.Search.Results.SummarizeRecordsToolbarView.destroy - "+this.cid);var e=this.$el.find("summarize-delta-button");e.off("getSearchQueryModel"),e.trigger("view-will-destroy"),this.subviews.destroy(),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},40783:function(e,t,i){var s,n;s=[i(63205),i(78061),i(60567),i(67198),i(13206),i(34074),i(53288),i(50563)],void 0===(n=function(e,t,i,s,n,a,r,o){var l=a.SearchQueryDataModule,d=o.applicationContext,c=i.SubViewHelperModule,u=i.searchParametersService;return Backbone.View.extend({events:{"change input[name=_check]":"onViewDetailsCheckSelectionChange","click #view-details-action-button":"onViewDetails","updateStatus #view-details-action-button":"enableDisableViewDetailsButton"},template:_.template(t),selectedRowIds:null,subviews:null,onFetchingFeedback:function(){var e={message:null,overlayCSS:{backgroundColor:"#fff"}};if(this.model.isFetchingFeedback()){this.$el.attr("id"),$("#summarize-feedback-status").show();try{this.$("#summarize-records-table").block(e)}catch(e){}}else{$("#summarize-feedback-status").hide();try{this.$("#summarize-records-table").unblock(e)}catch(e){}}},onViewDetailsCheckSelectionChange:function(e){this.enableDisableViewDetailsButton(e)},enableDisableViewDetailsButton:function(e){var t=[];e&&d.userHelperOverride.hasFeatureFlag("UISearchSummarizeTable")?t=e:this.$("input[name='_check']:checked").each((function(){t.push($(this).val())})),t&&(this.selectedRowIds=t,0===this.selectedRowIds.length?this.$("#view-details-action-button").addClass("is-disabled"):this.$("#view-details-action-button").removeClass("is-disabled"))},onViewDetails:function(e){if(!this.$("#view-details-action-button").hasClass("is-disabled")&&!(this.model.getRecordsCount()<1)){var t=[];if(this.selectedRowIds&&d.userHelperOverride.hasFeatureFlag("UISearchSummarizeTable")?t=this.selectedRowIds:this.$("input[name='_check']:checked").each((function(){t.push($(this).val())})),!(t.length<1)){var i=t.join(", "),s=this.model.getSearchQueryModel(),n=s.getSearchQueryId(),a=SumoUtil.appendToSearchExpression(s.getSearchExpression(),"| details "+i),r=s.get("startMillis"),o=s.get("endMillis"),c=new l;c.setInitiatingSearchQueryId(n),c.setQueryString(a),c.setStartTimestamp(r),c.setEndTimestamp(o),c.setSearchByReceiptTime(s.getSearchByReceiptTime()),c.setExecuteSearch(!0);var h=s.getParameterModel();h&&(c.setParameters(h.getParameters()),c.setParamViewState(u.getParamViewState(!0,!0,!1))),SumoUtil.searchDrilldownTrigger(c,"search-tabs-view")}}},onSearchStatusChange:function(){var e=this.model.getSearchQueryModel(),t=e.getStatus();this.$(".search-query-results-status").find("[data-spinner]").spinner("hide"),this.$(".search-results-status-search-not-running").hide(),e.isGathering(t)?this.$(".search-results-status-search-running").spinner("show"):e.isDoneGathering(t)?this.$(".search-results-status-retrieving-results").spinner("show"):(e.isCancelled(t)||e.isNotStarted(t)||e.isErrorStatus(t))&&this.$(".search-results-status-search-not-running").show()},onRecordCountLastFetchedChange:function(){var e=this.model.getSearchQueryModel(),t=e.getStatus(),i=e.getRecordCount();e.isDoneGathering(t)?(this.$(".search-query-results-status").find("div").hide(),i>0?this.$(".search-results-status-retrieving-results").show():this.$(".search-results-status-search-no-results").show()):e.isCancelled(t)&&(this.$(".search-query-results-status").find("div").hide(),this.$("#summarize-records-results-status").show(),this.$(".search-results-status-search-not-running").show()),this.enableDisableViewDetailsButton()},onResize:function(){this.subviews.iterate((function(e,t){"onResize"in e&&e.onResize()}))},initialize:function(){$.log("Sumo.Ui.Search.Results.SummarizeRecordsView.initialize: "+this.cid),this.subviews=new c("SummarizeRecordsView"),_.bindAll(this,"render","onResize","onFetchingFeedback","onSearchStatusChange","onRecordCountLastFetchedChange");var e=this.model.getSearchQueryModel();this.listenTo(e,"change:status",this.onSearchStatusChange),this.listenTo(e,"change:recordCountLastFetched",this.onRecordCountLastFetchedChange),this.listenTo(this.model,"change:isFetchingFeedback",this.onFetchingFeedback),this.render(),this.subviews.register("summarize-records-toolbar",new s({context:this.options.context,model:this.model,el:$("#summarize-records-toolbar")})),this.subviews.register("summarize-records-table",new n({context:this.options.context,model:this.model,el:$("#summarize-records-table"),onViewDetailsCheckSelectionChange:this.onViewDetailsCheckSelectionChange.bind(this)})),this.onSearchStatusChange(),this.model.getSearchQueryModel().get("recordCountLastFetched")&&this.onRecordCountLastFetchedChange()},render:function(){$.log("Sumo.Ui.Search.Results.SummarizeRecordsView.render:"+this.cid);var t=this.template({__:e.searchJSON,tableClass:d.userHelperOverride.hasFeatureFlag("UISearchSummarizeTable")?"summarize-table-no-padding":""});return this.$el.html(t),this.$(".search-results-status-search-running").spinner(),this.$(".search-results-status-retrieving-results").spinner(),this},destroy:function(e){$.log("Sumo.Ui.Search.Results.SummarizeRecordsView.destroy: "+this.cid),this.subviews.destroy(e),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},76993:function(e,t,i){var s,n;s=[i(16471),i(60567)],void 0===(n=function(e,t){var i=t.searchParametersService,s=t.SumoModel,n=t.GetterSetterMixin;return s.extend({MAX_CACHE_COUNT:5,mixins:[n],defaults:{parameters:void 0,paramPositionMap:void 0,lastChange:void 0,searchParamsViewState:void 0},cachedParameters:void 0,initialize:function(){_.bindAll(this,"onFetchParams","onFetchError"),this.get("context")&&(this.context=this.get("context"),this.ajax=this.context.ajax),this.cachedParameters=[],this.setParameters([]),this.setParamPositionMap({}),this.setSearchParamsViewState(this._fetchDefaultViewState())},setParameters:function(e,t){this.setCachedParameters(e),this.set("parameters",e,t)},setCachedParameters:function(e){var t=this.getParameters(),s=this.getCachedParameters(),n=i.fetchCachedParameters(s,{previousParameters:t,maxCount:this.MAX_CACHE_COUNT,parameters:e});this.cachedParameters=n},getCachedParameters:function(){return this.cachedParameters},saveParamPositions:function(e){var t=i.createParamPositionMap(e,this.getParameters(),this.getCachedParameters());this.setParamPositionMap(t.paramPositionMap),this.setParameters(t.parameters)},onFetchParams:function(e){this.saveParamPositions(e||[])},onFetchError:function(e,t){$.log(sprintf("Sumo.Ui.Search.SearchParameterModel.load - ErrorMessage: %s",t))},isValidParamValueSet:function(){var t=this.getParameters();return _.every(t,(function(t){var i=_.getPath(t,"value.value");return!_.isEmpty(i)&&i.length<=e.MAX_PARAM_VALUE_LENGTH}))},_fetchDefaultViewState:function(){e.SearchParamViewState;return 3}})}.apply(t,s))||(e.exports=n)},42532:function(e,t,i){var s,n;s=[i(63205),i(23257),i(50168),i(50563)],void 0===(n=function(e,t,i,s){"use strict";var n=s.applicationContext;return Backbone.View.extend({events:{"click .online-help-link":"onHelpClicked","click .action-button":"onClickOK"},template:_.template(t),initialize:function(){_.bindAll(this,"render")},onHelpClicked:function(e){var t=e.currentTarget.name;return n.helpNavigationService.showHelp({id:t}),!1},getRenderParams:function(t,s){var n=_.isArray(s)?s[0]:s;return{subHeader:sprintf(i.subHeading[n],e.searchJSON.load_help),examples:i.examples[n],__:e.searchJSON}},initDialog:function(){var t=this,i={title:e.searchJSON.load_title,appendTo:"#sumoapp-dialogs-container",autoOpen:!1,modal:!0,resizable:!1,position:{my:"center top",at:"center top+100"},width:570,minHeight:100,dialogClass:"search-load-dialog",close:function(){t.dialog&&t.dialog.dialog("destroy").remove()}};this.dialog=this.$el.dialog(i),this.delegateEvents()},onClickOK:function(){this.dialog.dialog("close")},render:function(e,t){return this.initDialog(),this.$el.html(this.template(this.getRenderParams(e,t))),this.dialog.dialog("open"),this.dialog.dialog("option","height","auto"),this},destroy:function(){SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},69189:function(e,t,i){var s,n;s=[i(60567),i(16471),i(50963),i(50563)],void 0===(n=function(e,t,i,s){var n=s.applicationContext;return e.SumoModel.extend({mixins:[e.GetterSetterMixin],defaults:{queryString:""},initialize:function(e){this.subscribeToSync(e.viewId)},subscribeToSync:function(e){var s=[t.SLICE_NAME,"logQueries","search_"+e].join(".");this.disposeReduxBackboneSync=i.reduxBackboneSyncMultiple(Backbone,n.store,s,this,["queryString"])},destroy:function(){this.disposeReduxBackboneSync()}})}.apply(t,s))||(e.exports=n)},14430:function(e,t,i){var s,n;s=[i(60567),i(34074),i(50563),i(5013),i(51901)],void 0===(n=function(e,t,i,s,n){var a=t.SearchQueryDataModule,r=(i.applicationContext,e.HistogramModelModule),o=e.HistogramViewModule;s=s.searchPerformanceService;var l=n.SearchPerformanceMetrics;return Backbone.View.extend({height:120,initialize:function(){_.bindAll(this,"render","resetAndRender","onBarClick","onRunHistogramSelection"),this.listenTo(this.model,"change:histogramUpdated",this.resetAndRender),$("#search-query-histogram-reduced").on("runHistogramSelection",this.onRunHistogramSelection);var e=this.$el.attr("id");this.histogramModel=new r({elId:e,bSearchBehavior:!0}),this.histogramView=new o({model:this.histogramModel}),this.listenTo(this.histogramModel,"change:selectedRange",this.filterMessages),this.render()},destroy:function(){this.histogramView.destroy(),SumoUtil.destroyView(this)},isDoneGathering:function(e){return this.model.isDoneGathering(e)},isDoneGatheringHistogram:function(e){return this.model.isDoneGatheringHistogram(e)},isPaused:function(e){return this.model.isPaused(e)},resetAndRender:function(){this.histogramView.destroy(),this.render()},onResize:function(){this.render()},render:function(){var e=this.model.get("histogram");if(e&&!(e.length<1))return e&&(this.histogramModel.set({buckets:e,height:this.height,displayStartMillis:this.model.get("displayStartMillis"),displayEndMillis:this.model.get("displayEndMillis"),startMillis:this.model.get("startMillis"),endMillis:this.model.get("endMillis"),useBucketsToDetermineTimeRange:this.model.get("isAllTIme"),status:this.model.get("status"),selectedRange:this.model.get("selectedRange"),fnContext:this,isDoneGathering:this.isDoneGathering,isDoneGatheringHistogram:this.isDoneGatheringHistogram,isPaused:this.isPaused,onBarClick:this.onBarClick}),this.histogramView.render()),this},onRunHistogramSelection:function(e,t){var i=this.model.getSearchByReceiptTime()||!1,s=SumoUtil.formatTimeRangeText(t.from,t.to,!0),n=this.model,r=n.getSearchExpression(),o=new a;o.setQueryString(r),o.setParameters(n.getParameterModel().getParameters()),o.setStartTimestamp(t.from),o.setEndTimestamp(t.to),o.setSearchByReceiptTime(i),o.setAutoParsingInfo(this.model.getAutoParsingInfo()),o.setExecuteSearch(!0),o.setTimeRange(s),o.setMonitorObject({logsQueryMode:n.getSaveSearchSettings().getLogsQueryMode()}),SumoUtil.searchDrilldownTrigger(o,"search-tabs-view"),SumoUtil.trackEvent("Histogram Selection Drilldown")},onBarClick:function(e,t){s.start({id:"onBarClick",metric:l.HistogramBarClickProcessing,skipSli:!0});var i=this.model.getSearchViewSettingsModel().getShowRecentMessagesFirst();if(i||!this.model.isGathering()){for(var n=0,a=e.length,r=0;r<a;r++){var o=e[r].startTimestamp;(i&&o>t.s||!i&&o<t.s)&&(n+=e[r].count)}s.measureOnce({id:"onBarClick",metric:l.HistogramBarClickProcessing,skipSli:!0}),this.model.set({displayMessageOffset:n})}},filterMessages:function(){var e=this.histogramModel.getSelectedRange();this.model.setSelectedRange(e),SumoUtil.trackEvent("Histogram Selected")}})}.apply(t,s))||(e.exports=n)},57299:function(e,t,i){var s,n;s=[i(16471),i(63205),i(86795),i(28215),i(76993),i(69189),i(50963),i(22443),i(34074),i(43907),i(11717),i(50563),i(92019),i(29338),i(73166),i(40689),i(5013),i(51901),i(67010),i(60567),i(66359),i(88097),i(93916),i(41642),i(6930),i(45938)],void 0===(n=function(e,t,s,n,a,r,o,l,d,c,u,h,g,p,m,f,S,v,w,b,y,T,E,C,A,M){"use strict";const{SearchQueryUtil:I}=s;var R=d.SearchQueryDataModule,P=h.applicationContext,D=t.TimerangeUtil,x=t.PollRequestModel,N=b.SumoModel,U=b.GetterSetterMixin,V=i(16367).Heimdall;m=m.default,S=S.searchPerformanceService;var L=v.SearchPerformanceMetrics,O=b.SearchUtils,k=b.libraryActionsService,F=b.contentSearchService,z=y.currentUserHelper,H=o.i18nUtil,B=b.contentLoggingNotificationService;return N.extend(Object.assign({},m,{mixins:[U],RETRY_POLL_MAX:3,FacetsTabType:{FIELDS:"fields"},ResultsTabType:{MESSAGES:"messages",AGGREGATES:"aggregates",SUMMARIZE:"summarize"},userAssignedFieldNames:{TIME:"Time",MESSAGE:"Message"},searchActionTypes:{CAN_SUBSCRIBE:"CAN_SUBSCRIBE",CAN_UNSUBSCRIBE:"CAN_UNSUBSCRIBE",CAN_PUBLISH:"CAN_PUBLISH",CAN_UNPUBLISH:"CAN_UNPUBLISH",CAN_DELETE:"CAN_DELETE",CAN_RENAME:"CAN_RENAME",CAN_EDIT:"CAN_EDIT",CAN_MOVE:"CAN_MOVE",CAN_COPY:"CAN_COPY",NONE:"NONE"},searchTypes:{ST_NEW:1,ST_SAVED:2,ST_DRILLDOWN:3,ST_SAVED_EDITED:4},searchOwners:{SO_MINE:1,SO_OTHER:2},METRICAD_QUERY_KEYWORDS:["metricad"],SUMMARIZE_V1_PATTERN:/^(save|delta|\(\w+\)|field)/,SEARCH_RUNNING_TIMEOUT:12e4,MAX_CACHED_PAGES:10,disposeReduxBackboneSync:null,defaults:{pendingStartSearchQuery:null,createSearchStatus:0,searchType:1,searchActions:"NONE",searchOwner:null,contentLibraryId:null,searchViewSettingsModel:null,searchExpression:"",displaySearchExpression:"",searchQueryExpressionModel:null,timerangeText:"",timerangeDetails:[],displayTimerangeText:"",startMillis:-1,endMillis:-1,byReceiptTime:!1,accelerateSearch:!1,isAllTIme:!1,searchQueryId:null,savedSearchId:null,searchExportid:null,parseQueryResult:null,fromSavedSearch:!1,fromSavedSearchQueryString:null,savedSearch:{},isSavedSearchModified:!1,status:0,searchedTimeRange:null,histogram:[],histogramUpdated:null,rawCount:0,rawCountLastFetched:null,recordCount:0,recordCountLastFetched:null,searchQueryStartMillis:-1,searchQueryEndMillis:-1,displayStartMillis:-1,displayEndMillis:-1,displayRange:null,displayMessageOffset:-1,selectedRange:null,isError:!1,errorMessage:null,errorMessages:[],errorDetails:null,errorIndex:-1,warnings:null,messageLocatorsAndOffsets:null,subViewModels:null,savedSearchStatus:17,searchResultsTabSelection:null,drilldownMonitor:null,isDestroying:!1,keepAliveRequest:null,shortCode:null,searchByReceiptTimeDisabled:!1,isDetachable:!1,isPinned:!1,fields:null,facets:null,userAssignedFields:{},isFavorite:null,isDrilldown:!1,saveSearchSettings:null,drillDownParams:null,optimizationStatus:null,errorCount:0,searchReportedSlow:!0,closedWarnings:[],modelChanged:!1,performance:null,previousSearchQueryId:null,parameterModel:null,favoriteExternalUpdate:void 0,resetValuesToSavedSearch:void 0,dashboardDrilldownVersion:void 0,editedState:!1,prevPausedState:-1,autoParsingInfo:null,fromDirectURL:!1,isSaveExpression:void 0,ferList:[],openListMaps:{hidden:{},visible:{}},hideReceiptTime:!1,usageDetailsByTier:[],estimatedUsageDetails:{},estimatedUsageDetailsByTier:[],searchStateDirty:!1,infrequentPartitions:null,frequentPartitions:null,continuousPartitions:null,securityPartitions:null,drillDownFromPreviousSession:!1,timeElapsed:0,triggerSearch:!1,displayQueryInfrequentTier:"",displayQueryNonInfrequentTier:"",runningQueryInfrequentTier:"",displayMatchedDataTier:"",runningMatchedDataTier:"",timeRangeEditorV2Details:{},polling:!1,viewDestroyed:!1},getTimeRangeEditorV2Details:function(){return this.get("timeRangeEditorV2Details")},setTimeRangeEditorV2Details:function(e){this.set("timeRangeEditorV2Details",e)},getTriggerSearch:function(){return this.get("triggerSearch")},setTriggerSearch:function(e){this.set("triggerSearch",e)},getEditedState:function(){return this.get("editedState")},setEditedState:function(e){return this.set("editedState",e)},getSearchStateDirty:function(){return this.get("searchStateDirty")},setSearchStateDirty:function(e){this.set("searchStateDirty",e)},getResetValuesToSavedSearch:function(){return this.get("resetValuesToSavedSearch")},setResetValuesToSavedSearch:function(e){this.set("resetValuesToSavedSearch",e)},getAutoParsingInfo:function(){return this.get("autoParsingInfo")},setAutoParsingInfo:function(e){this.set({autoParsingInfo:e})},getFromDirectURL:function(){return this.get("fromDirectURL")},setFromDirectURL:function(e){this.set("fromDirectURL",e)},getIsSaveExpression:function(){return this.get("isSaveExpression")},setIsSaveExpression:function(e){this.set("isSaveExpression",e)},getFields:function(){return this.get("fields")},setFields:function(e){this.set({fields:e})},getParameterModel:function(){return this.get("parameterModel")},setParameterModel:function(e){this.set({parameterModel:e})},getSearchQueryExpressionModel:function(){return this.get("searchQueryExpressionModel")},setSearchQueryExpressionModel:function(e){this.set({searchQueryExpressionModel:e})},getPerformance:function(){return this.get("performance")},setPerformance:function(e){this.set({performance:e})},getFacets:function(){return this.get("facets")},setFacets:function(e){this.set({facets:e})},setViewDestroyed:function(e){this.set({viewDestroyed:e})},getViewDestroyed:function(){return this.get("viewDestroyed")},getOpenListMaps:function(){return this.get("openListMaps")},setOpenListMaps:function(e){this.set({openListMaps:e})},dispatchScannedSizeData:function(e){P.store.dispatch(u.updateScannedData({id:"search_"+this.getUniqId(),scannedSize:e}))},setEstimatedUsageDetails:function(e){this.set({estimatedUsageDetails:e});var t=e&&e.dataScannedInBytes;this.dispatchScannedSizeData(_.isUndefined(t)?{type:"none"}:{type:"estimate",estimatedScannedSizeInBytes:t})},setEstimatedUsageDetailsByTier:function(t){this.set({estimatedUsageDetailsByTier:t});var i=t.find((function(t){return t.tier.toLowerCase()===e.TIER.INFREQUENT}));this.dispatchScannedSizeData(_.isArray(t)&&0!==t.length&&i?{type:"estimate",estimatedScannedSizeInBytes:i.dataScannedInBytes,estimatedScannedByTier:t}:{type:"none"})},setUsageDetailsByTier:function(t){if(this.set({usageDetailsByTier:t}),_.isArray(t)&&t.length){var i=t.find((function(t){return t.tier.toLowerCase()===e.TIER.INFREQUENT}));if(i){var s={type:"total",scannedSizeInBytes:i.dataScannedInBytes,scannedSizeByTier:t};(this.isDoneGathering()||this.isCancelled()||this.isErrorStatus())&&(s.estimatedScannedSizeInBytes=s.scannedSizeInBytes),this.dispatchScannedSizeData(s)}}},favoriteExternalUpdate:function(e){this.set("isFavorite",e),this.set("favoriteExternalUpdate",Date.now())},getSearchResultSettingsObject:function(e){var t={};if(e)try{t=JSON.parse(e)}catch(e){t={}}return t},updateSavedUserDisplayedFieldNames:function(e,t){if(!e||!e.length)return e;var i=!1;return e.forEach((e=>{!i&&t.find((t=>t.name===e))&&(i=!0)})),i?e:[]},refreshUserAssignedFields:function(){if(this.isCancelled()||this.isNotStarted()||this.isErrorStatus())this.set("userAssignedFields",{});else{var e=this.shouldShowSummaryView(),t=this.getFields(),i=this.getFacets(),s=new I,n=_.extend({},this.get("userAssignedFields")),a=P.currentUserHelper.hasFeatureFlag("UISearchShowIndexField"),r=_.filter(t,(function(e){return"_view"===e.name&&a?e:!s.isFieldBlacklisted(e)})),o=Object.keys(n),l=this.getSearchViewSettingsModel(),d=this.updateSavedUserDisplayedFieldNames(l.getUserAssignedFields(),r),c=!1;r.forEach((function(t){if(o.indexOf(t.name)<0){c=!0;var r=s.defaultFieldSettings(t.name);"_view"===t.name&&a&&(r={userReferenced:!1,nickname:"Index"}),d&&d.length&&(d.indexOf(t.name)>=0||t.userReferenced&&null==r.userReferenced?r.userReferenced=!0:r.userReferenced=!1),"_raw"===t.name&&e&&(r.userReferenced=!1);var l=_.extend({},{nickname:t.name,mute:!1},t,r);l.facet=i&&i[t.name]?i[t.name]:{cardinality:0},n[t.name]=l}})),c&&this.set("userAssignedFields",n)}},getOptimizationStatus:function(){return this.get("optimizationStatus")},setOptimizationStatus:function(e){this.set({optimizationStatus:e})},toggleAssignedFields:function(e){"string"==typeof e&&(e=[e]);var t=_.extend({},this.get("userAssignedFields")),i=Object.keys(t);e.forEach((function(e){if(i.indexOf(e)>=0){var s=t[e],n=_.extend({},s,{userReferenced:!s.userReferenced});t[e]=n}})),this.set("userAssignedFields",t),this.toggleAssignedFieldsSideEffects()},toggleAssignedFieldsSideEffects:function(){this.rememberUserAssignedFields()},rememberUserAssignedFields:function(){var e=this.getSearchViewSettingsModel(),t=this.getUserAssignedFields()[1].map((function(e){return e.name}));e.setUserAssignedFields(t)},getUserAssignedFields:function(e){var t=this.get("userAssignedFields"),i=this.getParseQueryResult(),s=i&&i.userReferencedFieldsSortable||e;return c.getUserAssignedFields(t,s)},loadSearchActions:function(){this.getSavedSearchId()&&this.ajax.call(this,{endpoint:sprintf(this.ajax.EndpointFormats.V1_CONTENT_LIBRARY_ITEM_ACTIONS,this.getSavedSearchId(),"search"),errorCode:"search_item_actions",success:function(e){var t=e.folderable,i={};i[t.type]=t;var s=b.contentConversionUtil.fromServiceResult(i);$.log("Sumo.Ui.Search.SearchQueryModel.loadSearchActions - success"),this.setSearchOwner(),this.setContentLibraryId(t.id),this.setSearchType(this.searchTypes.ST_SAVED),this.set("isFavorite",t.favorite),this.setSearchActions(b.contentTypeActionsService.getBackwardCompatibleActions(s,t.actions))},error:function(e,t,i,s){return $.log(sprintf("Sumo.Ui.Search.SearchQueryModel.loadSearchActions - ErrorMessage: %s",t)),this.setErrorMessage(t),this.setError(!0),!1}})},setHideReceiptTime:function(e){this.set({hideReceiptTime:e})},getHideReceiptTime:function(){return this.get("hideReceiptTime")},getClosedWarnings:function(){return this.get("closedWarnings")},resetClosedWarnings:function(){this.set("closedWarnings",[])},setSearchActions:function(e){this.set({searchActions:e})},getContentLibraryId:function(){return this.get("contentLibraryId")},setContentLibraryId:function(e){this.set({contentLibraryId:e})},setSearchOwner:function(){var e=this.getSavedSearch().ownersId===SumoApp.user.getId()?this.searchOwners.SO_MINE:this.searchOwners.SO_OTHER;this.set({searchOwner:e})},getSearchOwner:function(){return this.get("searchOwner")||this.setSearchOwner(),this.get("searchOwner")},getSearchType:function(){return this.get("searchType")},setSearchType:function(e){this.set({searchType:e})},isActionTypeNone:function(){return _.isEmpty(this.getSearchActions())},isPublishable:function(){return _.contains(this.getSearchActions(),this.searchActionTypes.CAN_PUBLISH)},isSubscribable:function(){return _.contains(this.getSearchActions(),this.searchActionTypes.CAN_SUBSCRIBE)},isUnsubscribable:function(){return _.contains(this.getSearchActions(),this.searchActionTypes.CAN_UNSUBSCRIBE)},getOwnedByCurrentUser:function(){return _.contains(this.getSearchActions(),this.searchActionTypes.CAN_EDIT)},getPendingStartSearchQuery:function(){return this.get("pendingStartSearchQuery")},setPendingStartSearchQuery:function(e){this.set({pendingStartSearchQuery:e})},getCreateSearchStatus:function(){return this.get("createSearchStatus")},setCreateSearchStatus:function(e){this.set({createSearchStatus:e})},getSearchViewSettingsModel:function(){return this.get("searchViewSettingsModel")},isBasicModeEditor:function(){var t=this.getSavedSearchSettingsModel(),i=t&&t.getLogsQueryMode();return!!O.isBasicModeEnabledForUser()&&(!!i&&i===e.QUERY_DISPLAY_MODE.BASIC)},getSearchExpression:function(){return this.isBasicModeEditor()?this.getSearchQueryExpressionModel().getQueryString():this.get("searchExpression")},setSearchExpression:function(e){if(!this.isBasicModeEditor())return this.set({searchExpression:e});this.getSearchQueryExpressionModel().setQueryString(e)},getSearchActions:function(){return this.get("searchActions")},getTimeSliceInterval:function(){return(new D).getTimesliceInterval(this.getSearchExpression())},getDisplaySearchExpression:function(){return this.isBasicModeEditor()&&void 0!==this.getSearchQueryExpressionModel().getQueryString()&&null!==this.getSearchQueryExpressionModel().getQueryString()?this.getSearchQueryExpressionModel().getQueryString():this.get("displaySearchExpression")},setDisplaySearchExpression:function(e){return this.getSearchQueryExpressionModel().setQueryString(e),this.set({displaySearchExpression:e})},getDisplayTimerangeText:function(){return this.get("displayTimerangeText")},setDisplayTimerangeText:function(e){return this.set({displayTimerangeText:e})},isSummarizeV2Query:function(){var e=`${this.getSearchExpression()||""}`.trim().split(/\|\s*(summarize|logreduce|logcompare)/i);return e.length>1&&!this.SUMMARIZE_V1_PATTERN.test(e[1].trim())},isMetricADQuery:function(){return!1},getMetricADField:function(){var e=`${this.getSearchExpression()||""}`.trim().split(this.METRICAD_QUERY_KEYWORDS[0]);return`${`${e[e.length-1]||""}`.trim().split(" ")[0]||""}`.trim()},isSummarizeQuery:function(){return f.isSummarizeQuery(this.getParseQueryResult())},isSummarizeDeltaQuery:function(){var e=`${this.getSearchExpression()||""}`.trim();return!((e=SumoUtil.stripQuery(e)).length<2)&&(-1!==e.indexOf("|")&&new RegExp(/\|\s*(summarize\s+delta|logcompare)/gi).test(e))},isSummarizeDrillDownQuery:function(){if(this.isSummarizeQuery()){var e=`${this.getSearchExpression()||""}`.trim();if((e=SumoUtil.stripQuery(e)).length<2)return!1;if(-1===e.indexOf("|"))return!1;return new RegExp("\\|\\s*details ","ig").test(e)}return!1},shouldCheckRawCount:function(){return f.shouldCheckRawCount(this.getParseQueryResult())},getBoundary:function(){return f.getBoundary(this.getParseQueryResult(),this.getRawCount(),this.getRecordCount())},isAggregateQuery:function(){return f.isAggregateQuery(this.getParseQueryResult())},showCardinality:function(){return f.showCardinality(this.getParseQueryResult())},getFormattedFieldMapping:function(e){0==arguments.length&&(e=`${this.getSearchExpression()||""}`.trim());var t=new I;return t.getFormattedFieldMapping(e)},formatFieldsAndResults:function(e,t){var i=new I;try{i.formatFieldsAndResults(this.getFormattedFieldMapping(),e,t)}catch(e){$.logError("Sumo.Ui.Search.SearchQueryModel.formatFieldsAndResults  - Unable to update formatted fields.  Error: %s",e)}},getIsSavedSearchModified:function(){return this.get("isSavedSearchModified")},setIsSearchModified:function(e){e=e||this.isSavedSearchModeChanged();var t=this.getSavedSearch();_.isEmpty(t)||this.set({isSavedSearchModified:e}),this.set({isSearchModified:e})},isSavedSearchModeChanged:function(){var e,t=this.getSavedSearch();try{e=JSON.parse(t.properties)}catch(t){e={}}return!!e.logsQueryMode&&e.logsQueryMode!==this.getSavedSearchSettingsModel().getLogsQueryMode()},getIsSearchModified:function(){return this.get("isSearchModified")},getFromSavedSearch:function(){return this.get("fromSavedSearch")},setFromSavedSearch:function(e){this.set({fromSavedSearch:e})},getFromSavedSearchQueryString:function(){return this.get("fromSavedSearchQueryString")},setFromSavedSearchQueryString:function(e){this.set({fromSavedSearchQueryString:e})},getSavedSearch:function(){return this.get("savedSearch")},setSavedSearch:function(e){this.set({savedSearch:e}),e?this.loadSearchActions():(this.setSearchOwner(),this.setSearchActions([]),this.setSearchType(this.searchTypes.ST_NEW))},getStatus:function(){return this.get("status")},getTimeElapsed:function(){return this.get("timeElapsed")},getSearchedTimeRange:function(){return this.get("searchedTimeRange")},setSearchedTimeRange:function(e){this.set({searchedTimeRange:e})},setTimeElapsed:function(e){this.set({timeElapsed:e})},setStatus:function(e){this.set({status:e})},getTimerangeText:function(){return this.get("timerangeText")},getTimerangeDetails:function(){return this.get("timerangeDetails")},getImplicitTimerangeDetails:function(e){return e?JSON.stringify([{t:"absolute",d:this.getStartMillis()},{t:"absolute",d:this.getEndMillis()}]):this.getTimerangeDetails()},getSearchQueryId:function(){return this.get("searchQueryId")},getIsPinned:function(){return this.get("isPinned")},setSearchQueryId:function(e){this.set({searchQueryId:e})},getPreviousSearchQueryId:function(){return this.get("previousSearchQueryId")},getParseQueryResult:function(){return this.get("parseQueryResult")},getStartMillis:function(){return this.get("startMillis")},setStartMillis:function(e){this.set({startMillis:e})},getEndMillis:function(){return this.get("endMillis")},setEndMillis:function(e){this.set({endMillis:e})},getSavedSearchId:function(){return this.get("savedSearchId")},setSavedSearchId:function(e){return this.set({savedSearchId:e})},getSearchExportId:function(){return this.get("searchExportid")},setSearchExportId:function(e){return this.set({searchExportid:e})},getHistogramMessageCount:function(){return f.getHistogramMessageCount(this.get("histogram"))},getRawCount:function(){return this.get("rawCount")},getTotalMessageCount:function(){return f.getTotalMessageCount(this.get("histogram"),this.getRawCount())},hasMoreResults:function(){return this.getTotalMessageCount()>this.getRawCount()},getRecordCount:function(){return this.get("recordCount")},getSearchByReceiptTime:function(){return this.get("byReceiptTime")},setSearchByReceiptTime:function(e){this.set({byReceiptTime:e})},getAccelerateSearch:function(){return this.get("accelerateSearch")},setAccelerateSearch:function(e){this.set({accelerateSearch:e})},isError:function(){return this.get("isError")},setError:function(e){this.set({isError:e})},getErrorMessage:function(){return this.get("errorMessage")},setErrorMessage:function(e){return this.set({errorMessage:e,errorMessages:[{message:e,offset:null}]})},getErrorMessages:function(){return this.get("errorMessages")},setErrorMessages:function(e){this.set({errorMessages:e})},getParseErrorPositionIndicator:function(){return this.get("parseErrorPositionIndicator")},setParseErrorPositionIndicator:function(e){this.set({parseErrorPositionIndicator:e})},getErrorDetails:function(){return this.get("errorDetails")},setErrorDetails:function(e){this.set({errorDetails:e})},getErrorIndex:function(){return this.get("errorIndex")},setErrorIndex:function(e){this.set({errorIndex:e})},getErrorCount:function(){return this.get("errorCount")},setErrorCount:function(e){this.set("errorCount",e)},clearErrorCount:function(){this.setErrorCount(0)},incrementErrorCount:function(){this.setErrorCount(this.getErrorCount()+1)},getPolling:function(){return this.get("polling")},setPolling:function(e){this.set("polling",e)},registerError:function(e,t,i){this.set({errorMessage:e,errorDetails:t,status:this.STATUS_ERROR},{silent:!0}),i&&this.set({errorMessages:i})},getMessageLocatorsAndOffsets:function(){return this.get("messageLocatorsAndOffsets")},setMessageLocatorsAndOffsets:function(e){this.set({messageLocatorsAndOffsets:e})},getSubviewModel:function(e){return this.get("subViewModels")[e]},setSubviewModel:function(e,t){this.get("subViewModels")[e]=t},getSearchResultsTabSelection:function(){return this.get("searchResultsTabSelection")},setSearchFacetsTabSelection:function(e){this.set({searchFacetsTabSelection:e})},setSearchResultsTabSelection:function(e){this.set({searchResultsTabSelection:e})},getDrilldownMonitor:function(){return this.get("drilldownMonitor")},setDrilldownMonitor:function(e){this.set({drilldownMonitor:e})},syncDisplaySettings:function(e){var t=$.extend(e,{silent:!0});this.set(t)},isDestroying:function(){return this.get("isDestroying")},setIsDestroying:function(e){this.set({isDestroying:e})},getKeepAliveRequest:function(){return this.get("keepAliveRequest")},setKeepAliveRequest:function(e){this.set({keepAliveRequest:e})},getSearchByReceiptTimeDisabled:function(){return this.get("searchByReceiptTimeDisabled")},setSearchByReceiptTimeDisabled:function(e){this.set({searchByReceiptTimeDisabled:e})},getDetachable:function(){return this.get("isDetachable")},setDetachable:function(e){this.set({isDetachable:e})},getPinned:function(){return this.get("isPinned")},getDrilldown:function(){return this.get("isDrilldown")},isFavorite:function(){return this.get("isFavorite")},getSelectedRange:function(){return this.get("selectedRange")},setSelectedRange:function(e){this.set({selectedRange:e})},updateFavoriteStatus:function(e,t){var i=e?"POST":"DELETE",s=this.getSavedSearch().name;this.ajax.call(this,{endpoint:sprintf(this.ajax.EndpointFormats.V1_CONTENT_FAVORITE,this.getContentLibraryId()),type:i,errorCode:"search_favorite_query",success:function(i){T.showCasualNotification({message:b.getFavoriteNotification(SumoUtil.encode(s),e)}),this.set("isFavorite",e),t()},error:function(e,t,i,s){T.showCriticalNotification({message:t,autoDismiss:!0})}})},getDrillDownParams:function(){return this.get("drillDownParams")},setDrillDownParams:function(e){this.set("drillDownParams",e)},updateOpenSettingsOnParamCreationPref:function(e,t){if(!_.isUndefined(t)&&e!==t){var i=_.getPath(SumoApp,"user.userPreferencesModel"),s=i&&i.setOpenSettingsOnParamCreation;_.isFunction(s)&&s(t),_.isFunction(i.saveData)&&i.saveData(!0)}},setHistogramHideSetting:function(e){SumoApp.user.userPreferencesModel&&(SumoApp.user.userPreferencesModel.setIsHistogramHidden(e),SumoApp.user.userPreferencesModel.saveData(!0))},getHistogramHideSetting:function(){if(SumoApp.user.userPreferencesModel)return SumoApp.user.userPreferencesModel.getIsHistogramHidden()},destroy:function(e,t,i){if($.log("Sumo.Ui.Search.SearchQueryModel.destroy %s",this.cid),this.stopListening(),this.setIsDestroying(!0),this.stopPolling(),_.isNull(this.getKeepAliveRequest())||(this.getKeepAliveRequest().disable(),this.getKeepAliveRequest().clear(),this.setKeepAliveRequest(null)),e||(this.getSearchQueryExpressionModel()&&this.getSearchQueryExpressionModel().destroy(),this.getSavedSearchSettingsModel()&&this.getSavedSearchSettingsModel().destroy(),P.store.dispatch(g.cleanSearchState({id:this.getUniqId()}))),this.getSearchQueryId()&&this.getStatus()!==this.STATUS_NOT_STARTED&&this.getStatus()!==this.STATUS_CANCELLED&&(this.getDrilldown()||!this.getDetachable()&&!this.getPinned())){$.log("Sumo.Ui.Search.SearchQueryModel.destroy - Deleting query "+this.getSearchQueryId());var s=this.ajax.EndpointFormats.V2_SEARCH_DELETE_FORMAT;this.ajax.call(this,{endpoint:sprintf(s,this.getSearchQueryId()),errorCode:"search_delete",type:"GET",success:function(){$.log("Sumo.Ui.Search.SearchQueryModel.destroy - success"),this.set({searchQueryId:null}),this.statusUpdated(this.STATUS_CANCELLED,null,null)},error:function(e,t,i,s){if(200===e&&0===s.indexOf("Invalid session"))return $.log("Sumo.Ui.Search.SearchQueryModel.destroy - Skipping error for invalid session"),!1}})}else this.statusUpdated(this.STATUS_CANCELLED,null,null);this.disposeReduxBackboneSync&&this.disposeReduxBackboneSync();var n=e?t!==i?t:null:this.getSearchQueryId();n&&P.store.dispatch(P.entityDeleted("logSearch",n))},startPolling:function(e){$.log("Sumo.Ui.Search.SearchQueryModel.startPolling - searchQueryId: %s",this.getSearchQueryId());var t=this.getStatus();this.set({previousStatus:t}),this.set({status:e||this.NO_STATUS}),this.setPolling(!0),this.poll(1e3,this.getSearchQueryId())},shouldStopPolling:function(e){return this.isCancelled(e)||this.isDoneGathering(e)||this.isPaused(e)||this.isErrorStatus(e)},getMatchedInfrequentTier:function(e){return u.getMatchedInfrequentTier(e||this.getDisplaySearchExpression(),{infrequentPartitions:this.getInfrequentPartitions(),frequentPartitions:this.getFrequentPartitions(),continuousPartitions:this.getContinuousPartitions(),securityPartitions:this.getSecurityPartitions()})},getMatchedFrequentTier:function(e){return u.getMatchedFrequentTier(e||this.getDisplaySearchExpression(),{infrequentPartitions:this.getInfrequentPartitions(),frequentPartitions:this.getFrequentPartitions(),continuousPartitions:this.getContinuousPartitions()})},getMatchedNonInfrequentTier:function(e){return u.getMatchedNonInfrequentTier(e||this.getDisplaySearchExpression(),{infrequentPartitions:this.getInfrequentPartitions(),frequentPartitions:this.getFrequentPartitions(),continuousPartitions:this.getContinuousPartitions(),securityPartitions:this.getSecurityPartitions()})},extractMatchedDataTier:function(e,t){return u.extractMatchedDataTier(e||this.getDisplaySearchExpression(),t)},shouldShowSummaryView:function(){return f.shouldShowSummaryView({securityPartitions:this.getSecurityPartitions(),searchExpression:this.getSearchExpression()})},shouldRefetchEstimatedUsageDetails:function(e,t){e=e||this.getDisplaySearchExpression();var i=this.getMatchedInfrequentTier(e),s=this.getMatchedNonInfrequentTier(e),n=this.extractMatchedDataTier(e,!!i),a=e.match(/logcompare|compare|subquery/gi)&&(i||n),r=i!==this.getDisplayQueryInfrequentTier(),o=n!==this.getDisplayMatchedDataTier();!i&&!n||r||(r=s!==this.getDisplayQueryNonInfrequentTier());var l=!1,d=this.getTimeRangeEditorV2Details();return!i&&!n||!t||t.startTime===d.startTime&&t.endTime===d.endTime||(l=!0),r||o||a||l},setInfrequentTierForRunningQuery:function(){var e;if(P.currentUserHelper.hasFeatureFlag("UIScannedBytes")){e=this.getMatchedInfrequentTier();var t=this.getMatchedNonInfrequentTier();!e&&t?this.setRunningQueryInfrequentTier(t):this.setRunningQueryInfrequentTier(e)}var i=this.extractMatchedDataTier(this.getSearchExpression(),!!e);this.setRunningMatchedDataTier(i)},stopPolling:function(e){$.log("Sumo.Ui.Search.SearchQueryModel.stopPolling - stopping polling, sqid: %s",this.getSearchQueryId()),this.setPolling(!1)},poll:function(e,i){var s=P.currentUserHelper.hasFeatureFlag("UIScannedBytes");$.later(e,this,(function(){this.getPolling()&&this.getSearchQueryId()&&!this.isDestroying()?this.ajax.call(this,{endpoint:sprintf(this.ajax.EndpointFormats.V2_SEARCH_STATUS_FORMAT,i||this.getSearchQueryId()),errorCode:"search_status",retryLimit:10,timeout:this.SEARCH_RUNNING_TIMEOUT,success:function(e){if(this.clearErrorCount(),this.getPolling()){var n=e.searchQueryStatus;n.searchedTimeRange&&this.setSearchedTimeRange(n.searchedTimeRange);var a=n.pendingErrors;if(a&&a.length>0){var r=t.searchJSON.error_search_status_error;_.each(a,(function(e,i){if(e.indexOf("Invalid Timerange For Demo")>=0)return r=t.searchJSON.invalid_demo_range,!0;r+="  "+e})),this.setErrorMessage(r),this.setErrorMessages(n.pendingErrorObjects),this.statusUpdated(this.STATUS_ERROR,null,null),$.logInfo("Sumo.Ui.Search.SearchQueryModel.poll - Received error message(s): "+r)}else{this.statusUpdated(n.state,n.counts,n.buckets,n.pendingWarnings,n.performance,n.timeElapsed),s&&this.setUsageDetailsByTier(e.searchQueryStatus.usageDetailsByTier);var o=n.pendingMessageLocatorsAndOffsets;o&&o.length>0&&this.setMessageLocatorsAndOffsets(o),this.getPolling()&&this.poll(1e3,i||this.getSearchQueryId())}}},error:function(e,i,s,n){return 401===e?(this.incrementErrorCount(),this.getPolling()&&this.getErrorCount()<=this.RETRY_POLL_MAX?this.poll(1e3):(this.setErrorMessage(t.searchJSON.search_parse_error),this.setErrorDetails(t.searchJSON.search_parse_error),this.set({status:this.STATUS_ERROR}),this.stopPolling())):(this.setErrorMessage(i),this.setErrorDetails(s),this.set({status:this.STATUS_ERROR}),this.stopPolling()),!1}}):$.log("Sumo.Ui.Search.SearchQueryModel.poll - polling stopped before poll, sqid: %s",this.getSearchQueryId())}),null,!1)},statusUpdated:function(e,t,i,s,n,a){(this.set({previousStatus:this.getStatus()}),this.setTimeElapsed(a),this.setStatus(e),n&&this.attributes.autoParsingInfo&&"intelligent"===this.attributes.autoParsingInfo.mode&&(n.reasons=n.reasons.map((function(e){return"SCANNED_DATA"===e?"SCANNED_DATA_AUTO_PARSE":e}))),this.setPerformance(n),$.log("Sumo.Ui.Search.SearchQueryModel.statusUpdated - status: '%d'",e),this.shouldStopPolling(e)&&($.log("Sumo.Ui.Search.SearchQueryModel.statusUpdated - done polling"),this.stopPolling()),(this.isDoneGathering(e)||this.isCancelled(e)||this.isErrorStatus())&&this.get("searchQueryEndMillis")<0&&this.set({searchQueryEndMillis:$.now()}),this.isCancelled(e)||this.isErrorStatus())?this.isCancelled(e)&&(this.initializeHistogram(),this.set({rawCount:0,recordCount:0}),this.set({rawCountLastFetched:new Date,recordCountLastFetched:new Date})):(i&&i.length>0&&this.bucketsUpdated(i),this.isDoneGathering(e)&&this.set({histogramUpdated:$.now()}),this.countsUpdated(t),s&&(z.hasFeatureFlag("UISearchWarningsAndErrorView")?M.addWarnings(s,!1,this.getWarnings(),this.setWarnings.bind(this)):this.addWarnings(s)))},countsUpdated:function(e){var t=!1,i=!1,s={};if(e&&e.length>0){for(var n=0;n<e.length;n+=1){var a=e[n].count;if("number"==typeof a){var r=e[n].alias;"raw.count"===r?(t=!0,this.set({rawCount:a}),s.rawCountLastFetched=new Date):"query.count"===r&&(i=!0,s.recordCountLastFetched=new Date,this.set({recordCount:a}))}}this.set(s)}this.isDoneGathering()&&(t||this.set({rawCountLastFetched:new Date}),i||(this.isAggregateQuery()||this.isSummarizeQuery())&&this.set({recordCountLastFetched:new Date}))},getWarnings:function(){return this.get("warnings")},hasWarnings:function(){var e=this.getWarnings();return!!(e&&e.length>0)},setWarnings:function(e){this.set({warnings:e})},removeWarnings:function(){this.setWarnings([])},replaceWarning:function(e,t){var i='<a target="_blank" rel="noopener" href="https://help.sumologic.com?cid='+t+'">Learn More</a>';return e.indexOf("Learn More")>-1?e.replace("Learn More",i):e+" "+i},addWarnings:function(e,t){if(e&&0!==e.length){var i=this.getWarnings();(!i||i.length<1)&&(i=[]),"string"==typeof e&&(e=[e]),e=t?e:e.map((function(e){return SumoUtil.encode(e)}));var s=[{matchText:"Subquery reached the maximum memory limit. Some records will be truncated. Learn More",helpId:"11105"},{matchText:"Subquery returned more records than your current limit allows. Some records might be truncated. You can increase your limit. Learn More",helpId:"11105"},{matchText:"Values operator saw more than",helpId:"1508"}],n=this;e.forEach((function(t,i){s.forEach((function(s){t.indexOf(s.matchText)>-1&&(e[i]=n.replaceWarning(t,s.helpId))}))})),this.setWarnings(_.union(e,i))}},bucketsUpdated:function(e){$.log("Sumo.Ui.Search.SearchQueryModel.bucketsUpdated");for(var t=0;t<e.length;t+=1){var i=e[t],s=i.alias;"histogram"===s?i.buckets&&i.buckets.length>0&&this.updateHistogramBuckets(i.buckets):$.log("Sumo.Ui.Search.SearchQueryModel.bucketsUpdated - unknown alias: "+s)}},updateHistogramBuckets:function(e){var t=this.get("histogram");if(!_.isEqual(t,e)){for(var i=!1,s=0;s<e.length&&!1===i;s++)e[s].count>0&&(i=!0);var n=!1;for(s=0;s<t.length&&!1===n;s++)t[s].count>0&&(n=!0);i&&!n&&S.start({id:"histogram_rendering_"+this.getUniqId(),metric:L.HistogramRendering}),this.set({histogram:e,histogramUpdated:$.now()})}},initializeHistogram:function(){var e=[],t=6e4,i=this.get("endMillis")>0?this.get("endMillis"):$.now(),s=i-10*t;this.get("startMillis")&&this.get("startMillis")>s&&(t=(i-(s=this.get("startMillis")))/10);for(var n=0;n<10;n+=1){var a={count:0,length:t,startTimestamp:s+n*t};e.push(a)}this.set({histogram:e,histogramUpdated:$.now()})},statusToString:function(e){var t=e||this.getStatus();return t===this.STATUS_NOT_STARTED?"Not started":t===this.STATUS_GATHERING_RESULTS?"Gathering results":t===this.STATUS_GATHERING_SUBQUERIES_RESULTS?"Gathering results from Subqueries":t===this.STATUS_MANUALLY_PAUSED?"Manually paused":t===this.STATUS_FORCE_PAUSED?"Paused":t===this.STATUS_DONE_GATHERING_RESULTS?"Done gathering results":t===this.STATUS_CANCELLED?"Cancelled":t===this.STATUS_ERROR?"Error":"Unknown ("+t+")"},isAggregateSortable:function(){return this.getParseQueryResult().sortable},isGathering:function(e){var t=e||this.getStatus();return t===this.STATUS_GATHERING_RESULTS||t===this.STATUS_GATHERING_SUBQUERIES_RESULTS},isSubqueryInProgress:function(){return this.getStatus()===this.STATUS_GATHERING_SUBQUERIES_RESULTS},isDoneGatheringHistogram:function(e){return(e||this.getStatus())===this.STATUS_HISTOGRAM_COMPLETED},isDoneGathering:function(e){return(e||this.getStatus())===this.STATUS_DONE_GATHERING_RESULTS},isErrorStatus:function(e){return(e||this.getStatus())===this.STATUS_ERROR},isPaused:function(e){var t=e||this.getStatus();return t===this.STATUS_MANUALLY_PAUSED||t===this.STATUS_FORCE_PAUSED},isForcePaused:function(e){return(e||this.getStatus())===this.STATUS_FORCE_PAUSED},isCancelled:function(e){return(e||this.getStatus())===this.STATUS_CANCELLED},isNotStarted:function(e){return(e||this.getStatus())===this.STATUS_NOT_STARTED},isNoMoreUpdatesOnView:function(e){var t=e||this.getStatus(),i=this.get("previousStatus"),s=this.STOPPED_STATUSES,n=t===i&&s.indexOf(t)>=0&&s.indexOf(i)>=0;return!t||this.isNotStarted()&&!this.get("searchQueryId")||n},isStopped:function(e){var t=e||this.getStatus();return!t||this.STOPPED_STATUSES.indexOf(t)>=0},reattach:function(){$.log("Sumo.Ui.Search.SearchQueryModel.reattach");var e=this.getSearchQueryId();if(SumoUtil.isStringEmpty(e))$.log("Sumo.Ui.Search.SearchQueryModel.reattach. No previous query");else{var i=P.currentUserHelper.hasFeatureFlag("UIScannedBytes");if(i&&this.setInfrequentTierForRunningQuery(),this.isUnpinSearchTriggered)this.isUnpinSearchTriggered=!1;else{var s=this;this.ajax.call(this,{endpoint:sprintf(this.ajax.EndpointFormats.V2_SEARCH_STATUS_FORMAT,e),retryLimit:10,errorCode:"search_reattach",success:function(e){var n=e.searchQueryStatus;n.searchedTimeRange&&this.setSearchedTimeRange(n.searchedTimeRange);var a=n.pendingErrors;if(a&&a.length>0){var r=t.searchJSON.error_search_status_error;_.each(a,(function(e,i){if(e.indexOf("Invalid Timerange For Demo")>=0)return r=t.searchJSON.invalid_demo_range,!0;r+="  "+e})),this.setErrorMessage(r),this.statusUpdated(this.STATUS_ERROR,null,null),$.logInfo("Sumo.Ui.Search.SearchQueryModel.reattach - Received error message(s): "+r)}else{var o=n.state;switch($.log("Sumo.Ui.Search.SearchQueryModel.reattach. New State: "+o),o){case s.STATUS_ERROR:this.setErrorMessage(t.searchJSON.error_search_reattach),this.statusUpdated(this.STATUS_ERROR,null,null);break;case s.STATUS_CANCELLED:this.setErrorMessage(t.searchJSON.error_search_reattach_cancelled),this.statusUpdated(this.STATUS_ERROR,null,null);break;default:var l=(s.getPerformance()||{}).difficulty,d=l&&"UNKNOWN"!==l?s.getPerformance():n.performance;s.statusUpdated(n.state,n.counts,n.buckets,null,d,n.timeElapsed);var c=n.pendingMessageLocatorsAndOffsets;c&&c.length>0&&($.log("Sumo.Ui.Search.SearchQueryModel.reattach - target message found"),this.setMessageLocatorsAndOffsets(c)),this.shouldStopPolling(o)||(z.hasFeatureFlag("UISearchShowSpinnerOnTab")&&this.getPolling()||this.startPolling(o),s.setInfrequentTierForRunningQuery()),i&&this.setUsageDetailsByTier(n.usageDetailsByTier)}}},error:function(e,t,i,n){return this.setErrorMessage(t),this.setErrorDetails(i),s.statusUpdated(s.STATUS_ERROR,null,null),!1}})}}},reattachQuery:function(e){var t=this.getSearchQueryId(),i=this;SumoUtil.isStringEmpty(t)?e&&e():this.ajax.call(this,{endpoint:sprintf(this.ajax.EndpointFormats.V2_SEARCH_REATTACH_FORMAT,t),type:"POST",errorCode:"search_reattach_query",success:function(t){if(t.error)return e&&e({error:{instanceId:t.error.errorInstanceId,key:t.error.errorKey,message:t.error.errorMessage,keyedErrors:t.error.keyedErrors}});var s={parseQueryResult:t.parseQueryResult};i.set(s),i.getParameterModel().setParameters(t.parameters),i.subscribeToSync(),e&&e(t)},error:function(t){e&&e({error:t})}})},isUnpinSearchTriggered:null,pinQuery:function(t,i,s){var n=this.getSearchQueryId(),a=this.getIsPinned(),r=a?e.CONTENT_ACTION_TYPES.UNPIN:e.CONTENT_ACTION_TYPES.PIN;if(SumoUtil.isStringEmpty(n)&&t)t();else{var o=this;this.isUnpinSearchTriggered=a,k.runAction({actionType:r,event:null,params:{queryId:n,newName:s?s.name:void 0,isSubquery:this.isSubqueryInProgress()}},s).then((function(){o.set({isPinned:!a}),t&&t()}),(function(e){var t;i&&"cancel"!==e&&(t=e.keyedErrors?_.map(e.errors,(function(e){return e.message})).join("<br/>"):e.message,i(e.error,t,t,t))}))}},renameQuery:function(e,t,i){var s=this.getSearchQueryId();!SumoUtil.isStringEmpty(e)&&SumoUtil.isValidName(e)?SumoUtil.isStringEmpty(s)?t&&t():this.ajax.call(this,{endpoint:sprintf(this.ajax.EndpointFormats.V2_SEARCH_RENAME_FORMAT,s),type:"POST",data:{queryName:e},errorCode:"search_rename_query",success:function(e){t&&t()},error:function(){t&&t()}}):i&&i()},loadSavedSearchInstance:function(e,t){if(0==e.indexOf("@"))try{var i=e.match(/^@(.*?)@(.*)/),s=i[1].split(","),n=decodeURIComponent(i[2]);$.logInfo("Sumo.Ui.Search.SearchQueryModel.loadSavedSearchInstance - Query Info: startTimeRange="+s[0]+", endTimeRange="+s[1]+", query="+n);var a=new R;if(a.setQueryString(n),a.setExecuteSearch(!0),a.setFromDirectURL(!0),Number.isNaN(Number(s[0]))){var r=s[0]+" "+(s[1]||"");a.setTimeRange(r)}else{var o=parseInt(s[0])||"",l=parseInt(s[1])||$.now();a.setStartTimestamp(o),a.setEndTimestamp(l)}t(a)}catch(e){return $.logError("Sumo.Ui.Search.SearchQueryModel.loadSavedSearchInstance - error %s",e),this.setErrorMessage("The query URL wasn't able to be processed."),this.setErrorDetails(""),this.statusUpdated(this.STATUS_ERROR,null,null),!1}else{$.log("Sumo.Ui.Search.SearchQueryModel.loadSavedSearchInstance %s",e);var d=this;V.getPlugin("routeChangePerformance").waitFor("get saved search instance"),this.ajax.call(this,{endpoint:sprintf(this.ajax.EndpointFormats.V1_GET_SAVED_SEARCH_INSTANCE,e),errorCode:"search_load_instance",success:function(e){var i=new R(e.searchQuery);i.setParameters(e.parameters),i.setExecuteSearch(e.executeSearch),i.setSavedSearchQueryId(e.savedSearchId),i.setFromSavedSearch(e.fromSavedSearch),i.setSearchByReceiptTime(e.byReceiptTime),i.setAutoParsingInfo(e.autoParsingInfo),t(i,e.properties)},error:function(e,t,i,s){return this.setErrorMessage(t),this.setErrorDetails(i),d.statusUpdated(d.STATUS_ERROR,null,null),!1}})}},loadSavedSearchObject:function(e,t){$.log("Sumo.Ui.Search.SearchQueryModel.loadSavedSearchObject %s",e);var i=this;this.ajax.call(this,{endpoint:this.ajax.Endpoints.V1_GET_SAVED_SEARCH,errorCode:"search_load_instance",data:{searchId:e},success:function(e){t(e)},error:function(e,t,s,n){return this.setErrorMessage(t),this.setErrorDetails(s),i.statusUpdated(i.STATUS_ERROR,null,null),!1}})},keepAlive:function(){var e=this.getSearchQueryId();if(!_.isNull(e)&&!_.isUndefined(e)&&e){_.isNull(this.getKeepAliveRequest())||this.getKeepAliveRequest().disable();var t=new x({caller:this,delay:15e4,hash:{endpoint:sprintf(this.ajax.EndpointFormats.V2_SEARCH_VALID_FORMAT,this.getSearchQueryId()),errorCode:"search_status",isUserInitiated:!1,success:function(e){t&&t.disable()},error:function(e,i,s){t&&t.disable(),$.log("Sumo.Ui.Search.SearchQueryModel.keepAlive - error: '%s' '%s'",i,s)}},until:function(e){var t=this.getStatus();return t===this.STATUS_ERROR||t===this.STATUS_CANCELLED||t===this.STATUS_SAVED_SEARCH_SAVE_FAILED||t===this.STATUS_SAVED_SEARCH_QUERY_VALIDATION_FAILED}.bind(this)});this.setKeepAliveRequest(t)}},initializePartitionList:function(){var e=this;p.fetchPartitionsSwagger((function(t){var i=e.getInfrequentPartitions(),s=e.getContinuousPartitions();e.setInfrequentPartitions(i?[...i,...t.infrequentPartitions]:t.infrequentPartitions),e.setFrequentPartitions(t.frequentPartitions),e.setContinuousPartitions(s?[...s,...t.continuousPartitions]:t.continuousPartitions),e.setSecurityPartitions(t.securityPartitions)}),(function(){}))},initializeScheduledViewList:function(){var e=this;p.fetchScheduledViewSwagger((function(t){var i=e.getInfrequentPartitions(),s=e.getContinuousPartitions();e.setInfrequentPartitions(i?[...i,...t.infrequentSV]:t.infrequentSV),e.setContinuousPartitions(s?[...s,...t.continuousSV]:t.continuousSV)}),(function(){}))},fetchEstimatedScannedBytes:function(e,t){var i=l.convertTimeDetailsToBeginBoundedTimeRange(e),s={timezone:SumoApp.dateUtil.getDefaultTimeZone(),queryString:t,timeRange:i,runByReceiptTime:this.getSearchByReceiptTime()},n=this;p.fetchEstimatedUsageDetailsByTier(s,this.setEstimatedUsageDetailsByTier.bind(this),(function(){n.setEstimatedUsageDetailsByTier([])}))},validateSearchViewSettingsModel:function(){SumoApp.user.userPreferencesModel.getSearchResultSettings()&&!SumoApp.user.userPreferencesModel.searchSettingsLoaded&&this.getSearchViewSettingsModel().set(this.getSearchResultSettingsObject(SumoApp.user.userPreferencesModel.getSearchResultSettings()))},reinitSearchViewSettingsModel:function(){if(P.userHelperOverride.hasFeatureFlag("UISearchNonAggregateTable")||P.userHelperOverride.hasFeatureFlag("UISearchAggregateTable")||P.userHelperOverride.hasFeatureFlag("UISearchSummarizeTable")){var e=this.getSearchViewSettingsModel(),t=e.toJSON(),i=["aggregateResultsSettings","summarizeTableColumnState","nonAggTableFirstVisibleRowIndex","aggregateTableFirstVisibleRowIndex","rowDataState"],s={};for(var n in t)-1===i.indexOf(n)&&(s[n]=e.get(n));var a=new w(s);return a.setAggregateResultsSettingsModel(e.getAggregateResultsSettingsModel()),a}return this.getSearchViewSettingsModel()},initialize:function(){_.bindAll(this,"fetchEstimatedScannedBytes"),this.set("userAssignedFields",{}),this.getUniqId()||this.set("uniqId",(new Date).getTime()),$.log("Sumo.Ui.Search.SearchQueryModel.initialize"),this.currentUserHelper=P.currentUserHelper,this.resetCachedPages(),this.get("context")&&(this.context=this.get("context"),this.ajax=this.context.ajax),this.set({subViewModels:{}}),this.set({status:this.STATUS_NOT_STARTED}),!z.hasFeatureFlag("UIScannedBytes")&&!z.hasFeatureFlag("UISearchSummaryViewMessage")||this.getInfrequentPartitions()&&this.getFrequentPartitions()&&this.getContinuousPartitions()||(this.initializePartitionList(),z.hasFeatureFlag("UISearchSVInfrequentTier")&&this.initializeScheduledViewList());if(this.setAutoParsingInfo(this.getAutoParsingInfo()||{mode:"intelligent"}),this.initializeHistogram(),this.once("change:searchQueryId",this.keepAlive),!this.getParameterModel()){var e=new a({context:this.context});this.setParameterModel(e)}this.getSearchQueryExpressionModel()||this.setSearchQueryExpressionModel(new r({viewId:this.getUniqId()})),this.createSavedSearchSettingsModel();var t=this.getSavedSearchSettingsModel();this.listenTo(t,"change",this.setSavedSearchModelChangeStatus.bind(this,!0)),this.listenTo(SumoApp.sumoEvents,"userPreferencesLoaded",this.validateSearchViewSettingsModel.bind(this)),this.AUTO_PAUSE_RAW_RESULTS_LIMIT=SumoApp.priv.getDynamicProperty("ui_search_auto_pause_limit")||this.AUTO_PAUSE_RAW_RESULTS_LIMIT,!this.getSearchQueryExpressionModel()&&this.isBasicModeEditor()&&this.setSearchQueryExpressionModel(new r({viewId:this.getUniqId()}))},saveSearch:function(e,t){$.log("Sumo.Secure.Ui.Search.SearchQueryModel.saveSearch"),this.set({savedSearchStatus:this.STATUS_SAVED_SEARCH_SAVING}),_.isEmpty(e.schedules)||(delete e.schedules[0].friendlySchedule,delete e.schedules[0].alertType,delete e.schedules[0].runAt,delete e.schedules[0].dayOfWeek),delete e.query.timeRangeFriendly,!_.isNull(e.query.queryString)&&SumoUtil.isStringEmpty(e.query.queryString)&&(e.query.queryString="*"),this.validateQuery(e,t)},validateQuery:function(e,i){this.set({savedSearchStatus:this.STATUS_SAVED_SEARCH_QUERY_VALIDATING}),this.set({isError:!1,errorMessage:null,errorDetails:null,errorIndex:-1,silent:!0});var s=new I;if(!0===e.shared&&s.hasSideEffects(e.query.queryString))return this.setErrorMessage(t.searchJSON.query_cannot_be_shared_error),this.setError(!0),void this.set({savedSearchStatus:this.STATUS_SAVED_SEARCH_QUERY_VALIDATION_FAILED});var n={queryString:e.query.queryString};n.parameters=e.parameters||[],n.autoParsingInfo=e.autoParsingInfo,this.ajax.call(this,{endpoint:this.ajax.Endpoints.V2_SEARCH_PARSE_QUERY,errorCode:"cannot_parse_query",type:"POST",data:n,success:function(t){0==t.error&&null==t.errorMessage?(this.set({savedSearchStatus:this.STATUS_SAVED_SEARCH_QUERY_VALIDATED}),this.setError(!1),this.currentUserHelper.hasFeatureFlag("UIScheduledSearchDataAccessLevel")&&!_.isEmpty(e.schedules)?this.validateDataAccessLevel(e):this.persistToDb(e,!1,i)):i&&i.reject()},error:function(e,t,s,n,a){$.log("Secure.Ui.Search.SavedSearchEditModel.isValidQuery: '%s'",n);var r=_.isEmpty(n)?t:n;this.setErrorMessage(r),this.setErrorDetails(s),this.setError(!0),this.set({savedSearchStatus:this.STATUS_SAVED_SEARCH_QUERY_VALIDATION_FAILED}),this.setParseErrorPositionIndicator(a?a.parsedSubstring:null),i&&i.reject()}})},persistToDb:function(i,s,n){function a(e,t){this.setSavedSearch(e),this.setFromSavedSearch(!0),this.setError(!1),this.set({savedSearchStatus:t?this.STATUS_SAVED_SEARCH_SAVED:this.STATUS_SAVED_SEARCH_DISCARDED})}if(this.set({savedSearchStatus:this.STATUS_SAVED_SEARCH_SAVING}),this.set({isError:!1,errorMessage:null,errorDetails:null,errorIndex:-1,silent:!0}),!_.isEmpty(i.schedules))try{delete i.schedules[0].dayOfWeek,delete i.schedules[0].runAt,delete i.schedules[0].alertType,delete i.schedules[0].friendlySchedule}catch(e){}var r=this;this.ajax.call(this,{endpoint:this.ajax.Endpoints.V1_UPDATE_SAVED_SEARCH+(s?"?forceUpdate=true":""),errorCode:"saved_searches_save",type:"POST",data:i,success:function(e){null==e||e.error||(a.call(this,e.savedSearch,!0),n&&n.resolve())},error:function(s,o,l,d,c){if($.log("Sumo.Secure.Ui.Search.SavedSearchEditModel.updateSearch.error: %s",d),_.any(c.keyedErrors,(function(e){return"content1:permission_denied"===e.key})))P.currentUserHelper.hasFeatureFlag("UISearchPermissionConflictDialogReact")?E.createPermissionConflictDialog({type:e.CONTENT_TYPES.SAVED_SEARCH,editableItem:i,persistToDb:r.persistToDb}):P.runAsConflictHandlerService.showPermissionConflictDialog({type:e.CONTENT_TYPES.SAVED_SEARCH,referenceId:i.id},i).then((function(t){var s=t.actionType;if(s===e.CONTENT_ACTION_TYPES.RUN_AS){var n=_.first(t.items),a=_.first(i.schedules);a&&(a.runAsIdOverride=n.runAsIdOverride),B.logAndNotify(s,[n],t),r.persistToDb(i,!0)}}));else{var u=A.getConflictFromErrorResponse({errors:c.keyedErrors});u?C.createSearchConflictHandler({conflictActions:{onDiscard:function(){this.loadSavedSearchObject(this.getSavedSearchId(),a.bind(this))}.bind(this),onOverride:function(){this.persistToDb(i,!0)}.bind(this)},conflictProps:u}):d&&d.indexOf("Invalid Timerange For Demo")>=0?this.setErrorMessage(t.searchJSON.invalid_demo_range):(this.setErrorMessage(o),this.setErrorDetails(l),this.setError(!0),this.set({savedSearchStatus:this.STATUS_SAVED_SEARCH_SAVE_FAILED})),n&&n.reject(l||o)}}})},validateDataAccessLevel:function(t){var i=P.userService,s=this,n=parseInt(this.currentUserHelper.get().id,10);F.fetchContentItem(t.id).then((function(a){var r=a.runAsIdOverride;_.isNull(r)&&(r=a.creator.id),i.getUsers().then((function(){var a=i.getUserById(r),o=i.getUserById(n);i.compareFilterPredicatesForDataAccessWithSpecialCase(o,a)?s.persistToDb(t,!0):P.currentUserHelper.hasFeatureFlag("UISearchPermissionConflictDialogReact")?E.createPermissionConflictDialog({type:e.CONTENT_TYPES.SAVED_SEARCH,editableItem:t,persistToDb:s.persistToDb}):P.runAsConflictHandlerService.showPermissionConflictDialog({type:e.CONTENT_TYPES.SAVED_SEARCH,referenceId:t.id},t).then((function(i){var n=i.actionType;if(n===e.CONTENT_ACTION_TYPES.RUN_AS){var a=_.first(i.items),r=_.first(t.schedules);r&&(r.runAsIdOverride=a.runAsIdOverride),B.logAndNotify(n,[a],i),s.persistToDb(t,!0)}}))}))}))},getUniqId:function(){return this.get("uniqId")},getSavedSearchSettingsModel:function(){return this.get("saveSearchSettings")},setSavedSearchModelChangeStatus:function(e){this.set("modelChanged",e)},hasSavedSearchModelChanged:function(){return this.get("modelChanged")},createSavedSearchSettingsModel:function(){var e=this.getSavedSearchSettingsModel();if(!(e&&e.has&&e.has("viewId"))){var t=new n({viewId:this.getUniqId(),logsQueryMode:e&&e.logsQueryMode});this.set("saveSearchSettings",t)}},createShortCode:function(e,t){var i=this.getSavedSearchSettingsModel();if(!this.get("shortCode")||this.isAggregateQuery()&&this.hasSavedSearchModelChanged()){var s=i.getParsedJSONAttributes(),n=this.getSearchQueryId(),a=sprintf(this.ajax.EndpointFormats.V2_CREATE_SHORT_CODE,n),r={properties:s};this.ajax.call(this,{type:"POST",endpoint:a,data:r,errorCode:"search_rename_query",success:function(t){t.shortCode&&this.set("shortCode",t.shortCode),this.setSavedSearchModelChangeStatus(!1),e&&e()},error:function(){t&&t()}})}else e&&e()},save:function(e,i){var s=SumoApp.dateUtil.getDefaultTimeZone(),n=_.isUndefined(s)?"Etc/UTC":s;this.set({isError:!1,errorMessage:null,errorDetails:null,errorIndex:-1,silent:!0}),i||(i={});var a,r,o,l,d=i.success,c=i.error,u=i.parseError;if(this.getSearchQueryId())a=sprintf(this.ajax.EndpointFormats.V2_SEARCH_DERIVE_FORMAT,this.getSearchQueryId()),r="GET",o="search_derive",l={queryString:`${this.getSearchExpression()||""}`.trim()};else{a=this.ajax.Endpoints.V2_SEARCH_CREATE,r="POST",o="search_create";var h=this.get("isAllTIme"),g=this.getSavedSearch()?this.getSavedSearch().id:0,p=this.getTimerangeText(),m=null,f=[];if(e&&(e.searchName&&SumoUtil.isValidName(e.searchName)&&(m=e.searchName),e.messageLocators))for(var S=e.messageLocators,v=0;v<S.length;v++){var w=S[v];f.push(w.blockId+","+w.messageId)}var b="-1";f.length>0&&(b=f.join("|"));var y=this.get("startMillis"),T=this.get("endMillis");(l={queryString:this.getSearchExpression(),startMillis:h?0:y,endMillis:T,byReceiptTime:this.getSearchByReceiptTime(),timeZone:n,autoPauseCount:this.AUTO_PAUSE_RAW_RESULTS_LIMIT,isAllTime:h,fromSavedSearch:this.getFromSavedSearch()&&!this.getIsSavedSearchModified(),savedSearchId:g,messageLocators:b,timeRange:p,nameOverride:m,parameters:e.parameters||[]}).autoParsingInfo=this.getAutoParsingInfo()}this.setCreateSearchStatus(this.STATUS_CREATE_IN_PROGRESS),this.ajax.call(this,{type:r,endpoint:a,errorCode:o,logDuration:!0,data:l,success:function(e){$.log("Sumo.Ui.Search.SearchQueryModel.save - success, session: %s:",e.searchQueryId);var t={searchQueryId:e.searchQueryId,parseQueryResult:e.parseQueryResult,searchQueryStartMillis:$.now()};this.set(t),this.setCreateSearchStatus(this.STATUS_CREATE_SUCCESS);var i=this.getDrilldownMonitor();i&&i.queryString==this.getSearchExpression()&&$.logInfo("Sumo.Ui.Search - Search [%s] created from monitor [%s]",e.searchQueryId,i.id),this.subscribeToSync(),d&&d(this)},error:function(e,i,s,n,a){return n=n.toString(),$.log("Sumo.Ui.Search.SearchQueryModel.save - error: '%s'",n),a&&a.parseQueryResult&&a.parseQueryResult.error&&(this.setErrorMessage(a.parseQueryResult.errorMessage),this.setErrorMessages(a.parseQueryResult.pendingErrorObjects),this.setCreateSearchStatus(this.STATUS_CREATE_PARSE_ERROR),this.setParseErrorPositionIndicator(a.parseQueryResult.parsedSubstring),u)?(u(this),!1):(n&&n.indexOf("Invalid Timerange For Demo")>=0?this.setErrorMessage(t.searchJSON.invalid_demo_range):n&&n.indexOf("Query Range too long")>=0?this.setErrorMessage(t.searchJSON.time_range_too_long):(this.setErrorMessage(i),this.setErrorDetails(s)),this.setError(!0),this.statusUpdated(this.STATUS_ERROR,null,null),this.setCreateSearchStatus(this.STATUS_CREATE_ERROR),c&&c(this),!1)}})},resetCachedPages:function(){this.set({cachedPages:[],pagedMessages:{}})},setPagedMessages:function(e,t){var i=this.get("cachedPages"),s=this.get("pagedMessages");if(-1===i.indexOf(t)){if(i.length===this.MAX_CACHED_PAGES){for(var n=0,a=i[n],r=Math.floor(this.MAX_CACHED_PAGES/2)-1;Math.abs(a-t)<r;)a=i[++n];i.splice(n,1),s[a]=[]}i.push(t)}s[t]=e},getOpenMonitorEditorWarning:function(){this.attributes.autoParsingInfo.mode;let e=this.get("byReceiptTime"),t=[],i=this.getParameterModel().getParameters();return e&&t.push({type:"warning",message:H.get("library.searchByReceiptModeUnsupported")}),i.length&&t.push({type:"warning",message:H.get("library.searchTemplatesUnsupported")}),t},subscribeToSync:function(){this.disposeReduxBackboneSync&&this.disposeReduxBackboneSync();var t=this.getSearchQueryId();if(t){var i=e.REDUX_BACKBONE_SYNC_SLICE_BASE_PATH+t;this.disposeReduxBackboneSync=o.reduxBackboneSyncMultiple(Backbone,P.store,i,this,e.SEARCH_QUERY_MODEL_ATTRIBUTES_TO_SYNC_WITH_REDUX)}},updateSavedSearchFromContentItem:function(e){return P.contentManagementServiceFactory.getInstance().getService(e.type).fetch(e).then((e=>(_.isUndefined(e)||_.isEmpty(e)||_.isEmpty(e.query)||(this.setFromSavedSearch(!0),this.setFromSavedSearchQueryString(e.query.queryString),this.setSavedSearch(e),this.setIsSearchModified(!1)),e)))}}))}.apply(t,s))||(e.exports=n)},92025:function(e,t,i){var s,n;s=[i(50339),i(63205),i(86795),i(50963),i(50563),i(34074),i(16471),i(77058)],void 0===(n=function(e,t,i,s,n,a,r,o){"use strict";const{SearchQueryUtil:l}=i;var d=n.applicationContext,c=a.SearchUtils;return Backbone.View.extend({events:{},template:_.template(e),LOADING_STATUS:"loading",initialize:function(e){$.log("Sumo.Ui.Search.SearchQueryStatsInfoView.initialize (%s)",this.cid),_.bindAll(this,"render","getErrorMessageAndDetails","updateShortCode"),this.elapsedTime=e.elapsedTime,this.render()},getErrorMessageAndDetails:function(){var e=t.searchJSON.text_none;return this.model.get("status")===this.model.STATUS_ERROR&&(_.isEmpty(this.model.getErrorMessages())?this.model.getErrorMessage()&&(e=this.model.getErrorMessage()):(e="",this.model.getErrorMessages().forEach((function(t){e+=t.message})))),e.replace(/<div class="[^"]*">/gi,"").replace(/<\/div>/gi,"").replace("<br>","\n")},getScannedBytesByTier:function(e){var t=e.getUsageDetailsByTier();return t&&t.length>1?c.reduceUsageDetailsByTier(t,r.TIER.INFREQUENT):""},getTotalScannedBytes:function(e){var t=e.getUsageDetailsByTier();return t&&t.length?s.getUsageDetailsValue(t.reduce((function(e,t){return e+=t.dataScannedInBytes}),0)):""},render:function(){$.log("Sumo.Ui.Search.SearchQueryStatsInfoView.render (%s)",this.cid);var e=d.currentUserHelper.hasFeatureFlag("UIScannedBytes"),i=new l,s=this.model.getSearchExpression(),n=this.model.getRawCount(),a=this.model.getTotalMessageCount(),r=a&&a>0?SumoUtil.formatNumber(a):t.searchJSON.text_none,c=(n&&n>0?SumoUtil.formatNumber(n):t.searchJSON.text_none,SumoApp.dateUtil.formatDateTime()),u=this.model.get("shortCode")||this.LOADING_STATUS,h=e?this.getTotalScannedBytes(this.model):"",g={__:t.searchJSON,searchQueryId:this.model.getSearchQueryId(),searchExpression:s,timerangeText:this.model.getTimerangeText(),searchQueryStartedAt:c(this.model.get("searchQueryStartMillis")),labelScannedBytes:e?i.getScannedBytesLabel(this.model.getStatus(),{fromDetailedView:!0}):"",scannedBytes:h,scannedBytesByTier:e?this.getScannedBytesByTier(this.model):"",status:i.getStatusText(this.model.getStatus(),e),errorMessage:this.getErrorMessageAndDetails(),messageCount:r,startMillis:this.model.get("startMillis"),startTimestampString:c(this.model.get("startMillis")),endMillis:this.model.get("endMillis"),endTimestampString:c(this.model.get("endMillis")),runtimeMillis:SumoUtil.formatMillis(this.elapsedTime||0),browserTimeZone:SumoApp.dateUtil.getDefaultTimeZone(),searchShortCode:u,optimizationStatus:this.model.getOptimizationStatus(),hideStats:this.model.isErrorStatus()&&!this.model.isGathering(this.model.get("previousStatus")),metaDataTestAttribute:o.SEARCH_RESULTS_METADATA_TEST_ATTRIBUTES};u===this.LOADING_STATUS&&this.model.createShortCode(this.updateShortCode);var p=this.template(g);return this.$el.html(p),this},updateShortCode:function(){var e="_code="+this.model.get("shortCode");this.$(".stat-short-code").html(e)},destroy:function(){$.log("Sumo.Ui.Search.SearchQueryStatsInfoView.destroy (%s)",this.cid),SumoUtil.destroyView(this)}})}.apply(t,s))||(e.exports=n)},92402:function(e,t,i){var s,n;s=[i(27297),i(25037),i(92025),i(42532),i(60567),i(86795),i(50168),i(29338),i(63205),i(50563),i(34074),i(16471)],void 0===(n=function(e,t,i,s,n,a,r,o,l,d,c,u){var h=d.applicationContext,g=n.HistogramBuilderModule,p=c.SearchUtils;const{SearchQueryUtil:m}=a;return Backbone.View.extend({events:{queryStatistics:"onQueryStatsClick","click .search-query-stats-details":"onQueryStatsClick","click .load-indicator":"onPerformanceClick"},template:_.template(e),searchQueryStatusDataTemplate:_.template(t),searchQueryUtil:null,elapsedTime:0,showLoad:!1,onResize:function(){this.resized=!0,this.onUpdate()},onPerformanceClick:function(e){if(e.stopPropagation(),this.model.getSearchQueryId()&&this.isBadQuery){var t=this.$(".load-indicator");t.hasClass("tooltipstered")&&t.tooltipster("hide"),this.performanceDialogView||(this.performanceDialogView=new s),this.performanceDialogView.render(this.difficulty,this.loadReason),$.logInfo("Sumo.Ui.Load.Clicked. Id:"+this.uniqueId)}},onQueryStatsClick:function(e){if(this.model.getSearchQueryId()){var t=null,s={title:l.searchJSON.search_details_title,appendTo:"#sumoapp-dialogs-container",autoOpen:!1,modal:!0,resizable:!1,position:{my:"center top",at:"center top+100"},width:645,minHeight:100,close:function(){t&&(t.destroy(),t=null),a.dialog("destroy").remove()}},n="search-stats-info-dialog",a=$("<div id='"+n+"'></div>").dialog(s);t=new i({context:this.options.context,model:this.model,elapsedTime:this.elapsedTime,el:$("#"+n)}),a.dialog("open"),a.dialog("option","height","auto"),e.preventDefault(),e.stopPropagation()}},getStatusClasses:function(){if(this.model.isErrorStatus())return"icon icon--exclamation-triangle error";var e=this.model.hasWarnings();return this.model.isPaused()?e?"icon icon--pause warning":"icon icon--pause":this.model.isStopped()?null:e?"spinner -small is-visible warning":"spinner -small is-visible"},onStatusChange:function(){this.model.isErrorStatus()?$("#search-view").trigger("error",{errorDetails:this.model.getErrorDetails(),errorMessages:this.model.getErrorMessages(),errorMessage:this.model.getErrorMessage()}):(this.updateTimer(),this.onUpdate())},updateTimer:function(){this.elapsedTime=this.elapsedTime||this.model.getTimeElapsed(),this.model.isGathering()&&this.updateElapsedTime()},clearTimeElapsedTimer:function(){clearTimeout(this.timer)},updateElapsedTime:function(){var e=SumoUtil.formatMillis(this.elapsedTime);this.$("#elapsedTime").html(e);var t=this.model.get("status");if(this.model.isGathering(t)){var i=this;this.timer=setTimeout((function(){i.elapsedTime+=1e3,i.updateElapsedTime()}),1e3)}},getUsageDetailsLabelByTier:function(e,t,i,s){return i?l.searchJSON.estimated_infrequent_scan:s?t.getScannedBytesLabel(this.model.getStatus()):void 0},getUsageDetailsValueByTier:function(e,t,i){if(t)var s=e.getEstimatedUsageDetailsByTier();else if(i)s=e.getUsageDetailsByTier();return p.reduceUsageDetailsByTier(s,u.TIER.INFREQUENT)},getTemplateArguments:function(){var e,t,i,s=this.model,n=!s.isSummarizeDrillDownQuery(),a=this.searchQueryUtil,d=s.getTotalMessageCount(),c=h.currentUserHelper.hasFeatureFlag("UIScannedBytes"),u=a?a.getStatusText(this.model.getStatus(),c):void 0,g=c&&o.shouldShowEstimatedScannedBytes({displayQueryInfrequentTier:this.model.getDisplayQueryInfrequentTier(),displayMatchedDataTier:this.model.getDisplayMatchedDataTier(),status:this.model.getStatus(),searchStateDirty:this.model.getSearchStateDirty()}),p=c&&o.shouldShowCurrentScannedBytes({status:this.model.getStatus(),runningMatchedDataTier:this.model.getRunningMatchedDataTier(),searchStateDirty:this.model.getSearchStateDirty(),runningQueryInfrequentTier:this.model.getRunningQueryInfrequentTier()}),m="",f="";if(a){var S=this.model.getPerformance();e=a.getDifficulty(S),t=(a.getPerformanceReasons(S)||[])[0],i=a.hasDifficultyIncreased(this.difficulty,e),m=this.getUsageDetailsLabelByTier(s,a,g,p),f=this.getUsageDetailsValueByTier(s,g,p)}this.difficulty=i?e:this.difficulty,this.loadReason=i?t:this.loadReason,a&&(this.isBadQuery=a.isBadQuery(this.difficulty)),this.isBadQuery&&this.logBadQuery();var v=_.keys(r.examples).indexOf(this.loadReason)>=0||!this.isBadQuery;this.showLoad=!g&&s.get("status")&&v;var w={__:l.searchJSON,searchQueryId:g&&f.infrequent?null:s.getSearchQueryId(),statusClasses:!g&&this.getStatusClasses(),searchQueryStatusDataTemplate:this.searchQueryStatusDataTemplate,difficulty:e},b=_.extend({},w,{searchExpression:s.getSearchExpression(),timerangeText:s.getTimerangeText(),searchQueryStartedAt:new Date(s.get("searchQueryStartMillis")).toLocaleString(),status:u,UIScannedBytesFF:c,usageDetailsLabel:m,usageDetailsValue:f,messageCount:d&&d>0?SumoUtil.formatNumber(d):l.searchJSON.text_none,startMillis:s.get("startMillis"),startTimestampString:new Date(s.get("startMillis")).toLocaleString(),endMillis:s.get("endMillis"),endTimestampString:new Date(s.get("endMillis")).toLocaleString(),runtimeMillis:SumoUtil.formatMillis(this.elapsedTime||0),shareSearchCodeEnabled:n,optimizationStatus:s.getOptimizationStatus(),hideStats:this.model.isErrorStatus()&&!this.model.isGathering(this.model.get("previousStatus"))});return w.searchQueryStatusData=b,w},getRenderData:function(e){var t=e;if(!t){var i=(new g).getYAxisWidth(this.model.get("histogram")),s=this.getTemplateArguments();t={searchQueryStatusData:s.searchQueryStatusData,statusClasses:s.statusClasses,histogramYAxisWidth:i,searchQueryId:this.model.getSearchQueryId(),queryStartTime:this.model.get("startMillis"),queryEndTime:this.model.get("endMillis"),searchedTimeRange:this.model.getSearchedTimeRange(),errorStatus:this.model.isErrorStatus(),hasWarnings:this.model.hasWarnings(),difficulty:this.difficulty}}return t},renderSearchProgressIndicator:function(e){var t=this.getRenderData(e),i=this.$("#search-progress-indicator-container"),s=i.width(),n=i.height();i.empty();var a=s,r=n+15,o=d3.select(i[0]).append("svg").attr("class","search-progress-indicator").attr("width",a).attr("height",r),l={top:4,bottom:0,left:40,right:50},d=(new g,t.histogramYAxisWidth);d>38&&(l.left=d+4,l.right=d+12);var c=a-l.left-l.right,u=r-l.top-l.bottom,h=o.append("g").attr("transform","translate("+l.left+","+l.top+")").attr("class","search-progress-indicator-base").attr("width",c).attr("height",u),p=null!=t.searchQueryId,m="#f1f1f1";p&&(m="#dfdfdf");h.append("rect").attr("class","search-progress-indicator-base-bar").attr("transform","translate(0,5)").attr("width",c>0?c:1).attr("height",2).style("fill",m);if(p){var f=t.queryStartTime,S=t.queryEndTime,v=new Date(f),_=new Date(S),w=!1,b=t.searchedTimeRange,y=null,T=null;if(b&&(y=b.startMillis,T=b.endMillis,y&&T&&(w=f<=y&&y<T&&T<=S)),w)if(S-y>0){var E=d3.time.scale().domain([v,_]).range([0,c])(y);if(E>=0&&E<=c){var C="#92CF54";t.errorStatus?C="#FFE1DF":t.hasWarnings&&(C="#FFF5C8");h.append("rect").attr("class","search-progress-bar").attr("transform","translate(0,5)").attr("x",E).attr("width",c-E).attr("height",2).style("fill",C)}}var A=SumoApp.dateUtil.formatDateTime(),M=A(v),I=h.append("g").attr("class","search-progress-start-time");I.append("line").attr("y2",21).style("fill","none").style("shape-rendering","crispEdges"),I.append("text").attr("transform","translate(5,19)").style("fill","#333333").style("font-size","10px").text(M);var R=A(_),P=h.append("g").attr("class","search-progress-end-time").attr("transform","translate("+c+",0)");P.append("line").attr("y2",21).style("fill","none").style("shape-rendering","crispEdges"),P.append("text").attr("transform","translate(-5,19)").style("text-anchor","end").style("fill","#333333").style("font-size","10px").text(R)}},initialize:function(){_.bindAll(this,"render","onResize","getStatusClasses","getTemplateArguments","renderSearchProgressIndicator","onQueryStatsClick","getUpdateValues","getRenderData");var e=this;this.searchQueryUtil=new m,this.uniqueId=_.uniqueId(Date.now()),this.logBadQuery=_.once((function(){$.logInfo("Sumo.Ui.load.bad. Id:"+e.uniqueId)})),this.listenTo(this.model,"change",_.debounce(this.onUpdate,100)),this.listenTo(this.model,"change:status",this.onStatusChange),this.listenTo(this.model,"change:usageDetails",this.render),this.listenTo(this.model,"change:estimatedUsageDetails",this.render),this.listenTo(this.model,"change:estimatedUsageDetailsByTier",this.render),this.render(),this.updateTimer()},getUpdateValues:function(){if(!this.model.isNoMoreUpdatesOnView()){var e=this.getRenderData(),t=e.searchQueryStatusData.runtimeMillis;if(delete e.searchQueryStatusData.runtimeMillis,!_.isEqual(this.updateValues,e)||this.resized){this.resized=!1,this.updateValues=e;var i=_.clone(e);return i.searchQueryStatusData=_.clone(i.searchQueryStatusData),i.searchQueryStatusData.runtimeMillis=t,i}return null}},onUpdate:function(){this.preRender();var e=this.getUpdateValues();if(e){var t=this,i=e.searchQueryStatusData,s=t.searchQueryStatusDataTemplate(i);return t.jStatusData.html(s),t.jQueryStatusIndicator.removeClass("icon icon--exclamation-triangle error icon--pause warning spinner -small is-visible warning").addClass(e.statusClasses),t.postRender(i,e),t}},render:function(){var e=this.getTemplateArguments(),t=this.template(e);return this.$el.html(t),this.initVars(),this.postRender(e.searchQueryStatusData),this},preRender:function(){this.previousDifficulty=this.difficulty},initPerformanceIndicator:function(){var e=this,t=this.$(".load-indicator");this.showLoad&&e.difficulty?(t.show(),t.hasClass("tooltipstered")&&e.previousDifficulty==e.difficulty||(t.removeClass((e.previousDifficulty||"").toLowerCase()).addClass(e.difficulty.toLowerCase()),t.hasClass("tooltipstered")&&t.tooltipster("destroy"),t.tooltipster({theme:"popover load-indicator-tooltip",maxWidth:220,contentAsHTML:!0,interactive:!0,content:this.isBadQuery?l.searchJSON.hard_tooltip:l.searchJSON.easy_tooltip,functionReady:function(t,i){i.find("#performance-modal-link").on("click",e.onPerformanceClick.bind(e)),i.find("[data-help-topic-id]").on("click",(function(e){var t=$(e.target).attr("data-help-topic-id");h.helpNavigationService.showHelp({id:t})}))}}))):t.hide()},postRender:function(e,t){this.renderSearchProgressIndicator(t),this.initPerformanceIndicator(t)},initVars:function(){var e=this;e.jStatusData=e.$(".search-query-status-data").attr("data-sumo-test","search-query-stats-data"),e.jQueryStatusIndicator=e.$(".status-i")},destroy:function(){this.clearTimeElapsedTimer(),this.searchQueryUtil=null,SumoUtil.destroyView(this),h.currentUserHelper.hasFeatureFlag("UISearchShowSpinnerOnTab")||this.model.setStatus(0),this.model.setTimeElapsed(0)}})}.apply(t,s))||(e.exports=n)},54565:function(e,t,i){var s,n,a=i(16826);s=[i(99552),i(60069),i(16471),i(86795),i(27841),i(73219),i(57299),i(60567),i(92402),i(14430),i(38369),i(63205),i(40874),i(71728),i(50963),i(70395),i(46254),i(11717),i(22443),i(34074),i(50563),i(5013),i(51901),i(89867),i(41197),i(33041),i(24418),i(54351),i(22390),i(66534),i(86889),i(8710),i(45938),i(68182),i(73166)],void 0===(n=function(e,t,s,n,r,o,l,d,c,u,h,g,p,m,f,S,v,w,b,y,T,E,C,A,M,I,R,P,D,x,N,U,V,L,O){"use strict";const{SearchQueryUtil:k}=n;var F=y.SearchQueryDataModule,z=T.applicationContext,H=d.SubViewHelperModule,B=d.SumoEggHandlerModule,Q=d.TooltipsterViewModule,W=d.ResizeObserverModule,G=d.IrisPanelSaveHandler,q=d.contentAdminModeStateService,K=d.libraryActionsService,j=A.timeRangeUtil,J=g.ContentLibraryUtil,Y=s.contentLibraryEnI18n,X=s.CONTENT_ACTION_TYPES,Z=s.CONTENT_APP_DATA_SOURCE_TYPES,ee=i(16367).Heimdall;E=E.searchPerformanceService;var te=C.SearchPerformanceMetrics,ie=y.SearchUtils,se=d.SearchUtils,ne=se.isBasicModeEnabledForUser,ae=y.SearchQueryExpressionEditorView,re=M.performanceLogService,oe=M.logService,le=d.searchParametersService,de=d.CREATE_PARAM_PERF_CONST,ce=d.contentSearchService,ue=d.contentActionNotificationService,he=z.currentUserHelper,ge=d.workspacesManager,pe=d.bitwiseHelperService,me=d.shareActionService,fe=d.isKansoEnabled,Se=d.headerBarService,ve=O.default,_e=[],we=null,be="search-query-actions-compact-react",ye="search-query-stats",Te="search-errors-warnings-react",Ee=Backbone.View.extend({events:function(){return{"appendToSearchExpression #search-expression":"onAppendToSearchExpression","appendJsonSearch #search-expression":"onAppendJsonSearch","startSearchQuery #search-expression":"onStartSearchQuery","createParamFromSelection #search-expression":"onCreateParamFromSelection","refresh #search-expression":"onRefreshExpression","loadSearchQuery #search-view":"onLoadSearchQuery","click #search-query-start-compact":"startSearchQueryWithDelay","click #open-contentlibrary":"openContentLibrary","click #open-saved-search":"openSavedSearches","click #sq-histo-actions span":"onClickToggleHistogram","click #search-actions__create-parameter__link":"onCreateParamFromSelection","restartSearchQuery #search-view":"onRestartSearchQuery","error #search-view":"onError","clearError #search-view":"clearError","clearWarning #search-view":"clearWarning","searchQueryInputKeyUp #search-view":"onKeyUpSearchExpression","addToDashboard #search-view":"onAddToDashboard","saveBackToMonitor #search-view":"onSaveBackToMonitor","defaultFilterChanged #search-view":"onDefaultFilterChanged","onSavedSearchInViewChanged #search-view":"onSavedSearchInViewChanged","updateSearchActionLinks #search-view":"updateSearchActionLinks","transactionDrillDown #search-view":"onTransactionDrillDown","clickOptimizeSearch #search-view":"onOptimizeSearchClick","optimizationStatusReceived #search-view":"onOptimizationStatusReceived","log #search-query-histogram-reduced":"onLogFirstHistogramBar","click .hide-query-action":"hideSearchQuery","click .show-query-action":"showSearchQuery","click .show-preview-action":"showQueryPreview","click .hide-preview-action":"hideQueryPreview"}},template:_.template(r),logQueryEditorTemplate:_.template(o),destroyed:!1,subviews:null,ajax:null,expressionEditorView:null,defaultFilter:"recent-searches",creatingTimeStamp:0,timeOutTimer:null,SEARCH_MODIFIED_PREFIX:g.searchJSON.edited,MONITOR_SEARCH_MODIFIED_PREFIX:g.searchJSON.edited+g.searchJSON.monitor,TAB_SEARCH_MODIFIED_PREFIX:"*",searchPerformanceIdObj:null,searchPerformanceMetadata:null,foundHistogramResult:!1,showCreateParamAction:!1,highlightedErrors:[],isMessageOffsetPresent:!1,HIGHLIGHT_ERROR_CLASS:"highlight-error",HIGHLIGHT_PARAMETER_CLASS:"highlight-param",SHORT_CODE_TOOLTIP_TIME:500,previousDashboardVersion:null,updateUrlLater:!1,resizeSearchInputEnabled:!1,removeParamsResizeObserver:null,canFavoriteSearch:!1,isWindows:!1,disabledActions:{},stopResizing:!1,linkStates:{NOT_SAVEABLE:1,PUBLISHABLE:2,SAVEABLE:4,SAVE_ON:11,SAVE_OFF:12,EDIT_NONE:20,EDIT_ON:21,INFO_ON:22,INFO_LAST:23,EDIT_SAVEABLE:24,PIN_OFF:33,PIN_ON:34,PIN_NONE:35},searchBoxHeightBeforeMaximize:null,MAXIMIZE_SEARCH_BOX_HEIGHT:48,MAXIMUM_RESIZABLE_WIDTH:800,reactComponentInstances:{},drilldownData:null,getViewName:function(){return"SearchView"},getComponent:function(){return"UI"},setLinkState:function(e){switch(e){case this.linkStates.PIN_OFF:this.updateSearchActionState([{id:g.searchJSON.pin_search,isVisible:!1,isDisabled:!1},{id:g.searchJSON.unpin_search,isVisible:!0,isDisabled:!1}]);break;case this.linkStates.PIN_ON:this.updateSearchActionState([{id:g.searchJSON.pin_search,isVisible:!0,isDisabled:!1},{id:g.searchJSON.unpin_search,isVisible:!1,isDisabled:!1}]);break;case this.linkStates.PIN_NONE:this.updateSearchActionState([{id:g.searchJSON.pin_search,isVisible:!0,isDisabled:!0},{id:g.searchJSON.unpin_search,isVisible:!1,isDisabled:!1}])}},updateSearchActionState:function(t){this.getSearchActionState()&&(this.disabledActions=this.getSearchActionState().reduce(((e,t)=>({...e,[t.id]:t.isDisabled})),{})),z.store.dispatch(e.updateSearchActions({id:"viewAction_"+this.model.getUniqId(),searchActionState:t}))},getSearchActionState:function(){var e=z.store.getState().views.search.searchActionState["viewAction_"+this.model.getUniqId()];return e&&he.hasFeatureFlag("UISearchKeyboardShortcuts")?e.searchActionState:void 0},notSaveableLinkState:function(e){this.model.setEditedState(e),this.updateSearchActionState([{id:g.searchJSON.link_save_search,isVisible:!0,isDisabled:!e},{id:g.searchJSON.link_edit_saved_search_kebab,isVisible:!0,isDisabled:!0},{id:g.searchJSON.link_info_saved_search,isVisible:!0,isDisabled:!1}])},saveableLinkState:function(){this.notSaveableLinkState(!0),this.model.getOwnedByCurrentUser()||this.updateSearchActionState([{id:g.searchJSON.link_info_saved_search,isVisible:!0,isDisabled:!1},{id:g.searchJSON.link_edit_saved_search_kebab,isVisible:!0,isDisabled:!0}])},editSaveableLinkState:function(){this.model.setEditedState(!0),this.updateSearchActionState([{id:g.searchJSON.link_edit_saved_search_kebab,isVisible:!0,isDisabled:!1},{id:g.searchJSON.link_info_saved_search,isVisible:!0,isDisabled:!0}])},publishLinkState:function(){this.model.setEditedState(!1),this.updateSearchActionState([{id:g.searchJSON.link_save_search,isVisible:!0,isDisabled:!0},{id:g.searchJSON.link_edit_saved_search_kebab,isVisible:!0},{id:g.searchJSON.link_favorite,isVisible:!0}])},unpublishLinkState:function(){this.updateSearchActionState([{id:g.searchJSON.link_edit_saved_search_kebab,isVisible:!0,isDisabled:!1},{id:g.searchJSON.link_info_saved_search,isVisible:!0,isDisabled:!1}])},infoLastLinkState:function(){this.notSaveableLinkState(!1),this.updateSearchActionState([{id:g.searchJSON.link_info_saved_search,isVisible:!0,isDisabled:!1}])},switchLinkState:function(e){var t=!this.model.getOwnedByCurrentUser()&&!this.model.getIsSavedSearchModified()&&this.model.getFromSavedSearch();if(this.destroyed)this.setFavoritesIconState(!1);else{if(_.isObject(e))if(this.notSaveableLinkState(!1),this.getViewTitle()){var i=this.model.getSavedSearch();e=_.isEmpty(i)||SumoUtil.isStringEmpty(i.viewName)?this.model.getIsSavedSearchModified()?this.model.getOwnedByCurrentUser()?this.linkStates.SAVEABLE:this.linkStates.INFO_LAST:this.model.getOwnedByCurrentUser()?this.linkStates.PUBLISHABLE:this.linkStates.INFO_LAST:this.linkStates.NOT_SAVEABLE}else e=this.model.getOwnedByCurrentUser()?this.linkStates.PUBLISHABLE:this.linkStates.INFO_LAST;else if(!e){if(this.model.isActionTypeNone())return void this.setFavoritesIconState(t);i=this.model.getSavedSearch();e=_.isEmpty(i)||SumoUtil.isStringEmpty(i.viewName)?this.model.getIsSavedSearchModified()?this.model.getOwnedByCurrentUser()?this.linkStates.SAVEABLE:this.linkStates.INFO_LAST:this.model.getFromSavedSearch()?this.model.getOwnedByCurrentUser()?this.linkStates.PUBLISHABLE:this.linkStates.INFO_LAST:this.linkStates.NOT_SAVEABLE:this.linkStates.NOT_SAVEABLE}switch(e){case this.linkStates.PUBLISHABLE:this.model.isPublishable()?this.publishLinkState():this.unpublishLinkState(),t=!0;break;case this.linkStates.EDIT_SAVEABLE:this.editSaveableLinkState();break;case this.linkStates.SAVEABLE:this.saveableLinkState();break;case this.linkStates.NOT_SAVEABLE:this.notSaveableLinkState(!1),t=!1;break;case this.linkStates.INFO_LAST:this.infoLastLinkState(!1)}this.setFavoritesIconState(t)}},setFavoritesIconState:function(e){this.canFavoriteSearch=!0,e&&this.updateSearchActionState([{id:g.searchJSON.link_favorite,isVisible:!this.model.isFavorite(),isDisabled:!1},{id:g.searchJSON.link_unfavorite,isVisible:this.model.isFavorite(),isDisabled:!1}])},showTooltip:function(e){this.tooltip=new Q({el:$(e.currentTarget),content:"Copied",show:!0,size:"auto",theme:"quicktip"});var t=this;setTimeout((function(){t.tooltip&&(t.tooltip.destroy(),t.tooltip=null)}),this.SHORT_CODE_TOOLTIP_TIME)},createShareSearchDialogUrls:function(e){var t;return e&&(t=location.protocol+"//"+location.host+"/ui/#/search/"+e,he.hasFeatureFlag("UISearchNewTemplateRoute")&&(t=location.protocol+"//"+location.host+"/ui/#/search/create?id="+e)),[{i18nKey:"library.shareableSearchUrl",url:t},{i18nKey:ne()?"library.shareableSearchCodeUpdated":"library.shareableSearchCode",url:"_code="+e}]},onShareSearchLinkClick:function(e){E.start({id:"openShareDialog",metric:te.OpenShareDialogDelay,skipSli:!0}),this.openContentSharingDialog(e),E.measureOnce({id:"openShareDialog",metric:te.OpenShareDialogDelay,skipSli:!0})},openContentSharingDialog:function(e){var t=this.model.getSearchQueryId();oe.info("Click:ShareSearch",{queryId:t});var i=this;if(!this.model.get("fromSavedSearch")){var s=z.dialogService,n=s.buttons().done(),a=this.model.get("shortCode"),r=he.hasFeatureFlag("UISearchShareDialogReact"),o={contentItemUrls:this.createShareSearchDialogUrls(a)};return r?P.ShareSearchDialogRenderer({state:o,getShortCode:this.model.get.bind(this.model,"shortCode"),createShareSearchDialogUrls:this.createShareSearchDialogUrls.bind(this),createShortCode:this.model.createShortCode.bind(this.model)}):s.show(s.preset("simple").title(Y.share_search).contentTemplate('<share-search-dialog state="$ctrl.state"></share-search-dialog>').buttons(n).css("-large").actions({$onInit:function(e,t){i.model.get("shortCode")||i.model.createShortCode((function(){var e=i.model.get("shortCode"),s=i.createShareSearchDialogUrls(e);t({contentItemUrls:s})}))},ok:function(){return s.cancel()}}).ctrlState(o))}ce.fetchContentItem(this.model.get("savedSearch").id).then((function(t){i.model.get("shortCode")?(t.shortCode=i.model.get("shortCode"),me.run({event:e},t)):i.model.createShortCode((function(){t.shortCode=i.model.get("shortCode"),me.run({event:e},t)}))}))},updateFavoriteStatus:function(e){e.preventDefault();$(e.target).parent();var t=!0,i=this;this.linkStates.NOT_SAVEABLE;SumoUtil.trackEvent("search-favorite-click"),q.getState()?SumoApp.userMessage.warn(g.searchJSON.search_cannot_be_favorited_by_content_admins):this.canFavoriteSearch?(this.model.isFavorite()&&(this.linkStates.PUBLISHABLE,t=!1),this.model.updateFavoriteStatus(t,(function(){i.setFavoritesIconState(i.linkStates.PUBLISHABLE);var e=i.model.getSavedSearch();e&&ce.fetchContentItem(e.id).then((function(e){ue.notify({actionType:X.FAVORITE,items:[e]})}))})),SumoUtil.trackEvent(t?"search-favorite-added":"search-favorite-removed")):SumoApp.userMessage.warn(g.searchJSON.search_cannot_be_favorited)},updateSearchActionLinks:function(e,t){var i=["PUBLISHED","UNPUBLISHED"],s=i.indexOf(t.action)>-1,n=-1===t.action.indexOf("UN")?"UN"+t.action:t.action.replace("UN",""),a=i.indexOf(t.action)>1?"ED":"D",r="CAN_"+n.replace(a,"");if(s&&t.externalId===this.model.getSavedSearchId())this.model.setSearchActions(r);else if("EDITED"===t.action)this.loadSavedSearchInstance(this.model.get("shortCode"),this.getViewTitle()),this.setTimeRangeViewValue(this.model.getTimerangeText());else if("RELOAD"===t.action){this.model.loadSearchActions();var o=this.model.getSearchByReceiptTimeDisabled();this.disableSearchByReceipt(o)}},onAppendToSearchExpression:function(e,t){if(this.model.isBasicModeEditor()){var i=(new k).getQueryAfterAppendingValue(this.getQueryString(),t.value,t.operator,t.forceOperator);z.store.dispatch(w.updateQueryStringAction({id:"search_"+this.model.getUniqId(),queryString:i}))}else this.expressionEditorView.appendValue(t.value,t.operator,t.forceOperator)},onAppendJsonSearch:function(e,t){if(this.model.isBasicModeEditor()){this.expressionEditorView.appendPostValue(t,"| json",!0);var i=this.expressionEditorView.getValue();z.store.dispatch(w.updateQueryStringAction({id:"search_"+this.model.getUniqId(),queryString:i}))}else this.expressionEditorView.appendPostValue(t,"| json",!0)},_isValidParamSelection:function(e,t){return _.find(e,(function(e){return e.name===t.paramName}))},_fetchTrimmedParamValue:function(e,t){return!e&&/^".+"$/.test(t)?t.replace(/^"|"$/g,""):t},updateParamsCreatedFromSelection:function(e){var t=this,i=this.parameterModel,s=i.getParameters(),n=(this.paramCreatedFromSelectionOptions||[]).reduce((function(i,n){var a=t._isValidParamSelection(e,n);if(a){var r=a.isInsideStringLiteral,o=t._fetchTrimmedParamValue(r,n.highlightedText),l=le.getDefaultParameter(n.paramName,r,{label:o,value:o});s.push(l)}else i.push(n);return i}),[]);i.setParameters(s,{silent:!0}),this.showCreateParamDialogIfNeeded(_.first(this.paramCreatedFromSelectionOptions)),this.paramCreatedFromSelectionOptions=n},showCreateParamDialogIfNeeded:function(e){var t=this.parameterModel.getParameters(),i=_.getPath(SumoApp,"user.userPreferencesModel.getOpenSettingsOnParamCreation")();if(e&&i){var s=e.paramName;t.find((function(e){return e.name===s}))&&this.showParamView(e.e,s,e.cursorFromPos)}},updateQueryParams:function(e){if(e){var t=this.parameterModel;this.updateParamsCreatedFromSelection(e),t.onFetchParams(e)}if(this.setStateWaitingForParams(!1),this.searchAttrsWaitingForParams){var i=this.searchAttrsWaitingForParams;this.searchAttrsWaitingForParams=null,this.startSearchQuery(i)}},onSearchParamsFetchError:function(e){$.log(sprintf("Sumo.Ui.Search.SearchParameterModel.load - ErrorMessage: %s",e))},onChangeParameters:function(){this.updateParamHighlights(),this.updateNgParameterView()},updateParamHighlights:function(){var e=this,t=this.parameterModel.get("parameters"),i=this.expressionEditorView,s=!_.isEmpty(t);if(i&&i.removeHighlighted(this.HIGHLIGHT_PARAMETER_CLASS),s){var n=this.parameterModel.getParamPositionMap();_.forEach(n,(function(t,s){_.forEach(t,(function(t){var n=e.getOffset(t,void 0,1,!0),a=e.HIGHLIGHT_PARAMETER_CLASS+" tooltip-action param-"+s;i.highlightMessage(n,a)}))}))}this.toggleHistogram(this.model.getHistogramHideSetting())},toggleParamView:function(e){var t=e&&e.length>0,i=this.showParam;(_.isUndefined(i)||i!==t)&&(this.$searchInputArea.toggleClass("show-params",t),this.onRefreshExpression(),t?this.createQueryResizable():(N.destroySearchParams("search-params-view-react"),this.destroyQueryResizable())),this.showParam=t},updateParamState:function(e){this.paramViewScope.state=this.searchParamStateService.updateState(_.extend(this.paramViewScope.state,e))},getSearchParamsProps:function(e){var t=this;return{searchParamsState:{parameters:t.getParamsForView(),isSavedSearchModified:t.model.getIsSavedSearchModified(),showValidationTrigger:e},searchParamsActions:{onChange:function(e){t.parameterModel.setParameters(e.parameters,{silent:!0}),t.updatePreviewView();var i=_.getPath(t.model.getSavedSearch(),"parameters");_.isArray(i)&&e.isSavedSearchModified&&t.model.setIsSearchModified(!0)},onEnterKeypress:function(e){13===e.keyCode&&t.startSearchQueryWithDelay()},postParamEdit:function(e,i,s){t.replaceQueryString(e,i),t.model.updateOpenSettingsOnParamCreationPref(SumoApp.user.userPreferencesModel.getOpenSettingsOnParamCreation(),s)}}}},updateNgParameterView:function(e){if(z.currentUserHelper.hasFeatureFlag("UISearchParamsViewReact")&&this.getParamsForView().length>0)this.toggleParamView(this.getParamsForView()),N.renderSearchParams("search-params-view-react",this.getSearchParamsProps(e));else{if(e&&this.paramViewScope)return void this.updateParamState({showValidationTrigger:Date.now()});var t=this.getParamsForView(),i=this;this.toggleParamView(t);var s=i.model.getIsSavedSearchModified();if(this.paramViewScope)this.updateParamState({parameters:t,isSavedSearchModified:s});else{this.paramViewScope=z.$rootScope.$new();var n=R.searchParamsStateService,a=n.initialize({payload:{parameters:t},manageView:!1,isSavedSearchModified:s});this.paramViewScope.state=a,this.paramViewScope.actions=_.extend(n.getStateBoundedActions(a,this.updateParamState.bind(this)),{onChange:function(e){i.parameterModel.setParameters(e.parameters,{silent:!0}),i.updatePreviewView();var t=_.getPath(i.model.getSavedSearch(),"parameters");i.getParamsForView();_.isArray(t)&&e.isSavedSearchModified&&i.model.setIsSearchModified(!0)},onEnterKeypress:function(e){13===e.keyCode&&(i.updateParamState({showValidationTrigger:Date.now()}),i.onStartSearchQuery())},updateOpenSettingsOnParamCreationPref:function(e,t){i.model.updateOpenSettingsOnParamCreationPref(e,t)},postParamEdit:function(e,t,s){i.replaceQueryString(e,t),i.model.updateOpenSettingsOnParamCreationPref(SumoApp.user.userPreferencesModel.getOpenSettingsOnParamCreation(),s)}}),this.searchParamStateService.getState$().takeUntilScopeDestroyWithSafeApply(this.paramViewScope,(function(e){i.paramViewScope.state=e})).subscribe();var r=this.$searchInputArea.find("search-params");r.length&&SumoApp.ngCompile(r,this.paramViewScope,!0)}this.model.isBasicModeEditor()||this.expressionEditorView.reposCompView()}},replaceQueryString:function(e,t){var i=this.expressionEditorView;if(!this.model.isBasicModeEditor())var s=le.replaceParams(i.getValue(),e,t);this.setQueryString(s)},getSearchViewState:function(e){var t=this.parameterModel.getSearchParamsViewState();return!!pe.getFlagFromMask(t,e)},fetchComputedSearchViewState:function(e,t){var i=this.parameterModel.getSearchParamsViewState();return pe.setFlagInMask(i,e,t)},updateSearchViewState:function(e,t){var i=this.fetchComputedSearchViewState(e,t);this.parameterModel.setSearchParamsViewState(i)},hideSearchQuery:function(){var e=this.parameterModel.getParameters();_.isEmpty(e)||this.updateSearchViewState(s.SearchParamViewState.QueryView,!1)},showSearchQuery:function(){this.updateSearchViewState(s.SearchParamViewState.QueryView,!0),this.updateParamHighlights()},showQueryPreview:function(){this.updateSearchPreviewView(!0)},hideQueryPreview:function(){this.updateSearchPreviewView(!1)},updateSearchPreviewView:function(e){this.updateSearchViewState(s.SearchParamViewState.PreviewView,e),this.updatePreviewView()},getParamsForView:function(){var e=this.parameterModel&&this.parameterModel.getParameters();return le.extract(e)},openTransactionDrilldown:function(e){var t=this.getTransactionSearchQueryData(e);this.drilldown(t)},getTransactionSearchQueryData:function(e){var t=this.model,i=e.searchExpression||t.getSearchExpression(),s="results by flow",n=i.indexOf(s),a=new F;if(n>0){var r=n+s.length;i=SumoUtil.appendToSearchExpression(i.substr(0,r),sprintf(' | where %s = "%s" and %s = "%s"',e.fromFieldName,e.fromState,e.toFieldName,e.toState))}var o=t.getParameterModel();return o&&(a.setParameters(o.getParameters()),a.setParamViewState(le.getParamViewState(!0,!0,!1))),a.setQueryString(i),e.startMillis&&e.endMillis?(a.setStartTimestamp(e.startMillis),a.setEndTimestamp(e.endMillis)):a.setTimeRange(t.getTimerangeText()),a.setSearchByReceiptTime(t.getSearchByReceiptTime()),a.setExecuteSearch(!0),a},onTransactionDrillDown:function(e,t){var i=this.getTransactionSearchQueryData(t);SumoUtil.searchDrilldownTrigger(i,"search-tabs-view")},startSearchQueryWithDelay:function(){var e=this;setTimeout((function(){e.onStartSearchQuery()}))},updateUrl:function(){var e=z.searchWorkspaceViewService,t=f.idGeneratorService.generateId(),i=ge.getCurrent().currentView;e.modifyViewId(t,i)},onStartSearchQuery:function(){if(E.clearAllMarks(),E.start({id:"start_search_query_"+this.model.getUniqId(),metric:te.SearchQueryCreation}),this.updateUrlLater=this.isSharedUrl&&this.model.get("isSearchModified"),this.clearInfo(),this.unbindAllHighlightEvents(),SumoUtil.logPageVisit("search","searches/run"),!0!==this.$("#search-query-start-compact").prop("disabled")){var e=this;_.defer((function(){e.startSearchQuery({userTriggered:!0})}))}this.model.setSearchStateDirty(!1),this.model.set("status",0)},mostRecentBucketsHasData:function(e){var t=new Date,i=0;if(e&&e.length)for(var s=e.length-1;s>=0&&(i+=e[s].count,t=e[s].startTimestamp+e[s].length,!(i>=50));s--);return t>=this.model.get("endMillis")-864e5},onLogFirstHistogramBar:function(e,t){if(E.measure({id:"histogram_rendering_"+this.model.getUniqId(),metric:te.HistogramRendering,skipSli:!this.mostRecentBucketsHasData(t)}),null!==this.searchPerformanceIdObj&&SumoApp.priv.hasPerformanceLoggingEnabled()){this.foundHistogramResult=!0,SumoApp.performanceLogger.mark(this.searchPerformanceIdObj,Ee.FIRST_RESULT_CHECKPOINT);var i={name:Ee.MEASURE_FIRST_RESULT,from:Ee.START_CHECKPOINT,to:Ee.FIRST_RESULT_CHECKPOINT};SumoApp.performanceLogger.measure(this.searchPerformanceIdObj,i),SumoApp.performanceLogger.send(this.searchPerformanceIdObj,i,this.searchPerformanceMetadata)}},onRestartSearchQuery:function(){this.setQueryString(this.model.getSearchExpression());var e=this.model.get("startMillis"),t=this.model.get("endMillis"),i=SumoUtil.formatTimeRangeText(e,t,!0);this.setTimeRangeViewValue(i),this.startSearchQuery({userTriggered:!0})},runSearchByCode:function(e){e&&this.loadSavedSearchInstance(e,g.searchJSON.text_search_by_code_title,g.searchJSON.text_loading_search_by_code)},updateIsShared:function(e){this.isSharedUrl=e},loadSavedSearchInstance:function(e,t,i,s){$.log("Sumo.Ui.Search.SearchView.loadSavedSearchInstance - id: %s",e);var n=this;if(s){function a(e,t){if(s.query&&e.setQueryString(s.query),s.startTime)if(Number.isNaN(Number(s.startTime)))e.setTimeRange(s.startTime+" "+(s.endTime||""));else{var i=parseInt(s.startTime),n=parseInt(s.endTime)||Date.now();e.setStartTimestamp(i),e.setEndTimestamp(n)}if(s.parameters){var a=le.getDefaultParameter,r=s.parameters.split(",").map((function(e){var t=e.split(":"),i=t[0],s=t[1];return Object.assign({},a(i),{value:{label:s,value:s}})}));e.setParameters(r)}e.name=z.searchWorkspaceViewService.getTitle(),e.setExecuteSearch(!0),e.setFromDirectURL(!0),e.setSavedSearch({properties:t}),z.searchWorkspaceViewService.searchDrillDown(e),ge.getCurrent().removeViewById("create")}return s.id?void this.model.loadSavedSearchInstance(s.id,a):void a(new F)}if(!SumoUtil.isStringEmpty(e)){this.model.set({status:this.model.STATUS_NOT_STARTED});var r=i||g.searchJSON.text_loading_saved_search;this.showBusy(r),this.model.loadSavedSearchInstance(e,(function(i,s){n.routeChangePerformancePlugin.done("get saved search instance"),$.log("Sumo.Ui.Search.SearchView.loadSavedSearchInstance - loaded Instance. Loading Object: %s",i.getSavedSearchQueryId());var a=i.getSavedSearchQueryId(),r=ge.getCurrent(),o=r.findViewById(a+"");if(o)r.go(o).then((function(){r.removeViewById(e)}));else{if(s){var l={};try{l=JSON.parse(s),n.setSavedSearchSettings(l.aggregateViewerType,l.aggregateResultsSettings,l.hiddenLegends,l.logsQueryMode)}catch(e){}}if(i.getExecuteSearch())return n.clearError(),n.clearInfo(),SumoApp.user.userPreferencesModel.loadData().then((function(){n.drilldown(i)})),n.updateViewTitle(t||g.searchJSON.text_email_search_results),void n.updateViewTitleWithIcons("saved-search");n.model.loadSavedSearchObject(a,(function(e){n.clearError(),n.clearInfo();var t=new F;t.setQueryString(e.query.queryString),t.setTimeRange(e.query.timeRange),t.setFromSavedSearch(!0),t.setSavedSearchQueryId(e.id),t.setSavedSearch(e),t.setExecuteSearch(!1),n.onLoadSearchQuery(null,t)}))}}))}},saveSavedSearch:function(e){var t=e&&e.resolve?e:void 0,i=this.getTimeRangeViewAttrs().text;if(!0===this.validateTimerange()){var s=this.model.getSavedSearch();if(s&&!_.isEmpty(s)&&this._validateAndUpdateParamView()){var n,a=$.extend(!0,{},s),r=this.getQueryString();try{n=JSON.parse(a.properties)}catch(e){n={}}return n.logsQueryMode=this.model.getSavedSearchSettingsModel().getLogsQueryMode(),a.properties=JSON.stringify(n),a.query.timeRange=i,a.query.queryString=r,a.parameters=this.parameterModel.getParameters(),ce.addScheduleParams(a,a),a.autoParsingInfo=this.model.getAutoParsingInfo(),a.byReceiptTime=this.model.getSearchByReceiptTime(),void this.model.saveSearch(a,t)}}t&&t.reject()},searchSaved:function(){var e=this.model.getSavedSearch(),t=new F;t.setQueryString(e.query.queryString),t.setTimeRange(e.query.timeRange),t.setFromSavedSearch(!0),t.setSavedSearchQueryId(e.id),t.setSavedSearch(e),t.setExecuteSearch(!1),t.setSearchByReceiptTime(e.byReceiptTime),t.setAutoParsingInfo(e.autoParsingInfo),this.onLoadSearchQuery(null,t,!0),this.$("#recent-searches-list").trigger("savedSearchChanged",e)},getQueryString:function(){return this.model.isBasicModeEditor()?this.model.getDisplaySearchExpression():this.expressionEditorView.getValue()},setQueryString:function(e){this.model.isBasicModeEditor()?z.store.dispatch(w.updateQueryStringAction({id:"search_"+this.model.getUniqId(),queryString:e})):this.expressionEditorView.setValue(e,!0)},getQueryTimerange:function(){return this.getTimeRangeViewAttrs().text},validateTimerange:function(){var e=this.getTimeRangeViewAttrs(),t=e.text,i=e.start,s=e.end,n=e.startError,a=e.endError;if(n||a){var r=n?g.searchJSON.invalid_start_time_range:g.searchJSON.invalid_end_time_range;return this.$("#search-view").trigger("error",{errorMessage:sprintf(r,SumoUtil.encode(t)),modelUpdates:{timerangeText:t,timeElapsed:0}}),!1}return!(i>s)||(this.$("#search-view").trigger("error",{errorMessage:g.searchJSON.start_after_end_time,modelUpdates:{timerangeText:t,timeElapsed:0}}),!1)},_checkForParams:function(e){this.model.isBasicModeEditor()||this.expressionEditorView.searchParamsFetch();var t=this.parameterModel;return this.queryingForParams?(this.searchAttrsWaitingForParams=e,!1):!!t.isValidParamValueSet()},showParamView:function(e,t,i){var s,n=this,a=t,r=this.getParamsForView(),o=SumoApp.user.userPreferencesModel.getOpenSettingsOnParamCreation();return new Promise((e=>{I.renderSearchParamEditDialog({parameters:r,triggeringParamName:t,openSettingsOnParamCreation:o,onSaveParams:t=>{t&&e(t)}})})).then((function(e){var i=e.parameter;return a=i.name,s=e.openSettingsOnParamCreation,le.editOrRemoveParam(t,n.getParamsForView(),i)})).then((function(e){var i=e.updatedParamList,a=e.queryReplaceContent;n.parameterModel.setParameters(i),n.replaceQueryString(t,a),n.model.updateOpenSettingsOnParamCreationPref(o,s)})).finally((function(){var e=n.expressionEditorView;i&&(e.focusEditor(),e.editor.setCursor(_.extend(i,{ch:i.ch+a.length+4})))}))},updateDescription:function(){var e=this.model.getSavedSearch();e&&!_.isEmpty(e)&&$("#srch-param-desc").text(e.description||"")},logSearchParamViewState:function(e,t){var i={module:"search",component:"search",action:"startSearchQuery",params:{paramCount:e,viewState:t}};oe.user(i)},logUserTelemetry:function(e,t){t.query=this.getQueryString().trim(),t.basicModeData=this.model.isBasicModeEditor()?JSON.stringify(this.model.getSavedSearchSettingsModel().getLogsQueryData()):"NA";var i={module:"search",component:"search",action:e,params:t};oe.userTelemetry(i)},_validateAndUpdateParamView:function(e){return!!this._checkForParams(e)||(this.searchAttrsWaitingForParams||this.updateNgParameterView(!0),!1)},startSearchQuery:function(e={}){var{drilldownSearchId:t,messageLocators:i,timeRangeOverride:s,drilldownConfig:n,userTriggered:a=!1}=e,r=this.parameterModel;r&&this.logSearchParamViewState(r.getParameters().length,r.getSearchParamsViewState()),this.logUserTelemetry("startSearchQuery",{mode:this.model.isBasicModeEditor()?"basic":"advanced",viewId:this.options.viewId,uniqId:this.model.getUniqId(),userTriggered:a});var o=e;if(this._validateAndUpdateParamView(o)){var d=this.getQueryString().trim();if($.log("Sumo.Ui.Search.SearchView.startSearchQuery - value: %s",d),SumoApp.priv.hasPerformanceLoggingEnabled()){this.searchPerformanceIdObj={module:Ee.SEARCH_MODULE,event:Ee.RUN_SEARCH_EVENT,id:Date.now().toString()},this.foundHistogramResult=!1;var c={viewId:this.cid,title:null};$("#search-tabs-view").trigger("getTitle",c),this.searchPerformanceMetadata={tabId:c.id},SumoApp.performanceLogger.mark(this.searchPerformanceIdObj,Ee.START_CHECKPOINT)}if(d){if("sumo-egg-style"===d)return void this.handleSumoEgg(d);if(d.match(/^_code=\S+\s*$/)||d.match(/^_code=/)&&d.indexOf("//")>-1){var u=d.substr(6).split(/\s+/)[0];return void this.runSearchByCode(u)}}if($.now()-this.creatingTimeStamp<1e3)this.$("#search-view").trigger("error",{errorMessage:g.searchJSON.text_busy_create_ignored});else if(this.model.getSearchExportId())this.$("#search-view").trigger("error",{errorMessage:g.searchJSON.text_unable_to_search_export_running});else{this.creatingTimeStamp=$.now(),this.clearError(),this.clearWarning(),this.disableSearchByReceipt(!0);var h=this.getTimeRangeViewAttrs(),p=h.text,m=h.details,f=h.start,S=h.end,v="all"===p,w=h.startError,b=h.endError;if(s&&(f=s.startMillis,S=s.endMillis),w||b){var y=w?h.startErrorMessage:h.endErrorMessage;this.$("#search-view").trigger("error",{errorMessage:y,modelUpdates:{timerangeText:p,searchExpression:d,displaySearchExpression:d,timeElapsed:0}})}else if(f>S)this.$("#search-view").trigger("error",{errorMessage:g.searchJSON.start_after_end_time,modelUpdates:{timerangeText:p,searchExpression:d,displaySearchExpression:d,timeElapsed:0}});else{var T=this.getQueryString();SumoUtil.isStringEmpty(T)&&(T="*"),$.log("Sumo.Ui.Search.SearchView.startSearchQuery() - timerange text: '%s', start: '%s', end: '%s'",p,new Date(f),new Date(S));var E=this.fetchParamPreviewObjFromModel(T,this.model.getParameterModel()),C=se.isSaveQueryExpression,A=new l({context:this.options.context,searchViewSettingsModel:this.model.reinitSearchViewSettingsModel(),searchQueryId:t,isDrilldown:!_.isUndefined(t)&&!_.isNull(t),savedSearchId:this.model.getSavedSearchId(),searchExpression:T,timerangeText:p,timerangeDetails:m,startMillis:f,endMillis:S,isAllTIme:v,searchOwner:this.model.getSearchOwner(),byReceiptTime:this.model.getSearchByReceiptTime(),autoParsingInfo:this.model.getAutoParsingInfo(),accelerateSearch:this.model.getAccelerateSearch(),fromSavedSearch:this.model.getFromSavedSearch(),fromSavedSearchQueryString:this.model.getFromSavedSearchQueryString(),savedSearch:this.model.getSavedSearch(),isSavedSearchModified:this.model.getIsSavedSearchModified(),drilldownMonitor:this.model.getDrilldownMonitor(),searchByReceiptTimeDisabled:this.model.getSearchByReceiptTimeDisabled(),drillDownParams:this.model.getDrillDownParams(),saveSearchSettings:this.model.getSavedSearchSettingsModel(),userAssignedFields:{},closedWarnings:[],parameterModel:this.model.getParameterModel(),fromDirectURL:this.model.getFromDirectURL(),isSaveExpression:C(E.queryWithParamVal,this.model.getAutoParsingInfo()),displaySearchExpression:this.model.getDisplaySearchExpression(),searchQueryExpressionModel:this.model.getSearchQueryExpressionModel(),infrequentPartitions:this.model.getInfrequentPartitions(),displayQueryInfrequentTier:this.model.getDisplayQueryInfrequentTier(),displayQueryNonInfrequentTier:this.model.getDisplayQueryNonInfrequentTier(),runningQueryInfrequentTier:this.model.getRunningQueryInfrequentTier(),displayMatchedDataTier:this.model.getDisplayMatchedDataTier(),runningMatchedDataTier:this.model.getRunningMatchedDataTier(),viewId:this.options.viewId,uniqId:this.model.getUniqId(),previousSearchQueryId:this.model.getSearchQueryId(),infrequentPartitions:this.model.getInfrequentPartitions(),frequentPartitions:this.model.getFrequentPartitions(),continuousPartitions:this.model.getContinuousPartitions(),securityPartitions:this.model.getSecurityPartitions()});this.model.setSearchQueryId(""),n&&n.drilldownToMessagesTab&&he.hasFeatureFlag("UISinglePointDrilldown")&&A.setSearchResultsTabSelection(this.model.ResultsTabType.MESSAGES),this.$("#search-expression").trigger("searchStarted",A);var M={searchName:this.getParsedViewTitle()};i&&(M.messageLocators=i),M.parameters=this.parameterModel.get("parameters"),this.updateDescription(),this.model.setPendingStartSearchQuery({model:A,drilldownSearchId:t,messageLocators:i}),this.setSearchButtonEnabled(!1),this.renderSearchQueryActions({bSearchStarting:!0}),this._checkForConfirmation(A,M),this.updateUrlLater&&this.updateUrl()}}}},_isConfirmableQuery:function(e){var t=this.model.getPendingStartSearchQuery();return[(t?t.model:this.model).getIsSaveExpression(),f.isExternalLookup(e)?SumoUtil.IS_EXTERNAL_LOOKUP:0]},newSearchQueryModel:null,_saveSearchModel:function(e,t){var i=this;e.save(t,{success:function(e){i.model.resetClosedWarnings(),i.onSearchQueryCreated(e),i.disableSearchByReceipt(!1),ne()&&i.logUserTelemetry("onSaveSearchQuery",{mode:e.isBasicModeEditor()?"basic":"advanced",querySessionId:e.getSearchQueryId(),viewId:i.options.viewId,uniqId:e.getUniqId()})},parseError:function(e){i.model.setPendingStartSearchQuery(null),i.onCreateQueryParseError(e),i.disableSearchByReceipt(!1),ne()&&i.logUserTelemetry("onQueryParseError",{mode:e.isBasicModeEditor()?"basic":"advanced",viewId:i.options.viewId,uniqId:e.getUniqId()})},error:function(e){i.model.setPendingStartSearchQuery(null),i.onCreateQueryError(e),i.disableSearchByReceipt(!1),ne()&&i.logUserTelemetry("onQueryError",{mode:e.isBasicModeEditor()?"basic":"advanced",viewId:i.options.viewId,uniqId:e.getUniqId()})}})},_confirmSaveViewQuery:function(e,t){this._saveSearchModel(e,t)},_confirmLookupQuery:function(e,t){var i;try{i=JSON.parse(localStorage.getItem("lookupConfirmCache"))||[]}catch(e){i=[]}var s=SumoUtil.extractURL(e.getSearchExpression());i=_.uniq(i.concat(s)),localStorage.setItem("lookupConfirmCache",JSON.stringify(i)),this._saveSearchModel(e,t)},_cancelSaveViewQuery:function(e){var t=this;t.model.setPendingStartSearchQuery(null),t.setSearchButtonEnabled(!0),t.disableSearchByReceipt(!1)},_checkForConfirmation:function(e,t){var i=this,s=e.getSearchExpression(),n=this._isConfirmableQuery(s),a=n[0],r=_.bind(this._confirmSaveViewQuery,this,e,t),o=_.bind(this._confirmLookupQuery,this,e,t);a.then((function(a){if(a){var l=s.split(g.searchJSON.query_has_save_file_space)[1],d=s.split(g.searchJSON.query_has_save_append)[1],c=l&&0==l.trim().indexOf("path://")||d&&0==d.trim().indexOf("path://")?g.searchJSON.confirm_run_save_file_query:g.searchJSON.confirm_run_save_file_query+g.searchJSON.confirm_run_save_file_query_suffix_lookup;SumoApp.userMessage.question(sprintf(c,SumoUtil.encode(l)),{title:g.searchJSON.confirm_save_file_query_title,okCallback:r,cancelCallback:i._cancelSaveViewQuery,okText:g.searchJSON.run,isHTML:!0})}else if(n.indexOf(SumoUtil.IS_EXTERNAL_LOOKUP)>-1&&e.getFromDirectURL()){var u;try{u=JSON.parse(localStorage.getItem("lookupConfirmCache"))||[]}catch(e){u=[]}var h=SumoUtil.extractURL(e.getSearchExpression());_.intersection(u,h).length===h.length&&h.length>0?i._saveSearchModel(e,t):SumoApp.userMessage.question(g.searchJSON.confirm_external_lookup_query,{title:g.searchJSON.confirm_external_lookup_title,okCallback:o,cancelCallback:i._cancelSaveViewQuery,okText:g.searchJSON.run,isHTML:!1})}else i._saveSearchModel(e,t)})).catch((function(){i._saveSearchModel(e,t)}))},onSearchQueryCreated:function(e){ue.notify({actionType:X.OPEN,items:[]}),SumoUtil.setMessagePageAnalysisData(e.getSearchQueryId(),this.model.getSearchQueryId()||this.model.getPreviousSearchQueryId()),$.log("Sumo.Ui.Search.SearchView.onSearchQueryCreated"),this.destroyed?$.log("Sumo.Ui.Search.SearchView.onSearchQueryCreated - the view has been destroyed."):(this.newSearchQueryModel=e,this._searchQueryCreated(),this.toggleHistogram(this.model.getHistogramHideSetting()),this.onIsPinnedChange(),this.model.setSearchStateDirty(!1))},_searchQueryCreated:function(){$("#search-query-histogram-wrapper").show(),$("#search-view-overlay").hide(),this.model.setPendingStartSearchQuery(null),this.setSearchButtonEnabled(!0),this.destroySearchQuery(!0,!0,this.newSearchQueryModel.getPreviousSearchQueryId(),this.newSearchQueryModel.getSearchQueryId()),this.model=this.newSearchQueryModel,this.trigger("searchQueryModelChanged",this.model),this.newSearchQueryModel=null,this.renderSearchQueryActions(),this.UISearchWarningsAndErrorViewFF&&this.listenTo(this.model,"change:status",this.onSearchStatusChange),this.listenTo(this.model,"change:warnings",this.onWarningsChange),(z.userHelperOverride.hasFeatureFlag("UISearchNonAggregateTable")||z.userHelperOverride.hasFeatureFlag("UISearchAggregateTable")||z.userHelperOverride.hasFeatureFlag("UISearchSummarizeTable"))&&this.listenTo(this.model.getSearchViewSettingsModel(),"change:resultsViewMaximized",this.onResultsViewMaximizedStateChange),E.setPerformanceServiceContext({searchQueryId:this.model.getSearchQueryId(),isReattached:this.model.get("isReattached")}),he.hasFeatureFlag("UIScannedBytes")&&(this.listenTo(this.model,"change:displaySearchExpression",this.fetchEstimatedScannedBytesDebounced),this.listenTo(this.model,"change:infrequentPartitions",this.fetchEstimatedScannedBytesOnPartitionsLoad)),this.destroySavedSearchModelBindings(),this.initSavedSearchModelBindings(),this.setTimeRangeViewValue(this.model.getTimerangeText()),this.renderSearchQueryStats(),this.subviews.register("histogramView",new u({context:this.options.context,model:this.model,el:this.$("#search-query-histogram-reduced")}));var e=this.subviews.get("resultsView");e?e.resetAndRenderSubviewsExceptMessages(this.model):this.subviews.register("resultsView",new h({context:this.options.context,model:this.model,el:this.$("#search-query-results")})),this.model.startPolling(),this.model.setInfrequentTierForRunningQuery(),this.model.loadSearchActions(),this.syncActions()},onSearchStatusChange:function(){this.model.getStatus()===ve.STATUS_ERROR&&this.onError(void 0,{errorDetails:this.model.getErrorDetails(),errorMessages:this.model.getErrorMessages(),errorMessage:this.model.getErrorMessage()})},fetchEstimatedScannedBytes:function(e,t){var i=this.model,s=i.getMatchedInfrequentTier(e),n=i.extractMatchedDataTier(e,!!s),a=i.getMatchedNonInfrequentTier(e);if(i.setDisplayQueryInfrequentTier(s),i.setDisplayMatchedDataTier(n),i.setDisplayQueryNonInfrequentTier(a),t&&(!s&&a?i.setRunningQueryInfrequentTier(a):i.setRunningQueryInfrequentTier(s),i.setRunningMatchedDataTier(n)),s||n){var r=this.getTimeRangeViewAttrs()||this.model.getTimerangeDetails();this.model.fetchEstimatedScannedBytes(r.details,e)}else i.setEstimatedUsageDetails({}),i.setEstimatedUsageDetailsByTier([])},fetchEstimatedScannedBytesOnQueryChange:function(){var e=this.model.getDisplaySearchExpression();this.model.shouldRefetchEstimatedUsageDetails(e)&&(this.model.setSearchStateDirty(!0),this.fetchEstimatedScannedBytes(e))},fetchEstimatedScannedBytesOnPartitionsLoad:function(){var e=this.model.getDisplaySearchExpression();this.model.shouldRefetchEstimatedUsageDetails(e)&&this.fetchEstimatedScannedBytes(e,0!==this.model.getStatus()),this.initiateSearchQueryStart()},syncActionsInBento:function(){this.setPinLinkState()},syncActions:function(){this.syncActionsInBento()},onCreateQueryParseError:function(e){this.destroyed||(this.setSearchButtonEnabled(!0),this.showErrorMessage(e))},onCreateQueryError:function(e){this.destroyed||(this.setSearchButtonEnabled(!0),this.showErrorMessage(e))},onCreateSearchStatusChange:function(e){if(this.stopListening(e,"change:createSearchStatus"),!this.destroyed)switch(e.getCreateSearchStatus()){case e.STATUS_CREATE_SUCCESS:this.onSearchQueryCreated(e);break;case e.STATUS_CREATE_ERROR:this.onCreateQueryError(e);break;case e.STATUS_CREATE_PARSE_ERROR:this.onCreateQueryParseError(e)}},reattach:function(e){E.start({id:"start_search_query_"+this.model.getUniqId(),metric:te.SearchQueryCreation});var t=this,i=SumoUtil.formatTimeRangeText(e.getStartTimestamp(),e.getEndTimestamp(),!0);if(this.onLoadSearchQuery(null,e),this.model.set({searchQueryId:e.getQueryId(),startMillis:e.getStartTimestamp(),endMillis:e.getEndTimestamp(),searchExpression:e.getQueryString(),displaySearchExpression:this.getQueryString(),timerangeText:i,isPinned:e.getPinned(),byReceiptTime:e.getSearchByReceiptTime(),autoParsingInfo:e.getAutoParsingInfo(),isSaveExpression:se.isSaveQueryExpression(e.getQueryString(),e.getAutoParsingInfo()),searchQueryStartMillis:void 0,searchQueryEndMillis:void 0}),t.parameterModel.setParameters(e.getParameters()||[]),t.hideSearchQuery(),t.updateNgParameterView(),e.getQueryId()){var s=this.model.clone();s.set({status:this.model.STATUS_REATTACHED}),s.set("isReattached",!0);var n=this;s.reattachQuery((function(e){e.error?(s.destroy(),n.startSearchQuery()):(s.set({searchQueryStartMillis:$.now()}),e.byReceiptTime&&s.setSearchByReceiptTime(e.byReceiptTime),e.autoParsingInfo&&s.setAutoParsingInfo(e.autoParsingInfo),t.renderDynamicParsingComponents(s),t.onSearchQueryCreated(s),s.keepAlive())}))}else this.setTimeRangeViewValue(i),this.model.set({status:this.model.STATUS_NOT_STARTED})},getViewTitle:function(){return this.options.getTitle()||""},getParsedViewTitle:function(){var e=this.getViewTitle()!==g.searchJSON.title_search?this.getViewTitle():"";return e&&0===e.indexOf(this.TAB_SEARCH_MODIFIED_PREFIX)&&(e=e.replace(this.TAB_SEARCH_MODIFIED_PREFIX,"")),e},getTreView:function(){return this.subviews.get("tre")},getTreModel:function(){var e=this.model.getTimeRangeEditorV2Details();return e&&"relative"===e.type?this.timeRangeUtil.parseTimeRangeValue(e.value):e},getTreId:function(){return"search-"+this.cid},getTimeRangeViewAttrs:function(){var e=this.getTreModel();if(e)return{text:e.value,start:e.startTime,end:e.endTime,details:e.details,startError:e.hasStartErrors,endError:e.hasEndErrors,startErrorMessage:e.startErrorMessage,endErrorMessage:e.endErrorMessage}},setTimeRangeViewValue:function(e){this.model.setTimeRangeEditorV2Details(this.timeRangeUtil.parseTimeRangeValue(e)),this.renderTimeRangeEditorV2(this.getTimeRangeEditorProps())},onKeyUpSearchExpression:function(){var e=this.model.getSavedSearch(),t=this.model.getDrilldownMonitor();this.model&&this.model.setDisplaySearchExpression(this.getQueryString()),this.options.context.userInfo.isDevEnv&&e&&e.query&&$.log("Sumo.Ui.Search.SearchView.onKeyPressSearchExpression: savedSearchObj.query.queryString = "+e.query.queryString);var i=e&&!_.isEmpty(e)?e.query.queryString:this.model.get("searchExpression");this.model.setIsSearchModified(i!==this.getQueryString());var s=this.getTimeRangeViewAttrs();_.isUndefined(s)?this.showModifiedMonitor(t):this.showModifiedMonitor(t,s.start,s.end,s.text)},showModifiedMonitor:function(e,t,i,s){this.getViewTitle();this.model.getFromSavedSearch()||this.model.getSavedSearchId()||null===this.getViewTitle()||_.isEmpty(e)||e.queryString===this.getQueryString()&&t===e.startTimestamp&&i===e.endTimestamp||this.getViewTitle().indexOf(this.TAB_SEARCH_MODIFIED_PREFIX)<0&&(this.getViewTitle(),this.updateViewTitleWithIcons("edited-saved-search"))},resetSearchStateOnKill:function(){this.model.set({searchQueryId:null,displayStartMillis:null,displayEndMillis:null,displayRange:null,isPinned:!1,pendingStartSearchQuery:null,previousSearchQueryId:this.model.getSearchQueryId()}),this.model.getSearchViewSettingsModel().setResultsViewMaximized(!1)},debounceSearchErrorLog:function(e){we&&clearTimeout(we),-1===_e.indexOf(e)&&_e.push(e);var t=this;we=setTimeout((function(){_e.forEach((function(e){oe.error({module:"search",component:"search",action:"onSearchError",params:{errorMessage:e,query:t.getQueryString().trim(),timeRangeText:t.model.getTimerangeText()}})})),_e=[]}),500)},showBusy:function(e){if($.log("Sumo.Ui.Search.SearchView.showBusy"),this.debounceSearchErrorLog(e),this.UISearchWarningsAndErrorViewFF){this.destroySearchWarningsAndErrorView();var t=document.getElementById(Te);U.renderSearchBusyMessage({message:e}),this.reactComponentInstances[Te]=t}else this.options.context.errorUtil.renderBusy(this.$("#search-errors"),e,!1,null);this.onResize()},showErrorMessage:function(e){this.$("#search-view").trigger("error",{errorMessage:e.getErrorMessage(),errorDetails:e.getErrorDetails(),errorMessages:e.getErrorMessages(),modelUpdates:{searchExpression:e.getSearchExpression(),displaySearchExpression:e.getDisplaySearchExpression(),timerangeText:e.getTimerangeText(),timeElapsed:e.getTimeElapsed()}})},registerHighlightElements:function(e,t,i){this.highlightedErrors.push({element:e,offset:t,className:i})},unbindSelectedHighlightElementByCursorPosition:function(e){var t=this;this.highlightedErrors.forEach((function(i){e.className.indexOf(i.className)>-1&&(t.expressionEditorView.removeHighlighted(i.className),$(i.className).off("mouseenter mouseleave"),t.UISearchWarningsAndErrorViewFF?t.destroySearchWarningsAndErrorView():(i.element.off(),t.removeByAnimation(i.element)))}))},removeByAnimation:function(e){var t=this;e.animate({"max-height":0},500,(function(){e.remove(),t.onResize(!0)}))},unbindAllHighlightEvents:function(){var e=this;this.highlightedErrors.forEach((function(t){$(t.className).off("mouseenter mouseleave"),e.UISearchWarningsAndErrorViewFF?e.destroySearchWarningsAndErrorView():(t.element.off(),e.removeByAnimation(t.element))})),this.expressionEditorView&&this.expressionEditorView.removeHighlighted(this.HIGHLIGHT_ERROR_CLASS),this.highlightedErrors=[]},beforeTextChange:function(e){if(this.isMessageOffsetPresent){var t=e.getCursor(),i=this.expressionEditorView.getMarkerByPosition(t);i.length&&this.unbindSelectedHighlightElementByCursorPosition(i[0])}},onEditorDomUpdate:function(){this.bindEventsToHighlightedElements()},handleLastIndexError:function(e){if(!this.model.isBasicModeEditor()){var t=this.expressionEditorView.editor.getCursor(),i=this.getQueryString().split("\n");i[e.end.line]&&e.end.ch>i[e.end.line].length&&(i[e.end.line]+=" "),this.expressionEditorView.setValue(i.join("\n")),this.expressionEditorView.editor.setCursor(t)}},getOffset:function(){var e=le.getOffset.apply(null,arguments);return e},bindEventsToHighlightedElements:function(){this.highlightedErrors.forEach((function(e){var t=$("."+e.className).add(e.element);t.off("mouseenter mouseleave"),t.on("mouseenter",(function(){t.addClass("full")})),t.on("mouseleave",(function(){t.removeClass("full")}))}))},renderSearchWarningsAndErrorView:function(e){this.destroySearchWarningsAndErrorView();var t=document.getElementById(Te),i={searchQueryId:this.model.getSearchQueryId(),data:{...e,warnings:this.model.getWarnings()},setWarningsInModel:this.model.setWarnings.bind(this.model),getWarningsFromModel:this.model.getWarnings.bind(this.model),destroyWarningsAndErrorView:this.destroySearchWarningsAndErrorView.bind(this)};U.createSearchWarningsAndErrorView(i,t),this.reactComponentInstances[Te]=t},destroySearchWarningsAndErrorView:function(){var e=this.reactComponentInstances[Te];e&&(U.destroySearchWarningsAndErrorView(e),this.reactComponentInstances[Te]=void 0)},handleWarningsAndErrorReact:function(e){if(e.isWarning){var t=this.model.getWarnings();V.addWarnings([e.errorMessage],!0,t,this.model.setWarnings.bind(this.model))}else{var i=this;V.handleError({data:e,setSearchButtonEnabled:i.setSearchButtonEnabled.bind(this),setErrorInModel:i.model.registerError.bind(this.model),modelErrorMessages:{errorMessage:i.model.getErrorMessage(),errorMessages:i.model.getErrorMessages(),errorDetails:i.model.getErrorDetails()},unbindAllHighlightEvents:i.unbindAllHighlightEvents.bind(this),destroySearchWarningsAndErrorView:i.destroySearchWarningsAndErrorView.bind(this),renderSearchWarningsAndErrorView:i.renderSearchWarningsAndErrorView.bind(this),setMessageOffset:i.setMessageOffset.bind(this),highlightErrorClass:i.HIGHLIGHT_ERROR_CLASS,getOffset:i.getOffset.bind(this),handleLastIndexError:i.handleLastIndexError.bind(this),isBasicModeEditor:i.model.isBasicModeEditor.bind(this.model),highlightMessage:i.expressionEditorView.highlightMessage.bind(this.expressionEditorView),registerHighlightElements:i.registerHighlightElements.bind(this),bindEventsToHighlightedElements:i.bindEventsToHighlightedElements.bind(this)}),e.modelUpdates&&this.model.set(e.modelUpdates)}},setMessageOffset:function(e){this.isMessageOffsetPresent=e},onError:function(e,t){if($.log("Sumo.Ui.Search.SearchView.onError"),this.UISearchWarningsAndErrorViewFF)this.handleWarningsAndErrorReact(t);else{var i=this;if(t.isWarning)this.model.addWarnings([t.errorMessage],!0);else{if(_.isEmpty(t.errorMessages)){if(!t.errorMessage)return;t.errorMessages=[{message:t.errorMessage,offset:null}]}this.setSearchButtonEnabled(!0),this.model.registerError(t.errorMessage,t.errorDetails,t.errorMessages);var s=t.errorMessages,n=this;this.unbindAllHighlightEvents(),this.isMessageOffsetPresent=!1,this.$("#search-errors").children().remove(),s.forEach((function(e,s){n.debounceSearchErrorLog(e.message);var a=n.options.context.errorUtil.render(n.$("#search-errors"),e.message,t.errorDetails,!1,(function(){i.clearError()}),!0);if(e.errorRange){n.isMessageOffsetPresent=!0;var r=_.uniqueId("highlight-index-"),o=n.HIGHLIGHT_ERROR_CLASS+" "+r,l=n.getOffset(e.errorRange);n.handleLastIndexError(l),n.model.isBasicModeEditor()||n.expressionEditorView.highlightMessage(l,o),n.registerHighlightElements(a,l,r)}})),this.bindEventsToHighlightedElements(),t.modelUpdates&&this.model.set(t.modelUpdates)}this.onResize(),e&&e.stopPropagation&&e.stopPropagation()}},setSearchButtonEnabled:function(e){!1===e?v.createSearchButton("loading"):(v.createSearchButton(),setTimeout((()=>{E.measure({id:"start_search_query_"+this.model.getUniqId(),metric:te.SearchQueryCreation})})))},clearError:function(){$.log("Sumo.Ui.Search.SearchView.clearError"),this.UISearchWarningsAndErrorViewFF?this.destroySearchWarningsAndErrorView():(this.options.context.errorUtil.destroy(this.$("#search-errors")),this.clearWarning(),this.options.context.errorUtil.destroy(this.$("#search-model-warnings")))},clearWarning:function(){this.UISearchWarningsAndErrorViewFF?this.destroySearchWarningsAndErrorView():this.searchWarningsView&&($.log("Sumo.Ui.Search.SearchView.clearWarning"),this.searchWarningsView.clearWarnings())},clearAndRemoveWarning:function(){this.UISearchWarningsAndErrorViewFF?(this.destroySearchWarningsAndErrorView(),this.model.set("warnings",[])):this.searchWarningsView&&this.searchWarningsView.clearAndRemoveWarnings()},clearInfo:function(e,t){$.log("Sumo.Ui.Search.SearchView.clearInfo"),this.UISearchWarningsAndErrorViewFF?this.destroySearchWarningsAndErrorView():(this.options.context.errorUtil.destroy(this.$("#search-info")),this.onResize())},setSavedSearchMode:function(e,t){var i=this.model.getSavedSearchSettingsModel();!_.isUndefined(e)&&i.getLogsQueryMode()!==e&&ne()&&w.isValidBasicModeQuery(t||this.getQueryString())&&i.toggleQueryMode(this.model.getUniqId())},setSavedSearchSettings:function(e,t,i,s){var n=this.model.getSearchViewSettingsModel(),a=this.model.getSavedSearchSettingsModel();e&&(n.setAggregateResultsViewerType(e),a.setAggregateViewerType(e)),t&&(n.setAggregateResultsSettings(t),a.setAggregateResultsSettings(t)),i&&a.setHiddenLegends(i),_.isUndefined(s)||this.setSavedSearchMode(s)},setSavedSearchSettingsFromPropertiesString:function(e){try{const t=JSON.parse(e);this.setSavedSearchSettings(t.aggregateViewerType,t.aggregateResultsSettings,t.hiddenLegends,t.logsQueryMode)}catch(e){}},drilldown:function(e){E.start({id:"start_search_query_"+this.model.getUniqId(),metric:te.SearchQueryCreation});var t=e.toJSON();if($.log("Sumo.Ui.Search.SearchView.drilldown. Data: %s",SumoUtil.formatObjectForLog(t)),e.getFromSavedSearch())return void this.onLoadSearchQuery(null,e);const i=e.getSavedSearch();i&&i.properties&&this.setSavedSearchSettingsFromPropertiesString(i.properties);var s=e.getMonitorObject();s&&this.setSavedSearchSettings(s.viewerType,s.properties,void 0,s.logsQueryMode),this.setQueryString(e.getQueryString()||"*"),this.parameterModel.setParameters(_.cloneDeep(e.getParameters()));var n=e.getParamViewState();_.isUndefined(n)?this.hideSearchQuery():this.parameterModel.setSearchParamsViewState(n),this.updateNgParameterView();var a=null;if(e.getTimeRange())$.log("Sumo.Ui.Search.SearchView.drilldown timeRangeText: %s",e.getTimeRange()),this.setTimeRangeViewValue(e.getTimeRange());else if(e.getStartTimestamp()&&e.getEndTimestamp()){$.log("Sumo.Ui.Search.SearchView.drilldown startMillis: %s endMillis: %s",e.getStartTimestamp(),e.getEndTimestamp());var r=SumoUtil.formatTimeRangeText(e.getStartTimestamp(),e.getEndTimestamp(),!0);this.setTimeRangeViewValue(r),a={startMillis:e.getStartTimestamp(),endMillis:e.getEndTimestamp()}}e.getSearchByReceiptTime()&&this.model.setSearchByReceiptTime(!0),e.getAutoParsingInfo()&&this.model.setAutoParsingInfo(e.getAutoParsingInfo()),this.renderDynamicParsingComponents(),e.getQueryName()&&(e.getMonitorModified()?(this.updateViewTitle(e.getQueryName()),this.updateViewTitleWithIcons("edited-saved-search")):this.updateViewTitle(e.getQueryName()));var o=e.getChartSettings();o&&(o.aggregateResultsSettingsUpdated=$.now(),this.model.getSearchViewSettingsModel().set(o));var l=e.getParams();l&&this.model.setDrillDownParams(l);var d=e.getMonitorObject();if(d){if(this.model.setDrilldownMonitor(d),d.viewerType&&d.properties){d.startTimestamp=e.getStartTimestamp(),d.endTimestamp=e.getEndTimestamp(),this.model.setDrilldownMonitor(d);var c={aggregateResultsViewerType:d.viewerType,aggregateResultsSettings:d.properties,aggregateResultsSettingsUpdated:$.now()};this.model.getSearchViewSettingsModel().set(c)}d.autoParsingInfo&&this.model.setAutoParsingInfo(d.autoParsingInfo),d.byReceiptTime&&this.model.setSearchByReceiptTime(!0)}e.getFromDirectURL()&&this.model.setFromDirectURL(!0),e.getInitiatingSearchQueryId()&&this.model.setDrillDownFromPreviousSession(!0),e.getExecuteSearch()&&(this.drilldownData={drilldownSearchId:e.getInitiatingSearchQueryId(),messageLocators:e.getMessageLocators(),timeRangeOverride:a,drilldownConfig:e.getDrilldownConfig()},this.UIScannedBytes&&!e.getInitiatingSearchQueryId()?this.model.setTriggerSearch(!0):this.startSearchQuery({drilldownSearchId:this.drilldownData.drilldownSearchId,messageLocators:this.drilldownData.messageLocators,timeRangeOverride:this.drilldownData.timeRangeOverride,drilldownConfig:this.drilldownData.drilldownConfig}))},initiateSearchQueryStart:function(){var e=this.model.getDisplayQueryInfrequentTier()||this.model.getDisplayMatchedDataTier();this.model.getTriggerSearch()&&this.model.getInfrequentPartitions()&&!e&&(this.drilldownData?this.startSearchQuery({drilldownSearchId:this.drilldownData.drilldownSearchId,messageLocators:this.drilldownData.messageLocators,timeRangeOverride:this.drilldownData.timeRangeOverride,drilldownConfig:this.drilldownData.drilldownConfig}):this.startSearchQuery(),this.model.setTriggerSearch(!1),this.drilldownData=null)},onLoadSearchQuery:function(e,t,i=!1){if($.log("Sumo.Ui.Search.SearchView.onLoadSearchQuery. Data - savedSearchId: %s, searchQueryString: %s, searchTimeRange: %s, startSearch: %s, fromSavedSearch: %s",t.savedSearchId,t.searchQueryString,t.searchTimeRange,t.startSearch,t.fromSavedSearch),this.destroySavedSearchModelBindings(),this.initSavedSearchModelBindings(),null!==t.getMonitorObject()&&!_.isEmpty(t.getMonitorObject()))return this.model.setSavedSearch({}),this.model.setFromSavedSearch(!1),this.model.setSavedSearchId(null),void this.drilldown(t);SumoUtil.isInteger(t.getSavedSearchQueryId())&&this.model.setSavedSearchId(t.getSavedSearchQueryId());var s,n,a=t.getSavedSearch();if(a){s={};try{a.properties&&(s=JSON.parse(a.properties),this.setSavedSearchMode(s.logsQueryMode,t.getQueryString()))}catch(e){}}(this.setQueryString(t.getQueryString()),this.options.getSaveSearchSettings()&&this.options.getSaveSearchSettings().aggregateViewerType&&this.setSavedSearchSettings(this.options.getSaveSearchSettings().aggregateViewerType),t.getTimeRange()&&this.setTimeRangeViewValue(t.getTimeRange()),t.getFromSavedSearch()&&(this.model.setFromSavedSearch(!!t.getFromSavedSearch()&&t.getFromSavedSearch()),this.model.setFromSavedSearchQueryString(t.getFromSavedSearch()?t.getQueryString():null)),t.getFromSavedSearch()&&!_.isEmpty(t.getSavedSearch())&&(this.model.setIsSearchModified(!1),this.model.setSavedSearch(t.getSavedSearch()),this.model.setDrilldownMonitor(null)),t.getSearchByReceiptTime()&&this.model.setSearchByReceiptTime(t.getSearchByReceiptTime()),t.getAutoParsingInfo()&&this.model.setAutoParsingInfo(t.getAutoParsingInfo()),this.renderDynamicParsingComponents(),a)&&(_.isArray(a.parameters)&&(n=a.parameters.map((function(e){return _.extend({},e)}))),this.parameterModel.setParameters(n||[]),this.hideSearchQuery(),this.updateNgParameterView());if(t.getExecuteSearch()?(this.model.getSearchViewSettingsModel().resetAggregateResultsSettings(),this.UIScannedBytes?this.model.setTriggerSearch(!0):this.startSearchQuery()):this.model.isBasicModeEditor()||this.expressionEditorView.focusEditor(),s&&!i&&this.setSavedSearchSettings(s.aggregateViewerType,s.aggregateResultsSettings,s.hiddenLegends),t.getSavedSearch()&&!_.isEmpty(t.getSavedSearch().viewName)){var r=new Date,o=new Date(t.getSavedSearch().viewStartTime),l=parseInt(Math.ceil(r.getTime()-o.getTime())/864e5);1==l?g.searchJSON.DAY:g.searchJSON.DAYS;this.switchLinkState(this.linkStates.NOT_SAVEABLE)}},onWarningsChange:function(){$.log("Sumo.Ui.Search.SearchView.onWarningsChange");var e=this.model.getWarnings();e&&e.length&&(this.UISearchWarningsAndErrorViewFF?this.renderSearchWarningsAndErrorView():(this.searchWarningsView?this.searchWarningsView.addWarnings(e):this.searchWarningsView=new m({el:this.$el.find("#search-warnings"),warnings:e,removeWarnings:this.model.removeWarnings.bind(this.model)}),this.onResize()))},onSearchParamsViewStateChange:function(){if(this.parameterModel){var e=this.parameterModel.getSearchParamsViewState(),t=s.SearchParamViewState,i=pe.getFlagFromMask(e,t.QueryView);this.$searchInputArea.toggleClass("hide-query",!i);var n=pe.getFlagFromMask(e,t.PreviewView);this.$searchInputArea.toggleClass("show-preview",!!n)}},onResize:function(e){if(!this.stopResizing||this.model.getSearchExpression()){$.log("Sumo.Ui.Search.SearchView.onResize");this.$("#search-input");this.model.getSearchViewSettingsModel().getResultsViewMaximized()||this.switchLinkState(),this.subviews.iterate((function(t,i){"onResize"in t&&t.onResize(e)}))}},onRefreshExpression:function(){this.model.isBasicModeEditor()||this.expressionEditorView.refresh()},getShortcutAction:function(e,t){var i=void 0;return"s"===e.key.toLowerCase()?e.shiftKey?i=e.data.that.saveSearchAs:t.getSavedSearchId()&&!this.disabledActions[g.searchJSON.link_save_search]?t.get("isSavedSearchModified")&&(i=e.data.that.saveSavedSearch):i=e.data.that.saveSearchAs:"l"===e.key.toLowerCase()?i=e.data.that.openInLiveTail:"e"!==e.key.toLowerCase()||this.disabledActions[g.searchJSON.link_edit_saved_search_kebab]?"h"!==e.key.toLowerCase()||this.disabledActions[g.searchJSON.link_share_link_kebab]||(i=e.data.that.onShareSearchLinkClick):i=e.data.that.editOpenSavedSearch,i},onKeyDownEvent:function(e){var t=e.data.that.isWindows?e.ctrlKey:e.metaKey,i=e.data.that.model;if(t){var s=e.data.that.getShortcutAction(e,i);s&&(e.preventDefault(),s(e))}},onKeyUpEvent:function(e){if(e.altKey)switch(e.keyCode){case 114:he.hasFeatureFlag("UISearchQueryStatsReact")||e.data.that.$("#search-query-stats").trigger("queryStatistics"),e.preventDefault()}},getMonitorTimeRange:function(){var e="absolute"===this.getTreModel().type;return this.model.getImplicitTimerangeDetails(e)},onAddToDashboard:function(e,t){var i=this.isParameterisedSearch(),s=this.getQueryString(),n=null,a=null,r=this.model.getDrilldownMonitor();r&&(n=r.timeRange,a=r.parentId);var o=this.getMonitorTimeRange(),l=this.model.getSearchViewSettingsModel().getAggregateResultsViewerType(),d=this.model.getSearchViewSettingsModel().getAggregateResultsSettings(),c=this.getViewTitle(),u=[g.searchJSON.title_search,g.searchJSON.text_email_search_results,g.searchJSON.text_search_by_code_title],h=document.createElement("DIV");h.innerHTML=this.TAB_SEARCH_MODIFIED_PREFIX;var p,m=h.textContent||h.innerText;u.indexOf(c)>=0?c="":0===c.indexOf(m)&&(c=c.substr(m.length)),i&&(p=this.parameterModel.getParameters());var S={viewerType:l,queryString:s,drilldownTimeRange:n,currentTimeRange:o,properties:d,isParameterised:i,defaultTitle:c,queryParams:p,dashboardId:a,autoParsingInfo:this.model.getAutoParsingInfo(),byReceiptTime:this.model.getSearchByReceiptTime(),isTimeseries:f.isTimeSeriesQuery(s)},v=this;z.metricsSearchActions.addToDashboard(S,Z.LOG).catch((function(){r&&v.previousDashboardVersion&&(r.version=v.previousDashboardVersion)})),E.measureOnce({id:"addSaveToDashboard",metric:te.AddToDashboardDelay,skipSli:!0})},onSaveBackToMonitor:function(){var e=this.getQueryString(),t=this.getParamsForView(),i=this.model.getDrilldownMonitor(),s=this.getMonitorTimeRange(),n=this.model.getSearchViewSettingsModel().getAggregateResultsViewerType(),a=this.model.getSearchViewSettingsModel().getAggregateResultsSettings(),r=this.model.getAutoParsingInfo(),o="dashboard"===i.parentType,l=new G;o?l.saveBackToMonitor(i,e,s,n,a,t):this.handleSaveBackToMonitorVersionCheck(l,i,e,s,n,a,t,r)},handleSaveBackToMonitorVersionCheck:function(e,t,i,s,n,a,r,o){SumoUtil.blockPage();var l={accessKey:t.parentAccessKey,id:t.parentId,type:"DASHBOARD",modifiedAt:t.version.modifiedAt,modifiedBy:t.version.modifiedBy};this.previousDashboardVersion=t.version;var d=this;z.dashboardConflictResolutionService.onDashboardUpdateAction(l).then((function(l){"CREATE"===l.action?(t.version=l.version,d.onAddToDashboard()):"OVERWRITE"===l.action&&e.saveBackToMonitor(t,i,s,n,a,r,o)})).catch((function(){SumoUtil.unblockPage()}))},getExportableQueryString:function(){var e;return this.isParameterisedSearch()&&(e=_.getPath(this.fetchParamPreviewObj(),"queryWithParamVal")),e||this.getQueryString()},openContentLibrary:function(e,t){t=t||J.Launchers.SEARCH_ICON,e.preventDefault(),SumoApp.applicationView.openContentLibrary(e,{openSearchesInExistingTab:!0,launchedFrom:t})},openInLiveTail:function(e){var t=this.getExportableQueryString(),i=f.getFirstIndexOfPipeOperator(t);if(-1!==i&&(t=t.substring(0,i)),this.validateLiveTailQuery(t)){var s=f.trimDataTierAndIndexField(t);t!==s&&(t=s,setTimeout((()=>SumoApp.userMessage.warn(g.searchJSON.live_tail_warn_message)),1e3));var n,a={filter:t};if("contextmenu"===e.type)return f.createDrilldownUrl("liveTail",a);var r=z.liveTailWorkspaceViewService;if(r.bentoLiveTailStateService.hasMaxPanels()){var o=r.bentoLiveTailStateService.getPanels();n=(n=o.find((function(e){return _.isUndefined(e.session)})))||o[0],this.confirmLivetailReplace(n,a,r.bentoLiveTailStateService)}else r.addPanel(a)}else SumoApp.userMessage.error(g.searchJSON.live_tail_no_meta_expression,{title:g.searchJSON.live_tail_invalid_query,displayType:SumoApp.userMessage.DisplayType.MSGBOX})},confirmLivetailReplace:function(e,t,i){if(e.session){var s=sprintf(g.searchJSON.open_live_tail_confirm,SumoUtil.encode(e.session.filter));SumoApp.userMessage.question(s,{isHTML:!0,title:g.searchJSON.open_live_tail_confirm_title,okCallback:_.partial(this.forceOpenInLiveTail,i,e,t),okText:g.searchJSON.open_live_tail_confirm_ok})}else this.forceOpenInLiveTail(i,e,t)},validateLiveTailQuery:function(e){return e=e.toLowerCase(),_.some(["_sourcehost","_sourcecategory","_sourcename","_source","_collector"],(function(t){return new RegExp(t+"\\s*=.+").test(e)}))},forceOpenInLiveTail:function(e,t,i){z.liveTailWorkspaceViewService.addPanel(i)},openSavedSearches:function(e){this.openContentLibrary(e,J.Launchers.SEARCH_TEXT)},updateContentActionRes:function(e){var t=e.items[0];return this.updateSavedSearchFromContentItem(t)},updateSavedSearchFromContentItem:function(e){return this.model.updateSavedSearchFromContentItem(e).then(this.onUpdateSavedSearchFromContentItem.bind(this))},onUpdateSavedSearchFromContentItem:function(e){_.isUndefined(e)||_.isEmpty(e)||(_.isEmpty(e.query)?this.updateViewTitle(g.searchJSON.label_recent_searches):(this.updateViewTitle(e.name),this.updateViewTitleWithIcons("saved-search"),this.resetValuesToSavedSearch(!0)))},editOpenSavedSearch:function(e){e.stopPropagation();var t=$.extend(!0,{},this.model.getSavedSearch()),i=($(window).height()-J.EDIT_DIALOG_WINDOW_DIFF<J.MAX_EDIT_DIALOG_HEIGHT?($(window).height(),J.EDIT_DIALOG_WINDOW_HEIGHT_DIFF):J.MAX_EDIT_DIALOG_HEIGHT,this),s=i.getTimeRangeViewAttrs(),n={queryId:i.model.getUniqId(),timezone:SumoApp.dateUtil.getDefaultTimeZone(),timeRangeDetails:s.details};t&&!_.isEmpty(t)&&(i.editSearchResponsePending||(i.editSearchResponsePending=!0,i.options.editSavedSearch(t.id,e,n).finally((function(){i.editSearchResponsePending=void 0}))))},showSavedSearchInfo:function(e){var t=this.model.getSearchQueryId();oe.info("Click:InfoSearch",{queryId:t}),e.preventDefault();var i={searchQueryId:this.model.getSearchQueryId(),parameters:this.model.getParameterModel().getParameters(),searchActions:this.model.getSearchActions(),savedSearchData:this.model.getSavedSearch(),searchExpression:this.model.getSearchExpression(),timerangeText:this.model.getTimerangeText()};L.createSearchInfoDialog(i)},resetValuesToSavedSearch:function(e){if(!0===e||this.model.getResetValuesToSavedSearch()){this.model.setResetValuesToSavedSearch(void 0);var t=this.model.getSavedSearch(),i=new F;i.setQueryString(t.query.queryString),i.setParameters(t.parameters),i.setTimeRange(t.query.timeRange),i.setFromSavedSearch(!0),i.setSavedSearchQueryId(t.id),i.setSavedSearch(t),this.onLoadSearchQuery(null,i),this.switchLinkState(this.linkStates.PUBLISHABLE)}},updateSearchfromModel:function(){this.setQueryString(this.model.getDisplaySearchExpression()),this.setTimeRangeViewValue(this.model.getDisplayTimerangeText())},subscribeSearch:function(e){e.preventDefault();var t=this,i={id:this.model.getContentLibraryId(),name:this.model.getSavedSearch().name,description:this.model.getSavedSearch().description};new SubscribeDialogView({context:this.options.context,item:i,callback:function(){t.model.loadSearchActions()}}).open()},unsubscribeSearch:function(e){e.preventDefault();var t=this;SumoApp.userMessage.question(Y.unsubscribe_confirmation,{okCallback:function(){t.ajax.call(t,{type:"PUT",endpoint:sprintf(t.ajax.EndpointFormats.V1_CONTENT_LIBRARY_UNSUBSCRIBE_ITEM,t.model.getContentLibraryId()),errorCode:"unsubscribe_item",success:function(e){e&&e.error?SumoApp.userMessage.error(Y.error_unsubscribe_item):t.model.loadSearchActions()},error:function(e,t,i){var s=i||t;SumoApp.userMessage.error(s)}})},isHTML:!0})},toggleQueryMode:function(){this.model.getSavedSearchSettingsModel().toggleQueryMode(this.model.getUniqId())},addMonitor:function(e){e.preventDefault();var t=this.getQueryString();if(SumoApp.applicationView.openMonitorEditorDialog){var i=[{query:t,rowId:"A"}],s=t?this.model.getOpenMonitorEditorWarning():null;SumoApp.applicationView.openMonitorEditorDialog({queries:i,monitorType:"Logs",editorNotifications:s,timeRange:this.model.getTimerangeDetails()})}},addSlo:function(e){e.preventDefault();const t={draftSource:"LOGS",queryGroupType:"Unsuccessful",queryType:"Logs",queryString:this.getQueryString(),queryEditorType:"ratio"};SumoApp.applicationView.openSloEditorDialog({data:t,successMessage:g.searchJSON.add_slo_success_message})},onOptimizeSearchClick:function(e){this.saveSearchAs(e,!0)},onOptimizationStatusReceived:function(e,t){if(e){var i,s=t.msg;_.each(ie.OPTIMIZATION_STATUS_CONSTANTS_HASH,(function(e,t){s==e&&(i=t)})),this.model.setOptimizationStatus(i),this.$(".optimizeit-icon").hide(),this.$(ie.OPTIMIZATION_STATUS_ICONID_HASH[i]).show()}},fetchSearchDetails:function(e){var t,i,s=this.getQueryString(),n=this.model.getSearchExpression(),a=this.model.getMatchedFrequentTier(s),r=this.model.extractMatchedDataTier(s,!0),o=he.hasFeatureFlag("UISearchScheduledWithInfrequent")&&(a||"frequent"===r||"all"===r),l=this.getTimeRangeViewAttrs(),d=l.text,c="",u="";e&&(s===n?(t=_.isNull(this.model.getSearchQueryId())?-1:this.model.getSearchQueryId(),i=this.model.isSummarizeQuery()):(t=-1,i=!1)),this.model.getFromSavedSearch()?(c=this.model.getSavedSearch().name,u=this.model.getSavedSearch().description):c=this.getParsedViewTitle();var h,g=this.getQueryString();try{(h=JSON.parse(this.getSavedChartSettings())).blockFrequentTierScheduling=o}catch(e){h={}}return _.extend({name:c,description:u,parameters:this.getParamsForView(),properties:JSON.stringify(h),byReceiptTime:this.model.getSearchByReceiptTime(),autoParsingInfo:this.model.getAutoParsingInfo(),scannedBytesObj:{queryId:this.model.getUniqId(),timezone:SumoApp.dateUtil.getDefaultTimeZone(),timeRangeDetails:l.details},query:{queryString:g||"*",timeRange:d}},e?{querySessionId:t,isSummarizeQuery:i}:{})},saveSearchAs:function(e,t){E.start({id:"openSaveDialog",metric:te.SaveSearchDialogOpenDelay,skipSli:!0}),this.options.createSavedSearch(this.fetchSearchDetails(),e),E.measureOnce({id:"openSaveDialog",metric:te.SaveSearchDialogOpenDelay,skipSli:!0})},getSavedChartSettings:function(){var e=this.model.getSavedSearchSettingsModel(),t="";return e&&(t=e.getParsedJSONAttributes()),t},createSavedSearch:function(e,t){K.runAction({actionType:s.CONTENT_ACTION_TYPES.CREATE,event:t,params:{type:s.CONTENT_TYPES.SAVED_SEARCH,payload:e}}).then(this.updateContentActionRes.bind(this))},updateViewTitle:function(e){$("#search-tabs-view").trigger("updateTitle",{viewId:this.cid,title:e}),this.options.updateTitle&&this.options.updateTitle(e)},updateViewTitleWithIcons:function(e){$("#search-tabs-view").trigger("showHideTitleIcons",{viewId:this.cid,iconFor:e})},onClickToggleHistogram:function(e){var t=$(e.target).is(".sq-action-hide");this.toggleHistogram(t),this.model.setHistogramHideSetting(t)},logCreateParamSelection:function(e,t,i){var s={module:"search",component:"search",action:"onCreateParamFromSelection",params:{paramValue:t,triggeringEventType:e.type,openSettingsOnParamCreation:i}};oe.user(s)},_addOrUpdateParamCreatedFromSelectionOptions:function(e){var t=this.paramCreatedFromSelectionOptions||[],i=e.paramName,s=_.find(t,(function(e){return e.paramName===i}));s?s=e:t.push(e),this.paramCreatedFromSelectionOptions=t},_fetchExpectedParameters:function(){var e=this.parameterModel,t=this.paramCreatedFromSelectionOptions||[];return(e.getParameters()||[]).concat(t.map((function(e){return{name:e.paramName}})))},onCreateParamFromSelection:function(e){var t=this.expressionEditorView.editor.getCursor("from"),i=this._fetchExpectedParameters(),s=le.suggestedParameterName(i),n=this.expressionEditorView.createNewParameter(s);if(_.isString(n)){this._addOrUpdateParamCreatedFromSelectionOptions({e,paramName:s,highlightedText:n,cursorFromPos:t});var a=_.getPath(SumoApp,"user.userPreferencesModel.getOpenSettingsOnParamCreation")();this.logCreateParamSelection(e,n,a)}},toggleHistogram:function(e){$("#search-query-histogram-wrapper").toggleClass("collapse",e),this.onApplicationResize()},toggleCreateParamAction:function(e){$("#search-actions__create-parameter").toggleClass("show",e)},fetchParameterName:function(e){var t=e.attr("class");if(_.isString(t)){var i=t.match(/param-([^\s]+)/);return i&&i[1]}},onSearchSelect:function(e){var t=new F;e.fromSavedSearch=-1!==e.savedSearchId,t.setQueryName(e.name),t.setFromSavedSearch(e.fromSavedSearch),t.setParameters(e.parameters),t.setExecuteSearch(SumoApp.user.userPreferencesModel.getRunSelectedSavedSearch()),e.fromSavedSearch?(t.setSavedSearchQueryId(e.savedSearchId),SumoApp.ajax.call(this,{endpoint:SumoApp.ajax.Endpoints.V1_GET_SAVED_SEARCH,data:{searchId:e.savedSearchId},errorCode:"saved_search",success:function(e){e&&e.id>0&&(t.setQueryString(e.query.queryString),t.setTimeRange(e.query.timeRange),t.setSavedSearch(e),t.setSchedules(e.schedules),t.setSearchByReceiptTime(e.byReceiptTime),t.setAutoParsingInfo(e.autoParsingInfo),$("#search-view").trigger("loadSearchQuery",t))}})):(t.setQueryString(e.searchQuery),t.setTimeRange(e.timeRangeExpression),t.setSearchByReceiptTime(e.byReceiptTime),t.setAutoParsingInfo(e.autoParsingInfo),t.setMonitorModified(e.monitorModified),t.setMonitorObject({queryString:e.searchQuery,monitorModified:t.getMonitorModified(),title:e.name,timerange:e.timeRangeExpression}),$("#search-view").trigger("loadSearchQuery",t))},disableSearchByReceipt:function(e){this.model.setSearchByReceiptTimeDisabled(e)},onSavedSearchInViewChanged:function(e,t){$.log("Sumo.Ui.Search.SearchView.onSavedSearchInViewChanged");var i=this.model.getSavedSearchId(),s=this.model.getSavedSearch();i===t.id&&(this.updateViewTitle(t.name),s.name=t.name,s.schedules=t.schedules,s.shared=t.shared,s.description=t.description,s.query.queryString===t.query.queryString&&s.query.timeRange===t.query.timeRange||(this.model.setIsSearchModified(!0),this.onIsSavedSearchModifiedChange()))},destroySearchQuery:function(e,t,i,s){$.log("Sumo.Ui.Search.SearchView.destroySearchQuery - destroying search query model: '%s'",this.model.get("searchQueryId")),he.hasFeatureFlag("UISearchShowSpinnerOnTab")||this.model.stopPolling(),this.model.setViewDestroyed(!0),this.model.isBasicModeEditor()||this.model.setDisplaySearchExpression(this.expressionEditorView.getValue());var n=this.getTimeRangeViewAttrs();if(this.model.setDisplayTimerangeText(n.text),this.clearError(),e&&(this.model.setDetachable(!1),this.model.destroy(!0,i,s)),this.destroySavedSearchModelBindings(),this.stopListening(this.model,"change"),this.model.isBasicModeEditor()||this.expressionEditorView.closeComplete(),t)this.subviews.iterate(((t,i)=>{"resultsView"!==i?this.subviews.remove(i,e):t.destroySubviewsExceptMessages()}));else{this.subviews.destroy(e);var a=this.reactComponentInstances;for(var r in a)if(a.hasOwnProperty(r)){var o=a[r];o&&(S.destroyDropdown(o),a[r]=void 0)}this.reactComponentInstances=a,this.destroyReactSearchQueryStats()}this.destroySearchWarningsView()},destroySearchWarningsView:function(){this.searchWarningsView&&(this.searchWarningsView.destroy(),this.searchWarningsView=null)},disposeAllDisposables:function(){_.each(this.rxDisposables,(function(e){e.dispose()}))},destroy:function(){E.setPerformanceServiceContext(null),E.clearAllMarks(),this.stopResizing=!0,$.log("Sumo.Ui.Search.SearchView.destroy - "+this.cid),this.destroyed=!0,this.paramViewScope&&this.paramViewScope.$destroy(),this.disposeAllDisposables(),this.destroySavedSearchModelBindings();var e=this.reactComponentInstances;for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];i&&(S.destroyDropdown(i),e[t]=void 0)}this.reactComponentInstances=e,$("#sumoapp").off("applicationResize.searchView"),$(document).off("keyup"),$(document).off("keydown"),this.parameterModel.off("change:parameters"),this.stopListening(this.model),this.destroySearchQuery(),this.destroyAdvancedEditor(),this.destroyQueryResizable(),v.destroyComponents(),SumoUtil.destroyView(this)},createQueryResizable:function(){let e=this.$searchInputArea.find("#search-input-container"),t=e.parent().width();function i(i){e.width()+i.contentRect.width>t?e.css("flex-grow","1"):"auto"!==e.css("flex-basis")&&e.css("flex-grow","0")}e.resizable({animate:!1,helper:"resizable-outline",maxWidth:this.MAXIMUM_RESIZABLE_WIDTH,handles:"e",stop:(e,t)=>{const i=t.size.width;t.element.css({"flex-basis":i+"px","flex-grow":"0",height:"auto"})},create:()=>{let e=this.$searchInputArea.find(".search-params-container");this.removeParamsResizeObserver=W(e[0],i)}}),this.resizeSearchInputEnabled=!0},destroyQueryResizable:function(){this.resizeSearchInputEnabled&&(this.$searchInputArea.find("#search-input-container").resizable("destroy").css("flex-grow","1"),this.removeParamsResizeObserver&&(this.removeParamsResizeObserver(),this.removeParamsResizeObserver=null),this.resizeSearchInputEnabled=!1)},destroyAdvancedEditor:function(){this.expressionEditorView&&this.expressionEditorView.destroy()},addTreTabSimulation:function(){var e=$("#tre-search-tabbable")[0],t=$("#tre-search-tabbable-2")[0],i=function(){var e=$("#tre-menu"),t=$('[data-sumo-test="mewboard.panelTre.displayField"]');e[0]?document.dispatchEvent(new Event("mousedown")):t[0].click()};e.onfocus=i,t.onfocus=i},initModelAndChildViews:function(){$.log("Sumo.Ui.Search.SearchView.initModelAndChildViews"),this.model.isBasicModeEditor()||this.expressionEditorView.setValue(this.model.getDisplaySearchExpression(),!0);var e=this.model.getDisplayTimerangeText(),t=SumoUtil.strDefault(e,"-15m");try{this.model.setTimeRangeEditorV2Details(this.timeRangeUtil.parseTimeRangeValue(t))}catch(e){}this.renderTimeRangeEditorV2(this.getTimeRangeEditorProps()),this.addTreTabSimulation(),this.model.getSearchQueryId()?($("#search-view-overlay").hide(),this.renderSearchQueryStats(),this.subviews.register("histogramView",new u({context:this.options.context,model:this.model,el:this.$("#search-query-histogram-reduced")})),this.subviews.register("resultsView",new h({context:this.options.context,model:this.model,el:this.$("#search-query-results")}))):($("#search-query-histogram-wrapper").hide(),v.renderSearchPageStateOverlay())},onApplicationResize:function(){if(!this.stopResizing){if($.log("Sumo.Ui.Search.SearchView.onApplicationResize"),!this.model.getSearchViewSettingsModel().getResultsViewMaximized()){var e=this.subviews.get("histogramView");e&&e.render()}this.onResize(!0)}},onSavedSearchStatusChange:function(){$.log("Sumo.Ui.Search.SearchView.onSavedSearchStatusChange");var e=this.model.get("savedSearchStatus");e===this.model.STATUS_SAVED_SEARCH_SAVED?(SumoApp.userMessage.info(g.searchJSON.saved_search_successfully),this.searchSaved(),this.clearError(),this.clearInfo()):e===this.model.STATUS_SAVED_SEARCH_DISCARDED?(SumoApp.userMessage.info(g.searchJSON.search_discarded),this.searchSaved(),this.clearError(),this.clearInfo()):e===this.model.STATUS_SAVED_SEARCH_QUERY_VALIDATION_FAILED?this.queryParseError():e===this.model.STATUS_SAVED_SEARCH_SAVE_FAILED&&this.onSavingSearchError()},queryParseError:function(){$.log("Sumo.Ui.Search.SearchView.queryParseError"),this.showErrorMessage(this.model)},onSavingSearchError:function(){this.showErrorMessage(this.model)},initSavedSearchModelBindings:function(){$.log("Sumo.Ui.Search.SearchView.initSavedSearchModelBindings");var e=this.model.getSavedSearchSettingsModel();this.listenTo(this.model,"change:fromSavedSearch",this.onFromSavedSearchChange),this.listenTo(this.model,"change:isSavedSearchModified",this.onIsSavedSearchModifiedChange),this.listenTo(this.model,"change:savedSearch",this.onSavedSearchChange),this.listenTo(this.model,"change:savedSearchStatus",this.onSavedSearchStatusChange),this.listenTo(this.model,"change:searchActions",this.switchLinkState),this.listenTo(this.model,"change:isPinned",this.onIsPinnedChange),this.listenTo(this.model,"change:searchExpression",this.setPinLinkState),this.listenTo(this.model,"change:searchQueryId",this.onChangeSearchQuery),this.listenTo(e,"change",this.onChartSettingsChanged),this.listenTo(this.model,"change:favoriteExternalUpdate",this.setFavoritesIconState),this.listenTo(this.model,"change:resetValuesToSavedSearch",this.resetValuesToSavedSearch),this.listenTo(this.model,"updateSearchfromModel",this.updateSearchfromModel),this.listenTo(this.model,"change:autoParsingInfo",this.renderSearchConfigComponents),this.listenTo(this.model,"change:byReceiptTime",this.renderSearchConfigComponents)},destroySavedSearchModelBindings:function(){$.log("Sumo.Ui.Search.SearchView.destroySavedSearchModelBindings"),this.stopListening(this.model,"change:fromSavedSearch"),this.stopListening(this.model,"change:isSavedSearchModified"),this.stopListening(this.model,"change:savedSearch"),this.stopListening(this.model,"change:savedSearchStatus")},onChangeSearchQuery:function(){this.setPinLinkState(),this.model.getSearchQueryId()&&this.renderSearchQueryActions()},getElementsToToggle:function(){return this.$("#search-view-upper > div:not(#search-query-histogram-wrapper, #search-input-area)").add(this.$("#search-query-histogram-container")).add(this.$("#log-query-editor")).add(this.$("#search-other")).add(this.$("#sq-histo-actions")).add(this.$("#search-create-parameter-wrapper"))},getElementsToToggleCompactness:function(){return this.$("#search-query-histogram-wrapper")},onResultsViewMaximizedStateChange:function(){var e=this.getElementsToToggle(),t=this.getElementsToToggleCompactness(),i=this.model.getSearchViewSettingsModel().getResultsViewMaximized();e.toggleClass("is-hidden",i),t.toggleClass("is-compact",i),this.onApplicationResize()},onDefaultFilterChanged:function(e,t){this.defaultFilter=t},getSearchEditorOptions:function(){var e=this,t={context:this.options.context,el:this.$("#search-expression"),bUseComplete:!0,errorSelector:"#search-view",zIndex:3,queryStringSubject:this.queryStringSubject,onFocus:function(){e.$("#search-input-wrapper").addClass("search-focused")},onBlur:function(){e.$("#search-input-wrapper").removeClass("search-focused")},lineNumbers:he.hasFeatureFlag("UISearchAdvancedModeNewLayout")};return _.extend(t,{beforeTextChange:function(t){e.beforeTextChange(t)},onEditorDomUpdate:function(t){e.onEditorDomUpdate(t)},onCursorActivityChange:function(t){var i=!_.isEmpty(t[0]);i!==e.showCreateParamAction&&e.toggleCreateParamAction(i),e.showCreateParamAction=i}}),t},setStateWaitingForParams:function(e){this.queryingForParams=e},postParamsQuery:function(e){this.updateQueryParams(e.paramPosition),this.updatePreviewView();var t=this.parameterModel;setTimeout((function(){re.mark(de.EVENT,de.MARKS.renderPath.rendered),le.finalizePerformanceMeasurements(de.MEASUREMENTS,de.EVENT,{paramCount:t.getParameters().length}),le.clearPerformanceMarks(de.MARKS,de.EVENT)}))},updateTimeRangeEditor:function(e){var t=this.timeRangeUtil.parseTimeRangeDetails(e),i=this.model.getTimeRangeEditorV2Details();this.model.setTimeRangeEditorV2Details(t);var s=this.model.getSavedSearch(),n=this.model.get("timerangeText");if(this.model.setDisplayTimerangeText(t.value),s&&!_.isEmpty(s)&&(n=s.query.timeRange),n!==t.value&&this.model.setIsSearchModified(!0),this.UIScannedBytes){var a=this.model.getDisplaySearchExpression();this.model.setSearchStateDirty(!0),this.model.shouldRefetchEstimatedUsageDetails(a,i)&&this.fetchEstimatedScannedBytes(a)}this.renderTimeRangeEditorV2(this.getTimeRangeEditorProps()),v.createSearchButton()},handleTREParseError:function(e){this.disableSearchStartButton(e)},getTimeRangeEditorProps:function(e){var t=this;return{tooltipPlacement:"top",timeRange:(e?this.timeRangeUtil.parseTimeRangeValue(e):this.model.getTimeRangeEditorV2Details()).details,updateTimeRange:this.updateTimeRangeEditor.bind(this),onHitEnter:function(){t.model.isBasicModeEditor()||t.startSearchQueryWithDelay()},handleParseError:this.handleTREParseError.bind(this)}},renderTimeRangeEditorV2:function(e){v.createTRE(e)},renderRecentSearchesMenu:function(){v.createRecentSearchMenu({dispatch:this.logQueryEditorCallback})},renderSearchQueryActions:function(e){this.destroyReactSearchQueryActions();var t={searchQueryId:this.model.getSearchQueryId(),bSearchStarting:!1,uniqId:this.model.getUniqId(),onError:this.onError.bind(this),refreshExpressionEditorView:this.expressionEditorView?this.expressionEditorView.refresh.bind(this):null,syncActions:this.syncActions.bind(this),clearAndRemoveWarning:this.clearAndRemoveWarning.bind(this),clearError:this.clearError.bind(this),clearInfo:this.clearInfo.bind(this),poll:this.model.poll.bind(this.model),setInfrequentTierForRunningQuery:this.model.setInfrequentTierForRunningQuery.bind(this.model),destroySearchQuery:this.destroySearchQuery.bind(this),initModelAndChildViews:this.initModelAndChildViews.bind(this),initSavedSearchModelBindings:this.initSavedSearchModelBindings.bind(this),resetSearchStateOnKill:this.resetSearchStateOnKill.bind(this),...e},i=document.getElementById(be);D.createSearchQueryActionsView(i,t),this.reactComponentInstances[be]=i},destroyReactSearchQueryActions:function(){var e=this.reactComponentInstances;if(e.hasOwnProperty(be)){var t=e[be];t&&(D.destroySearchQueryActionsView(t),e[be]=void 0)}},renderLogQueryEditorV2:function(){if(this.model.isBasicModeEditor()){v.createLogQueryEditorV2({id:"search_"+this.model.getUniqId(),dispatch:this.logQueryEditorCallback,onSubmit:this.startSearchQueryWithDelay.bind(this)});const e=this;setTimeout((function(){var t=e.model.getSavedSearchSettingsModel().get("errorDetails");e.disableSearchStartButton(!!t&&t.hasError)}))}},renderSearchQueryStats:function(){if(he.hasFeatureFlag("UISearchQueryStatsReact")){this.destroyReactSearchQueryStats();var e={storeKey:this.model.getSearchQueryId(),createShortCode:this.model.createShortCode.bind(this.model),setStatus:this.model.setStatus.bind(this.model),setTimeElapsed:this.model.setTimeElapsed.bind(this.model),onError:this.onError.bind(this)},t=document.getElementById(ye);x.createSearchQueryStatsView(t,e),this.reactComponentInstances[ye]=t}else this.subviews.register("statsView",new c({context:this.options.context,model:this.model,el:this.$("#search-query-stats")}))},destroyReactSearchQueryStats:function(){var e=this.reactComponentInstances;if(e.hasOwnProperty(ye)){var t=e[ye];t&&(x.destroySearchQueryStatsView(t),e[ye]=void 0)}},initializeAdvancedQueryEditor:function(){this.model.isBasicModeEditor()||(this.renderRecentSearchesMenu(),this.expressionEditorView=new ae(this.getSearchEditorOptions()),this.disableSearchStartButton(!1))},recompileSearchParams:function(){!this.model.isBasicModeEditor()&&this.paramViewScope&&SumoApp.ngCompile(this.$searchInputArea.find("search-params"),this.paramViewScope,!0)},onTriggerSearchChange:function(){this.fetchEstimatedScannedBytes(this.model.getDisplaySearchExpression()),this.initiateSearchQueryStart()},initialize:function(){this.routeChangePerformancePlugin=ee.getPlugin("routeChangePerformance"),this.stopResizing=!0,$.log("Sumo.Ui.Search.SearchView.initialize"),this.rxDisposables=[],this.isWindows=$("html").hasClass("windows"),this.subviews=new H("SearchView"),this.timeRangeUtil=j,_.bindAll(this,"render","updateNgParameterView","onSearchSelect","onSearchQueryCreated","onCreateQueryParseError","onCreateQueryError","onCreateSearchStatusChange","onApplicationResize","onResultsViewMaximizedStateChange","_confirmSaveViewQuery","_cancelSaveViewQuery","_checkForConfirmation","handleSumoEgg","editSavedSearch","updateViewTitle","updateViewTitleWithIcons","onStartSearchQuery","registerHighlightElements","unbindSelectedHighlightElementByCursorPosition","unbindAllHighlightEvents","onTransactionDrillDown","updateSearchfromModel","onEditorDomUpdate","beforeTextChange","showTooltip","onChangeParameters","updateQueryParams","postParamsQuery","onSearchParamsViewStateChange","fetchEstimatedScannedBytes","fetchEstimatedScannedBytesOnPartitionsLoad","fetchEstimatedScannedBytesOnQueryChange","renderLogQueryEditor","updateQueryEditor","renderSearchActions","saveSearchAs","editOpenSavedSearch","toggleQueryMode","saveSavedSearch","onShareSearchLinkClick","openInLiveTail","updateFavoriteStatus","showSavedSearchInfo","pinSearch","addMonitor","addSlo","logQueryEditorCallback","onTriggerSearchChange","onRefreshExpression","checkSavedSearchModifiedV2"),this.fetchEstimatedScannedBytesDebounced=_.debounce(this.fetchEstimatedScannedBytesOnQueryChange,200),this.ajax=this.options.context.ajax;var e=this,t=p.SearchParamsNotificationService;this.searchParamStateService=new t,this.queryStringSubject=new a.Subject;var i=this.queryStringSubject.subscribe(this.setStateWaitingForParams.bind(this,!0)),s=le.getParams$(this.queryStringSubject).subscribe(this.postParamsQuery);if(this.rxDisposables.push(s,i),this.render(),this.switchLinkState(this.linkStates.NOT_SAVEABLE),this.listenTo(this.model.getSearchViewSettingsModel(),"change:resultsViewMaximized",this.onResultsViewMaximizedStateChange),this.listenTo(this.model,"change:searchActions",this.switchLinkState),$("#sumoapp").on("applicationResize.searchView",this.onApplicationResize),this.UISearchWarningsAndErrorViewFF=he.hasFeatureFlag("UISearchWarningsAndErrorView"),this.UISearchWarningsAndErrorViewFF&&this.listenTo(this.model,"change:status",this.onSearchStatusChange),this.listenTo(this.model,"change:warnings",this.onWarningsChange),this.listenTo(this.model,"change:drillDownFromPreviousSession",this.renderScannedSizeBtn),this.UIScannedBytes=he.hasFeatureFlag("UIScannedBytes"),this.listenTo(this.model.getSavedSearchSettingsModel(),"change:logsQueryMode",this.updateQueryEditor),this.listenTo(this.model.getSavedSearchSettingsModel(),"change:logsQueryMode",fe()?this.renderKansoHeaderBar:this.renderSearchActions),this.listenTo(this.model.getSavedSearchSettingsModel(),"change:errorDetails",this.handleBasicModeQueryError),this.UIScannedBytes&&(this.listenTo(this.model,"change:displaySearchExpression",this.fetchEstimatedScannedBytesDebounced),this.listenTo(this.model,"change:infrequentPartitions",this.fetchEstimatedScannedBytesOnPartitionsLoad),this.listenTo(this.model,"change:triggerSearch",this.onTriggerSearchChange)),this.listenTo(this.model.getSearchQueryExpressionModel(),"change:queryString",this.checkSavedSearchModifiedV2),this.initSavedSearchModelBindings(),$(document).on("keyup",{that:this},this.onKeyUpEvent),he.hasFeatureFlag("UISearchKeyboardShortcuts")&&$(document).on("keydown",{that:this},this.onKeyDownEvent),this.initializeAdvancedQueryEditor(),this.renderSearchQueryActions(),this.parameterModel=this.model.getParameterModel(),this.updateParamHighlights(),this.updateNgParameterView(),this.updatePreviewView(),this.isParameterisedSearch()&&this.updateDescription(),this.parameterModel.on("change:parameters",this.onChangeParameters),this.parameterModel.on("change:searchParamsViewState",this.onSearchParamsViewStateChange),this.onSearchParamsViewStateChange(),this.initModelAndChildViews(),this.model.isErrorStatus()){var n={errorDetails:this.model.getErrorDetails()};n.errorMessages=this.model.getErrorMessages(),this.onError(null,n)}else{this.onWarningsChange();var r=this.model.getPendingStartSearchQuery();if(r){var o=r.model;if(o)if(o.getSearchQueryId())this.onSearchQueryCreated(o);else{var l=o.getCreateSearchStatus();switch(l){case o.STATUS_NOT_STARTED:this.startSearchQuery({drilldownSearchId:r.drilldownSearchId,messageLocators:r.messageLocators});break;case o.STATUS_CREATE_IN_PROGRESS:this.setSearchButtonEnabled(!1),this.listenTo(o,"change:createSearchStatus",(function(){e.onCreateSearchStatusChange(o)}));break;case o.STATUS_CREATE_SUCCESS:this.onSearchQueryCreated(o);break;case o.STATUS_CREATE_ERROR:this.onCreateQueryError(o);break;case o.STATUS_CREATE_PARSE_ERROR:this.onCreateQueryParseError(o);break;default:$.logWarn("No handler for createSearchStatus - [%s].",l)}}}else if(this.options.fromLastSession){var d=this.model.getSavedSearchId();if(d){e=this;this.routeChangePerformancePlugin.waitFor("reattach from prev session"),this.updateSavedSearchFromContentItem({referenceId:d,type:"SAVED_SEARCH"}).then((function(){e.reattachFromPrevQuery(e.model.getSearchQueryId())}))}else this.reattachFromPrevQuery(this.model.getSearchQueryId())}else this.model.reattach()}this.onResultsViewMaximizedStateChange(),SumoApp.priv.hasPerformanceLoggingEnabled()&&$("#application-view").trigger("logPageLoad"),this.onIsPinnedChange(),this.stopResizing=!1,this.model.getResetValuesToSavedSearch()&&this.resetValuesToSavedSearch(),E.setPerformanceServiceContext({searchQueryId:this.model.getSearchQueryId(),isReattached:this.model.get("isReattached")})},updateQueryEditor:function(){var e=this;this.renderLogQueryEditor(),this.destroyAdvancedEditor(),this.initializeAdvancedQueryEditor(),this.recompileSearchParams(),this.renderCreateParamAction();var t=this.model.getSearchQueryExpressionModel(),i=t&&t.getQueryString();"string"!=typeof i||this.model.isBasicModeEditor()||(this.expressionEditorView.setValue(i,!0,!0),setTimeout((function(){e.expressionEditorView.editor&&e.expressionEditorView.focusEditor()}),100)),this.checkSavedSearchModifiedV2()},reattachFromPrevQuery:function(e){if(e){var t=this;z.searchWorkspaceViewService.getLastSessionRecentSearchData(e).then((function(e){if(t.routeChangePerformancePlugin.done("reattach from prev session"),e){var i=new F({queryId:e.id,queryString:e.query,queryName:e.name,startTimestamp:e.timeRangeStart.valueOf(),endTimestamp:e.timeRangeEnd.valueOf(),isPinned:e.pinned});t.reattach(i)}else SumoApp.user.userPreferencesModel.getRunSelectedSavedSearch()&&t.startSearchQuery()})).catch((function(){t.routeChangePerformancePlugin.done("reattach from prev session")}))}},checkSavedSearchModifiedV2:function(){var e=this.model.getSavedSearch();if(this.model.isBasicModeEditor()&&e&&!_.isEmpty(e)){var t=w.computeQueryString(w.advancedToBasicModeQuery(e.query.queryString));this.model.setIsSearchModified(t!==this.model.getDisplaySearchExpression())}},createPreviewEditor:function(){return this.previewEditorView=CodeMirror.fromTextArea($("#search-params-preview-expression").get(0),_.extend({},ie.getEditorConfig(),{readOnly:!0,cursorBlinkRate:-1})),this.previewEditorView},fetchParamPreviewObj:function(){var e=this.parameterModel,t=this.model.getDisplaySearchExpression()||this.model.getSearchExpression();return this.fetchParamPreviewObjFromModel(t,e)},fetchParamPreviewObjFromModel:function(e,t){var i=f.getParameters(t.get("parameters"),t.get("paramPositionMap"))||{};Object.keys(i);return f.replaceParams(e,i)},updatePreviewView:function(){this.$searchInputArea;var e=this.previewEditorView,t=this.fetchParamPreviewObj(),i=t.queryWithParamVal;if(this.isParameterisedSearch()&&this.UIScannedBytes&&this.model.shouldRefetchEstimatedUsageDetails(i)&&(this.model.setSearchStateDirty(!0),this.fetchEstimatedScannedBytes(i)),this.getSearchViewState(s.SearchParamViewState.PreviewView)){if(!this.isParameterisedSearch())return this.updateSearchPreviewView(!1);e||(e=this.createPreviewEditor()),e.setValue(i),this.highlightParams(e,t.markTextArr)}},highlightParams:function(e,t){var i,s;for(i=0,s=t.length;i<s;i+=1)e.markText.apply(e,t[i])},renderCreateParamAction:function(){var e=sprintf(g.searchJSON.link_create_paramter_action,this.isWindows?g.searchJSON.link_create_paramter_shortcut_win:g.searchJSON.link_create_paramter_shortcut_mac),t=_.template(e)();this.$("#search-actions__create-parameter").html(t)},getSearchActionsProps:function(){var e=[{item:this.model.isBasicModeEditor()?g.searchJSON.link_advanced_mode:g.searchJSON.link_basic_mode,callback:this.toggleQueryMode}],t=this.isWindows?"ctrl":"cmd",i=[{item:g.searchJSON.link_share_link_kebab,callback:this.onShareSearchLinkClick,shortcut:t+" + h"},{item:g.searchJSON.link_save_search_as_kebab,callback:this.saveSearchAs,shortcut:t+" + shift + s"},{item:g.searchJSON.link_edit_saved_search_kebab,callback:this.editOpenSavedSearch,shortcut:t+" + e"},{item:g.searchJSON.link_save_search,callback:this.saveSavedSearch,shortcut:t+" + s"},{item:g.searchJSON.link_add_monitor,callback:this.addMonitor},{item:g.searchJSON.link_add_slo,callback:this.addSlo},{item:g.searchJSON.link_live_tail,callback:this.openInLiveTail,shortcut:t+" + l"},{item:g.searchJSON.pin_search,callback:this.pinSearch},{item:g.searchJSON.unpin_search,callback:this.pinSearch},{item:g.searchJSON.link_info_saved_search,callback:this.showSavedSearchInfo},{item:g.searchJSON.link_favorite,callback:this.updateFavoriteStatus},{item:g.searchJSON.link_unfavorite,callback:this.updateFavoriteStatus}];return ne()&&(i=e.concat(i)),i},renderSearchActions:function(){v.renderSearchActionsMenu({id:"viewAction_"+this.model.getUniqId(),actionsItems:this.getSearchActionsProps()})},renderKansoHeaderBar:function(){Se.updateProps({title:this.getViewTitle(),disableEditTitle:!1,customToolbarComponent:v.getSearchActionsComponent({id:"viewAction_"+this.model.getUniqId(),actionsItems:this.getSearchActionsProps()})})},disableSearchStartButton:function(e){v.createSearchButton(null,e)},handleBasicModeQueryError:function(e,t){this.model.isBasicModeEditor()&&this.disableSearchStartButton(t.hasError)},renderLogQueryEditor:function(){var e=this.logQueryEditorTemplate({__:g.searchJSON,isBasicModeEditor:this.model.isBasicModeEditor(),issearchParamsReact:z.currentUserHelper.hasFeatureFlag("UISearchParamsViewReact")});this.$el.find("#log-query-editor").html(e),this.renderLogQueryEditorV2()},renderScannedSizeBtn:function(){v.createScannedSizeButton({drillDownFromPreviousSession:this.model.getDrillDownFromPreviousSession(),id:"search_"+this.model.getUniqId()})},render:function(){$.log("Sumo.Ui.Search.SearchView.render");var e=this.template({__:g.searchJSON,isBasicModeEnabled:ne()});this.$el.html(e),this.model.setViewDestroyed(!1),this.renderLogQueryEditor(),this.renderScannedSizeBtn(),this.renderCreateParamAction();var t=this;return this.$searchInputArea=this.$el.find("#search-input-area"),this.$el.find("#log-query-editor").addClass("log-query-editor"),this.$searchInputArea.addClass("search-index-selection-input"),v.createSearchButton(),requestAnimationFrame((function(){$("#search-library-border").hide(),W(t.$searchInputArea[0],t.onRefreshExpression)})),this.model.getSavedSearchId()?this.model.loadSearchActions():this.switchLinkState(this.linkStates.NOT_SAVEABLE),this.$(".search-param-actions span, .hide-actions").tooltipster({theme:"quicktip",position:"bottom"}),this.renderDynamicParsingComponents(),fe()?this.renderKansoHeaderBar():this.renderSearchActions(),this},renderDynamicParsingComponents:function(e){var t=e||this.model;this.renderSearchConfigComponents(t)},onReceiptTimeChange:function(e){this.model.setSearchByReceiptTime(e),this.model.setIsSearchModified(!0)},renderSearchConfigComponents:function(e){var t=this,i={parsingModeProps:{value:e.getAutoParsingInfo()&&"intelligent"===e.getAutoParsingInfo().mode,onChange:function(e){t.onAutoParsingInfoChange(e?"intelligent":"performance")},dataSumoTest:"search-auto-parsing"},timeRangeProps:{value:!!e.getSearchByReceiptTime()&&e.getSearchByReceiptTime(),onChange:function(e){t.onReceiptTimeChange(e)},dataSumoTest:"search-receipt-time"}};v.renderSearchConfigButton(i)},onAutoParsingInfoChange:function(e){this.model.getAutoParsingInfo()&&this.model.getAutoParsingInfo().mode!==e&&this.model.setIsSearchModified(!0),this.model.setAutoParsingInfo({mode:e})},onFromSavedSearchChange:function(){$.log("Sumo.Ui.Search.SearchView.onFromSavedSearchChange"),this.model.getFromSavedSearch()?this.model.getSavedSearch()&&(this.updateViewTitle(this.model.getSavedSearch().name),this.updateViewTitleWithIcons("saved-search")):(this.updateViewTitle(g.searchJSON.title_search),this.updateViewTitleWithIcons("unnamed-search"))},onChartSettingsChanged:function(e){var t=this.model.getSavedSearch();_.isEmpty(t)||(this.model.getIsSavedSearchModified()&&this.updateViewTitleWithIcons("edited-saved-search"),t.properties=e.getParsedJSONAttributes(),this.switchLinkState(this.linkStates.SAVEABLE))},onIsSavedSearchModifiedChange:function(){$.log("Sumo.Ui.Search.SearchView.onIsSavedSearchModifiedChange");var e,t=this.model.getSavedSearch();_.isEmpty(t.schedules)||!this.model.getIsSavedSearchModified()?g.searchJSON.link_save_search:g.searchJSON.link_save_scheduled_search;t?this.model.getIsSavedSearchModified()&&SumoUtil.isStringEmpty(t.viewName)?(this.model.getOwnedByCurrentUser()&&this.model.getSavedSearch().name.indexOf(this.TAB_SEARCH_MODIFIED_PREFIX)<0&&(e=this.linkStates.SAVEABLE),this.updateViewTitle(this.model.getSavedSearch().name),this.updateViewTitleWithIcons("edited-saved-search")):this.model.getIsSavedSearchModified()&&!SumoUtil.isStringEmpty(t.viewName)?(e=this.linkStates.NOT_SAVEABLE,this.updateViewTitle(this.model.getSavedSearch().name),this.updateViewTitleWithIcons("edited-saved-search")):(this.updateViewTitle(this.model.getSavedSearch().name),this.updateViewTitleWithIcons("saved-search"),e=this.model.getOwnedByCurrentUser()?this.linkStates.PUBLISHABLE:this.linkStates.INFO_LAST):this.model.getIsSavedSearchModified()&&!_.isEmpty(t)?(this.model.getOwnedByCurrentUser()&&(e=this.linkStates.SAVEABLE),this.updateViewTitle(this.model.getSavedSearch().name),this.updateViewTitleWithIcons("edited-saved-search")):(this.updateViewTitle(g.searchJSON.title_search),this.updateViewTitleWithIcons("unnamed-search"),e=this.linkStates.INFO_LAST),this.switchLinkState(e)},onSavedSearchChange:function(){var e,t=this.model.getSavedSearch();_.isEmpty(t)?(this.updateViewTitle(g.searchJSON.title_search),this.updateViewTitleWithIcons("unnamed-search"),e=this.linkStates.NOT_SAVEABLE):(this.model.getFromSavedSearch()?(this.model.getIsSavedSearchModified()?(this.updateViewTitleWithIcons("edited-saved-search"),e=this.model.getOwnedByCurrentUser()?this.linkStates.SAVEABLE:this.linkStates.INFO_LAST):(this.updateViewTitleWithIcons("saved-search"),e=this.model.getOwnedByCurrentUser()?this.linkStates.PUBLISHABLE:this.linkStates.INFO_LAST),this.updateViewTitle(this.model.getSavedSearch().name)):this.model.getIsSavedSearchModified()&&!_.isEmpty(t)?(this.updateViewTitle(this.model.getSavedSearch().name),this.updateViewTitleWithIcons("edited-saved-search"),e=this.model.getOwnedByCurrentUser()?this.linkStates.SAVEABLE:this.linkStates.INFO_LAST):(this.updateViewTitle(g.searchJSON.title_search),this.updateViewTitleWithIcons("unnamed-search"),e=this.linkStates.INFO_LAST),this.updateDescription()),this.switchLinkState(e)},editSavedSearch:function(e){$.log("Sumo.Ui.Search.SearchView.editSavedSearch");var t=this.getQueryString(),i=this.model.getSearchExpression(),s=this.getTimeRangeViewAttrs().text,n={};n.queryString=t,n.timerangeText=s,t===i?(n.querySessionId=_.isNull(this.model.getSearchQueryId())?-1:this.model.getSearchQueryId(),n.isSummarizeQuery=this.model.isSummarizeQuery()):(n.querySessionId=-1,n.isSummarizeQuery=!1),$(".search-actions-view").trigger("editSavedSearch",n)},onIsPinnedChange:function(){this.setPinLinkState(),$.log("Sumo.Ui.Search.SearchView.onIsPinnedChange")},setPinLinkState:function(){var e=Promise.resolve(!1),t=this.model,i=this;z.searchWorkspaceViewService&&(e=z.searchWorkspaceViewService.isSearchPinAllowed({data:{isPinned:t.getIsPinned(),searchQueryId:t.getSearchQueryId(),searchExpression:t.getSearchExpression(),status:t.getStatus()},model:t})),e.then((function(e){var s;s=e?i.linkStates.PIN_ON:t.getIsPinned()?i.linkStates.PIN_OFF:i.linkStates.PIN_NONE,i.setLinkState(s)}))},pinSearch:function(e){_.isFunction(this.options.bentoPinAction)&&(E.start({id:"pinSearch",metric:te.PinSearchDelay,skipSli:!0}),this.options.bentoPinAction(),setTimeout((function(){E.measureOnce({id:"pinSearch",metric:te.PinSearchDelay,skipSli:!0})})))},isParameterisedSearch:function(){var e=this.getParamsForView();return!(!e||!e.length)},handleSumoEgg:function(e){(new B).showEgg(e)},logQueryEditorCallback(e){var i=this.model;switch(e.type){case t.selectRecentSearch.type:this.onSearchSelect(e.payload);break;case w.fetchScannedDataByTier.type:var s=this.getTimeRangeViewAttrs().details,n=b.convertTimeDetailsToBeginBoundedTimeRange(s);z.store.dispatch({payload:{id:"search_"+i.getUniqId(),timezone:SumoApp.dateUtil.getDefaultTimeZone(),timeRange:n,runByReceiptTime:i.getSearchByReceiptTime()},type:e.type})}}},{START_CHECKPOINT:"start",FIRST_RESULT_CHECKPOINT:"first_result",END_CHECKPOINT:"end",SEARCH_MODULE:"search",RUN_SEARCH_EVENT:"run_search",MEASURE_FIRST_RESULT:"search_histogram_first_result",MEASURE_DURATION:"search_histogram_duration"});return Ee}.apply(t,s))||(e.exports=n)},67010:function(e,t,i){var s,n;s=[i(60567),i(66359),i(73166)],void 0===(n=function(e,t,i){var s=e.ResultsViewerSettingsModel,n=t.currentUserActions,a=t.currentUserHelper,r=i.ROW_STATE_OPERATIONS;return Backbone.Model.extend({defaults:{persistedAttributeNames:["showMetadataFields","wrapMessageText","UTFCharacterDecoding","highlightDictionaryTerm","showNumberColumn","showMessageTimeColumn","showMessageTextColumn","showParsedFields","showRecentMessagesFirst","messagesToDisplay","linesPerMessage","userAssignedFields"],showMetadataFields:!0,wrapMessageText:!0,UTFCharacterDecoding:!0,highlightDictionaryTerm:!0,showNumberColumn:!0,showMessageTimeColumn:!0,showMessageTextColumn:!0,showParsedFields:!0,showRecentMessagesFirst:!0,messagesToDisplay:25,linesPerMessage:10,resultsViewMaximized:!1,aggregateResultsViewerType:"table",aggregateResultsSettings:null,aggregateResultsSettingsUpdated:null,expandAll:!1,expandJSON:void 0,userAssignedFields:[],openFieldBrowser:!1,nonAggTableColumnState:[],summarizeTableColumnState:[],aggregateTableColumnState:[],nonAggTableFirstVisibleRowIndex:0,aggregateTableFirstVisibleRowIndex:0,summarizeTableFirstVisibleRowIndex:0,rowDataState:{}},getDefaultMessagesToDisplay:function(){return 25},resetToDefaultMessagesToDisplay:function(){this.setMessagesToDisplay(25),this.updateSearchSettings(this.getSearchSettings(),!0)},getPersistedAttributes:function(){for(var e={},t=this.get("persistedAttributeNames"),i=0;i<t.length;i++){var s=t[i];e[s]=this.get(s)}return e},getSearchSettings:function(){return{showMetadataFields:this.getShowMetadataFields(),wrapMessageText:this.getWrapMessageText(),UTFCharacterDecoding:this.getUTFCharacterDecoding(),highlightDictionaryTerm:this.getHighlightDictionaryTerm(),sortBy:this.getShowRecentMessagesFirst()?"recent":"oldest",pageSize:this.getMessagesToDisplay(),linesPerMessage:this.getLinesPerMessageToDisplay(),expandAll:this.getExpandAll(),expandJSON:this.getExpandJSON()}},updateSearchSettings:function(e,t){var i=this.getShowRecentMessagesFirst()?"recent":"oldest";a.hasFeatureFlag("UISearchPersistRowState")&&e.sortBy&&e.sortBy!==i&&this.updateRowDataState(r.DESTROY_ROW_DATA_STATE);var s=n.getActionCreators();s&&s.updateUserSetting({key:"uriEncodedSettings",value:e.UTFCharacterDecoding}),this.set(this.searchSettingsToOldModelSettings(e)),(e.saveSettings||t)&&(SumoApp.user.userPreferencesModel.setSearchViewSettingsModel(this),SumoApp.user.userPreferencesModel.saveData(t))},searchSettingsToOldModelSettings:function(e){return{showMetadataFields:e.showMetadataFields,wrapMessageText:e.wrapMessageText,UTFCharacterDecoding:e.UTFCharacterDecoding,highlightDictionaryTerm:e.highlightDictionaryTerm,showRecentMessagesFirst:"recent"===e.sortBy,messagesToDisplay:e.pageSize,linesPerMessage:e.linesPerMessage,expandAll:e.expandAll,expandJSON:e.expandJSON}},getShowMetadataFields:function(){return this.get("showMetadataFields")},getWrapMessageText:function(){return this.get("wrapMessageText")},getUTFCharacterDecoding:function(){return this.get("UTFCharacterDecoding")},getHighlightDictionaryTerm:function(){return this.get("highlightDictionaryTerm")},getShowNumberColumn:function(){return this.get("showNumberColumn")},getShowMessageTimeColumn:function(){return this.get("showMessageTimeColumn")},getShowMessageTextColumn:function(){return this.get("showMessageTextColumn")},getShowParsedFields:function(){return this.get("showParsedFields")},setShowParsedFields:function(e){return this.set({showParsedFields:e})},getShowRecentMessagesFirst:function(){return this.get("showRecentMessagesFirst")},getMessagesToDisplay:function(){return this.get("messagesToDisplay")},getLinesPerMessageToDisplay:function(){return this.get("linesPerMessage")},getRowDataState:function(){return this.get("rowDataState")},updateRowDataState:function(e,t={}){switch(e){case r.UPDATE_JSON_STATE:var{rowId:i,colId:s,collapserId:n,toExpanded:a}=t,o=this.getRowDataState(),{jsonDataState:l={},...d}=o[i]||{},{[s]:c=[],...u}=l||{};if(a)c.push(n);else{const e=c.indexOf(n);e>-1&&c.splice(e,1)}0!==c.length&&(u[s]=c);var h={jsonDataState:u,...d},g={...o,[i]:h};this.set({rowDataState:g});break;case r.UPDATE_ROW_STATE:var{isExpanded:p,rowId:i}=t,{[i]:m,...f}=this.getRowDataState();m={...m,isExpanded:p},this.set({rowDataState:{[i]:m,...f}});break;case r.DESTROY_ROW_DATA_STATE:this.set({rowDataState:{}})}},setMessagesToDisplay:function(e){return this.set({messagesToDisplay:e})},setUTFCharacterDecoding:function(e){return this.set({UTFCharacterDecoding:e})},getResultsViewMaximized:function(){return this.get("resultsViewMaximized")},setResultsViewMaximized:function(e){this.set({resultsViewMaximized:e})},getAggregateResultsViewerType:function(){return this.get("aggregateResultsViewerType")},setAggregateResultsViewerType:function(e){this.set({aggregateResultsViewerType:e})},getAggregateResultsSettings:function(){return this.get("aggregateResultsSettings")},setAggregateResultsSettings:function(e){this.set({aggregateResultsSettings:e})},getAggregateResultsSettingsUpdated:function(){return this.get("aggregateResultsSettingsUpdated")},setAggregateResultsSettingsUpdated:function(e){this.set({aggregateResultsSettingsUpdated:e})},getExpandAll:function(){return this.get("expandAll")},setExpandAll:function(e){this.set({expandAll:e||!1})},getExpandJSON:function(){return this.get("expandJSON")},setExpandJSON:function(e){return this.set({expandJSON:e})},setUserAssignedFields:function(e){this.set({userAssignedFields:e})},getUserAssignedFields:function(){return this.get("userAssignedFields")||[]},setFieldBrowserOpen:function(e){this.set({openFieldBrowser:e})},isFieldBrowserOpen:function(){return this.get("openFieldBrowser")},getNonAggTableColumnState:function(){return this.get("nonAggTableColumnState")},setNonAggTableColumnState:function(e){this.set({nonAggTableColumnState:e})},getSummarizeTableColumnState:function(){return this.get("summarizeTableColumnState")},setSummarizeTableColumnState:function(e){this.set({summarizeTableColumnState:e})},getAggregateTableColumnState:function(){return this.get("aggregateTableColumnState")},setAggregateTableColumnState:function(e){this.set({aggregateTableColumnState:e})},getNonAggTableFirstVisibleRowIndex:function(){return this.get("nonAggTableFirstVisibleRowIndex")},setNonAggTableFirstVisibleRowIndex:function(e){this.set({nonAggTableFirstVisibleRowIndex:e})},getAggregateTableFirstVisibleRowIndex:function(){return this.get("aggregateTableFirstVisibleRowIndex")},setAggregateTableFirstVisibleRowIndex:function(e){this.set({aggregateTableFirstVisibleRowIndex:e})},getSummarizeTableFirstVisibleRowIndex:function(){return this.get("summarizeTableFirstVisibleRowIndex")},setSummarizeTableFirstVisibleRowIndex:function(e){this.set({summarizeTableFirstVisibleRowIndex:e})},toggleValue:function(e,t){var i={},s=this.get(e);i[e]=_.isUndefined(t)?!s:t,this.set(i)},resetAggregateResultsSettings:function(){var e=new s,t={aggregateResultsSettings:JSON.stringify(e.toJSON()),aggregateResultsSettingsUpdated:$.now()};this.set(t,{silent:!0})},getAggregateResultsSettingsModel:function(){var e=null,t=this.getAggregateResultsSettings();return t&&(e=JSON.parse(t)),new s({},e)},setAggregateResultsSettingsModel:function(e){this.setAggregateResultsSettings(JSON.stringify(e.toJSON()))},getAggregateResultsViewerSettingsModel:function(){var e=this.getAggregateResultsViewerType();return this.getAggregateResultsSettingsModel().getSettings(e)},updateAggregateResultsViewerSettingsModel:function(e){var t=this.getAggregateResultsSettingsModel(),i=this.getAggregateResultsViewerType();t.updateSettings(i,e),this.setAggregateResultsSettingsModel(t)},getAggregateResultsViewerSettingsConfiguration:function(){return this.getAggregateResultsViewerSettingsModel().getConfiguration()},setAggregateResultsViewerSettingsConfiguration:function(e){var t=this.getAggregateResultsSettingsModel(),i=this.getAggregateResultsViewerType();t.updateConfiguration(i,e),this.setAggregateResultsSettingsModel(t)},initialize:function(){this.setUTFCharacterDecoding(a.getUserSetting("uriEncodedSettings")),this.setAggregateResultsSettingsModel(new s)}})}.apply(t,s))||(e.exports=n)},71728:function(e,t,i){var s,n;s=[i(60567),i(63205),i(64223)],void 0===(n=function(e,t,i){return e.SumoViewModule.extend({events:{"click .search-warnings__close":"clearAndRemoveWarnings","click .search-warnings__show":"showAll","click .search-warnings__hide":"hideAll"},warnings:[],template:_.template(i),initialize:function(e){_.bindAll(this,"addWarnings","clearAndRemoveWarnings"),this.render(e.warnings)},clearAndRemoveWarnings:function(){this.clearWarnings(),this.options.removeWarnings()},clearWarnings:function(){this.$el.empty(),this.warnings=[]},showAll:function(){this.$(".search-warnings").removeClass("collapsed")},hideAll:function(){this.$(".search-warnings").addClass("collapsed")},addWarnings:function(e){e&&this.render(_.union(this.warnings,e||[]))},render:function(e){this.warnings=e;var i=this.template({__:t.searchJSON,warnings:e});this.$el.html(i)}})}.apply(t,s))||(e.exports=n)},74924:function(e,t){var i;void 0===(i=function(){return{_mockPromise:function(e,t){var i=when.defer();return $.later(e,this,(function(){i.resolve(t)})),i.promise},_promise:function(e,t,i,s,n){var a=when.defer();return SumoApp.ajax.call(this,{endpoint:e,errorCode:t,type:i,data:s,timeout:n,success:function(e){a.resolve(e)},error:this._rejectPromise.bind(this,a)}),a.promise},_rejectPromise:function(e,t,i,s,n,a){var r={status:t,friendlyErrorMessage:i,formattedErrorDetails:s,serverErrorMessage:n,resultsObj:a};e.reject(r)},remove:function(e){return this._promise(SumoApp.ajax.Endpoints.V1_SIGNATURES_DELETE,"signatures_delete","POST",e)},mark:function(e){return this._promise(SumoApp.ajax.Endpoints.V1_SIGNATURES_MARK,"signatures_mark","POST",e)},unmark:function(e){return this._promise(SumoApp.ajax.Endpoints.V1_SIGNATURES_UNMARK,"signatures_mark","POST",e)},merge:function(e){return this._promise(SumoApp.ajax.Endpoints.V1_SIGNATURES_MERGE,"signatures_merge","POST",e)},split:function(e){return this._promise(sprintf(SumoApp.ajax.EndpointFormats.V1_SIGNATURES_SPLIT,e),"signature_split","POST",null,6e4)},getAll:function(e){return this._promise(SumoApp.ajax.Endpoints.V1_SIGNATURES_GET_ALL,"signatures_load","GET",e)},getLogs:function(e){return this._promise(SumoApp.ajax.Endpoints.V1_SIGNATURES_GET_LOGS,"logs_load","GET",e)},exportSignatures:function(){return this._promise(SumoApp.ajax.Endpoints.V1_SIGNATURES_EXPORT,"signatures_export","GET",null)},getTags:function(){return this._getTags(!1)},getAnomalyTags:function(){return this._getTags(!0)},_getTags:function(e){if(SumoApp.priv.hasFlagUISignatureEditorTagsMock())return this._mockPromise(1e3,[{id:"1",name:"Collector"},{id:"2",name:"Search"},{id:"3",name:"Metrics"},{id:"4",name:"Analytics"},{id:"5",name:"Mix"},{id:"6",name:"Ingestion"},{id:"7",name:"Performance"}]);var t=e?SumoApp.ajax.Endpoints.V1_SIGNATURES_GET_ANOMALY_TAGS:SumoApp.ajax.Endpoints.V1_SIGNATURES_GET_TAGS;return this._promise(t,"tags_load","GET")},updateTags:function(e,t){return SumoApp.priv.hasFlagUISignatureEditorTagsMock()?($.logWarnLocal("mock updating tags for signature: ",e,t),this._mockPromise(1e3,{success:!0})):this._promise(sprintf(SumoApp.ajax.EndpointFormats.V1_SIGNATURES_ADD_TAG_TO_SIGNATURE,e),"tags_load","POST",t)},createTag:function(e){return SumoApp.priv.hasFlagUISignatureEditorTagsMock()?($.logWarnLocal("mock creating tag: ",e),e.id=SumoUtil.randomNumberBetween(1e3,1e4).toString(),this._mockPromise(1e3,e)):this._promise(SumoApp.ajax.Endpoints.V1_SIGNATURES_CREATE_TAG,"tags_create","POST",e)}}}.apply(t,[]))||(e.exports=i)},47695:function(e,t,i){var s,n;s=[i(60567),i(91161),i(55799)],void 0===(n=function(e,t,i){var s=e.SumoViewModule,n=e.ViewErrorHandlerMixinModule;return s.extend({events:{"keyup [type=text]":"onKeyup","change [type=text]":"onKeyup","paste [type=text]":"onKeyup","mouseup #signatureEdit-signature":"editSignature","click #undo-signature":"undoEdit","click #submit-signature":"saveSignature","click #cancel-signature":"closeDialog","submit form#signatureEditForm":"onSubmitPreventDefault"},buttonStates:{CANCEL_ON:0,SUBMIT_ON:1,SUBMIT_CANCEL_ON:2,SUBMIT_OFF:3,SUBMIT_CANCEL_OFF:4,UNDO_ON:5,UNDO_OFF:6,UPDATING:7,DONE_UPDATING:8},lastButtonState:-1,mixins:[n],sigEditStack:null,template:_.template(i),onSubmitPreventDefault:function(e){e.preventDefault()},closeable:function(){return!$("#cancel-signature").hasClass("btn-disabled")},submitable:function(){return!$("#submit-signature").hasClass("btn-disabled")},manageButtonState:function(e){switch(this.lastButtonState=e,e){case this.buttonStates.CANCEL_ON:$("#cancel-signature").removeClass("btn-disabled").addClass("btn");break;case this.buttonStates.SUBMIT_ON:$("#submit-signature").removeClass("btn-disabled").addClass("btn");break;case this.buttonStates.SUBMIT_CANCEL_ON:$("#cancel-signature, #submit-signature").removeClass("btn-disabled").addClass("btn");break;case this.buttonStates.SUBMIT_OFF:$("#submit-signature").addClass("btn-disabled").removeClass("btn");break;case this.buttonStates.SUBMIT_CANCEL_OFF:$("#submit-signature, #cancel-signature").addClass("btn-disabled").removeClass("btn");break;case this.buttonStates.UNDO_ON:$("#undo-signature").removeClass("btn-disabled").addClass("btn");break;case this.buttonStates.UNDO_OFF:$("#undo-signature").addClass("btn-disabled").removeClass("btn");break;case this.buttonStates.UPDATING:this.$(".signatureEditToolbar input").hide(),this.$(".signature-updating").addClass("is-visible");break;case this.buttonStates.DONE_UPDATING:this.$(".signatureEditToolbar input").show(),this.$(".signature-updating").removeClass("is-visible")}},onKeyup:function(e){if(!$("#signatureEditForm").is(":visible")){if("paste"===e.type){var t=this;setTimeout((function(){e.type="click",t.onKeyup(e)}),10)}switch(e.keyCode){case 13:this.saveSignature(e);break;default:this.manageButtonState(this._anyBlanks()?this.buttonStates.SUBMIT_OFF:this.buttonStates.SUBMIT_ON)}}},editSignature:function(e){if(this.lastButtonState!==this.buttonStates.UPDATING){var t,i,s,n,a,r=$(e.target);if(r.hasClass("star")&&(r=r.parent()),(t=window.getSelection())&&!t.isCollapsed&&""!==t.toString())try{if(3===(a=(i=t.getRangeAt(0)).commonAncestorContainer).nodeType){if(/^\*+$/.test(i.toString()))return void t.removeAllRanges();if(a.textContent===t.toString())return void t.removeAllRanges();a=a.parentNode}if("signatureEdit-signature"!==$(a).attr("id"))return void t.removeAllRanges();this.sigEditStack.push(this.$("#signatureEdit-signature").html()),s=i.createContextualFragment('<span class="star">*</span>'),n=$(s).children()[0],i.extractContents(),i.insertNode(n),this.$("#signatureEdit-signature").addClass("unsaved-edit"),this.manageButtonState(this.buttonStates.UNDO_ON),this.manageButtonState(this.buttonStates.SUBMIT_ON)}catch(e){$.log("Sumo.Ui.Signatures.signatureEditView - Error: %s",e)}t.removeAllRanges()}},undoEdit:function(e){e.preventDefault(),e.stopPropagation(),$(e.target).hasClass("btn-disabled")||(this.$("#signatureEdit-signature").html(this.sigEditStack.pop()),_.isEmpty(this.sigEditStack)&&(this.manageButtonState(this.buttonStates.UNDO_OFF),this.manageButtonState(this.buttonStates.SUBMIT_OFF),this.$("#signatureEdit-signature").removeClass("unsaved-edit")))},initialize:function(){$.log("Sumo.Ui.Signatures.signatureEditView.initialize"),this.sigEditStack=[],this.render(),_.bindAll(this,"onKeyup","undoEdit"),this.listenTo(this.model,"change:triggerUpdate",this.viewUpdated),this.listenTo(this.model,"change:error",this.renderError)},render:function(){$.log("Sumo.Ui.Account.schedViewEditView.render");var e=$.extend(this.model.toJSON(),{__:t,signatureText:this.model.getSignature()}),i=this.template(e);return this.$el.html(i),this.$("#generate-error-div").toggle(),this.manageButtonState(this.buttonStates.SUBMIT_OFF),this.manageButtonState(this.buttonStates.UNDO_OFF),this.manageButtonState(this.buttonStates.CANCEL_ON),this},viewUpdated:function(){this.manageButtonState(this.buttonStates.DONE_UPDATING),this.closeDialog()},saveSignature:function(e){$(e.target).hasClass("btn-disabled")||this.submitable()&&(this.manageButtonState(this.buttonStates.UPDATING),this.model.setSignature($("#signatureEdit-signature").text().trim()),this.options.manualUpdateCallback.apply(this,[this.model]))},closeDialog:function(e){this.closeable()&&(this.manageButtonState(this.buttonStates.SUBMIT_ON),this.options.exitCallback())},clearError:function(e){this.model.clearError(),this.manageButtonState(this.buttonStates.CANCEL_ON)},renderError:function(){if(this.model.getError()){this.manageButtonState(this.buttonStates.DONE_UPDATING);var e=this.$("#generate-error-div");this.model.getContext().errorUtil.destroy(e),e.show();var t=_.isEmpty(this.model.getErrorDetails())?this.model.getErrorMessage():this.model.getErrorDetails();this.model.getContext().errorUtil.render(e,t),this.clearError()}}})}.apply(t,s))||(e.exports=n)},63341:function(e,t,i){var s,n;s=[i(60567),i(91161),i(74924)],void 0===(n=function(e,t,i){"use strict";var s=e.SumoModel,n=e.GetterSetterMixin,a=e.ModelErrorHandlerMixin;return s.extend({defaults:{id:null,signature:null,isMarked:null,logCount:0,asMock:!1,idx:null,merged:null,log:null,tags:null},mixins:[a,n],getModelName:function(){return"SignatureModel"},getComponent:function(){return"Signatures"},_getSignature:function(){return this.get("signature")},getSignature:function(e){var t;if(e){var i=document.createElement("div");i.innerHTML=this._getSignature(),t=i.textContent}else t=this._getSignature();return t},setSignature:function(e){this.set({signature:`${e||""}`.trim()})},isMarked:function(){return this.get("isMarked")},setMarked:function(e){this.set({isMarked:e})},mark:function(){var e=this;return i.mark([this.getId()]).then((function(t){return e.setMarked(!0),e}))},unmark:function(){var e=this;return i.unmark([this.getId()]).then((function(t){return e.setMarked(!1),e}))},applyTagChanges:function(e){var t=this,s=this.getTags(),n={},a=_.groupBy(e,"checkedState");_.each(a,(function(e,t){"on"===t?n.add=_.pluck(e,"id"):n.remove=_.pluck(e,"id")}));var r=i.updateTags(this.getId(),n);return r.then((function(){var e=_.pluck(a.off,"originalTag"),i=_.pluck(a.on,"originalTag"),n=s;_.isArray(e)&&(n=_.filter(s,(function(t){return!_.find(e,(function(e){return e.id===t.id}))}))),_.isArray(i)&&_.each(i,(function(e){_.find(s,(function(t){return t.id===e.id}))||n.push(e)})),t.setTags(n)})),r},split:function(){return i.split(this.getId())},initialize:function(){this.get("asMock")&&this.set(this.getMock())},getMock:function(){var e=[parseInt(1234*Math.random()),parseInt(34*Math.random()),parseInt(123432*Math.random())],t=["**] [1:"+e[1]+":4] DNS SPOOF query response with TTL of 1 min. and no authority [*] [Classification: Potentially Bad Traffic] [Priority: 2]  ***** 172.16.0.23:53 -> 10.1***** UDP TTL:64 TOS:0x0 ID:* IpLen:20 DgmLen:* Len: *","$DATE INFO [hostId=nite-*****] [module=*****] [localUserName=*****] [logger=util.RecurringTaskMetricsReporter] [thread=metrics-reporter-*****) count=*, fifteenMinuteRate=***, fiveMinuteRate=***, oneMinuteRate=***, meanRate=***","[OS Process Data] - pid = *, bin_path = /usr/bin/daemon, working_directory = /usr/sumo/*****, name = daemon, ppid = 1, file_descriptor_count = "+e[0]+", user = ****, group = ****, cpu_percent = 0.00, user_cpu_time = *0, system_cpu_time = **, proc_start_time = *, vmsize = *****, rss_size = *, shared_size = *, page_faults = *, io_page_faults = *, thread_count = 1, command_line_args = [/usr/bin/daemon,--name=*****,--chdir=/usr/sumo/*****,--inherit,--pidfile=/usr/sumo/pids//*****.pid,-U,--output=/usr/sumo/*****/logs/*****.out.log,--respawn,--acceptable=120,--attempts=5,--delay="+e[2]+",--limit=10,--*****/usr/sumo/*****"],i=this.get("idx");return{id:i+1,signature:t[i>2?i%3:i]}}})}.apply(t,s))||(e.exports=n)},90818:function(e,t,i){var s=i(23278),n=i(97358),a={insert:"head",singleton:!1};s(n=n.__esModule?n.default:n,a);e.exports=n.locals||{}},26839:function(e){e.exports='<div id="dashboard-inaccessible">\n  <div class="box">\n    <img class="go-to-search" width="100" height="100" alt="SUMO LOGIC" src="images/svg/landscapes/desert.svg">\n    <div class="message"><%= message.title || __.dashboard_inaccessible %></div>\n    <div class="reason"><%= message.reason || __.dashboard_inaccessible_reason %></div>\n\n    <div class="buttons">\n      <% if (SumoUtil.isDashboardUrl()) { %>\n        <% if (canBeClosed) { %>\n          <input class="action-button secondary-button close-window" type="button" value="<%attr= __.close_window %>">\n        <% } %>\n        <% if (showGoToSearch) { %>\n          <a class="action-button is-href go-to-search" href="<%attr= searchUrl %>"><%= __.go_to_search %></a>\n        <% } %>\n        <% if (message.refreshOption) { %>\n          <input class="action-button secondary-button refresh" type="button" value="<%attr= __.refresh %>">\n        <% } %>\n      <% } else {%>\n        <a class="action-button is-href close-bento-tab"><%= __.close_bento_tab %></a>\n      <% } %>\n    </div>\n    <% if (message.errorDetails) { %>\n      <div class="dash-error-details">\n        <span class="icon icon--caret-right"><%= __.error_details %></span>\n        <div class="details-content">\n          <%= JSON.stringify(message.errorDetails) %>\n        </div>\n      </div>\n    <% } %>\n  </div>\n</div>\n'},72446:function(e){e.exports='<% if (noResults) { %>\n<div><%= __.no_filters_matched %></div>\n<% } %>\n\n<%\n_(filterCategories).each(function(columns, category) {\nif (!_(columns).isEmpty()) {\n%>\n<div class="filter-category">\n  <b><%= __[category] %></b>\n</div>\n<div class="filters-container cf">\n  <%dangerousUnescapedHTML= _(columns).map(function(filters, idx){ return filterListTemplate({ filters: filters, idx: idx, selectedClass: selectedClass }); }).join(\'\') %>\n</div>\n<%\n}/*endif*/\n});/*endeach*/\n%>\n'},37922:function(e){e.exports='<div class="dashboard-filters-empty" data-sumo-test="dashboard-filters-empty">\n  <%= __.empty_filters %>\n</div>\n'},21197:function(e){e.exports='<div class="dashboard-filter-inner parameterised">\n  <div class="filter-label-container" data-sumo-test="filter-label-container">\n    <div class="view-linked-panels" title="<%attr= __.highlight_linked_panels %>"></div>\n    <div class="filter-label" title="<%attr= label %>"><%= label %></div>\n    <div class="filter-settings" title="<%attr= __.settings %>"></div>\n    <div class="filter-error <%attr= error ? \'is-visible\' : \'\' %>" title="<%attr= __.filter_validation_error %>"></div>\n  </div>\n  <div class="filter-field">\n    <%dangerousUnescapedHTML= filterTypeTemplate %>\n  </div>\n</div>\n<% if (!hasParamAssociation) { %>\n<div data-sumo-test="delete-filter-button" class="delete-filter-button panel-action-icon"\n     title="<%attr= __.delete_filter %>">\n  <div data-sumo-test="delete-filter-icon" class="delete-icon"></div>\n</div>\n<% } %>\n'},34561:function(e){e.exports='<div class="filters-overlay <%attr= showOverlay ? \'\' : \'is-hidden\' %>"></div>\n<div class="close-filters-view" data-sumo-test="close-filters-view">\n  <div class="panel-icon panel-action-icon"></div>\n</div>\n<div class="filters-title">\n  <span class="filters-title-text"><%= __.filters_for %>\n    <span class="<%attr= isInContext ? \'in-context\' : \'global\' %>"><%= panelContextName %></span>\n  </span>\n  <% if (showAddFilter) { %>\n  <button type="button" class="add-filter sumo-button -small" data-sumo-test="add-filter-button">\n    <%= __.add_filter %>\n  </button>\n  <% } %>\n</div>\n<div class="filters-container parametrised">\n  <%dangerousUnescapedHTML= filtersHTML %>\n</div>\n'},25813:function(e){e.exports='<div class="filters-column filter-column-<%attr=idx%>">\n  <% _(filters).each(function(filter) { %>\n  <div class="panel-filter"\n       data-name="<%attr= filter.getFieldName() %>">\n    <div class="panel-filter-button cf <%attr= filter.isSelected() ? selectedClass : \'\'%>"\n         data-name="<%attr= filter.getFieldName() %>">\n      <div class="left panel-filter-type <%attr= filter.getType() %> <%attr= !filter.isNew() ? \'link\' : \'\' %>"></div>\n      <div data-sumo-test="panel-filter-name" class="right panel-filter-name" title="<%attr= filter.getFieldName() %>"><%= filter.getFieldName() %></div>\n    </div>\n  </div>\n  <% }); %>\n</div>\n'},92213:function(e){e.exports='<div class="filter-selector-view">\n\n  <div id="filter-selector-search-container"></div>\n\n  <div class="all-filters"><%dangerousUnescapedHTML= allFiltersHTML %></div>\n\n  <div class="form-toolbar">\n    <input data-sumo-test="save-filter-button" class="action-button save-filter-button btn-disabled" type="button" value="<%attr= __.label_add %>">\n    <input class="action-button secondary-button cancel-button" type="button" value="<%attr= __.label_cancel %>">\n  </div>\n\n</div>\n'},38120:function(e){e.exports='<div class="panel-selector">\n  <% _(panels).each(function(panel) { %>\n  <div class="panel-option <%selected= panel.selected %> <%attr= panel.available && !panel.cannotUnlink ? \'available\' : \'\' %>"\n       data-id="<%attr= panel.id %>" data-x="<%attr= panel.x %>" data-y="<%attr= panel.y %>" data-width="<%attr= panel.width %>"\n       data-height="<%attr= panel.height %>" data-selected="<%attr= panel.originalSelectedState %>">\n    <% if (panel.available) { %>\n    <div class="panel-option-title"><%= panel.title %></div>\n    <div class="state-icon"></div>\n    <% } %>\n  </div>\n  <% }); %>\n</div>\n'},43897:function(e){e.exports='<div>\n  <div class="panel">\n    <div class="left-panel">\n      <div class="nav">\n        <% _.each(navItems, function(navItem, idx) { %>\n        <div class="nav-item item-<%attr= idx %>" data-idx="<%attr= idx %>">\n          <%= navItem.name %>\n        </div>\n        <% }); %>\n      </div>\n    </div>\n    <div class="right-panel prada">\n      <div id="settings-sub-view" class="settings"></div>\n    </div>\n  </div>\n\n  <div id="error-div"></div>\n  <div class="form-toolbar">\n    <input class="action-button settings-submit" type="button" value="<%attr= __.label_save %>">\n    <input class="action-button secondary-button cancel-link" type="button" value="<%attr= __.label_cancel %>">\n  </div>\n</div>\n'},57759:function(e){e.exports='<div class="form-row stacked">\n  <div class="form-field">\n    <input class="input-filter-label" type="text" value="<%%attr= label %>" />\n  </div>\n</div>\n'},42253:function(e){e.exports='<div class="form-row stacked">\n  <div class="form-field">\n    <%dangerousUnescapedHTML= filterTypeTemplate %>\n  </div>\n</div>\n'},73024:function(e){e.exports='<div class="panel-selector-view"></div>'},48109:function(e){e.exports='<div class="numeric-filter-field <%attr= !hasParamAssociation && (!currentValue.operator || currentValue.operator === OPERATORS.AND) ? \'-range\' : \'\' %> <%attr= \'parameterised\' %>">\n  <% if (!hasParamAssociation) { %>\n  <div class="sumo-dropdown">\n    <select class="numeric-type">\n      <option value="<%attr= OPERATORS.AND %>" <%selected= currentValue.operator === OPERATORS.AND %>><%= __.range  %></option>\n      <option value="<%attr= OPERATORS.LT %>" <%selected= currentValue.operator === OPERATORS.LT %>><%= __.lt  %></option>\n      <option value="<%attr= OPERATORS.LTE %>" <%selected= currentValue.operator === OPERATORS.LTE %>><%= __.lte  %></option>\n      <option value="<%attr= OPERATORS.EQ %>" <%selected= hasParamAssociation || currentValue.operator === OPERATORS.EQ %>><%= __.eq  %></option>\n      <option value="<%attr= OPERATORS.GT %>" <%selected= currentValue.operator === OPERATORS.GT %>><%= __.gt  %></option>\n      <option value="<%attr= OPERATORS.GTE %>" <%selected= currentValue.operator === OPERATORS.GTE %>><%= __.gte  %></option>\n      <option value="<%attr= OPERATORS.NEQ %>" <%selected= currentValue.operator === OPERATORS.NEQ %>><%= __.neq  %></option>\n    </select>\n  </div>\n  <% } %>\n\n  <% if (hasParamAssociation) { %>\n    <div class="numeric-filter__select">\n      <select-or-create\n        selected-item="selectedItem"\n        on-selection-change="onSelectionChange(selection)"\n        on-new-item="onNewItem(selection)"\n        label="label"\n        match-request="matchRequest"\n        option-tooltip="true"\n        variant="dropdownVariant"\n        on-text-change="onTextChange(label)"\n      </select-or-create>\n    </div>\n    <% }  else { %>\n    <div class="numeric-filter__select">\n      <md-input-container>\n        <input ng-keyup="($event.keyCode === 13) ? onSelectionChange({value: selectedItem}) : \'\'" ng-model="selectedItem" ng-change="onTextChange(selectedItem)"/>\n      </md-input-container>\n    </div>\n    <input type="text" data-sumo-test="filter-input-first" class="first filter-input" value="<%%attr= currentValues[0] %>" />\n    <span class="separator"> - </span>\n    <input type="text" data-sumo-test="filter-input-second" class="second filter-input" value="<%%attr= currentValues[1] %>" />\n  <% } %>\n</div>\n'},67408:function(e){e.exports='<div class="textbox-filter__select">\n  <% if (hasFilterAutocomplete) { %>\n    <select-or-create\n      selected-item="selectedItem"\n      on-selection-change="onSelectionChange(selection)"\n      on-new-item="onNewItem(selection)"\n      on-text-change="onTextChange(label)"\n      label="label"\n      match-request="matchRequest"\n      variant="dropdownVariant"\n      option-tooltip="true"\n    </select-or-create>\n  <% } else { %>\n    <md-input-container class="md-block">\n      <input type="text" class="filter-input" value="<%%attr= (isSettingsDialog ? defaultValue : currentValue).getFirst() %>"/>\n    </md-input-container>\n  <% } %>\n</div>\n'},69204:function(e){e.exports='<div id="iris-view" class="prada <%attr= isInteractive ? \'interactive\' : \'live\' %> <%attr= hybridEnabled ? \'hybrid\' : \'\' %> <%attr= isSinglePanelEmbedMode ? \'single-panel-embed\' : \'\' %>">\n  <% if(isOptimizedDashboard) { %>\n    <div class="loading-overlay <% if(rerendered){ %>show-header<%}%>"></div>\n  <% } %>\n  <% if(!isSinglePanelEmbedModeNoHeader) { %>\n  <div class="iris-header">\n    <% if (hybridEnabled) { %>\n    <div class="iris-header-right">\n      <% if (ready || isOptimizedDashboard) { %>\n        <% if (MSPLogo) { %>\n          <div class="msp">\n            <img class="msp__logo" src="<%= MSPLogo %>" />\n            <div class="msp__sumo">\n              <span class="msp__powered"><%= __.powered_by %></span>\n              <div class="msp__sumologo"></div>\n            </div>\n          </div>\n        <% } else {%>\n          <div class="iris-logo"></div>\n        <% } %>\n      <% } %>\n      <div class="iris-header-nav">\n        <% if (ready || isOptimizedDashboard) { %>\n          <% if (canBeFiltered) { %>\n          <span data-sumo-test="toggle-dashboard-filters" class="show-all-filters icon-button icon--filter <%attr= isFiltered ? \'filtered\' : \'\' %>" title="<%attr= __.toggle_filters %>"></span>\n          <% } %>\n          <% if (canSeeSharingSettings) { %>\n            <share-dashboard-button-v2 id="share-dashboard-dlg-btn-state"\n                                          item="item"\n                                          on-share-status-change="onShareStatusChange(item)"\n                                          is-loading="isLoading"\n                                          is-disabled="isDisabled"\n                                          title="<%attr= __.share_dashboard_short_title %>"\n            ></share-dashboard-button-v2>\n          <% } %>\n\n          <span data-sumo-test="dashboard-refresh" class="dashboard-refresh icon-button icon--refresh" title="<%attr= __.link_dashboard_refresh %>"></span>\n\n          <% if (isPublic) { %>\n            <span class="fullscreen icon-button icon--arrows-expand" title="<%attr= __.toggle_full_screen_mode %>"></span>\n          <% } else { %>\n            <span id="hybrid-dashboard-menu-handle" data-sumo-test="hybrid-dashboard-menu-handle" class="menu icon-button icon--menu" title="<%attr= __.link_menu %>"></span>\n          <% } %>\n        <% } %>\n        <div class="dashboard-menu sumo-menu-container"></div>\n        <div class="hybrid-dashboard-menu sumo-menu-container"></div>\n      </div>\n      <% if (ready || isOptimizedDashboard) { %>\n        <% if (isInteractive) { %>\n          <div class="iris-master-timerange <%attr= isHybridLiveMode ? \'iris-hide\' : \'iris-show\' %>"></div>\n        <% } %>\n        <% if (canBeEdited) { %>\n      <span type="button" id="toggle-edit-mode-edit" data-sumo-test="toggle-edit-mode-edit"\n            class="icon-button icon--pencil <%attr= isEditMode || isHybridLiveMode ? \'iris-hide\' : \'iris-show\' %>"\n            title="<%attr= __.edit_button %>"></span>\n      <button type="button"\n              id="toggle-edit-mode-done"\n              data-sumo-test="toggle-edit-mode-done"\n              class="sumo-button -small <%attr= isEditMode && !isHybridLiveMode ? \'iris-show\' : \'iris-hide\' %>">\n        <%= __.done_edit_button %>\n      </button>\n      <% } %>\n        <div class="live-mode-status <%attr= liveStatusText ? \'is-visible iris-show\' : \'iris-hide\' %>" data-spinner>\n          <%dangerousUnescapedHTML= liveStatusText %>\n        </div>\n        <div class="iris-live-mode <%attr= isPublic ? \'is-public\' : \'\' %> <%attr= isEditMode ? \'hide\' : \'\' %>">\n          <span class="live-indicator-content fa fa-circle <%attr= !isPublic ? \'hide\' : \'\' %>"></span>\n          <div id="live-mode-switch" class="mode-switch <%attr= isPublic ? \'hide\' : \'\' %>"></div>\n          <span class="live-mode-label"><%= __.live_mode %></span>\n        </div>\n        <% if(isPublic && orgName) { %>\n          <div class="org-name"><%= orgName %></div>\n        <% } else if(!isPublic) { %>\n          <div class="published-by" style="display: block"><span class="iris-dashboard-published-by"></span></div>\n        <% } %>\n        <% if(currentUserHelper.hasFeatureFlag(\'UIOldDashboardMigrateButton\') && canBeEdited) { %>\n          <button data-sumo-test="dashboard-migration-button" id="dashboard-migration-button"><%= __.migrate_dashboard_button_text %></button>\n        <% } %>\n      <% } %>\n      \n    </div>\n    <% } else { %>\n    <div class="iris-header-right">\n      <% if (MSPLogo) { %>\n      <div class="msp">\n        <img class="msp__logo" src="<%= MSPLogo %>" />\n        <div class="msp__sumo">\n          <span class="msp__powered"><%= __.powered_by %></span>\n          <div class="msp__sumologo"></div>\n        </div>\n      </div>\n      <% } else {%>\n      <div class="iris-logo"></div>\n      <% } %>\n      <div class="iris-header-nav">\n        <% if (ready || isOptimizedDashboard) { %>\n          <% if (canBeEdited) { %>\n          <span class="create-widget icon-button icon--plus" title="<%attr= __.create_panel_dialog_title %>"></span>\n          <span id="dashboard-menu-handle" class="icon-button icon--gear" title="<%attr= __.settings %>"></span>\n          <% } %>\n          <% if (canSeeSharingSettings) { %>\n          <span class="dashboard-share icon-button icon--share <%attr= isPublished ? \'-is-shared\' : \'\' %>" title="<%attr= publishStatusToolTip %>">\n          </span>\n          <% } %>\n          <span  data-sumo-test="dashboard-refresh" class="dashboard-refresh icon-button icon--refresh" title="<%attr= __.link_dashboard_refresh %>"></span>\n          <span class="fullscreen icon-button icon--arrows-expand" title="<%attr= __.toggle_full_screen_mode %>"></span>\n\n          <% if (canBeFiltered) { %>\n          <span class="show-all-filters icon-button icon--filter <%attr= isFiltered ? \'filtered\' : \'\' %> <%attr= isHybridLiveMode ? \'iris-hide\' : \'iris-show\' %>" title="<%attr= __.toggle_filters %>"></span>\n          <% } %>\n        <% } %>\n        <% if (!SumoApp.user.herokuUser) { %>\n        <span class="signout icon-button icon--sign-out" title="<%attr= __.link_logout %>"></span>\n        <% } %>\n        <div class="dashboard-menu sumo-menu-container"></div>\n      </div>\n      <% if (ready || isOptimizedDashboard) { %>\n        <% if (canBeEdited) { %>\n        <div class="iris-mode">\n          <div id="edit-mode-switch" class="mode-switch"></div>\n          <span class="edit-mode-label"><%= __.edit_mode %></span>\n        </div>\n        <% } else if(isPublic) { %>\n          <% if (orgName) { %>\n            <div class="org-name"><%= orgName %></div>\n          <% } %>\n        <% } else { %>\n          <div class="published-by"><span class="iris-dashboard-published-by"></span></div>\n        <% } %>\n        <% if (isInteractive) { %>\n        <div class="iris-master-timerange"></div>\n        <% } %>\n        <% if(currentUserHelper.hasFeatureFlag(\'UIOldDashboardMigrateButton\') && canBeEdited) { %>\n          <button data-sumo-test="dashboard-migration-button" id="dashboard-migration-button"><%= __.migrate_dashboard_button_text %></button>\n        <% } %>\n      <% } %>\n      \n    </div>\n    <% } %>\n\n    <div class="iris-header-left">\n      <% if (!ready) { %>\n        <div class="iris-loading">\n          <div class="loading-spinner spinner is-visible"></div>\n          <span class="loading-text"><%= __.loading_dashboard %></span>\n          <div class="loading-logo"></div>\n          <div id="app-loading-progress">\n            <div class="app-progress"></div>\n          </div>\n        </div>\n        <% if(isOptimizedDashboard){ %>\n          <div class="iris-mock-title-container">\n            <div class="iris-mock-title">\n              Dashboard Title\n            </div>\n          </div>\n        <%}%>\n      <% } else { %>\n        <% if (!hybridEnabled) { %>\n          <div class="iris-favorite"></div>\n        <% } %>\n        <div class="iris-title-container">\n          <div class="iris-title" title="<%attr= title %>">\n            <%= title %>\n          </div>\n          <status-page-io-icon></status-page-io-icon>\n        </div>\n        <div class="refresh-dashboard hide">\n        </div>\n      <% } %>\n    </div>\n  </div>\n  <% } %>\n  <div id="dashboard-tooltips-container"></div>\n\n  <div id="dashboard-filters" class="dashboard-filters-view"></div>\n  <div class="iris-wrapper <%attr= isSinglePanelEmbedModeNoHeader ? \'single-panel-embed-noheader\' : \'\'%>">\n    <div class="iris-content">\n      <% if(ready && noMonitors) { %>\n      <div class="nocolumns">\n        <%= __.no_panels %>\n      </div>\n      <% } %>\n    </div>\n  </div>\n</div>\n'},30525:function(e){e.exports='<div id="create-panel-dialog-container" class="type-mode-<%%attr= viewerType %>">\n  <div class="iris-form prada legacy-prada">\n    <div class="form-row" >\n      <div class="form-label">\n        <label for="widget-type-title"><%= __.create_panel_dialog_type_label %></label>\n      </div>\n      <div id="widget-type" class="form-field">\n        <span class="panel-type-option">\n          <input id="widget-type-title" type="radio" name="viewerType"\n                 value="title" checked="checked"><%= __.panel_type_title_label %></input>\n        </span>\n        <span class="panel-type-option">\n          <input id="widget-type-text" type="radio" name="viewerType"\n                 value="text" ><%= __.panel_type_text_label %></input>\n        </span>\n      </div>\n    </div>\n    <div class="form-row">\n      <div class="form-label">\n        <label for="panel-title"><%= __.panel_type_title_label %><span class="required-indicator">*</span></label>\n      </div>\n      <div class="form-field">\n        <input id="panel-title" value="<%%attr= title %>" name="title" type="text" maxlength="80" />\n      </div>\n    </div>\n    <div class="form-row text-type">\n      <div class="form-label">\n        <label><%= __.panel_type_text_label %><span class="required-indicator">*</span></label>\n      </div>\n      <div class="form-field widget-text-editor">\n        <div class="epic-editor-view"></div>\n      </div>\n    </div>\n    <div id="error-div"></div>\n    <div class="form-toolbar">\n      <input class="action-button create-panel-button" type="button" value="<%attr= __.create_panel_submit_label %>">\n      <input class="action-button secondary-button cancel-link" type="button" value="<%attr= __.label_cancel %>">\n    </div>\n  </div>\n</div>\n'},4158:function(e){e.exports='<div id="edit-text-widget-container">\n  <div class="iris-form prada">\n    <div class="form-row text-type">\n      <div class="form-label">\n        <label><%= __.panel_type_text_label %><span class="required-indicator">*</span></label>\n      </div>\n      <div class="form-field widget-text-editor">\n        <div class="epic-editor-view"></div>\n      </div>\n    </div>\n    <div id="error-div"></div>\n    <div class="form-toolbar">\n      <input class="action-button update-panel-button" type="button" value="<%attr= __.edit_text_panel_update_label %>">\n      <input class="action-button secondary-button cancel-link" type="button" value="<%attr= __.label_cancel %>">\n    </div>\n  </div>\n</div>\n'},30215:function(e){e.exports='<div class="markdown-editor-controls cf">\n  <div class="preview-mode cf">\n    <span class="preview-mode-label"><%= __.edit_text_preview_label %></span>\n    <div class="preview-switch"></div>\n  </div>\n  <div class="link-dashboard-container">\n    <span class="form-action-link link-dashboard"><%= __.link_dashboard_label %></span>\n  </div>\n</div>\n<div class="epic-editor-border">\n  <div class="epic-editor"></div>\n</div>\n\n<div class="markdown-support-container">\n  <%dangerousUnescapedHTML=__.markdown_supported%>\n</div>\n'},50886:function(e){e.exports='<div class="no-data-container" data-sumo-test="no-data-container">\n  <% if (loading) { %>\n  <div class="sumo-wave">\n    <div class="rect1"></div>\n    <div class="rect2"></div>\n    <div class="rect3"></div>\n    <div class="rect4"></div>\n    <div class="rect5"></div>\n  </div>\n  <% } %>\n  <div class="status-message-container">\n  <div class="status-message"><%dangerousUnescapedHTML= msg %></div>\n  <% if (showSearchLink) { %>\n  <div class="drilldown-to-search" title="<%attr= drillDownText %>"><%= drillDownText %></div>\n  <% } %>\n  </div>\n</div>\n'},83030:function(e){e.exports='<div id="panel-status-container" class="prada">\n\n  <% if (!_.isEmpty(errorAndWarnings)) { %>\n  <div class="warning-status">\n    <div class="warning-list">\n      <% _.each(errorAndWarnings, function(warn){ %>\n      <div class="warning cf">\n        <div class="warning-icon <%attr= \'error\' === warn.type ? \'red\' : \'\' %>"></div>\n        <div class="warning-content">\n          <% if (warn.client) { %>\n            <%dangerousUnescapedHTML= warn.message %>\n          <% } else { %>\n            <%= warn.message %>\n          <% } %>\n        </div>\n      </div>\n      <% }); %>\n    </div>\n  </div>\n\n  <div class="separator-wrapper">\n    <div class="warnings-separator"></div>\n  </div>\n  <% } %>\n\n\n  <div class="info-status">\n    <% if (!_.isEmpty(warnings)) { %>\n      <div class="status-title"><%= __.info %></div>\n    <% } %>\n\n    <div class="status-list">\n      <div class="status-row cf">\n        <div class="status-label"><%= __.panel_name %></div>\n        <div class="ts-value" title="<%attr= title %>">\n          <%= title %>\n        </div>\n      </div>\n\n      <div class="status-row cf">\n        <div class="status-label"><%= __.info_dialog_label_panel_timerange %></div>\n        <div class="ts-value">\n          <%= timeRangeDisplayText %>\n        </div>\n      </div>\n\n      <% if (startTime) { %>\n      <div class="status-row cf">\n        <div class="status-label"><%= __.info_dialog_label_panel_start_time %></div>\n        <div class="ts-value">\n          <%= startTime %>\n        </div>\n      </div>\n      <% } %>\n\n      <% if (lastUpdate) { %>\n      <div class="status-row cf">\n        <div class="status-label"><%= __.monitor_timerange_tooltip_last_update %></div>\n        <div class="ts-value">\n          <%= lastUpdate %>\n        </div>\n      </div>\n      <% } %>\n\n      <% if (!SumoUtil.isStringEmpty(monitorProgressPct)) { %>\n      <div class="status-row cf">\n        <div class="status-label"><%= __.monitor_timerange_tooltip_monitor_progress %></div>\n        <div class="ts-value">\n          <%= monitorProgress %>\n        </div>\n      </div>\n      <% } %>\n\n      <% if (timeRangeStart) { %>\n      <div class="status-row cf">\n        <div class="status-label"><%= __.monitor_timerange_tooltip_result_timerange_start %></div>\n        <div class="ts-value">\n          <%= timeRangeStart %>\n        </div>\n      </div>\n      <% } %>\n\n      <% if (timeRangeEnd) { %>\n      <div class="status-row cf">\n        <div class="status-label"><%= __.monitor_timerange_tooltip_result_timerange_end %></div>\n        <div class="ts-value">\n          <%= timeRangeEnd %>\n        </div>\n      </div>\n      <% } %>\n\n      <% if (queryId) { %>\n      <div class="status-row cf">\n        <div class="status-label"><%= idLabel %></div>\n        <div class="ts-value">\n          <%= queryId %>\n        </div>\n      </div>\n      <% } %>\n\n      <% if (!isPublic) { %>\n        <div class="status-row cf">\n          <div class="ts-value">\n            <div id="monitor-mi-showinsearch" class="drilldown-to-search" title="<%attr= isMetrics ? __.drilldown_link_metrics_text : __.drilldown_link_search_text %>"><%= isMetrics ? __.drilldown_link_metrics_text : __.drilldown_link_search_text %></div>\n          </div>\n        </div>\n      <% } %>\n    </div>\n  </div>\n\n</div>\n'},12557:function(e){e.exports='<div class="panel-view panel-type-<%attr=viewerType%>">\n  <div class="panel-view-inner">\n    <div class="panel-header">\n      <% if (!isStaticPanel) { %>\n      <div class="panel-status-container">\n        <% if (!isShowPanelKabob) { %>\n          <div class="widget-status panel-icon panel-action-icon" title="<%attr= __.info_tooltip %>"></div>\n        <% } %>\n        <% if (!isPublic) { %>\n          <div id="panel-timerange-<%attr= id %>" class="widget-time-range-editable bloat" <%= isLive ? \'style="display:none;"\' :\'\' %>></div>\n          <div class="widget-drilldown panel-icon panel-action-icon bloat <%attr= isMetrics ? \'icon--open-in-metrics\' : \'icon--open-in-search\' %>" title="<%attr= isMetrics ? __.drilldown_link_metrics_text : __.drilldown_link_search_text %>"></div>\n          <% if (isShowPanelKabob) { %>\n          <div data-sumo-test="widget-refresh" class="widget-refresh panel-icon panel-action-icon icon--refresh bloat is-visible"></div>\n          <div class="widget-menu panel-icon panel-action-icon icon--menu bloat"></div>\n          <% } %>\n        <% } %>\n        <% if (isLive || isPublic) { %>\n          <div class="widget-time-range-text bloat" title="<%attr= timeRangeText %>"><%= timeRangeText %></div>\n        <% } %>\n        <% if (canBeFiltered) { %>\n          <span class="filter-status panel-icon panel-action-icon icon--filter bloat <%attr= isFiltered ? \'filtered\' : \'\' %>" title="<%attr= __.filters %>"></span>\n        <% } %>\n      </div>\n      <% } %>\n\n      <div class="panel-title-container">\n        <% if(!isLive) { %>\n        <div class="live-status">\n          <div class="live-status-content-wrapper" title="<%attr= __.live_mode_working_tooltip %>">\n            <div class="spinner is-visible"></div>\n            <span class="live-status-content"><%= liveStatusString %></span>\n          </div>\n        </div>\n        <div class="live-indicator" title="<%attr= __.live_mode_complete_tooltip %>">\n          <div class="live-indicator-content-wrapper">\n            <span class="live-indicator-content fa fa-circle"></span>\n          </div>\n        </div>\n        <% } %>\n        <div class="panel-title" title="<%attr= title %>" data-sumo-test="panel-title-view">\n          <%= title %>\n        </div>\n\n        <div class="panel-actions-container">\n          <% if (canBeEdited) { %>\n            <span class="panel-settings-gear panel-icon panel-action-icon" title="<%attr= isMetrics ? __.settingsForMetrics : __.settings %>"></span>\n            <span class="title-dragging-handle panel-icon panel-action-icon" title="<%attr= __.drag_handle_tooltip%>"> </span>\n          <% } %>\n          <% if (!isStaticPanel && !isShowPanelKabob) { %>\n            <div class="maximize-widget panel-icon panel-action-icon bloat" title="<%attr= __.zoom_into_the_panel%>"></div>\n          <% } %>\n        </div>\n\n      </div>\n\n    </div>\n    <div class="widget-content">\n      <div class="ui-dragging-handle" title="<%attr= __.drag_handle_tooltip%>"></div>\n      <div id="<%attr= \'widget-content-\' + id %>" class="widget-content-view <%attr= chartClass %> <%attr= theme %>"></div>\n      <div class="widget-content-view-state"></div>\n    </div>\n  </div>\n  <div class="top-bar"></div>\n  <% if (canBeEdited) { %>\n  <div class="delete-panel-button panel-action-icon">\n    <div class="delete-icon" title="<%attr= __.delete_panel_label %>"></div>\n  </div>\n  <div class="ui-resizable-handle ui-resizable-e left-resize-handle"></div>\n  <div class="ui-resizable-handle ui-resizable-s bottom-resize-handle"></div>\n  <div class="ui-resizable-handle ui-resizable-se corner-resize-handle"></div>\n  <% } %>\n</div>\n'},45558:function(e){e.exports='\n<div class="panel-lightbox-title-controls">\n  <%if(isLiveMode){%>\n  <div class="paused"><img title="<%attr= __.turn_auto_update_on %>" src="images/icons/16/play.png"></div>\n  <div class="playing"><img title="<%attr= __.turn_auto_update_off %>" src="images/icons/16/pause_black.png"></div>\n  <div class="updateDisabled"><img title="<%attr= __.auto_update_disabled %>" src="images/icons/16/off.png"></div>\n  <%}%>\n</div>\n<div class="panel-lightbox-title-timerange-spinner">\n  <span class="panel-lightbox-title-spinner">\n    <img class="panel-data-loading-spinner-icon-in-header" src="images/spin_e0e1e2.gif"\n               alt="loading..."/>\n  </span>\n  <span class="panel-lightbox-title-timerange"><%= this.model.getTimeRangeDisplayText() %></span>\n</div>\n'},43574:function(e){e.exports='<div class="panel-lightbox-view <%attr= dashboardModel.isMine() ? \'\' : \'read-only-monitor-view\' %>">\n  <div class="widget panel-type-<%attr=viewerType%>">\n    <div class="panel-content">\n      <div id="<%attr= \'panel-lightbox-content-\' + id %>" class="panel-content-view <%attr= chartClass %>">\n      </div>\n    </div>\n  </div>\n\n\n  <div class="floating-error-div" id="monitor-error-div-<%attr= id %>"></div>\n</div>\n'},38294:function(e){e.exports='<dashboard-chart\n    chart-data-source="subject"\n    interceptor-for-data="dataInterceptor.metricsInterceptor"\n    theme="theme"\n    panel-id="id"\n    chart-settings="chartSettings"\n    chart-actions="chartActions">\n</dashboard-chart>\n\n'},8303:function(e){e.exports='<div class="prada" id="monitor-obsolete-view">\n  <div id="monitor-obsolete-subtitle">\n    <%= subtitle1 %><br><br>\n    <%= __.panel_obsolete_subtitle2 %>:\n  </div>\n  <table id="monitor-obsolete-table">\n    <tr>\n      <td class="monitor-obsolete-box-holder">\n        <div id="reload-type" class="monitor-obsolete-box">\n          <table class="monitor-obsolete-box-table">\n            <tr>\n              <td class="monitor-obsolete-icon-holder"><img src="images/icons/32/reload.png" width="32" height="32" /></td>\n              <td class="monitor-obsolete-title"><%= __.panel_obsolete_reload_title %></td>\n            </tr>\n            <tr>\n              <td colspan="2" class="monitor-obsolete-desc"><%= __.panel_obsolete_reload_description %></td>\n            </tr>\n          </table>\n        </div>\n      </td>\n\n      <td class="monitor-obsolete-box-holder">\n        <div id="preserve-type" class="monitor-obsolete-box">\n          <table class="monitor-obsolete-box-table">\n            <tr>\n              <td class="monitor-obsolete-icon-holder"><img src="images/util/ok_32.png" width="32" height="32" /></td>\n              <td class="monitor-obsolete-title"><%= __.panel_obsolete_preserve_title %></td>\n            </tr>\n            <tr>\n              <td colspan="2" class="monitor-obsolete-desc"><%= __.panel_obsolete_preserve_description %></td>\n            </tr>\n          </table>\n        </div>\n      </td>\n\n      <td class="monitor-obsolete-faq-holder">\n        <div id="monitor-obsolete-faq-div"></div>\n      </td>\n    </tr>\n  </table>\n</div>\n'},56249:function(e){e.exports='<div>\n  <form-errors class="form-errors-container__errors" errors="errors"></form-errors>\n  <div class="panel">\n    <div class="left-panel">\n      <div class="nav">\n        <% _.each(navItems, function(navItem, idx) { %>\n        <div class="nav-item item-<%attr= idx %>" data-idx="<%attr= idx %>">\n          <%= navItem.name %>\n        </div>\n        <% }); %>\n      </div>\n    </div>\n    <div class="right-panel prada">\n      <div id="settings-sub-view" class="settings"></div>\n    </div>\n  </div>\n  <div id="preview" class="preview panel-type-<%attr= viewerType %>">\n    <form-message class="chart-preview-warning -warning" icon="icon">\n      <div>{{:: \'dashboard.chartPreviewWarning\' | i18nText}}</div>\n    </form-message>\n    <div id="preview-content-view" class="widget-content-view widget-content <%attr= chartClass %>"></div>\n  </div>\n  <div id="error-div"></div>\n  <div class="form-toolbar">\n    <input class="action-button settings-submit" type="button" value="<%attr= __.label_save %>">\n    <input class="action-button secondary-button cancel-link" type="button" value="<%attr= __.label_cancel %>">\n  </div>\n</div>\n'},54497:function(e){e.exports='<div class="panel-table-view detail-display">\n\n  <table id="<%attr= tableId%>" class="display-table" cellpadding="0" cellspacing="0">\n    <thead></thead>\n    <tbody></tbody>\n  </table>\n</div>\n<div class="pagination">\n    <span class="first back pagination-button"></span>\n    <span class="prev back pagination-button"></span>\n    <span class="pagination__page"></span>\n    &nbsp; of &nbsp;\n    <span class="count"></span>\n    <span class="next forth pagination-button"></span>\n    <span class="last forth pagination-button"></span>\n</div>\n'},90356:function(e){e.exports='<div class="prada" id="panel-timerange-selector-view">\n\n  <div class="description"><%= __.panel_timerange_selector_description %></div>\n\n  <form id="monitor-timerange-selector-form">\n\n    <div class="timerange-selectors">\n      <div class="input-item">\n        <input type="radio" name="input-time-range" id="input-time-range-original" /><div class="input-label"><%= originalTimeRangeText %> (<%= __.label_original_time_range %>)</div>\n      </div>\n      <div class="input-item">\n        <input type="radio" name="input-time-range" id="input-time-range-new" /><div class="input-label"><%= newTimeRangeText %> (<%= __.label_new_time_range %>)</div>\n      </div>\n    </div>\n\n    <div id="actions">\n      <a class="dialog-action" id="link-cancel"><%= __.label_cancel %></a>\n      &nbsp;&nbsp|&nbsp;&nbsp;\n      <button type="submit" id="button-submit" class="sumo-button"><%= __.label_apply %></button>\n    </div>\n\n  </form>\n</div>'},61605:function(e){e.exports='<div class="form-row stacked">\n  <textarea class="json-text-editor"><%= jsonConfig %></textarea>\n</div>'},24356:function(e){e.exports='<div class="form-row stacked">\n  <div class="form-label">\n    <label><%= __.minor_gridlines %></label>\n  </div>\n  <div class="form-field">\n    <div class="minor-gridlines" data-button-group="minorGridlines">\n      <input type="radio" id="minor-gridlines-default" value="default"\n      <%checked= option === \'default\' %>>\n      <label for="minor-gridlines-default"><%= __.default_interval %></label>\n\n      <input type="radio" id="minor-gridlines-custom" value="custom"\n      <%checked= option === \'custom\' %> data-editable="<%%attr= tickInterval %>"\n      data-editable-default="<%%attr= smartTickInterval %>">\n      <label for="minor-gridlines-custom"><%= __.custom_interval %></label>\n    </div>\n  </div>\n</div>\n\n<div class="form-row stacked">\n  <div class="form-label">\n    <label><%= __.minor_gridlines_color %></label>\n  </div>\n  <div class="form-field">\n    <div class="color-picker-container">\n      <input id="minor-gridlines-color" class="color-picker" value="<%%attr= customColor %>">\n    </div>\n  </div>\n</div>\n\n'},99347:function(e){e.exports='<div class="axis-title-label-setting">\n  <span class="chart-setting-container">\n    <div class="form-label">\n      <label for="axis-title" class="axis-font-size-label"><%= __.axis_title %></label>\n    </div>\n    <div class="form-field">\n      <input type="number" class="axis-title" id="axis-title" min="1" max="50" value="<%%attr= title %>"\n           placeholder="<%= __.range_1_to_50_placeholder%>"/>\n    </div>\n  </span>\n\n  <span class="chart-setting-container second-inline">\n    <div class="form-label">\n      <label for="axis-label" class="axis-font-size-label"><%= __.axis_label %></label>\n    </div>\n    <div class="form-field">\n      <input type="number" class="axis-label" id="axis-label" min="1" max="25" value="<%%attr= label %>"\n           placeholder="<%= __.range_1_to_25_placeholder%>"/>\n    </div>\n  </span>\n</div>\n'},73710:function(e){e.exports='<div class="form-row stacked">\n  <div class="form-label">\n    <label><%= __.range_min %></label>\n  </div>\n  <div class="form-field">\n    <input type="text" class="min-range" value="<%%attr= min %>" />\n  </div>\n</div>\n\n<div class="form-row stacked">\n  <div class="form-label">\n    <label><%= __.range_max %></label>\n  </div>\n  <div class="form-field">\n    <input type="text" class="max-range" value="<%%attr= max %>" />\n  </div>\n</div>\n'},93381:function(e){e.exports='<div class="form-row">\n  <div class="scale-mode" data-button-group="scaleMode">\n    <input type="radio" id="scale-linear" value="<%attr= ViewerConstants.AxisScaleMode.LINEAR %>">\n    <label for="scale-linear"><%= __.linear %></label>\n\n    <input type="radio" id="scale-log" value="<%attr= ViewerConstants.AxisScaleMode.LOG %>">\n    <label for="scale-log"><%= __.logarithmic %></label>\n  </div>\n</div>\n'},86652:function(e){e.exports='<% for (var seriesName in seriesInfo) {\n  var domSafeSeriesName = domSafeSeriesNames[seriesName];\n  var displayName = SumoUtil.shortenString(seriesName, 15, \'middle\');\n%>\n<div class="form-row checkbox">\n  <div class="form-field">\n    <input type="checkbox" name="<%attr= domSafeSeriesName %>--use-secondary-y" id="<%attr= domSafeSeriesName %>--use-secondary-y"\n           class="use-secondary-y-input" <%checked= seriesInfo[seriesName].yAxis === 1 %>/>\n  </div>\n  <div class="form-label">\n    <label id="label-use-secondary-y" class="use-secondary-y" for="<%attr= domSafeSeriesName %>--use-secondary-y" title="<%attr= seriesName %>"><%= displayName %></label>\n  </div>\n\n  <div id="<%attr= domSafeSeriesName %>--chart-type" class="chart-type" data-button-group="chartType">\n    <input type="radio" id="<%attr= domSafeSeriesName %>--line" value="line">\n    <label for="<%attr= domSafeSeriesName %>--line"><%= __.line_chart_label %></label>\n\n    <input type="radio" id="<%attr= domSafeSeriesName %>--column" value="column">\n    <label for="<%attr= domSafeSeriesName %>--column"><%= __.column_chart_label %></label>\n  </div>\n</div>\n<% } %>\n\n<div id="scale" class="default-settings settings-section"></div>\n\n<div id="range" class="default-settings settings-section"></div>\n'},56165:function(e){e.exports='<div class="prada chart-band-editor-view">\n  <div class="chart-band-editor-form">\n    <div class="item-container">\n      <div class="min-value" title="<%attr= __.CHART_BANDS_TOOLTIP_FOR_EDIT %>"></div>\n      <input type="text" class="input-min-value chart-band-input" maxlength="15" value=""\n             placeholder="<%attr= __.CHART_BAND_MIN_MAX_PLACEHOLDER %>"\n             title="<%attr= __.CHART_BAND_MIN_MAX_TOOLTIP %>">\n    </div>\n    <div class="item-container">\n      <div class="max-value" title="<%attr= __.CHART_BANDS_TOOLTIP_FOR_EDIT %>"></div>\n      <input type="text" class="input-max-value chart-band-input" maxlength="15" value=""\n             placeholder="<%attr= __.CHART_BAND_MIN_MAX_PLACEHOLDER %>"\n             title="<%attr= __.CHART_BAND_MIN_MAX_TOOLTIP %>">\n    </div>\n    <div class="item-container">\n      <div class="band-color-viewer">\n        <div class="band-color" title="<%attr= __.CHART_BANDS_TOOLTIP_FOR_EDIT %>">&nbsp;</div>\n      </div>\n      <div class="band-color-picker">\n        <input class="input-band-color chart-band-input" value=""\n               title="<%attr= __.CHART_BAND_TOOLTIP_COLOR_PICK %>">\n      </div>\n    </div>\n\n    <div class="band-actions-container">\n      <div class="band-actions">\n        <button class="action-button-small action-delete"><%= __.CHART_BAND_ACTION_DELETE %></button>\n      </div>\n      <div class="add-actions">\n        <button class="action-button-small action-add-cancel"><%= __.CHART_BAND_ACTION_ADD_CANCEL %></button>\n      </div>\n    </div>\n  </div>\n  <div class="errors"></div>\n</div>\n'},34985:function(e){e.exports='<div id="chart-bands-actions">\n  <input id="chart-band-add-action" class="action-button-small" type="button" value="Add" />\n</div>\n<div id="chart-bands-editor-view">\n  <div class="container">\n    <div id="chart-bands-header">\n      <div id="chart-bands-label-value-range">\n        <div>\n          <div id="chart-bands-label-value-min"><%= __.color_by_range_min_label %></div>\n          <div id="chart-bands-label-value-max"><%= __.color_by_range_max_label %></div>\n          <div id="chart-bands-label-color"><%= __.color_by_range_color_label %></div>\n        </div>\n      </div>\n    </div>\n    <div id="chart-bands-container"></div>\n  </div>\n</div>'},16638:function(e){e.exports='<% for(var idx=0; idx < chartColors.length; idx++) {\n  var colorFamily = chartColors[idx]; %>\n\n  <div class="color-family" id="color-family-<%attr=idx%>" data-color-family="<%attr= colorFamily.name %>">\n      <% for (var j=0; j < colorFamily.colors.length; j++) { %>\n      <div id="color-box-<%attr=j%>" class="color-box" data-idx="<%attr= j%>" style="<%css= {background: colorFamily.colors[j]} %>"></div>\n      <% } %>\n  </div>\n<% } %>\n'},89758:function(e){e.exports='<div class="form-row checkbox">\n  <div class="form-field">\n    <input type="checkbox" name="dashboard-link" id="dashboard-link" <%checked= enabled %>/>\n  </div>\n  <div class="form-label">\n    <label id="label-dashboard-link" for="dashboard-link"><%= __.enable_dashboard_linking %></label>\n  </div>\n</div>\n<div class="form-helper-text form-helper-dashboard-link"><%= __.dashboard_share_warning %></div>\n<div class="form-row stacked">\n  <div class="form-field">\n    <select id="input-dashboard" size="<%attr= Math.min(10, Math.max(dashboards.length,2) ) %>" <%disabled= !enabled %>>\n      <% dashboards.forEach( function(dashboard, idx ) { %>\n      <option value="<%attr= dashboard.id %>" data-sumo-test="link-dashboard-options" title="<%attr= dashboard.fullPath %>" <%selected= idx == selectedDashboardIndex %>>\n        <%= dashboard.displayName %>\n      </option>\n      <% }) %>\n    </select>\n    <div class="form-helper-text"><%= __.dashboard_helper_text %></div>\n  </div>\n</div>\n'},87252:function(e){e.exports='<div class="form-row stacked">\n  <div class="form-field">\n    <div class="font-size" data-button-group="fontSize">\n      <input type="radio" id="font-size-small" value="<%attr= ViewerConstants.TextFontSize.SMALL %>">\n      <label for="font-size-small"><%= __.font_size_small %></label>\n\n      <input type="radio" id="font-size-normal" value="<%attr= ViewerConstants.TextFontSize.MEDIUM %>">\n      <label for="font-size-normal"><%= __.font_size_normal %></label>\n\n      <input type="radio" id="font-size-large" value="<%attr= ViewerConstants.TextFontSize.LARGE %>">\n      <label for="font-size-large"><%= __.font_size_large %></label>\n    </div>\n  </div>\n</div>\n\n'},3692:function(e){e.exports='<div class="form-row stacked">\n  <div class="form-field">\n    <div class="truncation-mode" data-button-group="truncationMode">\n      <% if (isTable) { %>\n      <input type="radio" id="truncation-none" value="null">\n      <label for="truncation-none"><%= __.labels_none %></label>\n      <% } %>\n      <input type="radio" id="truncation-middle" value="<%attr= ViewerConstants.TextTruncationMode.MIDDLE %>">\n      <label for="truncation-middle"><%= __.labels_middle %></label>\n      <input type="radio" id="truncation-end" value="<%attr= ViewerConstants.TextTruncationMode.END %>">\n      <label for="truncation-end"><%= __.labels_end %></label>\n    </div>\n  </div>\n</div>\n'},6180:function(e){e.exports='<div class="form-row stacked">\n  <div class="form-field">\n    <div class="legend-mode" data-button-group="legendMode">\n      <input type="radio" id="legend-none" value="<%attr= ViewerConstants.ChartLegendPosition.NONE %>">\n      <label for="legend-none"><%= __.legend_none %></label>\n\n      <input type="radio" id="legend-right" value="<%attr= ViewerConstants.ChartLegendPosition.RIGHT %>">\n      <label for="legend-right"><%= __.legend_right %></label>\n\n      <input type="radio" id="legend-bottom" value="<%attr= ViewerConstants.ChartLegendPosition.BOTTOM %>">\n      <label for="legend-bottom"><%= __.legend_bottom %></label>\n    </div>\n  </div>\n</div>\n'},15951:function(e){e.exports='<div class="form-row stacked">\n  <div class="form-field">\n    <div class="map-type" data-button-group="mapType">\n      <input type="radio" id="map-type-cluster" value="<%attr= ViewerConstants.MapType.CLUSTER %>">\n      <label for="map-type-cluster"><%= __.map_type_cluster %></label>\n\n      <input type="radio" id="map-type-heatmap" value="<%attr= ViewerConstants.MapType.HEATMAP %>">\n      <label for="map-type-heatmap"><%= __.map_type_heatmap %></label>\n      <% if (isGuardDuty)  { %>\n        <input type="radio" id="map-type-guardduty" value="<%attr= ViewerConstants.MapType.GUARDDUTY %>"">\n        <label for="map-type-guardduty"><%= __.map_type_guardduty %></label>\n      <% } %>\n\n    </div>\n  </div>\n</div>\n\n'},4286:function(e){e.exports='<div class="form-row stacked">\n  <div class="form-field">\n    <div class="donut-display" data-button-group="donutDisplay">\n      <input type="radio" id="donut-display-mode" value="true" <%checked= isDonutDisplay %>>\n      <label for="donut-display-mode"><%= __.donut %></label>\n\n      <input type="radio" id="pie-display-mode" value="false" <%checked= !isDonutDisplay %>>\n      <label for="pie-display-mode"><%= __.pie %></label>\n    </div>\n  </div>\n</div>\n'},12869:function(e){e.exports='<div class="form-row stacked">\n  <div class="form-label">\n    <label><%= __.pie_slices_border %></label>\n  </div>\n  <div class="form-field">\n    <div class="slice-borders" data-button-group="sliceBorders">\n      <input type="radio" id="slice-borders-show" value="true" <%checked= sliceBorderOption %>>\n      <label for="slice-borders-show"><%= __.show_slice_borders %></label>\n\n      <input type="radio" id="slice-borders-hide" value="false"\n      <%checked= !sliceBorderOption %>>\n      <label for="slice-borders-hide"><%= __.hide_slice_borders %></label>\n    </div>\n  </div>\n</div>\n\n<div class="form-row stacked">\n  <div class="form-label">\n    <label><%= __.pie_slices_number %></label>\n  </div>\n  <div class="form-field">\n    <div class="slices-number" data-button-group="slicesNumber">\n      <input type="radio" id="pie-slices-all" value="all" <%checked= sliceNumberOption === \'all\' %>>\n      <label for="pie-slices-all"><%= __.show_all_slices %></label>\n\n      <input type="radio" id="pie-slices-custom" value="custom"\n      <%checked= sliceNumberOption === \'custom\' %> data-editable="<%%attr= maxSlices %>">\n      <label for="pie-slices-custom"><%= __.n_slices %></label>\n    </div>\n  </div>\n</div>\n'},18305:function(e){e.exports='<div class="form-row stacked">\n  <div class="form-field">\n    <div class="stacking-mode" data-button-group="stackingMode">\n      <input type="radio" id="stacking-none" value="<%attr= ViewerConstants.ChartStackingMode.NONE %>">\n      <label for="stacking-none"><%= __.stacking_none %></label>\n\n      <input type="radio" id="stacking-normal" value="<%attr= ViewerConstants.ChartStackingMode.NORMAL %>">\n      <label for="stacking-normal"><%= __.stacking_normal %></label>\n\n      <input type="radio" id="stacking-percent" value="<%attr= ViewerConstants.ChartStackingMode.PERCENT %>">\n      <label for="stacking-percent"><%= __.stacking_percent %></label>\n    </div>\n  </div>\n</div>\n\n'},95512:function(e){e.exports='<div class="form-row stacked">\n  <div class="form-field">\n    <div class="color-picker-container">\n      <input id="input-color-override" class="color-picker" value="<%%attr= color %>">\n    </div>\n  </div>\n</div>\n\n<div class="form-row checkbox">\n  <div class="form-field">\n    <input type="checkbox" name="background-color-enabled" id="background-color-enabled" <%checked= enabled %>/>\n  </div>\n  <div class="form-label">\n    <label id="label-background-color-enabled" for="background-color-enabled"><%= __.svv_color_background_color_enabled %></label>\n  </div>\n</div>\n'},66442:function(e){e.exports='<div class="form-row stacked">\n  <div class="form-label">\n    <label><%= __.svv_title %></label>\n  </div>\n  <div class="form-field">\n    <input type="text" class="title-label" value="<%%attr= title %>" maxlength="25" />\n    <div class="form-helper-text"><%= __.svv_title_help %></div>\n  </div>\n</div>\n\n<div class="form-row stacked">\n  <div class="form-label">\n    <label><%= __.svv_description %></label>\n  </div>\n  <div class="form-field">\n    <input type="text" class="description-label" value="<%%attr= description %>" maxlength="125" />\n    <div class="form-helper-text"><%= __.svv_description_help %></div>\n  </div>\n</div>\n'},24419:function(e){e.exports='<div class="form-row checkbox">\n  <div class="form-field">\n    <input type="checkbox" name="no-data-enabled" id="no-data-enabled" <%checked= enabled %>/>\n  </div>\n  <div class="form-label">\n    <label id="label-no-data-enabled" for="no-data-enabled"><%= __.svv_no_data_enable %></label>\n  </div>\n</div>\n\n<div class="form-row stacked">\n  <div class="form-label">\n    <label><%= __.svv_no_data_value %></label>\n  </div>\n  <div class="form-field">\n    <input type="text" class="value-label" value="<%%attr= value %>" maxlength="8" <%disabled= !enabled %>/>\n    <div class="form-helper-text"><%= __.svv_no_data_value_help %></div>\n  </div>\n</div>\n\n<div class="form-row stacked">\n  <div class="form-label">\n    <label><%= __.svv_no_data_color %></label>\n  </div>\n  <div class="form-field">\n    <input id="input-color-for-no-data" class="color-picker" value="<%%attr= color %>">\n  </div>\n</div>\n'},21878:function(e){e.exports='<div class="form-row">\n  <div class="show-number" data-button-group="showNumber">\n    <input type="radio" id="show-number-true" value="true" <%checked= showNumber %>>\n    <label for="show-number-true"><%= __.show_number %></label>\n\n    <input type="radio" id="show-number-false" value="false" <%checked= !showNumber %>>\n    <label for="show-number-false"><%= __.do_not_show_number %></label>\n  </div>\n</div>\n<div class="form-row stacked">\n  <div class="form-label">\n    <label><%= __.unit %></label>\n  </div>\n  <div class="form-field">\n    <input type="text" class="unit" value="<%%attr= unit %>" maxlength="6" />\n    <div class="form-helper-text"><%= __.svv_unit_help %></div>\n  </div>\n</div>\n'},41629:function(e){e.exports='<div class="line-setting">\n  <div class="form-row checkbox">\n    <div class="form-field">\n      <input type="checkbox" class="line-smoothness" name="dashboard-link" id="line-smoothness" <%checked= smoothLineOption %>/>\n    </div>\n    <div class="form-label">\n      <label for="line-smoothness"><%= __.enable_smooth_line_chart_option %></label>\n    </div>\n  </div>\n\n  <div class="form-row stacked">\n    <div class="form-label">\n      <label for="chart-line-thickness"><%= __.line_thickness %></label>\n    </div>\n    <div class="form-field">\n      <input type="number" class="line-thickness" id="chart-line-thickness" min="1" max="25" value="<%%attr= lineThickness %>"\n           placeholder="<%= __.range_1_to_25_placeholder%>"/>\n    </div>\n  </div>\n</div>\n'},82841:function(e){e.exports='<div class="marker-setting">\n  <span class="chart-setting-container">\n    <div class="form-row stacked marker-type-inline">\n      <div class="form-label">\n        <label for="chart-marker-type"><%= __.marker_type %></label>\n      </div>\n      <div class="form-row stacked">\n        <div class="form-field">\n          <select class="marker-type" id="chart-marker-type">\n            <option value="none"><%= __.marker_symbol_none%></option>\n            <option value="circle"><%= __.marker_symbol_circle%></option>\n            <option value="cross"><%= __.marker_symbol_cross%></option>\n            <option value="square"><%= __.marker_symbol_square%></option>\n            <option value="triangle"><%= __.marker_symbol_triangle%></option>\n          </select>\n        </div>\n      </div>\n    </div>\n  </span>\n\n  <span class="chart-setting-container second-inline">\n    <div class="form-row stacked">\n      <div class="form-label">\n        <label for="chart-marker-size"><%= __.marker_size %></label>\n      </div>\n      <div class="form-field">\n        <input type="number" class="marker-size" id="chart-marker-size"  min="1" max="25" value="<%%attr= markerSize %>"\n           placeholder="<%= __.range_1_to_25_placeholder%>"/>\n      </div>\n    </div>\n  </span>\n</div>\n'},23194:function(e){e.exports='<div>\n  <% for (var idx = 0; idx < viewCount; idx++) { %>\n  <div id="<%attr= prefix %>-<%attr= idx %>" class="<%attr= prefix %>-settings settings-section"></div>\n  <% } %>\n</div>\n'},55249:function(e){e.exports='<div class="setting-float-left">\n  <query-settings-component\n    class="query-settings-component"\n    state="state"\n    actions="actions">\n  </query-settings-component>\n</div>\n'},89724:function(e){e.exports='<div class="setting-float-left">\n    \x3c!--<div id="query-widget-timerange" class="widget-time-range"></div>--\x3e\n    <span><%= timerange_text %></span>\n</div>\n'},80676:function(e){e.exports='<div class="setting-header <%= viewName %>-header"><%%= sectionLabel %></div>\n<div class="setting-body <%= viewName %>-body">\n  <% print(bodyTemplate(bodyProperties)); %>\n</div>'},17673:function(e){e.exports='<div class="form-row stacked">\n  <div class="epic-editor-view panel-text-editor"></div>\n</div>'},1269:function(e){e.exports='\n<div>\n  <% for (var i = 0; i < viewerTypes.length;) { %>\n    <div class="type-row cf">\n      <% var j = 0;\n        for (var j = 0; j < 4 && i < viewerTypes.length; j++) { %>\n          <div id="input-chart-type-<%attr= viewerTypes[i].id %>" class="<%attr= viewerTypes[i].cssClass %> viewer-type <%selected= viewerType === viewerTypes[i].id %>" data-idx=" <%attr= i %>" style="float: left;">\n            <div class="type-icon"></div>\n            <div class="type-label"><%= viewerTypes[i].name %></div>\n          </div>\n      <% i++;\n       } %>\n    </div>\n  <% } %>\n</div>\n'},45797:function(e){e.exports='<div class="activation-ctr fullpage-ctr -r2">\n  <div class="activation-banner">\n    <img src="<%= window.dynamicPublicPath %>images/app/logo_2color.svg?v=3be15ed8" />\n  </div>\n  <div id="<%attr= mainId %>" class="activation-main-ctr">\n    <% if (showForm) { %>\n    <div class="activation-title"><%= __.activation_title %></div>\n    <div id="errors">\n      <i class="fa fa-fail fa-warning"></i>\n      <span></span>\n    </div>\n    <div class="activation-form-ctr">\n      <form class="activation-form legacy-prada" id="activation-form">\n        <div class="form-row">\n          <div class="form-label">\n            <label for="email"><%= __.activation_email %></label>\n          </div>\n          <div class="form-field">\n            <input\n              id="email"\n              type="text"\n              disabled="disabled"\n              value="<%%attr= email %>"\n            />\n          </div>\n        </div>\n        <div class="form-row">\n          <div class="form-label">\n            <label for="firstname"><%= __.activation_firstname %></label>\n          </div>\n          <div class="form-field">\n            <input id="firstname" type="text" value="<%%attr= firstName %>" />\n          </div>\n        </div>\n        <div class="form-row">\n          <div class="form-label">\n            <label for="lastname"><%= __.activation_lastname %></label>\n          </div>\n          <div class="form-field">\n            <input id="lastname" type="text" value="<%%attr= lastName %>" />\n          </div>\n        </div>\n        <div class="form-row">\n          <div class="form-label">\n            <label for="organizationName"\n              ><%= __.activation_organization %></label\n            >\n          </div>\n          <div class="form-field">\n            <input\n              id="organizationName"\n              type="text"\n              value="<%%attr= organizationName %>"\n            />\n          </div>\n        </div>\n        <div class="form-row" id="orgSize-row">\n          <div class="form-label">\n            <label for="orgSize"><%= __.activation_orgsize %></label>\n          </div>\n          <div class="form-field selectize-selectable">\n            <select\n              id="orgSize"\n              placeholder="<%attr= __.activation_orgsize_placeholder %>"\n            ></select>\n          </div>\n        </div>\n        <div class="form-row">\n          <div class="form-label">\n            <label for="phone"><%= __.activation_phone %></label>\n          </div>\n          <div class="form-field">\n            <input id="phone" type="tel" value="<%%attr= phone %>" />\n          </div>\n        </div>\n        <div class="form-row" id="country-row">\n          <div class="form-label">\n            <label for="country"><%= __.activation_country %></label>\n          </div>\n          <div class="form-field selectize-selectable">\n            <select id="country"></select>\n          </div>\n        </div>\n        <div class="form-row" id="state-row">\n          <div class="form-label">\n            <label for="state"><%= __.activation_state %></label>\n          </div>\n          <div class="form-field selectize-selectable">\n            <select\n              id="state"\n              placeholder="<%attr= __.activation_state_placeholder %>"\n            ></select>\n          </div>\n        </div>\n        <div class="form-row" id="province-row">\n          <div class="form-label">\n            <label for="province"><%= __.activation_province %></label>\n          </div>\n          <div class="form-field selectize-selectable">\n            <select\n              id="province"\n              placeholder="<%attr= __.activation_province_placeholder %>"\n            ></select>\n          </div>\n        </div>\n\n        <% if (slaRequired) { %>\n        <div class="form-row">\n          <div class="form-label">&nbsp;</div>\n          <div class="form-field">\n            <label for="acceptSla" id="acceptSla__label">\n              <input id="acceptSla" type="checkbox" />\n              <%dangerousUnescapedHTML= __.activation_accept_sla %>\n            </label>\n          </div>\n        </div>\n        <div class="form-row">\n          <div class="form-label"></div>\n          <div class="form-field">\n            <label for="canContact" id="canContact__label">\n              <input id="canContact" type="checkbox" />\n              <%= __.activation_can_contact %>\n            </label>\n          </div>\n        </div>\n        <% } else { %>\n        <div class="form-row">\n          <div class="form-label">\n            <label for="password"><%= __.activation_create_password %></label>\n          </div>\n          <div class="form-field">\n            <input id="password" type="password" />\n            <div class="eye-button" id="password-toggle" data-sumo-test="password-toggle"></div>\n            <div\n              id="activation-error-start-end-space"\n              class="activation-error-inline activation-error-inline-hidden"\n            >\n              <%= __.leading_or_trailing_space_error %>\n            </div>\n          </div>\n        </div>\n        <div class="form-row">\n          <div class="form-label">\n            <label for="confirm-password"\n              ><%= __.activation_confirm_password %></label\n            >\n          </div>\n          <div class="form-field">\n            <input id="confirm-password" type="password" />\n            <div class="eye-button" id="password-confirm-toggle" data-sumo-test="password-confirm-toggle"></div>\n            <div\n              id="activation-error-not-match-confirm"\n              class="activation-error-inline activation-error-inline-hidden"\n            >\n              <%= __.new_different_from_confirm_error %>\n            </div>\n          </div>\n          <div class="div-input-helper-text">\n            <%= __.activation_password_helper %>\n          </div>\n        </div>\n        <div id="password-policy-holder-v2">\n          <div class="password-policy-status-title policy-text">\n            <%= __.password_policy_status_title %>\n          </div>\n          <table>\n            <tbody class="password-policy-status-ctr">\n              <tr>\n                <td id="policy-icon-minLength" class="policy-icon-holder">\n                  <i class="password-policy-icon"></i>\n                </td>\n                <td class="policy-text"><%= __.pwd_min_chars %></td>\n              </tr>\n\n              <tr>\n                <td id="policy-icon-maxLength" class="policy-icon-holder">\n                  <i class="password-policy-icon"></i>\n                </td>\n                <td class="policy-text"><%= __.pwd_max_chars %></td>\n              </tr>\n              <tr>\n                <td\n                  id="policy-icon-mustContainLowercase"\n                  class="policy-icon-holder"\n                >\n                  <i class="password-policy-icon"></i>\n                </td>\n                <td class="policy-text"><%= __.pwd_lowercase %></td>\n              </tr>\n\n              <tr>\n                <td\n                  id="policy-icon-mustContainUppercase"\n                  class="policy-icon-holder"\n                >\n                  <i class="password-policy-icon"></i>\n                </td>\n                <td class="policy-text"><%= __.pwd_uppercase %></td>\n              </tr>\n\n              <tr>\n                <td\n                  id="policy-icon-mustContainDigits"\n                  class="policy-icon-holder"\n                >\n                  <i class="password-policy-icon"></i>\n                </td>\n                <td class="policy-text"><%= __.pwd_number %></td>\n              </tr>\n\n              <tr title="<%attr= __.pwd_special_char_tooltip %>">\n                <td\n                  id="policy-icon-mustContainSpecial"\n                  class="policy-icon-holder"\n                >\n                  <i class="password-policy-icon"></i>\n                </td>\n                <td class="policy-text"><%= __.pwd_special_char %></td>\n              </tr>\n            </tbody>\n          </table>\n          <div class="password-policy-strength-ctr policy-text">\n            <div>\n              <span class="password-policy-strength__label">\n                <%= __.password_strength_label %>\n              </span>\n              -\n              <span\n                data-sumo-test="password-policy-strength-level"\n                id="policy-text-password-strength"\n                class="password-policy-strength__level password-policy-strength__level-weak"\n              >\n                \x3c!-- We are assuming that passwordStrength is initialized as \'Weak\' here, so we set the strength level class to weak --\x3e\n                <%= passwordStrength %>\n              </span>\n            </div>\n            <div id="policy-text-password-suggestion">\n              <%= passwordSuggestion %>\n            </div>\n          </div>\n        </div>\n        <% } %>\n\n        <div class="form-toolbar">\n          <button\n            id="submit"\n            class="sumo-button -large -legacy is-disabled"\n            data-spinner\n          >\n            <%= __.activation_submit_label %>\n          </button>\n        </div>\n      </form>\n      <div id="activation-error-ctr">\n        <i class="fa fa-fail fa-warning"></i>\n        <span></span>\n      </div>\n    </div>\n    <% } else { %>\n    <div class="activation-title">\n      <img\n        src="<%= window.dynamicPublicPath %>images/app/icons/sadface.svg?v=00532238"\n        alt=""\n      />\n    </div>\n    <div class="activation-subtitle"><%= __.whoops %></div>\n    <div class="activation-message"><%= __.activation_expired_msg1 %></div>\n    <div class="activation-message"><%= __.activation_expired_msg2 %></div>\n    <div class="form-toolbar">\n      <input\n        id="reactivate"\n        type="button"\n        class="action-button action-button-red"\n        value="<%attr= __.activation_expired_btn %>"\n      />\n    </div>\n    <% } %>\n  </div>\n</div>\n'},20452:function(e){e.exports='<div class="container">\n  <div class="instructions">\n    <%= __.browser_setting %>\n  </div>\n  <div class="instructions">\n    <a class="open-window" href="<%attr= url %>" target="_blank" rel="noopener"><%= __.open_url_and_retry %></a>\n  </div>\n  <div class="form-toolbar">\n    <input class="action-button secondary-button cancel-button" type="button" value="<%attr= __.cancel %>">\n  </div>\n</div>\n'},67626:function(e){e.exports='<div class="policy-edit">\n  <div id="current-api-accessKeys">\n    <div id="addAccessKeyContainer">\n      <div id="addAccessKeyBtnWrapper">\n        <button\n          id="addAccessKey"\n          data-sumo-test="add-accessKey"\n          class="md-raised md-accent md-button add-access-key-btn hidden"\n          ng-disabled="<%attr= createAccessKeysFlag ? !canCreateAccessKeys : false %>"\n        >\n          <md-icon md-svg-icon="plus" class="add-button-icon"></md-icon>\n          <%= __.addAccessKeyBtnLabel %>\n        </button>\n      </div>\n    </div>\n\n    <div id="accessKeyHeaderRow">\n      <div class="accessKeyLabel"><%= __.ACCESSKEY_LABEL %></div>\n      <div class="accessKeyId"><%= __.ACCESSKEY_ID_LABEL %></div>\n      <% if (showCreator) { %>\n      <div class="accessKeyUserName"><%= __.ACCESSKEY_USERNAME %></div>\n      <% } %>\n      <div class="accessKeyCreatedAt"><%= __.ACCESSKEY_CREATEDON %></div>\n      <div class="accessKeyStatus"><%= __.ACCESSKEY_STATUS %></div>\n      <div class="accessKeyActions">&nbsp;</div>\n    </div>\n    <div id="api-accessKey-loading-section">\n      <div class="spin-wrapper">\n        <span class="spinner is-visible"></span>\n        <span class=""><%= __.ACCESSKEY_LOADING_MSG %></span>\n      </div>\n    </div>\n    <p id="accessKeyNoneMsg" <% if(hasAccessKeys || !showCreator) { %>\n      style="display: none;" <% } %>><%= noneMessage %>\n    </p>\n    <div id="accessKeyBodyContainer"></div>\n  </div>\n  <div id="corsDialog"></div>\n</div>\n'},76735:function(e){e.exports='<div\n  class="accessKeyRow <%attr= disabled ? \'\' : \'accessKeyRowEnabled\' %>"\n  id="<%attr= accessKeyId %>"\n>\n  <div class="accessKeyLabel">\n    <span class="accessKeyLabelText" title="<%attr= label %>"\n      ><%= label %></span\n    >\n  </div>\n  <div class="accessKeyId"><%= keyId %></div>\n  <% if (showCreator) { %>\n  <div class="accessKeyUserName" title="<%attr= userNameTitle %>">\n    <%if (needsUserNameEmphasis){%><em\n      ><%}%><%= userNameText %><%if (needsUserNameEmphasis){%></em\n    ><%}%>\n  </div>\n  <% } %>\n  <div class="accessKeyCreatedAt"><%= formattedCreatedAt %></div>\n  <div class="accessKeyStatus">\n    <% if (statusText === __.DISABLED) { %>\n    <span class="<%attr= __.ACCESSKEY_DISABLED_CSS_CLASS %>"\n      ><%= __.DISABLED %></span\n    >\n    <% } else { %>\n    <span class="<%attr= __.ACCESSKEY_INACTIVE_CSS_CLASS %>"\n      ><%= statusText %></span\n    >\n    <% } %>\n  </div>\n  <div class="accessKeyActions">\n    <% if (actionStateText !== __.DISABLED) { %>\n    <span\n      class="toggleAccessKeyStatus action-link"\n      title="<%attr= __.ACCESSKEY_STATUS_TOGGLE %>"\n      ><%= actionStateText %></span\n    >\n    <% } %>\n    <span\n      class="ux-icon-button icon--pencil accessKeyEdit"\n      title="<%attr= __.EDIT %>"\n      style="display: inline;"\n    ></span>\n    <span\n      class="ux-icon-button icon--trash accessKeyDelete"\n      title="<%attr= __.DELETE %>"\n      style="display: inline;"\n    ></span>\n  </div>\n</div>\n'},91067:function(e){e.exports='<div class="audit-logging-content">\n  <label for="audit-logging-checkbox" id="audit-logging-content-label">\n    <input type="checkbox" id="audit-logging-checkbox" <%checked= isEnabled %> <%disabled= !isEditable %>>\n    <%= __.ENABLE %>\n  </label>\n  <div id ="audit-logging-content-blurb"><%dangerousUnescapedHTML= __.AUDIT_LOG_CONTENT %></div>\n</div>\n'},3697:function(e){e.exports='<div id="billing-section-wrapper">\n  <div id="payment-method-view"></div>\n</div>\n'},61173:function(e){e.exports='<% if(isUpgradeWizard) { %>\n  \x3c!--<div class="upgrade-wizard-middle">--\x3e\n<% } else { %>\n  <div class="title-div"><%= __.PAYMENT_METHOD %></div>\n<% } %>\n<div class="card-chooser-div">\n  <input type="radio" name="card-chooser-radio" value="existing-card" id="existing-card-radio" checked="checked"><span class="radio-label-span"><%= __.USE_EXISTING %></span>\n</div>\n<div id="existing-payment-method-div" class="surrounding-div">\n  <div class="wrapper-div" id="valid-credit-card-div">\n    <span class="credit-card-type"></span><span class="credit-card-mask"></span>\n    <span><%= __.EXPIRES %></span><span class="credit-card-expiration"></span>\n  </div>\n  <div id="expired-credit-card-div" style="display:none;">\n    <span class="warning-icon"><img src="<%%attr= window.dynamicPublicPath %>images/icons/14/warning.png?v=ce6a1f57" style="vertical-align: text-top;"></span>\n    <span class="credit-card-type"></span><span class="credit-card-mask"></span>\n    <span><%= __.EXPIRED %></span><span class="credit-card-expiration"></span>\n    <span><%= __.ADD_A_NEW_PAYMENT_METHOD %></span>\n  </div>\n</div>\n\n<div class="card-chooser-div">\n  <input type="radio" name="card-chooser-radio" value="new-card" id="new-card-radio"><span class="radio-label-span"><%= __.ADD_NEW_CARD %></span>\n</div>\n<div id="cc-errors" style="display: none;margin-top:10px;"></div>\n<div id="zuora_payment" class="form-group">\n</div>\n  <div class="payment-privacy-msg"><%dangerousUnescapedHTML= __.ZUORA_PRIVACY_NOTICE %></div>\n  <div class="payment-privacy-msg"><%dangerousUnescapedHTML= __.SUMO_PRIVACY_STATEMENT %></div>\n<% if(!isUpgradeWizard && !getPaymentV2Flag) { %>\n  <div id="billing-submit-button-div" class="form-buttons" style="display:none;">\n    <input type="button" id="billing-submit-iframe-button" value="<%attr= __.SUBMIT %>">\n  </div>\n<% } %>\n<div id="iframe-submitted-div" style="display:none;">\n  <%= __.PAYMENT_METHOD_SUBMITTED %>\n</div>\n<div class="spin-wrapper" style="display:block;">\n  <span class="loading-indicator"></span>\n</div>\n\n<div id="errors" style="display: none;margin-top:10px;"></div>\n<% if(isUpgradeWizard) { %>\n  \x3c!--</div>--\x3e\n<% } %>\n'},43606:function(e){e.exports='<div class="prada config-saml-details-view" xmlns="http://www.w3.org/1999/html">\n  <div class="config-saml-wrapper">\n    <table>\n      <tr>\n        <td valign="top">\n          <div class="main-container form-container">\n            <div class="saml-column">\n              <div class="label">\n                <%= __.label_configuration %>\n                <span class="required-indicator">*</span>\n                <a id="link-help">&nbsp;</a>\n              </div>\n              <div class="value">\n                <input type="text" id="input-name" value="<%%attr= currentProviderName %>"/>\n                <div id="debug-mode-div">\n                  <input type="checkbox" id="input-debug-mode" />\n                  <label class="check-label" title="<%attr= __.tip_debug_mode %>" id="label-debug-mode" for="input-debug-mode"><%= __.label_debug_mode %></label>\n                </div>\n              </div>\n\n              <div class="label" id="label-issuer">\n                <%= __.label_issuer %>\n                <span class="required-indicator">*</span>\n              </div>\n              <div class="value">\n                <input type="text" id="input-issuer" value="<%%attr= issuer %>"/>\n              </div>\n\n              <div class="label" id="label-authn-url">\n                <%= __.label_authn_url %>\n              </div>\n              <div class="value">\n                <input type="text" id="input-authn-url" value="<%%attr= authnRequestUrl %>"/>\n              </div>\n\n              <div class="label">\n                <%= __.label_certificate %>\n                <span class="required-indicator">*</span>\n              </div>\n              <div class="value">\n                <textarea id="input-certificate-1"><%%attr= x509cert1 %></textarea>\n              </div>\n\n              <div class="label">\n                <%= __.label_email_attr %>\n              </div>\n              <div class="value">\n                <input type="radio" id="input-email-saml-subject" value="saml-subject" id="saml-subject" name="saml-email">\n                <label for="input-email-saml-subject" class="radio-label"><%= __.label_use_saml_subject%></label>\n                <br>\n                <input type="radio" id="input-email-saml-attribute" value="saml-attribute" id="saml-attribute" name="saml-email">\n                <label id="input-attribute-name-label" for="input-email-saml-attribute" class="radio-label"><%= __.label_use_saml_attr %></label>\n                <input type="text" id="input-attribute-name" value="<%%attr= emailAttribute %>">\n              </div>\n            </div>\n\n            <div class="saml-column">\n              <div class="label">\n                <%= __.label_roles %>\n              </div>\n\n              <div class="label">\n                <input type=checkbox id="input-checkbox-splc">\n                <label class="check-label" for="input-checkbox-splc"><%= __.label_sp_initiated_config %></label>\n              </div>\n              <div class="value-indent"  id="wrapper-login-path">\n                <label for="input-login-path"><%= __.label_login_path %></label>\n                <input type="text" id="input-login-path" value="<%%attr= spInitiatedLoginPath %>"/>\n              </div>\n\n              <div class="label">\n                <input type=checkbox id="input-on-demand-checkbox">\n                <label class="check-label" for="input-on-demand-checkbox"><%= __.label_on_demand_provisioning %></label>\n              </div>\n              <div class="value-indent" id="wrapper-on-demand">\n                <div id="first-name-wrapper">\n                  <div class="on-demand-provisioning-label-div">\n                    <label for="input-first-name-attribute"><%= __.label_first_name %></label>\n                  </div>\n                  <div class="inner-input on-demand-provisioning-input-div" >\n                    <input type="text" id="input-first-name-attribute" value="<%%attr= firstNameAttribute %>"/>\n                  </div>\n                </div>\n\n                <div id="last-name-wrapper">\n                  <div class="on-demand-provisioning-label-div">\n                    <label id="label-last-name" for="input-last-name-attribute"><%= __.label_last_name %></label>\n                  </div>\n                  <div class="inner-input on-demand-provisioning-input-div">\n                    <input type="text" id="input-last-name-attribute" value="<%%attr= lastNameAttribute %>"/>\n                  </div>\n                </div>\n\n                <div id="sumo-roles-wrapper">\n                  <div class="on-demand-provisioning-label-div">\n                    <label id="label-input-sumo-roles" for="input-sumo-roles">\n                      <%= __.label_roles_on_demand_provisioning %>\n                      <span class="required-indicator">*</span>\n                    </label>\n                  </div>\n                  <div class="on-demand-provisioning-input-div">\n                    <input type="text" id="input-sumo-roles" value="" placeholder="<%attr= __.label_comma_separated %>"/>\n                  </div>\n                </div>\n              </div>\n\n              <div class="label">\n                <input type=checkbox id="input-logout-url-checkbox">\n                <label class="check-label" for="input-logout-url-checkbox"><%= __.label_logout_page %></label>\n              </div>\n              <div class="value-indent" id="wrapper-logout-url">\n                <input type="text" id="input-logout-url" value="<%%attr= logoutUrl %>" placeholder="<%attr= __.label_url %>">\n              </div>\n\n              <div class="label">\n                <input type=checkbox id="input-roles-attr-checkbox">\n                <label class="check-label" for="input-roles-attr-checkbox"><%= __.label_roles_attribute %></label>\n              </div>\n              <div class="value-indent" id="wrapper-roles-attribute">\n                <input type="text" id="input-roles-attribute" value="<%%attr= logoutUrl %>"/>\n              </div>\n            </div>\n          </div>\n        </td>\n\n        <td valign="top">\n          <div class="faq-container">\n            <div class="faq-header"><%= __.detailed_help_header_1 %></div>\n            <div class="faq-entry">\n              <div class="faq-sub-entry"><%dangerousUnescapedHTML= __.detailed_help_text_1a %></div>\n              <div class="faq-sub-entry"><%dangerousUnescapedHTML= __.detailed_help_text_1b %></div>\n              <div class="faq-sub-entry"><%dangerousUnescapedHTML= __.detailed_help_text_1c %></div>\n              <div class="faq-sub-entry"><%dangerousUnescapedHTML= __.detailed_help_text_1d %></div>\n              <div class="faq-sub-entry"><%dangerousUnescapedHTML= __.detailed_help_text_1e %></div>\n              <div class="faq-sub-entry"><%dangerousUnescapedHTML= __.detailed_help_text_1f %></div>\n            </div>\n            <div class="faq-header"><%= __.detailed_help_header_2 %></div>\n            <div class="faq-entry">\n              <div class="faq-sub-entry"><%dangerousUnescapedHTML= __.detailed_help_text_2 %></div>\n            </div>\n            <div class="faq-header"><%= __.detailed_help_header_3 %></div>\n            <div class="faq-entry">\n              <div class="faq-sub-entry"><%= __.detailed_help_text_3 %></div>\n            </div>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <td colspan="2">\n          <div class="form-toolbar">\n            <div id="errors"></div>\n\n            <button class="sumo-button -legacy" id="btn-save" data-spinner><%= __.label_btn_save %></button>\n            <button class="sumo-button -secondary -legacy" id="btn-cancel"><%= __.label_btn_cancel %></button>\n          </div>\n        </td>\n      </tr>\n    </table>\n    </div>\n</div>\n\n'},16456:function(e){e.exports='<div class="prada config-saml-view">\n  <% if ( status === 0 ) { %>\n    <div class="spinner-container">\n      <div class="spinner-message is-visible">\n        <div class="spinner is-visible"></div>\n        <div class="spinner-message__message"><%= __.text_loading %></div>\n      </div>\n    </div>\n  <% } else { %>\n    <div class="config-saml-wrapper">\n      <div class="main-container">\n        <div class="label">\n          <%= __.label_select_config %>\n          <a id="link-help"><i class="fa fa-question-circle"></i></a>\n        </div>\n        <div class="value" id="input-identitySelector"></div>\n\n        <div class="label"><%= __.label_sp_initiated %></div>\n        <% if ( ! spInitiatedLoginEnabled ) { %>\n          <div class="value"><%= __.text_not_enabled %></div>\n        <% } else { %>\n          <div class="value"><input id="inp-identity_selector_get" type="text" class="selectable-input" value="<%attr= identity_selector_get %>" readonly></div>\n          <div class="value"><input id="inp-identity_selector_post" type="text" class="selectable-input" value="<%attr= identity_selector_post %>" readonly></div>\n        <% } %>\n\n        <div class="label"><%= __.label_auth_request %></div>\n        <div class="value"><input id="inp-auth_request" type="text" class="selectable-input" value="<%attr= auth_request %>" readonly></div>\n\n        <div class="label"><%= __.label_assertion_consumer %></div>\n        <div class="value"><input id="inp-assertion_consume" type="text" class="selectable-input" value="<%attr= assertion_consume %>" readonly></div>\n      </div>\n\n      <div class="faq-container">\n        <div class="faq-header"><%= __.help_header_1 %></div>\n        <div class="faq-entry"><%dangerousUnescapedHTML= __.help_text_1 %></div>\n      </div>\n    </div>\n\n    <div class="form-toolbar">\n      <button class="sumo-button -legacy" id="btn-configure"><%= __.label_btn_configure %></button>\n      <button class="sumo-button -secondary -legacy" id="btn-delete"><%= __.label_btn_delete %></button>\n    </div>\n  <% } %>\n</div>\n'},2254:function(e){e.exports='<div id="connectionFormContainer" class="api-dialog-section createDialog prada">\n  <p><%= __.CONNECTION_INTRO %></p>\n  <div id="generate-error-div" class="error-message-box">&nbsp;</div>\n  <form id="connectionForm" class="vertical-form">\n    <div class="form-row">\n      <div class="form-label">\n        <label for="input-name">\n          <%= __.CONNECTION_NAME %>\n          <span class="required-indicator">*</span>\n        </label>\n      </div>\n      <div class="form-field">\n        <input type="text" id="input-name" class="required" value="<%attr= name || \'\' %>">\n      </div>\n    </div>\n    <div class="form-row">\n      <div class="form-label">\n        <label for="input-username">\n          <%= __.CONNECTION_USERNAME %>\n          <span class="required-indicator">*</span>\n        </label>\n      </div>\n      <div class="form-field">\n        <input type="text" id="input-username" class="required" value="<%attr= username || \'\' %>">\n      </div>\n    </div>\n    <div class="form-row">\n      <div class="form-label">\n        <label for="input-password">\n          <%= __.CONNECTION_PASSWORD %>\n          <span class="required-indicator">*</span>\n        </label>\n      </div>\n      <div class="form-field">\n        <input type="password" id="input-password" class="required" autocapitalize="off" autocorrect="off" autocomplete="off" value="<%attr= password || \'\' %>">\n      </div>\n    </div>\n    <div class="form-row">\n      <div class="form-label">\n        <label for="input-url">\n          <%= __.CONNECTION_URL %>\n          <span class="required-indicator">*</span>\n        </label>\n      </div>\n      <div class="form-field">\n        <input type="url" id="input-url" class="required" value="<%attr= url || \'\' %>">\n      </div>\n    </div>\n    <div class="form-row">\n      <div class="form-label">\n        <label id="input-description-label" for="input-description"><%= __.CONNECTION_DESCRIPTION %></label>\n      </div>\n      <div class="form-field">\n        <textarea id="input-description" maxlength="<%attr= max_desc_length %>"><%= description || \'\' %></textarea>\n      </div>\n    </div>\n    <div class="form-toolbar">\n      <button class="submit-btn sumo-button -legacy is-disabled" data-spinner><%= mode === \'create\' ? __.CREATE : __.EDIT %></button>\n      <button class="cancel-btn sumo-button -secondary -legacy"><%= __.CANCEL %></button>\n    </div>\n  </form>\n</div>\n'},17810:function(e){e.exports='<div class="create-connection-flow flow">\n  <div class="flow__wrapper">\n    <div class="flow__head">\n      <%= currentStep.label %>\n    </div>\n    <div class="flow__body">\n\n    </div>\n  </div>\n</div>'},17426:function(e){e.exports='<div class="create-connection-view">\n\n</div>\n<div class="flow__actions">\n  <% if (isCreate) { %>\n  <div class="secondary-actions">\n    <button class="previous-step sumo-button -secondary"><%= __.back %></button>\n  </div>\n  <% } %>\n\n\n  <button class="cancel-flow sumo-button -secondary"><%= __.cancel %></button>\n  <button class="next-step sumo-button" data-spinner><%= __.save %></button>\n</div>\n'},38258:function(e){e.exports='\n<div class="select-connection-type">\n  <div class="tile-grid">\n    <% _.each(connectionTypes, function(type, typeName) { %>\n    <div class="tile tile-grid__element" data-type="<%attr= typeName %>">\n      <div class="tile__icon">\n        <img src="<%%attr= window.dynamicPublicPath %>images/connections/100/<%attr= type.icon %>.png" <% if(type.iconWidth) { %>width="32px" height="32px" <% } else { %>width="38px" <% } %> />\n      </div>\n      <div class="tile__label connection-label <%attr= !type.iconWidth ? \'-half-padding\' : \'\' %>"><%= type.label %></div>\n    </div>\n    <% }); %>\n  </div>\n</div>\n<div class="flow__actions">\n  <button class="cancel-flow sumo-button -secondary"><%= __.cancel %></button>\n</div>\n'},56631:function(e){e.exports='<form class="form" method="post">\n  <div class="form__header">\n    <div class="form__error-area">\n    </div>\n  </div>\n  <div class="form__body">\n    <div class="form__field">\n      <div class="form__label">\n        <label for="input-name">\n          <%= __.CONNECTION_NAME %>\n        </label>\n      </div>\n      <div class="form__input">\n        <input type="text" id="input-name" name="name" class="required" value="<%attr= name || \'\' %>" maxlength="127">\n      </div>\n    </div>\n\n    <div class="form__field">\n      <div class="form__label">\n        <label id="input-description-label" for="input-description">\n          <%= __.CONNECTION_DESCRIPTION %>\n          <span class="optional-indicator"><%= __.OPTIONAL %></span>\n        </label>\n      </div>\n      <div class="form__input">\n        <textarea id="input-description" name="description" maxlength="1024"><%= description || \'\' %></textarea>\n      </div>\n    </div>\n\n    <div class="form__field">\n      <div class="form__label">\n        <label for="input-username">\n          <%= __.CONNECTION_USERNAME %>\n        </label>\n      </div>\n      <div class="form__input">\n        <input type="text" id="input-username" name="username" class="required" value="<%attr= username || \'\' %>">\n      </div>\n    </div>\n\n    <div class="form__field">\n      <div class="form__label">\n        <label for="input-password">\n          <%= __.CONNECTION_PASSWORD %>\n        </label>\n      </div>\n      <div class="form__input">\n        <input type="password" id="input-password" name="password" class="required" autocapitalize="off" autocorrect="off"\n               autocomplete="off" value="<%attr= password || \'\' %>">\n      </div>\n    </div>\n\n    <div class="form__field">\n      <div class="form__label">\n        <label for="input-url">\n          <%= __.CONNECTION_URL %>\n        </label>\n      </div>\n      <div class="form__input">\n        <input type="url" id="input-url" name="url" class="required" value="<%attr= url || \'\' %>">\n      </div>\n    </div>\n  </div>\n</form>\n'},37090:function(e){e.exports='<form id="webhook-form" class="form" autocomplete="off">\n  <div class="form__header">\n    <% if (settings.instructions) { %>\n    <div class="form__instructions">\n      <%dangerousUnescapedHTML= settings.instructions %>\n    </div>\n    <% } %>\n    <div class="form__error-area">\n    </div>\n    <div id=\'inline-notification\'></div>\n  </div>\n  <div class="form__body">\n    <div class="form__field">\n      <div class="form__label">\n        <label for="input-name">\n          <%= __.CONNECTION_NAME %>\n        </label>\n      </div>\n      <div class="form__input">\n        <input type="text" id="input-name" name="name" class="required" value="<%%attr= name %>" maxlength="127">\n      </div>\n    </div>\n\n    <div class="form__field">\n      <div class="form__label">\n        <label id="input-description-label" for="input-description">\n          <%= __.CONNECTION_DESCRIPTION %>\n          <span class="optional-indicator"><%= __.OPTIONAL %></span>\n        </label>\n      </div>\n      <div class="form__input">\n        <textarea id="input-description" name="description" maxlength="1024"><%%= description %></textarea>\n      </div>\n    </div>\n\n    <div class="form__field">\n      <div class="form__label">\n        <label for="input-url">\n          <%= __.CONNECTION_URL %>\n          <% if (help.url) { %>\n          <span class="form__help-link" data-for="url"><%= __.HELP %></span>\n          <% } %>\n        </label>\n      </div>\n      <div class="form__input">\n        <input type="url" id="input-url" name="url" class="required" placeholder="<%%attr= placeholders.url %>" value="<%%attr= url %>">\n      </div>\n    </div>\n\n    <% if (webhookType === \'NewRelic\') { %>\n    <div class="form__field">\n      <div class="form__label">\n        <label for="input-insert-key">\n          <%= __.CONNECTION_NEWRELIC_INSERTKEY %>\n        </label>\n      </div>\n      <div class="form__input">\n        <input type="password" id="input-insert-key" name="insertKey" class="required" value="<%%attr= insertKey %>" placeholder="<%%attr= placeholders.insertKey %>">\n      </div>\n    </div>\n    <% } else if (webhookType === \'AWSLambda\' || type === \'AWSLambda\') { %>\n    <div class="form__field">\n      <div class="form__label">\n        <label for="input-access-key">\n          <%= __.CONNECTION_AWS_ACCESSKEY %>\n        </label>\n      </div>\n      <div class="form__input">\n        <input autocomplete="off" type="text" id="input-access-key" name="accessKey" class="required" value="<%%attr= accessKey %>">\n      </div>\n    </div>\n\n    <div class="form__field">\n      <div class="form__label">\n        <label for="input-secret-key">\n          <%= __.CONNECTION_AWS_SECRETKEY %>\n        </label>\n      </div>\n      <div class="form__input">\n        <input autocomplete="off" type="password" id="input-secret-key" name="secretKey" class="required" value="<%%attr= secretKey %>">\n      </div>\n    </div>\n\n    <div class="form__field">\n      <div class="form__label">\n        <label for="input-region">\n          <%= __.CONNECTION_AWS_REGION %>\n        </label>\n      </div>\n      <div class="form__input">\n        <select id="input-region" name="awsRegion" class="required" value="<%%attr= awsRegion %>"></select>\n      </div>\n    </div>\n\n    <div class="form__field">\n      <div class="form__label">\n        <label for="input-service">\n          <%= __.CONNECTION_AWS_SERVICE %>\n        </label>\n      </div>\n      <div class="form__input">\n        <input type="text" id="input-service" name="serviceName" class="required" value="<%%attr= serviceName %>">\n      </div>\n    </div>\n    <% } %>\n\n    <% if (!settings.hideHeaders) { %>\n    <div class="form__field auth_field">\n      <div class="form__label">\n        <label for="input-header">\n          <%= __.CONNECTION_AUTH_HEADER %>\n          <% if (!settings.authHeaderRequired && webhookType !== \'SumoCloudSOAR\') { %>\n            <span class="optional-indicator"><%= __.OPTIONAL %></span>\n          <% } %>\n        </label>\n        <% if (webhookType === \'SumoCloudSOAR\') { %>\n          <span>\n            <span class="form__auth-action" data-role="auth-action-usedefault" data-for="header" style="display: none;"><%= __.AUTH_ACTION_DEFAULT_LABEL %></span>\n            <span class="form__auth-action" data-role="auth-action-customize" data-for="header" style="display: none;"><%= __.AUTH_ACTION_CUSTOMIZE_LABEL %></span>\n            <span class="form__auth-action" data-role="auth-help" data-for="header" title="Open Help Documentation"><a href="https://help.sumologic.com/Manage/Connections-and-Integrations/Webhook-Connections/Webhook_Connection_for_Cloud_SOAR" target="_blank" class="form__auth-help-link"><%= __.HELP %></a></span>\n          </span>\n        <% } %>\n      </div>\n      <div class="form__input">\n        <input type="hidden" name="headers[0].name" value="Authorization"/>\n        <% if (webhookType === \'SumoCloudSOAR\') { %>\n          <input disabled type="text" value="" data-role="auth-field-default" placeholder="<%%attr= placeholders.authHeaderPreFilled %>"/>\n        <% } %>\n        <input type="<%attr= _.isNull(id) ? \'text\' : \'password\' %>" id="input-header" name="headers[0].value" class="required" value="<%%attr= headers[0].value %>" placeholder="<%%attr= placeholders.authHeader %>" data-role="auth-field-empty">\n      </div>\n    </div>\n    <% } %>\n\n    <% if (webhookType === \'ServiceNowV2\'){ %>\n    <div class="form__field">\n      <div class="form__label">\n        <label for="select-authentication-method">\n          <%= __.CONNECTION_SERVICE_NOW_AUTHENTICATION %>\n        </label>\n      </div>\n      <div id="select-authentication-method">\n        <label for="authentication-method-credential">\n          <input id="authentication-method-credential" type="radio" name="authenticationMethod"\n                 data-sumo-test="authentication-method-credential" value="credential"\n          <%checked= authenticationMethod === \'credential\' %> />\n          <span><%= __.CONNECTION_AUTHENTICATION_METHOD_CREDENTIAL %></span>\n        </label>\n        <label for="authentication-method-header">\n          <input id="authentication-method-header" type="radio" name="authenticationMethod"\n                 data-sumo-test="authentication-method-header" value="authenticationHeader"\n          <%checked= authenticationMethod === \'authenticationHeader\' %> />\n          <span><%= __.CONNECTION_AUTHENTICATION_METHOD_HEADER %></span>\n        </label>\n      </div>\n    </div>\n    <div id="servicenow-authentication-header" style="display:none;">\n      <div class="form__field">\n        <div class="form__label">\n          <label for="input-header">\n            <%= __.CONNECTION_AUTH_HEADER %>\n          </label>\n        </div>\n        <div class="form__input">\n          <input type="hidden" name="headers[0].name" value="Authorization" />\n          <input type="<%attr= _.isNull(id) ? \'text\' : \'password\' %>" name="headers[0].value" class="required" value="<%%attr= headers[0].value %>" placeholder="<%%attr= placeholders.authHeader %>">\n        </div>\n      </div>\n    </div>\n    <div id="servicenow-credential" style="display:none;">\n      <div class="form__field">\n        <div class="form__label">\n          <label for="input-userName">\n            <%= __.CONNECTION_USERNAME %>\n          </label>\n        </div>\n        <div class="form__input">\n          <input type="text" id="input-userName" name="userName" class="required" value="<%attr= userName || \'\' %>">\n        </div>\n      </div>\n      <div class="form__field">\n        <div class="form__label">\n          <label for="input-password">\n            <%= __.CONNECTION_PASSWORD %>\n          </label>\n        </div>\n        <div class="form__input">\n          <input type="password" id="input-password" name="password" class="required" autocapitalize="off" autocorrect="off"\n                 autocomplete="off" value="<%attr= password || \'\' %>">\n        </div>\n      </div>\n    </div>\n    <div class="form__field">\n      <div class="form__label">\n        <label for="select-event-type">\n          <%= __.CONNECTION_SERVICE_NOW_TYPE %>\n        </label>\n      </div>\n      <div id="select-event-type">\n        <label for="connection-subtype-incident">\n          <input id="connection-subtype-incident" type="radio" name="connectionSubtype"\n                 data-sumo-test="connection-subtype-incident" value="Incident"\n          <%checked= connectionSubtype === \'Incident\' %> />\n          <span><%= __.CONNECTION_INCIDENT %></span>\n        </label>\n        <label for="connection-subtype-event">\n          <input id="connection-subtype-event" type="radio" name="connectionSubtype"\n                 data-sumo-test="connection-subtype-event" value="Event"\n            <%checked= connectionSubtype === \'Event\' %> />\n            <span><%= __.CONNECTION_EVENT %></span>\n          </label>\n        </div>\n      </div>\n    </div>\n    <% } %>\n\n    <% if (webhookType !== \'SumoCloudSOAR\'){ %>\n      <div class="form__field">\n        <div class="form__label">\n          <label for="input-header">\n            <%= __.CONNECTION_CUSTOM_HEADERS %>\n            <span class="optional-indicator"><%= __.OPTIONAL %></span>\n          </label>\n        </div>\n        <div class="form__input">\n          <input type="text" name="customHeaders" value="<%%attr= customHeaders %>" id="input-custom-header" class="required" placeholder="<%%attr= placeholders.customHeaders %>"/>\n        </div>\n      </div>\n    <% } %>\n\n    <% if (webhookType === \'Jira\' || webhookType === \'Opsgenie\' || webhookType === \'MicrosoftTeams\'){ %>\n      <div class="payload-note"><%= __.CONNECTION_PAYLOAD_NOTE %></div>\n    <% } %>\n\n    <% if (webhookType === \'MicrosoftTeams\') { %>\n      <div class="form__field">\n        <div class="form__label">\n          <label for="input-header">\n            <%= __.CONNECTION_ACTIVITY_TITLE %>\n          </label>\n        </div>\n        <div class="form__input">\n          <input type="text" name="activityTitle" value="<%%attr= activityTitle %>" id="input-activity-title" class="required" placeholder="<%%attr= placeholders.activityTitle %>"/>\n        </div>\n      </div>\n      <div class="form__field">\n        <div class="form__label">\n          <label for="input-header">\n            <%= __.CONNECTION_ACTIVITY_SUBTITLE %>\n          </label>\n        </div>\n        <div class="form__input">\n          <input type="text" name="activitySubtitle" value="<%%attr= activitySubtitle %>" id="input-activity-subtitle" placeholder="<%%attr= placeholders.activitySubtitle %>"/>\n        </div>\n      </div>\n      <div class="form__field">\n        <div class="form__label">\n          <label for="input-header">\n            <%= __.CONNECTION_CARD_TEXT %>\n          </label>\n        </div>\n        <div class="form__input">\n          <input type="text" name="cardText" value="<%%attr= cardText %>" id="input-card-text" placeholder="<%%attr= placeholders.cardText %>"/>\n        </div>\n      </div>\n    <% } else if (webhookType === \'Jira\') { %>\n      <div class="form__field">\n        <div class="form__label">\n          <label for="input-header">\n            <%= __.CONNECTION_ISSUE_TYPE %>\n          </label>\n        </div>\n        <div class="form__input">\n          <input type="text" name="issueType" value="<%%attr= issueType %>" id="input-issue-type" class="required" placeholder="<%%attr= placeholders.issueType %>"/>\n        </div>\n      </div>\n\n      <div class="form__field">\n        <div class="form__label">\n          <label for="input-header">\n            <%= __.CONNECTION_PROJECT_KEY %>\n          </label>\n        </div>\n        <div class="form__input">\n          <input type="text" name="projectKey" value="<%%attr= projectKey %>" id="input-project-key" class="required" placeholder="<%%attr= placeholders.projectKey %>"/>\n        </div>\n      </div>\n\n      <div class="form__field">\n        <div class="form__label">\n          <label for="input-header">\n            <%= __.CONNECTION_ISSUE_SUMMARY %>\n          </label>\n        </div>\n        <div class="form__input">\n          <input type="text" name="issueSummary" value="<%%attr= issueSummary %>" id="input-issue-summary" class="required" placeholder="<%%attr= placeholders.issueSummary %>"/>\n        </div>\n      </div>\n\n      <div class="form__field">\n        <div class="form__label">\n          <label for="input-header">\n            <%= __.CONNECTION_PRIORITY %>\n            <span class="optional-indicator"><%= __.OPTIONAL %></span>\n          </label>\n        </div>\n        <div class="form__input">\n          <input type="text" name="jiraPriority" value="<%%attr= jiraPriority %>" id="input-jira-priority" class="required" placeholder="<%%attr= placeholders.jiraPriority %>"/>\n        </div>\n      </div>\n\n      <div class="form__field">\n        <div class="form__label">\n          <label for="input-header">\n            <%= __.CONNECTION_ISSUE_DESCRIPTION %>\n          </label>\n        </div>\n        <div class="form__input">\n          <input type="text" name="payloadDescription" value="<%%attr= payloadDescription %>" id="input-payload-description" class="required" placeholder="<%%attr= placeholders.payloadDescription %>"/>\n        </div>\n      </div>\n      <% } else if (webhookType === \'Opsgenie\'){ %>\n      <div class="form__field">\n        <div class="form__label">\n          <label for="input-header">\n            <%= __.CONNECTION_PRIORITY %>\n            <span class="optional-indicator"><%= __.OPTIONAL %></span>\n          </label>\n        </div>\n        <div class="form__input">\n          <input type="text" name="priority" value="<%%attr= priority %>" id="input-priority" class="required" placeholder="<%%attr= placeholders.priority %>"/>\n        </div>\n      </div>\n      <% } else if (webhookType === \'SumoCloudSOAR\'){ %>\n        <div class="form__field">\n          <div class="form__label">\n            <label for="input-templates">\n              <%= __.CONNECTION_CLOUDSOAR_TEMPLATES %>\n            </label>\n          </div>\n          <div class="form__input">\n            <select id="input-templates" class="required">\n              <option data-role="templates-placeholder" selected="selected"><%= __.CHOOSE_TEMPLATE_PLACEHOLDER %></option>\n            </select>\n          </div>\n        </div>\n      <% } %>\n\n    <div class="form__field">\n      <div class="form__label">\n        <label id="input-payload-label" for="input-defaultPayload">\n          <%= __.CONNECTION_PAYLOAD %>\n        </label>\n        <% if (help.defaultPayload) { %>\n        <span class="form__help-link" data-for="defaultPayload"><%= __.HELP %></span>\n        <% } %>\n      </div>\n      </label>\n      <% if (webhookType === \'PagerDuty\'){ %>\n        <div class="payload-warning"><%= __.CONNECTION_PAGERDUTY_PAYLOAD_WARNING %></div>\n      <% } %>\n      <div class="form__input">\n        <textarea id="input-defaultPayload" name="defaultPayload" maxlength="<%attr= max_desc_length %>"><%%= defaultPayload %></textarea>\n        <div class="form__helper-text">\n          <button class="test-connection sumo-button -secondary -small" data-spinner><%= __.TEST_CONNECTION %></button>\n          <button class="sumo-button -secondary -small" id="button-reset-payload"><%= __.RESET_TO_DEFAULT_PAYLOAD %></button>\n          <span class="sumo-link test-response"><%= __.SEE_TEST_RESPONSE %></span>\n        </div>\n      </div>\n    </div>\n  </div>\n  <% if (webhookHasResolutionPayloadOption) { %>\n    <div class="form__field">\n      <div class="form__label">\n        <label id="input-resolutionPayload-label" for="input-resolutionPayload">\n          Resolution Payload\n        </label>\n      </div>\n      <div class="form__input">\n        <textarea id="input-resolutionPayload" name="resolutionPayload" maxlength="<%attr= max_desc_length %>"><%%= resolutionPayload %></textarea>\n      </div>\n    </div>\n  <% } %>\n</form>\n'},4080:function(e){e.exports='<div class="cse-content-opt-in">\n  <label for="cse-content-opt-in-checkbox" id="cse-content-opt-in-label">\n    <input type="checkbox" id="cse-content-opt-in-checkbox" <%checked= isEnabled %> <%disabled= !isEditable %> >\n    <%= __.ENABLE %>\n  </label>\n  <div id ="cse-content-opt-in-blurb"><%= __.CSE_CONTENT_OPT_IN_DESCRIPTION %></div>\n</div>\n'},20725:function(e){e.exports='\n<div class="account-section-header">\n  <%= __.DATA_USAGE_STATISTICS_TITLE %>\n</div>\n<div class="account-section-container">\n  <div class="usage-statistics-content">\n    <div id="usage-statistics-content-blurb"><%dangerousUnescapedHTML= __.DATA_USAGE_STATISTICS_BLURB %></div>\n    <label for="usage-statistics-checkbox" id="usage-statistics-content-checkbox">\n        <input type="checkbox" id="usage-statistics-checkbox" <%checked= isUsageStatisticsEnabled %> <%disabled= !isUsageStatisticsEditable %>>\n        Enable\n    </label>\n  </div>\n</div>\n'},53615:function(e){e.exports='\x3c!-- Based on Sumo List View template --\x3e\n<div class="list-view-ctr" id="<%attr= coreId %>-view" data-sumo-test="<%attr= coreId %>-view">\n  <div class="list-view-title-ctr">\n    <div class="list-view-title-holder">\n      <div class="list-view-title"><%= pageTitle %></div>\n      <% if (showAddButton) { %>\n        <div class="list-view-title-create-ctr" title="<%attr= __.menu_add %>"><i class="fa fa-plus fa-2x create-link"></i></div>\n      <% } %>\n      <div class="list-view-title-secondary"><%= secondaryText %></div>\n    </div>\n  </div>\n  <div class="list-view-divider"></div>\n\n  <div class="list-view-main">\n    <div class="list-view-container">\n      <div id="user-profile-view">\n        <div class="account-section-header"><%= __.USER_PROFILE_TITLE %></div>\n        <div class="account-section-container">\n          <% if (!showOrgInfo) { %>\n          <div>\n            <span class="field-label"><%= __.USER_ORGANIZATION %>:</span>\n            <span id="orgname" class="field-value"><%= orgName %></span>\n          </div>\n          <% } %>\n          <div>\n            <span class="field-label"><%= __.USER_ORGANIZATION_ID %>:</span>\n            <span class="field-value"><%= orgId %></span>\n          </div>\n          <div>\n            <span class="field-label"><%= __.USERNAME %>:</span>\n            <span class="field-value"><%= userName %></span>\n            <% if (showChangeEmail) { %>\n              <span class="field-link sumo-link <%attr= cssClass %>" id="change-email-link"><%= __.CHANGE_EMAIL %></span>\n            <% } %>\n          </div>\n          <div>\n            <span class="field-label"><%= __.PASSWORD %>:</span>\n            <span class="field-link sumo-link <%attr= cssClass %>" id="change-password-link"><%= __.CHANGE_PASSWORD %></span>\n          </div>\n          <div>\n            <span class="field-label"><%= __.ROLES %>:</span>\n            <span class="field-value -normal"><%= rolesList %></span>\n          </div>\n        </div>\n      </div>\n\n      <% if (show2FA) { %>\n        <div id="security-section">\n          <div class="account-section-header"><%= __.SECURITY_TITLE %></div>\n          <div class="account-section-container">\n            <div class="twoFA_status"><%= twoFA_status %></div>\n            <div class="user-preference-item twoFA__control <%attr= twoFAEnabled ? \'twoFA__enabled\' : \'\' %>" id="twoFA__enabled">\n              <div class="user-preference-item__inner">\n                <button type="button" class="sumo-button -secondary <%attr= canDisable2FA ? \'\' : \'link-disabled is-disabled\' %>"\n                        id="open-disable-2fa" title="<%attr= canDisable2FA ? \'\' : __.DISABLE_2FA_TITLE %>"><%= __.DISABLE_2FA %></button>\n              </div>\n              <div>\n                <span class="sumo-link" id="open-codes-2fa"><%= __.VIEW_2FA_CODES %></span>\n                <span class="user-preference-item__sep">|</span>\n                <span class="sumo-link" id="open-change-2fa" data-enable="false"><%= __.CHANGE_DEVICE %></span>\n              </div>\n            </div>\n            <div class="user-preference-item twoFA__control <%attr= twoFAEnabled ? \'\' : \'twoFA__disabled\' %>" id="twoFA__disabled">\n              <button type="button" class="sumo-button -secondary" id="open-enable-2fa" data-enable="true"><%= __.ENABLE_2FA %></button>\n            </div>\n          </div>\n        </div>\n      <% } %>\n\n      <div id="user-preferences">\n        <div id="api-accessKey-section-header" class="account-section-header">\n          <%= __.USER_ACCESSKEY_SECTION_TITLE %>\n        </div>\n        <div id="api-accessKey-section" class="account-section-container api-accessKey-section"></div>\n        <div class="account-section-header"><%= __.USER_PREFERENCES_TITLE %></div>\n        <div class="account-section-container plainLabels">\n          <form id="user-preferences-form">\n            <% if (timeZonePreferenceEnabled) { %>\n            <div class="user-preference-item">\n              <div><%= __.LABEL_TIMEZONE_PREFERENCE %></div>\n              <div>\n                <select class="timezone-selector"></select>\n              </div>\n            </div>\n            <% } %>\n            <% if (showTzOffsetPreferenceEnabled) { %>\n            <div class="user-preference-item">\n              <label>\n                <input type="checkbox" id="input-show-tz-offset" <%checked= showTzOffset %> />\n                <%= __.SHOW_TZ_OFFSET %>\n              </label>\n            </div>\n            <% } %>\n            <div class="user-preference-item">\n              <%= __.LABEL_DATE_LOCALE_FORMAT %>\n              <div>\n                <select class="date-format-selector">\n                  <option value="<%attr= dateLocaleFormatVals.auto %>"\n                  <%selected= (dateLocaleFormat == dateLocaleFormatVals.auto) %>>\n                  <%= __.DATE_FORMAT_AUTO %>\n                  </option>\n                  <option value="<%attr= dateLocaleFormatVals.mdy %>"\n                  <%selected= (dateLocaleFormat == dateLocaleFormatVals.mdy) %>>\n                  <%= __.DATE_FORMAT_MDY %>\n                  </option>\n                  <option value="<%attr= dateLocaleFormatVals.dmy %>"\n                  <%selected= (dateLocaleFormat == dateLocaleFormatVals.dmy) %>>\n                  <%= __.DATE_FORMAT_DMY %>\n                  </option>\n                  <option value="<%attr= dateLocaleFormatVals.ymd %>"\n                  <%selected= (dateLocaleFormat == dateLocaleFormatVals.ymd) %>>\n                  <%= __.DATE_FORMAT_YMD %>\n                  </option>\n                </select>\n              </div>\n            </div>\n            <div class="user-preference-item">\n              <% if (SumoApp.priv.hasFlagUIOverrideSessionTimeout()) { %>\n                <%= __.LABEL_SESSION_TIMEOUT_FIXED %>\n                <span><%= sessionTimeout %> <%= __.MINUTES %></span>\n              <% } else { %>\n                <%= __.LABEL_SESSION_TIMEOUT %>\n                <select id="input-session-timeout">\n                  <% _.each(sessionTimeoutOptions, function(option) { %>\n                    <option value="<%attr= option.value %>" <%selected=(sessionTimeout === option.value) %>>\n                      <%= option.label %>\n                    </option>\n                  <% }); %>\n                </select>\n                <div class="input-helper-text">* <%= __.SESSION_TIMEOUT_HELPER_TEXT %></div>\n              <% } %>\n            </div>\n            <div class="user-preference-item">\n              <label>\n                <input type="checkbox" id="input-send-content-share-email-notifications" <%checked= sendSharedContentEmailNotifications %> />\n                <%= __.SEND_CONTENT_SHARE_EMAIL_NOTIFICATIONS %>\n              </label>\n            </div>\n            <div class="user-preference-item">\n              <label>\n                <input type="checkbox" id="input-keyboard-shortcuts" <%checked= keyboardShortcuts %> />\n                <%= __.KEYBOARD_SHORTCUTS %>\n              </label>\n            </div>\n            <div class="user-preference-item">\n              <label>\n                <input type="checkbox" class="preference-checkbox" id="input-run-selected-saved-search" <%checked= runSelectedSavedSearch %> />\n                <%= __.RUN_SELECTED_SAVED_SEARCH %>\n              </label>\n            </div>\n            <div class="user-preference-item">\n              <label>\n                <input type="checkbox" id="input-confirm-tab-close" <%checked= confirmTabClose %> />\n                <%= __.CONFIRM_TAB_CLOSE %>\n              </label>\n            </div>\n            <div class="user-preference-item">\n              <label>\n                <input type="checkbox" class="preference-checkbox" id="input-auto-open-auto-complete" <%checked= runAutoOpenAutoComplete %> />\n                <%= __.AUTO_OPEN_AUTO_COMPLETE %> <%= __.AUTO_OPEN_AUTO_COMPLETE_2 %>\n              </label>\n            </div>\n            <div class="user-preference-item">\n              <label>\n                <input type="checkbox" class="preference-checkbox" data-sumo-test="input-reopen-previous-tabs" id="input-reopen-previous-tabs" <%checked= reopenPreviousTabs %> />\n                <%= __.REOPEN_PREVIOUS_TABS %>\n              </label>\n            </div>\n            <div class="user-preference-item">\n              <div><%= __.LABEL_ENTER_KEY_RUNS_QUERY_V2 %></div>\n              <div>\n                <label>\n                  <input type="radio" name="input-enter-key-runs-query" id="input-enter-key-runs-query-yes" <%checked= enterKeyRunsQuery %> />\n                  <%= __.ENTER_KEY_RUNS_QUERY_YES %>\n                </label>\n              </div>\n              <div>\n                <label>\n                  <input type="radio" name="input-enter-key-runs-query" id="input-enter-key-runs-query-no" <%checked= !enterKeyRunsQuery %> />\n                  <%= __.ENTER_KEY_RUNS_QUERY_NO %>\n                </label>\n              </div>\n            </div>\n            <%if(ffUISearchIndexSelection && ffUIQueryModeToggling){%>\n            <div class="user-preference-item">\n              <div><%= __.LABEL_LOG_SEARCH_DEFAULT_MODE %></div>\n              <div>\n                <label>\n                  <input type="radio" name="log-search-default-basic-mode" id="log-search-default-basic-mode" <%checked= logSearchBasicMode %> />\n                  <%= __.LOG_SEARCH_BASIC_MODE %>\n                </label>\n              </div>\n              <div>\n                <label>\n                  <input type="radio" name="log-search-default-basic-mode" id="log-search-default-advanced-mode" <%checked= !logSearchBasicMode %> />\n                  <%= __.LOG_SEARCH_ADVANCED_MODE %>\n                </label>\n              </div>\n            </div>\n            <%}%>\n            <%if(ffCheckOnSearchCloseEnabled){%>\n            <div class="user-preference-item">\n              <div><%= __.LABEL_ALERT_ON_CLOSING_SEARCH %></div>\n              <div>\n                <label>\n                  <input type="radio" name="input-close-search-window" value="<%attr= SEARCH_WINDOW_CLOSE_OPTIONS.NEVER%>" id="input-close-search-window-never" <%checked= closeWindowCheck === SEARCH_WINDOW_CLOSE_OPTIONS.NEVER %> />\n                  <%= __.LABEL_ALERT_SEARCH_DISABLE %>\n                </label>\n              </div>\n              <div>\n                <label>\n                  <input type="radio" name="input-close-search-window" value="<%attr= SEARCH_WINDOW_CLOSE_OPTIONS.RUNNING%>"  id="input-close-search-window-running" <%checked= closeWindowCheck === SEARCH_WINDOW_CLOSE_OPTIONS.RUNNING %> />\n                  <%= __.LABEL_ALERT_SEARCH_RUNNING %>\n                </label>\n              </div>\n              <div>\n                <label>\n                  <input type="radio" name="input-close-search-window" value="<%attr= SEARCH_WINDOW_CLOSE_OPTIONS.ALWAYS%>"  id="input-close-search-window-always" <%checked= closeWindowCheck === SEARCH_WINDOW_CLOSE_OPTIONS.ALWAYS %> />\n                  <%= __.LABEL_ALERT_SEARCH_ALWAYS %>\n                </label>\n              </div>\n            </div>\n            <%}%>\n            <%if(hasEnabledUIMonitorsSubscriptions){%>\n              <div class="user-preference-item">\n                <div><%= __.LABEL_ALERT_NOTIFICATIONS %></div>\n                <div>\n                  <label>\n                    <input type="checkbox" id="input-display-alert-badge" <%checked= displayAlertBadge %> />\n                    <%= __.DISPLAY_ALERT_BADGE %>\n                  </label>\n                </div>\n\n                <div>\n                  <label>\n                    <input type="checkbox" id="input-notify-only-about-subscribed-monitors" <%checked= notifyOnlyAboutSubscribedMonitors %> />\n                    <%= __.NOTIFY_ABOUT_ONLY_SUBSCRIBED_MONITORS %>\n                  </label>\n                </div>\n              </div>\n\n              <div class="user-preference-item">\n                <div><%= __.LABEL_ALERTS_LIST %></div>\n                <div>\n                  <label>\n                    <input type="checkbox" id="input-alerts-active-items-only-as-default-filter" <%checked= alertsActiveItemsOnlyAsDefaultFilter %> />\n                    <%= __.ENABLE_ACTIVE_ITEMS_DEFAULT_FILTER %>\n                  </label>\n                </div>\n\n                <div>\n                  <label>\n                    <input type="checkbox" id="input-alerts-my-subscriptions-as-default-filter" <%checked= alertsMySubscriptionsAsDefaultFilter %> />\n                    <%= __.ENABLE_MY_SUBSCRIPTIONS_DEFAULT_FILTER %>\n                  </label>\n                </div>\n              </div>\n            <%}%>\n            <br>\n            <div class="form-toolbar">\n              <button type="submit" class="sumo-button" id="save-button" data-spinner><%= __.LABEL_SAVE_USER_PREFERENCES %></button>\n              <div id="errors"></div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="list-view-menu sumo-menu-container" style="display: none;"></div>\n</div>\n'},82e3:function(e){e.exports='<div class="search-audit-logging-content">\n    <label for="search-audit-logging-checkbox" id="search-audit-logging-content-label">\n    <input type="checkbox" id="search-audit-logging-checkbox" <%checked= isEnabled %> <%disabled= !isEditable %>>\n    <%= __.ENABLE %>\n    </label>\n    <div id ="search-audit-logging-content-blurb"><%dangerousUnescapedHTML= __.SUMO_SEARCH_AUDIT_LOG %></div>\n</div>\n'},77720:function(e){e.exports='<div class="concurrent-session-limit">\n  <label for="concurrent-session-limit-checkbox" id="concurrent-session-limit-label">\n    <input type="checkbox" id="concurrent-session-limit-checkbox" <%checked= isEnabled %> <%disabled= !isEditable %> >\n    <%= __.ENABLE %>\n  </label>\n  <div id ="concurrent-session-limit-blurb"><%= __.CONCURRENT_SESSIONS_BLURB %></div>\n</div>\n<div class="concurrent-session-limit-quantity">\n  <label for="concurrent-session-limit-input">\n    <%= __.NUMBER_OF_CONCURRENT_SESSIONS %>\n    <input type="number" max="100" min="1" id="concurrent-session-limit-input" value="<%= sessionLimit %>" <%= isEnabled ? \'\' : \'disabled="disabled"\' %>>\n  </label>\n  <% if (errMessage) { %>\n    <div id="concurrent-session-limit-errors">\n      <div class="prada legacy-prada">\n        <div class="inline-error">\n          <%= errMessage %>\n        </div>\n      </div>\n    </div>\n  <% } %>\n</div>\n'},58492:function(e){e.exports='<div class="support-data-access-level">\n  <label for="support-data-access-level-checkbox" id="support-data-access-level-label">\n    <input type="checkbox" id="support-data-access-level-checkbox" <%checked= isEnabled %> <%disabled= !isEditable %> >\n    <%= __.ENABLE %>\n  </label>\n  <div id ="support-data-access-level-blurb"><%= __.DASHBOARD_DATA_ACCESS_LEVEL %></div>\n</div>\n'},89664:function(e){e.exports='<div id="access-expiration-info">\n  <span class="icon--info"></span>\n  <p><%= __.SUPPORT_ACCOUNT_EXPIRATION_DATE %>: <b><%= expirationDate %></b></p>\n</div>\n'},20410:function(e){e.exports='<div class="support-account-content">\n  <label for="support-account-checkbox" id="support-account-content-label">\n    <input type="checkbox" id="support-account-checkbox" <%checked= isEnabled %> <%disabled= !isEditable %>>\n    <%= __.ENABLE %>\n  </label>\n  <div id="support-account-content-section">\n    <div id="support-account-content-blurb"><%= __.SUPPORT_ACCOUNT_CONTENT %></div>\n    <% if (isEnabled && SumoApp.getAngularService(\'currentUserHelper\').hasFeatureFlag(\'UISupportAccountNotification\')) { %>\n      <div id="access-expiration-wrapper"></div>\n      <div>\n        <label><%= __.SUPPORT_ACCOUNT_SELECT_LABEL %></label>\n        <select id="support-account-expiration-select">\n          <option class="select-placeholder" value="" selected="selected" disabled>\n            <%= __.SUPPORT_ACCOUNT_SELECT_PLACEHOLDER %>\n          </option>\n          <option value="1"><%= __.SUPPORT_ACCOUNT_SELECT_OPTION_1DAY %></option>\n          <option value="7"><%= __.SUPPORT_ACCOUNT_SELECT_OPTION_1WEEK %></option>\n          <option value="30"><%= __.SUPPORT_ACCOUNT_SELECT_OPTION_1MONTH %></option>\n          <option value="365"><%= __.SUPPORT_ACCOUNT_SELECT_OPTION_1YEAR %></option>\n          <option value="-1"><%= __.SUPPORT_ACCOUNT_SELECT_OPTION_INDEFINITE %></option>\n        </select>\n      </div>\n    <% } %>\n    <div id="support-account-dialog-origin"></div>\n  </div>\n</div>\n'},39142:function(e){e.exports='<div class="support-public-dash-content">\n  <label for="support-public-dash-checkbox" id="support-public-dash-content-label">\n    <input type="checkbox" id="support-public-dash-checkbox" <%checked= isEnabled %> <%disabled= !isEditable %> >\n    <%= __.ENABLE %>\n  </label>\n  <div id ="support-public-dash-content-blurb"><%= __.SUPPORT_PUBLIC_DASHBOARD_CONTENT %></div>\n</div>\n'},10897:function(e){e.exports='<div id="confirm-upgrade-view">\n  <% if(status !== this.model.STATUS_ALLOW_MONTHLY_ALLOW_ANNUAL_FALSE && (status === this.model.STATUS_PREVIEWING_UPGRADE_SUCCESSFUL || status === this.model.STATUS_CONFIRMING_UPGRADE || status === this.model.STATUS_CONFIRMING_UPGRADE_FAILED || status === this.model.STATUS_CONFIRMING_UPGRADE_SUCCESSFUL)) { %>\n    <div class="title-div"><%= __.PAYMENT_OPTIONS %></div>\n    <div id="payment-options-div">\n      <% if(allowMonthly && allowAnnual) { %>\n        <div id="radio-container-div">\n          <div for="annual-radio" id="annual-div" class="payment-option <%attr= yearlyDivClass %>">\n            <input type="radio" id="annual-radio" name="payment-options-radio" <%= yearlyChecked %>\n              data-sumo-test="confirm-upgrade-annual-option">\n            <label for="annual-radio"><span class="dollar-span">$<%= upgradeRequest.annualPlan.totalCost %></span> <%= __.billed %> <%= __.yearly %> <%= __.annual_discount %></label>\n          </div>\n          <div for="month-to-month-radio" id="month-to-month-div" class="payment-option <%attr= monthlyDivClass %>">\n            <input type="radio" id="month-to-month-radio" name="payment-options-radio" <%= monthlyChecked %>\n              data-sumo-test="confirm-upgrade-monthly-option">\n            <label for="month-to-month-radio"><span class="dollar-span">$<%= upgradeRequest.monthlyPlan.totalCost %></span> <%= __.billed %> <%= __.MONTHLY %> <%dangerousUnescapedHTML= monthlyTotalAnnualCost %></label>\n          </div>\n        </div>\n      <% } else { %>\n        <div id="no-radio-container-div" data-sumo-test="confirm-upgrade-no-radio-option">\n          <% if (termLength === planInCart.yearlyTerm) { %>\n            <%dangerousUnescapedHTML= sprintf(__.upgraded_to_payment_option, __.annual) %>\n          <% } else { %>\n            <%dangerousUnescapedHTML= sprintf(__.upgraded_to_payment_option, __.monthly) %>\n          <% } %>\n        </div>\n      <% } %>\n      <div id="payment-annual-note"><%= __.annual_contract_note %></div>\n    </div>\n    <div class="title-div"><%= __.ORDER_SUMMARY %></div>\n    <div id="upgrade-summary-div">\n      <div class="summary-heading" data-sumo-test="confirm-upgrade-summary-heading">\n        <span><%dangerousUnescapedHTML= sprintf(__.UPGRADING_SUMMARY, upgradeRequest.displayName) %></span>\n      </div>\n      <div class="summary-in-box">\n        <ul>\n          <% _.each(upgradeRequest.activeKnobs, function(this_knob) { %>\n          <li data-sumo-test="confirm-upgrade-summary-knob">\n            <span id="<%attr= (this_knob.knobName).replace(/ /g, \'_\') %>"><%= (this_knob.quantity + " " + __[this_knob.uom]) %> </span><%= __[(this_knob.knobName).replace(/ /g, \'_\')] %>\n          </li>\n          <% }); %>\n        </ul>\n        <div id="price-div">\n          <% if(termLength === planInCart.yearlyTerm) { %>\n            <%= __.PRICE %>: $<span id="price-unit-span" data-sumo-test="confirm-upgrade-yearly-price">\n              <%= monthlyCost %>\n            </span>\n            <%= __.PER_MONTH_BILLED_ANNUALLY %><span class="overage-asterisk">*</span>\n          <% } else { %>\n            <%= __.PRICE %>: $<span id="price-unit-span" data-sumo-test="confirm-upgrade-monthly-price"><%= monthlyCost %></span>\n            <%= __.PER_MONTH %><span class="overage-asterisk">*</span>\n          <% } %>\n        </div>\n      </div>\n    </div>\n    \x3c!--<div class="title-div"><%= __.PAYMENT_METHOD %></div>--\x3e\n    \x3c!--<div id="payment-summary-div">--\x3e\n      \x3c!--<div id="cc-ending-div"><%= __.CREDIT_CARD_ENDING_WITH %> <span id="last-four-span">1234</span></div>--\x3e\n      \x3c!--<div id="cc-expiring-div"><%= __.EXPIRES %> <span id="expiry-span">04/16</span></div>--\x3e\n      \x3c!--<div id="update-cc-button" class="form-buttons">--\x3e\n        \x3c!--<input type="button" id="update-method-button" value="<%attr= __.UPDATE %>">--\x3e\n      \x3c!--</div>--\x3e\n    \x3c!--</div>--\x3e\n    <div id="confirmatory-text-div">\n      <%= __.A_PAYMENT_OF %> <span id="price-total-span" data-sumo-test="confirm-upgrade-total-price">\n      <%= ("$" + priceToPay) %></span> <%= __.WILL_BE_PROCESSED %>\n    </div>\n\n    <div class="overage-text-div">\n      <span class="overage-asterisk">*</span><%= __.overage_text %>\n    </div>\n\n    <div class="agree-sla-div">\n      <label for="agree-sla"><input type="checkbox" id="agree-sla" data-sumo-test="confirm-upgrade-agree-sla"/> <%dangerousUnescapedHTML= __.agree_sla %></label>\n    </div>\n  <% } else if(status === this.model.STATUS_PREVIEWING_UPGRADE) { %>\n    <div class="spin-wrapper">\n      <span class="loading-indicator"></span>\n    </div>\n  <% } %>\n  <% if(status === this.model.STATUS_PREVIEWING_UPGRADE_FAILED || status === this.model.STATUS_CONFIRMING_UPGRADE_FAILED || status === this.model.STATUS_ALLOW_MONTHLY_ALLOW_ANNUAL_FALSE){ %>\n    <div id="errors" style="margin-top:50px;" data-sumo-test="confirm-upgrade-preview-failed"></div>\n  <% } %>\n\n</div>\n'},93593:function(e){e.exports='<div id="confirm-upgrade-view">\n  <% if(isUpgradable) { %>\n    <div class="title-div">\n      <%= __.ORDER_SUMMARY %>\n    </div>\n    <div id="upgrade-summary-div">\n      <div class="summary-heading" data-sumo-test="confirm-upgrade-summary-heading">\n        <span>\n          <%= __.UPGRADING_SUMMARY_V2 %>\n        </span>\n      </div>\n      <div class="summary-in-box">\n        <div class="summary-in-box-container">\n          <div class="summary-in-box-header">\n            <%= __.YOUR_NEW_PLAN %>\n            <a class="summary-in-box-action_link"> <%= __.EDIT %> </a>\n          </div>\n          <div class="summary-in-box-title">\n            <%= upgradeRequest.planName %>\n          </div>\n          <div class="summary-in-box-details">\n            <div class="summary-in-box-details-headers">\n              <div>\n                <%= __.log_ingest %>\n              </div>\n              <div>\n                <%= __.total_metrics %>\n              </div>\n            </div>\n            <div class="summary-in-box-details-content">\n              <% _.each(upgradeRequest.ratePlanKnobs, function (knob) { %>\n                <div>\n                  <%= knob.displayQuantity %> <%= knob.uom %>\n                </div>\n              <% }); %>\n            </div>\n          </div>\n        </div>\n        <div class="summary-in-box-container">\n          <div class="summary-in-box-header">\n            <%= __.PAYING_NOW %>\n          </div>\n          <div class="summary-in-box-title">\n            <%dangerousUnescapedHTML= sprintf(__.TOTAL_PRICE, upgradeRequest.payNow) %>\n          </div>\n          <div class="summary-in-box-details">\n            <div class="summary-in-box-details-content cc-details-div" data-sumo-test="upgrade-summary-cc-data-details">\n              <%dangerousUnescapedHTML= sprintf(__.WITH_CREDIT_CARD_ENDING_WITH, ccData.cardType, (ccData.cardMask).slice(ccData.cardMask.length - 4, ccData.cardMask.length)) %>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div id="confirmatory-text-div">\n      <%= __.AUTO_RENEW %>\n    </div>\n    <div class="agree-sla-div">\n      <label for="agree-sla">\n        <input type="checkbox" id="agree-sla" data-sumo-test="confirm-upgrade-agree-sla"/>\n        <%dangerousUnescapedHTML= __.agree_sla %>\n      </label>\n    </div>\n  <% } else if(isLoading) { %>\n    <div class="spin-wrapper">\n      <span class="loading-indicator"></span>\n    </div>\n  <% } %>\n  <% if(isError){ %>\n    <div id="errors" style="margin-top:50px;" data-sumo-test="confirm-upgrade-preview-failed"></div>\n  <% } %>\n</div>\n'},16871:function(e){e.exports='<div id="finish-upgrade-view">\n  <div id="info-box">\n\n\n    \x3c!--<div class="summary-in-box">--\x3e\n      \x3c!--<ul>--\x3e\n        \x3c!--<li><span id="volume-daily-span">23 GB</span> <%= __.DAILY_VOLUME %> (<span id="volume-monthly-span">690 GB</span> <%= __.MONTHLY %>)</li>--\x3e\n        \x3c!--<li><span id="retention-period-span">40 days</span> <%= __.OF_RETENTION %></li>--\x3e\n        \x3c!--<li><%= __.UP_TO %> <span id="num-users-span">30</span> <%= __.USERS %></li>--\x3e\n      \x3c!--</ul>--\x3e\n      \x3c!--<div id="price-div">--\x3e\n        \x3c!--<%= __.PRICE %>: $<span id="price-unit-span">675</span><%= __.PER_MONTH_BILLED_ANNUALLY %>--\x3e\n      \x3c!--</div>--\x3e\n    \x3c!--</div>--\x3e\n\n    <div class="info-on-finish">\n      <%= __.RELOAD_INFO %>\n    </div>\n\n  </div>\n</div>\n'},85998:function(e){e.exports='<% if(freeUser) {\n   if(isFree) { %>\n    <a class="your-plan-link" data-sumo-test="upgrade-payment-upgrade-free"></a>\n  <% } else {\n     if(isFetchingPlanRates) { %>\n      <a>\n        <span class="loading-indicator"></span>\n      </a>\n    <% } else if(isPlanFetchingSuccess){ %>\n      <button class="sumo-button--upgrade" data-sumo-test="upgrade-payment-upgrade-paid-button">\n        <%= isAws ? __.SELECT_PLAN : __.UPGRADE %>\n      </button>\n    <% }\n  }\n} else {\n  if(!isFree && isFetchingPlanRates) { %>\n    <button class="sumo-button--upgrade" data-sumo-test="upgrade-payment-upgrade-button-paid" disabled>\n      <span class="loading-indicator"></span>\n      <span><%= __.updating %></span>\n    </button>\n  <% } else if (isAws) { %>\n    <button class="sumo-button--upgrade" data-sumo-test="upgrade-payment-upgrade-button-aws">\n      <%= __.SELECT_PLAN %>\n    </button>\n  <% } else if(!isFree && isUpgradable && isPlanFetchingSuccess){ %>\n    <button class="sumo-button--upgrade" data-sumo-test="upgrade-payment-upgrade-button-paid">\n      <%= isAws ? __.SELECT_PLAN : __.UPGRADE %>\n    </button>\n  <% } else if(!isFree && !isUpgradable && isPlanFetchingSuccess){ %>\n    <a class="your-plan-link" data-sumo-test="upgrade-payment-upgrade-button-not-upgradable"></a>\n  <% } else if(isFree) { %>\n    <a class="placeholder-link" data-sumo-test="upgrade-payment-upgrade-button-free-account"></a>\n  <% }\n} %>\n'},16739:function(e){e.exports='<div id="upgrade-plans-view" class="<%attr= isAws ? \'is-aws\' : \'\' %>">\n  <% if(plansDetails && plansDetails.products.length > 0) {\n    var that = this;\n    var disableUpgradeOptionForMaxAccount = false;\n  %>\n    <div id="plans-div">\n    <% _.each(plansDetails.products, function(this_plan) {\n         var planClass = "paid-plan";\n         if(this_plan.id === "FreeAccount") {\n           planClass = "free-plan";\n         }\n      %>\n\n      <div id="<%attr= this_plan.id %>" class="plan-class-outer <%attr= planClass %>">\n        <div class="product-type-div category-div" data-sumo-test="upgrade-payment-plan-name">\n          <%= this_plan.displayName %>\n        </div>\n        <div class="product-description-div category-div" data-sumo-test="upgrade-payment-plan-description">\n          <%= this_plan.description %>\n        </div>\n\n        <% if(this_plan.id === "FreeAccount") { %>\n          <div class="plan-defaults-div">\n            <div class="plan-defaults-includes fancy" data-sumo-test="upgrade-payment-free-plan-inlcudes">\n              <span><%= __.INCLUDES %></span>\n            </div>\n            <% _.each(this_plan.descriptionLines, function(descriptionLine, index){ %>\n              <div class="plan-defaults-details" id="free-plan-defaults-feature-<%attr= index %>"\n                   data-sumo-test="upgrade-payment-free-plan-description-line">\n                <%= descriptionLine %>\n              </div>\n            <% }); %>\n            <div id="free-num-users" class="plan-defaults-details" data-sumo-test="upgrade-payment-free-plan-num-users">\n              <%dangerousUnescapedHTML= sprintf(__.upto_users, that.model.freePlanDefaults.numOfUsers) %>\n            </div>\n            <div id="free-retention-days" class="plan-defaults-details" data-sumo-test="upgrade-payment-free-plan-retention">\n              <%dangerousUnescapedHTML= sprintf(__.days_data_retention, that.model.freePlanDefaults.retentionDays) %>\n            </div>\n            <div id="free-data-volume-label" class="plan-defaults-details">\n              <%= __.daily_data_volume %>\n            </div>\n            <div id="free-data-volume" class="plan-defaults-details">\n              <div id="free-data-volume-main-div" data-sumo-test="upgrade-payment-free-plan-data-volume">\n                <%= that.model.freePlanDefaults.dailyDataVolume %>\n              </div>\n            </div>\n          </div>\n\n        <% } else { %>\n\n        <div class="plan-defaults-div">\n          <div class="plan-defaults-includes fancy" data-sumo-test="upgrade-payment-paid-plan-includes">\n            <span><%= __.INCLUDES %></span>\n          </div>\n            <% _.each(this_plan.descriptionLines, function(descriptionLine, index){ %>\n              <div class="plan-defaults-details" id="standard-plan-defaults-feature-<%attr= index %>"\n                   data-sumo-test="upgrade-payment-paid-plan-description-line">\n                <%= descriptionLine %>\n              </div>\n            <% }); %>\n            <div id="standard-num-users" class="plan-defaults-details" data-sumo-test="upgrade-payment-paid-plan-num-users">\n              <%dangerousUnescapedHTML= sprintf(__.upto_users, that.model.standardPlanDefaults.numOfUsers) %>\n            </div>\n            <div id="standard-retention-days" class="plan-defaults-details" data-sumo-test="upgrade-payment-paid-plan-retention">\n              <%dangerousUnescapedHTML= sprintf(__.days_data_retention, that.model.standardPlanDefaults.retentionDays) %>\n            </div>\n            <div id="standard-data-volume-label" class="plan-defaults-details">\n              <%= __.daily_data_volume %>\n            </div>\n            <% _.each(plansDetails.knobs, function(this_knob) {\n                if((this_plan.id !== "FreeAccount") && this_knob.knobs.length > 0 && (this_knob.knobName).indexOf("Volume") >= 0 ) { %>\n                <div class="knob-class <%attr= (this_knob.knobName).replace(/ /g, \'_\') %>" data-sumo-test="upgrade-payment-paid-plan-data-volume">\n                  <% if(status === that.model.STATUS_FETCHING_PLANS_RATES) { %>\n                    <select class="knob-select" disabled="disabled">\n                  <% } else { %>\n                    <select class="knob-select">\n                  <% } %>\n                    <% _.each(this_knob.knobs, function(ratePlanKnob) { %>\n                      <option value="<%attr= ratePlanKnob.quantity %>"\n                        <%selected= getActiveValueForKnobByPlanId(plansDetails, ratePlanKnob.knobName, this_plan.id) == ratePlanKnob.quantity %>\n                        data-sumo-test="upgrade-payment-paid-plan-data-volume-option">\n                        <%= (ratePlanKnob.quantity + " " + __[ratePlanKnob.uom]) %>\n                      </option>\n                    <% }); %>\n                  </select>\n                </div>\n                <% } else if ((this_knob.knobName).indexOf("Volume") >= 0 && this_knob.knobs.length <= 0) {\n                    disableUpgradeOptionForMaxAccount = true;\n                %>\n\n                <div id="data-volume-read-only" class="plan-defaults-details">\n                  <div id="data-volume-main-div-read-only" data-sumo-test="upgrade-payment-paid-plan-current-data-volume">\n                    <%= currentDataVolume.quantity %> <%= __[currentDataVolume.uom] %>\n                  </div>\n                </div>\n                <% } %>\n            <% }); %>\n        </div>\n        <% } %>\n        <% if (!isAws) {\n            if (this_plan.id === "FreeAccount" || isUpgradable) { %>\n          <div class="product-price-div category-div">\n            <div class="dollar-price">\n              <sup>$</sup>\n              <span class="price-in-number" data-sumo-test="upgrade-payment-aws-price">\n                <%= _.getPath(this_plan, "annualPlan") ? parseInt(this_plan.annualPlan.mrr) : this_plan.monthlyPlan.mrr %>\n              </span>\n              <sub>/month</sub>\n            </div>\n            <% if(this_plan.id !== "FreeAccount") { %>\n              <div class="price-clarification-div">\n                <span class="annual-prepay-monthly-payment-span" data-sumo-test="upgrade-payment-aws-monthly-payment">\n                  <%dangerousUnescapedHTML= __.WITH_ANNUAL_PREPAY %>\n                  <%dangerousUnescapedHTML= sprintf(__.OR_MONTHLY_PAYMENTS, parseInt(this_plan.monthlyPlan.mrr)) %>\n                </span>\n                <span class="annual-commitment-req-span" data-sumo-test="upgrade-payment-aws-annual-commitment">\n                  <%= __.ANNUAL_COMMITMENT_REQUIRED %>\n                </span>\n              </div>\n            <% } else { %>\n              <div class="price-clarification-div" style="visibility:hidden;">\n                <span class="annual-prepay-monthly-payment-span" data-sumo-test="upgrade-payment-aws-monthly-payment-free">\n                  <%dangerousUnescapedHTML= __.WITH_ANNUAL_PREPAY %>\n                  <%dangerousUnescapedHTML= sprintf(__.OR_MONTHLY_PAYMENTS, parseInt(this_plan.monthlyPlan.mrr)) %>\n                </span>\n                <span class="annual-commitment-req-span" data-sumo-test="upgrade-payment-aws-monthly-commitment-free">\n                  <%= __.ANNUAL_COMMITMENT_REQUIRED %>\n                </span>\n              </div>\n            <% } %>\n          </div>\n        <% } else { %>\n          <div class="cannot-upgrade-div category-div">\n            <div class="cannot-upgrade-content-div" data-sumo-test="upgrade-payment-cannot-upgrade">\n              <%dangerousUnescapedHTML= __.cannot_upgrade_anymore %>\n            </div>\n          </div>\n        <% }\n          }\n        %>\n\n        <div class="upgrade-product-button-div category-div">\n          <% if(SumoApp.user.userInfo.isFree) { %>\n            <% if(this_plan.id === "FreeAccount") { %>\n              <a class="your-plan-link" data-sumo-test="upgrade-payment-upgrade-free"></a>\n            <% } else { %>\n              <% if(status === that.model.STATUS_FETCHING_PLANS_RATES) { %>\n                <a>\n                  <span class="loading-indicator"></span>\n                </a>\n              <% } else if(status !== that.model.STATUS_FETCHING_PLANS_RATES_FAILED){ %>\n                <button class="sumo-button--upgrade" data-sumo-test="upgrade-payment-upgrade-paid-button">\n                  <%= isAws ? __.SELECT_PLAN : __.UPGRADE %>\n                </button>\n              <% } %>\n            <% } %>\n          <% } else { %>\n             <% if(this_plan.id !== "FreeAccount" && status === that.model.STATUS_FETCHING_PLANS_RATES) { %>\n                <a>\n                  <span class="loading-indicator"></span>\n                </a>\n              <% } else if (isAws) { %>\n                <button class="sumo-button--upgrade" data-sumo-test="upgrade-payment-upgrade-button-aws">\n                  <%= __.SELECT_PLAN %>\n                </button>\n              <% } else if(this_plan.id !== "FreeAccount" && isUpgradable && status !== that.model.STATUS_FETCHING_PLANS_RATES_FAILED){ %>\n                <button class="sumo-button--upgrade" data-sumo-test="upgrade-payment-upgrade-button-paid">\n                  <%= isAws ? __.SELECT_PLAN : __.UPGRADE %>\n                </button>\n              <% } else if(this_plan.id !== "FreeAccount" && !isUpgradable && status !== that.model.STATUS_FETCHING_PLANS_RATES_FAILED){ %>\n                <a class="your-plan-link" data-sumo-test="upgrade-payment-upgrade-button-not-upgradable"></a>\n              <% } else if(this_plan.id === "FreeAccount") { %>\n                <a class="placeholder-link" data-sumo-test="upgrade-payment-upgrade-button-free-account"></a>\n          <% } } %>\n        </div>\n      </div>\n    <% }); %>\n    </div>\n\n    <div class="overage-text-div">\n      <%= __.overage_text %>\n    </div>\n\n  <% } else if(status === this.model.STATUS_FETCHING_PLANS || status === this.model.STATUS_FETCHING_CURRENT_PLAN) { %>\n    <div class="spin-wrapper">\n      <span class="loading-indicator"></span>\n    </div>\n  <% } if(status === this.model.STATUS_FETCHING_PLANS_FAILED || status === this.model.STATUS_FETCHING_PLANS_RATES_FAILED || status === this.model.STATUS_FETCHING_CURRENT_PLAN_FAILED){ %>\n    <div id="errors" style="margin-top:10px;" data-sumo-test="upgrade-payment-fetch-plans-failed"></div>\n  <% } %>\n</div>\n'},85016:function(e){e.exports='<div id="upgrade-plans-view" class="<%attr= isAws ? \'is-aws\' : \'\' %>">\n  <% if( plansDetails && plansDetails.products.length > 0) { %>\n    <div id="plans-div" class="instruction">\n      <div class="plans-div-containers">\n        <div class="plans-div-headers">\n          <div class="plan-title">\n            <%= __.choose_plan_title %>\n          </div>\n          <div>\n            <%= __.annual_contract %>\n          </div>\n        </div>\n        <div class="plans-div-inner">\n          <% _.each(plansDetails.products, function(this_plan) { %>\n            <div class="plans-wrapper">\n              <div class="buttons">\n                <input name="planType" type="radio" value="<%attr= this_plan.displayName %>" class="plan-type"\n                  <%disabled= (this_plan.isDisabled || isFetchingPlanRates) %>\n                  <%checked= this_plan.displayName === selectedState.planName %> />\n              </div>\n              <div id="<%attr= this_plan.displayName %>" class="plan-class-outer paid-plan">\n                <div class="product-type-div category-div" data-sumo-test="upgrade-payment-<%attr= this_plan.displayName %>-plan">\n                  <%= this_plan.displayName %>\n                </div>\n                <div class="product-description-div category-div" data-sumo-test="upgrade-payment-<%attr= this_plan.displayName %>-description">\n                  <%= this_plan.description %>\n                </div>\n                <div class="plan-defaults-div">\n                  <div class="plan-defaults-includes" data-sumo-test="upgrade-payment-<%attr= this_plan.displayName %>-plan-includes">\n                    <span><%= __.INCLUDES.toLowerCase() %></span>\n                  </div>\n                  <% _.each(this_plan.descriptionLines, function(descriptionLine, index){ %>\n                    <div class="plan-defaults-details" id="standard-plan-defaults-feature-<%attr= index %>"\n                      data-sumo-test="upgrade-payment-<%attr= this_plan.displayName %>-plan-description-line">\n                      <%= descriptionLine %>\n                    </div>\n                    <% }); %>\n                </div>\n              </div>\n            </div>\n          <% }); %>\n        </div>\n      </div>\n      <div class="plans-div-containers">\n        <div class="plan-title plans-div-headers">\n          <%= __.select_new_volume_title %>\n        </div>\n        <div class="data-volume-container">\n          <div class="data-volume-labels">\n            <div data-sumo-test="upgrade-payment-log_ingest-labels">\n              <%= __.log_ingest %>\n            </div>\n            <div data-sumo-test="upgrade-payment-metrics-labels">\n              <%= __.total_metrics %>\n            </div>\n          </div>\n          <div class="data-volume-selectors">\n            <md-input-container ng-repeat="knob in possibleKnobs"\n              data-sumo-test="upgrade-payment-{{selectedState.ratePlanKnobs[$index].knobName}}-selectors"\n              class="knobs-container" md-theme="formTheme">\n              <md-select ng-model="selectedState.ratePlanKnobs[$index].quantity"\n                ng-disabled="isFetchingPlanRates"\n                ng-change="updateSelectedState(\'ratePlanKnobs\', selectedState.ratePlanKnobs)">\n                <md-option ng-value="quantity" ng-repeat="quantity in knob.possibleValues">\n                  <span ng-if="quantity"> {{:: knob.displayQuantity[$index] }} {{:: knob.uom }} </span>\n                </md-option>\n              </md-select>\n            </md-input-container>\n          </div>\n        </div>\n      </div>\n      <% if (showBillCycleSection) { %>\n        <div class="plans-div-containers">\n          <div class="plan-title plans-div-headers">\n            <%= __.billing_frequency %>\n          </div>\n          <div class="buttons-container" data-sumo-test="upgrade-payment-billing-frequency-yearly">\n            <div class="buttons">\n              <input type="radio" name="billing-frequency" value="<%attr= __.yearly %>" class="billing-frequency-btn"\n                <%checked= selectedState.billingCycle==__.yearly %>\n                <%disabled= isFetchingPlanRates %>\n              />\n            </div>\n            <div class="plans-billing-frequency">\n              <%= __.yearly %>\n                <%=__.upto_annual_discount %>\n            </div>\n          </div>\n          <div class="buttons-container" data-sumo-test="upgrade-payment-billing-monthly-yearly">\n            <div class="buttons">\n              <input type="radio" name="billing-frequency" value="<%attr= __.monthly %>" class="billing-frequency-btn"\n                <%checked= selectedState.billingCycle==__.monthly %>\n                <%disabled= isFetchingPlanRates %>\n              />\n            </div>\n            <div class="plans-billing-frequency">\n              <%= __.monthly %>\n            </div>\n          </div>\n        </div>\n      <% } %>\n    </div>\n    <% if (!isAws) {\n      if (isUpgradable) { %>\n      <div class="product-price-div category-div">\n        <div class="plan-title plans-div-headers">\n          <div>\n            <%= __.upgrade_cost %>\n          </div>\n          <div class="dollar-price">\n            <span class="dollar-price-value">\n                  <span class="dollar-price-unit <%attr= isFetchingPlanRates ? \'blurred\' : \'\' %>"\n                    data-sumo-test="upgrade-payment-aws-price-upgrade-cost">\n                    $ <%= selectedState.upgradePrice %>\n                  </span>\n            </span>\n            <span class="dollar-price-unit">\n                <%= rateCycle %>\n              </span>\n          </div>\n        </div>\n        <div class="plan-title plans-div-headers">\n          <div>\n            <%= __.PAY_NOW %>\n              <div class="pay-now-desc">\n                <%= __.PAY_NOW_DESC %>\n              </div>\n          </div>\n          <div class="dollar-price">\n            <div class="dollar-price-value <%attr= isFetchingPlanRates ? \'blurred\' : \'\' %>"\n              data-sumo-test="upgrade-payment-aws-price-pay-now">\n              $ <%= selectedState.payNow %>\n            </div>\n          </div>\n          <div class="upgrade-product-button-div" data-plan-display-name="<%attr= selectedState.planName %>"></div>\n        </div>\n      </div>\n      <% } else { %>\n        <div class="cannot-upgrade-div category-div">\n          <div class="cannot-upgrade-content-div" data-sumo-test="upgrade-payment-cannot-upgrade">\n            <%dangerousUnescapedHTML= __.cannot_upgrade_anymore %>\n          </div>\n        </div>\n        <div class="upgrade-product-button-div" data-plan-display-name=" <%= selectedState.planName %> "></div>\n        <% }\n    }\n  } else if(isLoading) { %>\n      <div class="spin-wrapper">\n        <span class="loading-indicator"></span>\n        <span class="loading-desc">\n          <%= __.loading_plans %>\n        </span>\n      </div>\n  <% }\n  if(isError) { %>\n    <div id="errors" style="margin-top:10px;" data-sumo-test="upgrade-payment-fetch-plans-failed"></div>\n  <% } %>\n</div>\n'},75557:function(e){e.exports='<div id="upgrade-summary-box">\n  <div id="upgrade-plan-details-div" class="category-div">\n    <div class="upgrade-title-div plan-title-div">\n      <span class="upgrade-title-span" data-sumo-test="upgrade-summary-plan-title"><%= planTitle %></span>\n      <a class="summary-edit-plan us-action-link" data-sumo-test="upgrade-summary-edit-plan-link"><%= __.EDIT %></a>\n    </div>\n    <div class="plan-name-div" data-sumo-test="upgrade-summary-plan-name">\n      <%= planToShow.plan.planName %>\n    </div>\n    <div class="plan-details">\n      <div class="plan-details-headers">\n        <div data-sumo-test="upgrade-summary-plan-header-logs"><%= __.log_ingest %></div>\n        <div data-sumo-test="upgrade-summary-plan-header-free-metrics"><%= __.free_metrics %></div>\n        <div data-sumo-test="upgrade-summary-plan-header-metrics"><%= __.total_metrics %></div>\n        <% if (billing_frequency) { %>\n          <div data-sumo-test="upgrade-summary-plan-header-billing_frequency"> <%= __.billing_frequency %> </div>\n        <% } %>\n      </div>\n      <div class="plan-details-content">\n        <div data-sumo-test="upgrade-summary-plan-content-logs">\n          <%= planToShow.plan.ratePlanKnobs[0].quantity %> <%= __.GigsRate %>\n        </div>\n        <div data-sumo-test="upgrade-summary-plan-content-free-metrics">\n          <%= planToShow.plan.freeMetrics %> <%= __.DPM_short %>\n        </div>\n        <div data-sumo-test="upgrade-summary-plan-content-metrics">\n          <%= metrics %> <%= __.DPM_short %>\n        </div>\n        <% if (billing_frequency) { %>\n          <div data-sumo-test="upgrade-summary-plan-content-billing_frequency">\n            <%= billing_frequency %>\n          </div>\n        <% } %>\n      </div>\n    </div>\n  </div>\n  <% if(ccData) { %>\n    <div id="upgrade-payment-details-div" class="category-div">\n      <div class="upgrade-title-div">\n        <span class="upgrade-title-span" data-sumo-test="upgrade-summary-cc-payment"><%= __.PAYMENT %></span>\n        <a class="summary-edit-payment us-action-link" data-sumo-test="upgrade-summary-cc-edit-payment-link"><%= __.EDIT %></a>\n      </div>\n      <div class="per-month-payment" style="display:none;">$777 <%= __.PER_MONTH_BILLED_ANNUALLY %></div>\n      <div class="cc-details-div" data-sumo-test="upgrade-summary-cc-data-details">\n        <%= ccData.cardType %> <%= __.ENDING_WITH %> <%= (ccData.cardMask).slice(ccData.cardMask.length - 4, ccData.cardMask.length) %>\n      </div>\n    </div>\n  <% } %>\n</div>\n'},81007:function(e){e.exports='  <div id="upgrade-wizard-view" data-sumo-test="upgrade-wizard-view"\n    class="<%attr= isAWS ? \'-no-header\' : \'\' %> <%attr= \'is-self-service\' %>">\n    <div id="setup-center">\n      <div id="setup-wrapper">\n        <div id="setup-steps-holder">\n          <ul id="setup-steps">\n            <%\n            _.each(steps.models, function(step, index) {\n              var stepId = "setup-step-" + step.getStepId();\n              if (!step.isHidden() && step.getName() !== __.STEP_FINISH) {\n            %>\n            <li id="<%attr= stepId %>">\n              <div class="upgrade-step-circle"><%= (index + 1) %></div>\n              <div class="step-name"><%= step.getName() %></div>\n            </li>\n            <%\n              }\n            });\n            %>\n          </ul>\n        </div>\n        <div id="setup-box-wrapper" class="<%attr= isAWS ? \'-isAwsOrg\' : \'\' %>">\n          <div id="setup-box">\n          <div id="setup-middle">\n            <div id="upgrade-summary-container"></div>\n            <div id="setup-step-and-nav-view">\n              <div id="setup-step-view" class="upgrade-wizard-middle"></div>\n              <div id="setup-bottom" class="upgrade-wizard-middle">\n                <div id="setup-nav-wrapper">\n                  <div id="setup-nav">\n                    <span id="nav-cancel">\n                      <a id="nav-cancel-button"><%= __.SETUP_CANCEL %></a>\n                      <span class="divider-cancel">|</span>\n                    </span>\n                    <span id="nav-back">\n                      <span class="divider"></span>\n                      <input id="nav-back-button" type="button" value="<%attr= __.SETUP_NAV_BACK %>"/>\n                    </span>\n                    <span id="nav-next">\n                      <button id="nav-next-button" class="sumo-button"><%= __.SETUP_NAV_NEXT %></button>\n                    </span>\n                    <span id="nav-confirm">\n                      <button id="nav-confirm-button" class="sumo-button is-disabled"><%= __.SETUP_NAV_CONFIRM %></button>\n                    </span>\n                    <span id="nav-finish">\n                      <button id="nav-finish-button" class="sumo-button"><%= __.SETUP_NAV_FINISH %></button>\n                    </span>\n                  </div>\n                </div>\n              </div>\n\n            </div>\n          </div>\n\n\n        </div>\n        </div>\n\n      </div>\n    </div>\n  </div>\n'},33211:function(e){e.exports='<div>\n  <%= __.USER_SESSION_TIMEOUT_DESCRIPTION %>\n</div>\n<div class="user-session-timeout-input-wrapper">\n  <label><%= __.USER_SESSION_TIMEOUT_SELECT_LABEL %></label>\n  <select id="user-session-timeout-select">\n    <% _.each(sessionTimeoutOptions, function(option) { %>\n      <option value="<%attr= option.value %>" <%selected=(maxSessionTimeout === option.value) %>>\n        <%= option.label %>\n      </option>\n    <% }); %>\n  </select>\n</div>\n'},41692:function(e){e.exports='<div id="whitelist-loading-section">\n  <div class="spin-wrapper">\n    <span class="loading-indicator">\n      &nbsp;\n    </span>\n  </div>\n</div>\n<div class="policy-edit">\n  <div id="whitelist-current">\n    <div id="current-user-ip-note"></div>\n    <div id="table-whitelist"></div>\n  </div>\n  <div id="whitelist-form-container">\n    <form id="whitelist-form" class="legacy-prada">\n      <div class="form-row" id="input-whitelist-status-container">\n        <div data-sumo-test="gp-label" class="gp-label"><%= __.ALLOWLIST_STATUS_TITLE %></div>\n        <div class="form-label"><label><input data-sumo-test="input-allowlist-status" type="checkbox" id="input-whitelist-status"<%checked= whitelistEnabled %>> <%= __.WHITELIST_STATUS_LABEL %></label></div>\n        <div class="div-input-helper-text"><%= __.WHITELIST_STATUS_HELPER %></div>\n        <div class="form-label"><label><input type="checkbox" data-sumo-test="input-allowlist-dash-status"  id="input-whitelist-dash-status"<%checked= whitelistDashboardEnabled %>> <%= __.WHITELIST_DASH_STATUS_LABEL %></label></div>\n        <div class="div-input-helper-text"><%= __.WHITELIST_DASH_STATUS_HELPER %></div>\n      </div>\n      <div class="form-row">\n        <div data-sumo-test="gp-label" class="gp-label"><%= __.WHITELIST_ADDRESS_LABEL %></div>\n        <input type="text" data-sumo-test="input-allowlist-address" id="input-allowlist-address" placeholder="<%attr= __.ALLOWLIST_PLACEHOLDER %>">\n      </div>\n      <div class="form-row">\n        <div data-sumo-test="gp-label" class="gp-label"><%= __.WHITELIST_ADDRESS_DESCRIPTION %></div>\n        <input data-sumo-test="input-allowlist-description" type="text" id="input-allowlist-description" maxlength="<%attr= max_desc_length %>" placeholder="<%attr= __.ALLOWLIST_DESCRIPTION_PLACEHOLDER %>">\n      </div>\n      <div id="whitelist-form-toolbar">\n        <input data-sumo-test="submit-allowlist-item" id="submit-allowlist-item" class="action-button-small btn-disabled" type="button" value="Add">\n        <input id="reset-allowlist-item" class="action-button-small secondary-button" type="button" value="Reset">\n      </div>\n    </form>\n    <div id="whitelist-form-buttons">\n      <input id="save-whitelist" class="action-button <% if(!whitelistSaveError){ %> btn-disabled <% } %>" type="button" value="<%attr= __.SAVE %>" data-sumo-test="save-allowlist">\n      <input id="cancel-whitelist" class="action-button secondary-button" type="button" value="<%attr= __.CANCEL %>">\n    </div>\n  </div>\n</div>\n'},10952:function(e){e.exports="<div ng-include=\"'js/features/bento/views/bento-app-container.html'\"></div>\n"},38912:function(e){e.exports='<div class="ao-ctr fullpage-ctr">\n  \x3c!--<div class="ao-arrow"><img src="<%%attr= window.dynamicPublicPath %>images/app/icons/activation-arrow.svg?v=b1da9e03"/></div>--\x3e\n  <div class="ao-content">\n    <div class="ao-title"><img src="<%%attr= window.dynamicPublicPath %>images/app/icons/sadface.svg?v=00532238"></div>\n    <div class="ao-text"><%= __.ao_text_old %></div>\n    <div class="ao-link"><Span><%= __.ao_link %></span></div>\n  </div>\n</div>\n'},52970:function(e){e.exports='<div <%if(id){%>id="<%attr= id %>"<%}%> class="common-search-container">\n  <i class="fa fa-search common-search-btn" <%if(searchBtnId){%>id="<%attr= searchBtnId %>"<%}%> title="<%attr= __.search_tooltip %>"></i>\n  <% if (advBtnId) { %>\n    <i class="fa fa-angle-double-down fa-fw common-search-adv-btn"\n    <%if(advBtnId){%>id="<%attr= advBtnId %>"<%}%> title="<%attr= __.search_tooltip %>"></i>\n  <% } else { %>\n    <span class="adv-btn-spacer"></span>\n  <% } %>\n  <input type="search" class="common-search-input" data-sumo-test="common-search-input" <%if(inputId){%>id="<%attr= inputId %>"<%}%> placeholder="<%attr= inputPlaceholder %>">\n  <i class="fa fa-close common-search-clear"></i>\n</div>\n\n\n'},17593:function(e){e.exports='<div class="list-detail-view-ctr" id="<%attr= templateKey + data.id %>">\n  <div class="list-detail-view-row list-detail-view-split-row list-detail-creation-row">\n    <div class="list-detail-label"><%= data.creator.label %></div>\n    <div class="list-detail-label"><%= data.created_date.label %></div>\n    <%if(data.dField000){%>\n    <div class="list-detail-label"><%= data.dField000.label %></div>\n    <%}%>\n    <div class="list-detail-value list-detail-value-first"><%= data.creator.val %></div>\n    <div class="list-detail-value"><%= data.created_date.val %></div>\n    <%if(data.dField000){%>\n    <div class="list-detail-value"><%= data.dField000.val %></div>\n    <%}%>\n  </div>\n  <% if(data.dField00) { %>\n    <div class="list-detail-view-row" id="list-detail-progress">\n      <div class="list-detail-label">\n        <%= data.dField00.label %>\n      </div>\n      <div class="list-detail-value" id="<%attr= \'progress\' + data.id %>">\n        <% if(data.dField00.isValueHTML) { %>\n          <%dangerousUnescapedHTML= data.dField00.val %>\n        <% } %>\n      </div>\n    </div>\n  <% } %>\n    <% if(data.dField0) { %>\n  <div class="list-detail-view-row" id="list-detail-row-name">\n    <div class="list-detail-label">\n      <%= data.dField0.label %>\n      <% if(data.dField0.editLink) { %>\n        <span class="list-action edit-link"><%= data.dField0.editLink %></span>\n      <% } %>\n    </div>\n    <div class="list-detail-value">\n      <% if(data.dField0.isValueHTML) { %>\n      <%dangerousUnescapedHTML= data.dField0.val %>\n      <% } else { %>\n      <%= data.dField0.val %>\n      <% } %>\n      <% if(data.dField0.recoverLink) { %>\n        <span class="list-action recover-link"><%= data.dField0.recoverLink %></span>\n        <span class="days-left"><%= data.dField0.daysLeft %></span>\n      <% } %>\n    </div>\n    </div>\n    <% } %>\n    <% if (data.dField1) { %>\n  <div class="list-detail-view-row" id="list-detail-row-name">\n  <div class="list-detail-label">\n      <%= data.dField1.label %>\n      <% if (data.dField1.term) { %>\n        <span class="list-view-search-btn list-view-search-btn-name list-action" data-term="<%attr= data.dField1.term%>"><span class="sourceCategory__search sourceSearch" title="Open in Log Search"></span></span>\n      <% } %>\n    </div>\n    <div class="list-detail-value"><%= data.dField1.val %></div>\n  </div>\n  <% } %>\n  <% if (data.dField2 && !SumoUtil.isStringEmpty(data.dField2.val)) { %>\n  <div class="list-detail-view-row" id="list-detail-row-lag-time">\n    <div class="list-detail-label">\n      <%= data.dField2.label %>\n      <% if (data.dField2.term) { %>\n        \x3c!-- TODO: dField2.term is encoded in the model, can we move the encoding here instead?  --\x3e\n        <span class="list-view-search-btn list-view-search-btn-lagtime list-action" data-term="<%dangerousUnescapedHTML= data.dField2.term %>"><span class="sourceCategory__search sourceSearch" title="Open in Log Search"></span></span>\n      <% } %>\n    </div>\n    <div class="list-detail-value">\n      <% if (SumoUtil.isStringEmpty(data.dField2.val)) { %>\n        <em><%= __.none %></em>\n      <% } else { %>\n        <%= data.dField2.val %>\n      <% } %>\n    </div>\n  </div>\n  <% } %>\n  <% if (data.dField3 && !data.dField3.hide) { %>\n  <div class="list-detail-view-row" id="list-detail-row-url">\n    <div class="list-detail-label">\n      <%= data.dField3.label %>\n    </div>\n    <div class="list-detail-value">\n      <% if (SumoUtil.isStringEmpty(data.dField3.val)) { %>\n        <em><%= __.none %></em>\n      <% } else { %>\n        <%= data.dField3.val %>\n      <% } %>\n    </div>\n  </div>\n  <% } %>\n  <% if (!data.dField4.hideRow) { %>\n  <div class="list-detail-view-row" id="list-detail-row-expression">\n    <div class="list-detail-label">\n      <%= data.dField4.label %>\n      \x3c!-- TODO: dField4.term is encoded in the model, can we move the encoding here instead?  --\x3e\n      <span class="list-view-search-btn list-view-search-btn-expression list-action" data-term="<%dangerousUnescapedHTML= data.dField4.term %>" <% if(data.dField4.hideSearch) { %>style="display: none;" <% } %>><span class="sourceCategory__search sourceSearch" title="Open in Log Search"></span></span>\n    </div>\n    <div class="list-detail-value">\n      <% if (SumoUtil.isStringEmpty(data.dField4.val)) { %>\n        <em><%= __.none %></em>\n      <% } else { %>\n        <%= data.dField4.val %>\n      <% } %>\n    </div>\n  </div>\n  <% } %>\n  <% if (data.dField5 && !data.dField5.hideRow && data.dField5.val) { %>\n    <div class="list-detail-view-row status-fail" id="list-detail-error-message">\n      <div class="list-detail-label">\n        <%= data.dField5.label %>\n      </div>\n      <div class="list-detail-value">\n        <% if (SumoUtil.isStringEmpty(data.dField5.val)) { %>\n        <em><%= __.none %></em>\n        <% } else { %>\n        <%= data.dField5.val %>\n        <% } %>\n      </div>\n    </div>\n  <% } %>\n  <%if (data.dField6) { %>\n    <div class="list-detail-view-row" id="list-detail-row-caching-enabled">\n      <div class="list-detail-label">\n        <%= data.dField6.label %>\n      </div>\n      <div class="list-detail-value">\n        <% if(data.dField6.isValueHTML) { %>\n        <%dangerousUnescapedHTML= data.dField6.val %>\n        <% } else { %>\n        <%= data.dField6.val %>\n        <%}%>\n      </div>\n    </div>\n  <% } %>\n  <%if (data.dField7) { %>\n  <div class="list-detail-view-row">\n    <div class="list-detail-label">\n      <%= data.dField7.label %>\n    </div>\n    <div class="list-detail-value">\n      <% if(data.dField7.isValueHTML) { %>\n      <%dangerousUnescapedHTML= data.dField7.val %>\n      <% } else { %>\n      <%= data.dField7.val %>\n      <%}%>\n    </div>\n  </div>\n  <% } %>\n  <%if (data.dField8) { %>\n    <div class="list-detail-view-row">\n      <div class="list-detail-label">\n        <%= data.dField8.label %>\n      </div>\n      <div class="list-detail-value">\n        <% if(data.dField8.isValueHTML) { %>\n        <%dangerousUnescapedHTML= data.dField8.val %>\n        <% } else { %>\n        <%= data.dField8.val %>\n        <%}%>\n      </div>\n    </div>\n  <% } %>\n</div>\n'},12837:function(e){e.exports='<div id="mini-progress-view-ctr">\n  <div id="mini-progress-error-ctr" class="mini-progress-error">\n    <i class="fa fa-exclamation-circle"></i>\n  </div>\n  <div id="mini-progress-view-progressbar-ctr">\n    <div id="mini-progress-view-progressbar-text"><%= sourceCat %></div>\n    <div id="mini-progress-view-progressbar"></div>\n  </div>\n  <div id="mini-progress-view-launch"><%= __.finish_go_dashboard_mini %></div>\n</div>'},7770:function(e){e.exports="<div class='tooltipster-content-inner tooltipster-content-image-ctr'>\n  <img class=\"floating\" src=\"<%%attr= window.dynamicPublicPath %>images/app/icons/happyface.svg?v=15761c9b\"/>\n  <%= mini_progress_dashboards_tooltip_description %>\n</div>\n<button id='tooltip-view-dashboard' class='action-button'><%= __.mini_progress_dashboards_tooltip_view %></button>\n<button id='tooltip-dismiss-dashboard' class='action-button secondary-button left-align only'><%= __.mini_progress_dashboards_tooltip_dismiss%></button>\n"},52267:function(e){e.exports="<div class='tooltipster-content-inner'><%= __.mini_progress_error_tooltip_description %></div>\n<button id='tooltip-setup' class='action-button'><%= __.mini_progress_error_tooltip_setup %></button>\n<button id='tooltip-dismiss' class='action-button secondary-button only'><%= __.mini_progress_error_tooltip_dismiss%></button>"},23016:function(e){e.exports="<div class='tooltipster-content-inner'>\n  <%= __.mini_progress_search_tooltip_description %>\n  <% if (showFilesText) { %>\n    <%= __.mini_progress_searches_from_uploads_mention %>\n  <% } %>\n</div>\n<button id='tooltip-view-search' class='action-button'><%= isSearch ? __.mini_progress_search_tooltip_view : __.mini_progress_dashboards_tooltip_view %></button>\n<button id='tooltip-dismiss-search' class='action-button secondary-button left-align only'><%= __.mini_progress_dashboards_tooltip_dismiss%></button>"},76891:function(e){e.exports='\x3c!-- Sumo List View template --\x3e\n<div class="list-view-ctr" id="<%attr= coreId %>-grid" data-sumo-test="<%attr= coreId %>-grid">\n  <div class="list-view-cover"></div>\n  <% if(pageTitle) { %>\n  <div class="list-view-title-ctr">\n    <div class="list-view-title-container">\n      <div class="list-view-title"><%= pageTitle %></div>\n\n      <% if(coreId === "users" || coreId === "roles") { %>\n\n        <% if (switchText) { %>\n        <div class="list-view-switch-ctr">\n          <button id="list-view-switch" class="sumo-button -small -secondary"><%= switchText %></button>\n        </div>\n        <% } %>\n        <div class="list-view-title-create-ctr add-on-right" title="<%attr= __.menu_add %>">\n          <button class="create-link sumo-button -small"><span><i class="fa fa-plus"></i><%= __.menu_add %></span></button>\n        </div>\n\n\n        <% if(coreId === "users") { %>\n          <div class="list-view-usage-div">\n          </div>\n        <% } %>\n\n      <% } else { %>\n        <% if (coreId === "partitions" && disableAdd) { %>\n          <div class="list-view-title-create-ctr">\n            <button class="create-link plain" disabled data-sumo-test="<%attr= coreId %>-grid-create-link>"><i class="fa fa-plus"></i></button>\n          </div>\n        <% } else { %>\n          <div class="list-view-title-create-ctr">\n            <button class="create-link plain" data-sumo-test="<%attr= coreId %>-grid-create-link>"><i class="fa fa-plus"></i></button>\n          </div>\n        <% } %>\n\n        <% if (switchText) { %>\n          <div class="list-view-switch-ctr">\n            <button id="list-view-switch" class="sumo-button -small"><%= switchText %></button>\n          </div>\n        <% } %>\n\n      <% } %>\n      <div id="list-view-storage-usage" class="list-view-storage-usage" style="display: none;"></div>\n      <div class="list-view-title-secondary">\n        <% if (showSearch) { %>\n          <div id="list-search-view"></div>\n        <% } %>\n        <%dangerousUnescapedHTML= secondaryText %>\n      </div>\n      <% if(coreId === "partitions") {%>\n        <div class="list-view-partition-select">\n          <md-input-container class="list-view-partition-select__menu" md-theme="formTheme">\n            <md-select ng-model="selectedOption" ng-change="onSelectionChange()">\n              <md-option ng-repeat="option in options" ng-value="option">\n                {{option.label}}\n              </md-option>\n            </md-select>\n          </md-input-container>\n        </div>\n      <% }%>\n    </div>\n  </div>\n  <% } %>\n  <div class="list-view-divider"></div>\n  <div class="list-view-main">\n    <table class="list-view-table" id="<%attr= coreId %>DT">\n      <thead>\n        <tr>\n          <% if (hasStatusCol) { %>\n            <th></th>\n          <% } %>\n          <% _.each(titles, function(title) { %>\n              <th><%= title %></th>\n          <% }) %>\n          <th></th>\n        </tr>\n      </thead>\n    </table>\n  </div>\n  <div class="list-view-menu sumo-menu-container" style="display: none;"></div>\n</div>\n'},31160:function(e){e.exports='<div class="share-content-dialog-view prada">\n  <div class="visibility-setting form-row stacked">\n    <div class="form-label">\n      <label><%= visibleToLabel %></label>\n    </div>\n\n    <% if (canBeEdited) { %>\n    <div class="form-field unstack">\n      <div class="sharing-visibility" data-button-group="sharing-visibility">\n        <%dangerousUnescapedHTML= visibilityOptionsHTML %>\n      </div>\n      <div class="loading-indicator"></div>\n    </div>\n    <% } %>\n\n    <% if (errorMessage) { %>\n    <div class="ux-inline-error">\n      <div class="error-message"><%= errorMessage %></div>\n    </div>\n    <% } %>\n  </div>\n\n  <% if (showLink) { %>\n  <div class="link-container form-row stacked">\n    <div class="form-label">\n      <label><%= __.shareable_link %></label>\n    </div>\n    <div class="form-field unstack">\n      <input type="text" class="link-url-box" value="<%attr= url %>" readonly="readonly" />\n    </div>\n  </div>\n  <% } %>\n\n  <div class="form-toolbar">\n    <input class="action-button" type="button" value="<%attr= __.label_done %>">\n  </div>\n\n</div>\n'},75532:function(e){e.exports='<div class="share-content-dialog-view prada">\n  <div class="visibility-setting form-row stacked">\n    <% if (canBeEdited) { %>\n      <div class="form-field unstack">\n        <input id="sharing-visibility" type="checkbox"\n        <%checked= shared %>\n        <% if (shareDisabled) { %>disabled="disabled" title="<%attr= invalidReason %>"<% } %> >\n        <div class="checkbox-label"><%= __.dashboard_visible_label %></div>\n        <div class="loading-indicator"></div>\n      </div>\n    <% } else { %>\n      <div class="form-label">\n        <label><%= dashboard_owned_by %></label>\n      </div>\n      <div class="form-field">\n        <%dangerousUnescapedHTML= dashboard_owned_by_text %>\n      </div>\n      <% } %>\n\n    <% if (errorMessage) { %>\n    <div class="ux-inline-error">\n      <div class="error-message"><%= errorMessage %></div>\n    </div>\n    <% } %>\n  </div>\n\n  <% if (showLink) { %>\n    <div class="link-container form-row stacked">\n      <div class="form-label">\n        <label><%= __.shareable_link %></label>\n      </div>\n      <div class="form-field unstack">\n        <input type="text" class="link-url-box -v2" value="<%attr= url %>" readonly="readonly" />\n        <span id="sharing-link-btn" ngclipboard data-clipboard-target=".link-url-box" class="sumo-button -secondary"><%= __.copy %></span>\n      </div>\n    </div>\n    <% if (canBeEdited) { %>\n      <div id="sharing-rbac-toggler" class="form-row stacked">\n        <div class="form-label">\n          <label><%= __.dashboard_rbac_title %></label>\n        </div>\n        <div class="form-field unstack">\n          <input id="sharing-rbac" type="checkbox" <%checked= ownerRbac %> />\n          <div class="checkbox-label"><%= __.dashboard_rbac_label %></div>\n        </div>\n        <div class="form-helper-text"><%= __.dashboard_rbac_helper %></div>\n      </div>\n    <% } %>\n  <% } %>\n\n  <div class="form-toolbar">\n    <input class="action-button" type="button" value="<%attr= __.label_done %>">\n  </div>\n\n</div>\n'},47285:function(e){e.exports='<input type="radio" id="sharing-<%attr= value %>" value="<%attr= value %>"\n<%checked= selected %>\n<% if (invalid) { %>disabled="disabled" title="<%attr= invalidReason %>"<% } %> >\n<label for="sharing-<%attr= value %>"><%= label %></label>\n'},87914:function(e){e.exports='<div ng-controller="LiveTailViewController as liveTailWorkspaceCtrl">\n  <div class="bento-live-tail live-tail full-screen-page" match-header-min-width ng-controller="LiveTailCtrl as liveTailCtrl"\n       ng-class="{ \'-popout\': liveTailCtrl.popOutMode }">\n    <div class="live-tail__body">\n      <div class="live-tail-session" ng-class="{ \'-first\': $first, \'-last\': $last, \'-half\': liveTailCtrl.tabPanels.length === 2 }"\n           ng-repeat="panel in liveTailCtrl.tabPanels track by panel.id"\n           ng-controller="LiveTailSessionCtrl as liveTailSessionCtrl"\n           ng-include="\'js/features/liveTail/views/live-tail-session.html\'">\n      </div>\n    </div>\n  </div>\n</div>\n'},14120:function(e){e.exports='<pre id="graphite_config_helper">\n    final Graphite graphite = new Graphite(\n            new InetSocketAddress("localhost", 2003));\n    final GraphiteReporter reporter = GraphiteReporter\n            .forRegistry(registry)\n            .prefixedWith("your.prefixHere")\n            .convertRatesTo(TimeUnit.SECONDS)\n            .convertDurationsTo(TimeUnit.MILLISECONDS)\n            .build(graphite);\n    reporter.start(1, TimeUnit.MINUTES);\n</pre>'},98667:function(e){e.exports='<pre id="graphite_config_helper">\n    {\n        graphitePort: 2003\n        , graphiteHost: "localhost"\n        , port: 8125\n        , graphite: {\n            legacyNamespace: false\n        }\n        , backends: [ "./backends/graphite" ]\n    }\n</pre> '},22141:function(e){e.exports='<div id="sw-add-new-namespace-field" class="source-wizard-form-field -no-separation">\n  <input type="text" id="sw-namespace" data-sumo-test="sw-add-new-namespace-field">\n  <i class="fa fa-times-circle fa-fw"></i>\n  <button id="sw-add-new-namespace" type="submit" class="sumo-button -large is-disabled" data-sumo-test="sw-add-new-namespace-button">\n    <%= __.label_add %>\n  </button>\n  <div class="form-helper-text"><%= __.sw_custom_namespace_helper %></div>\n</div>\n'},47019:function(e){e.exports='<div id="sw-add-new-path-field" class="source-wizard-form-field -no-separation">\n  <input type="text" id="sw-path-expression" data-sumo-test="sw-add-new-path-field">\n  <i class="fa fa-times-circle fa-fw"></i>\n  <button id="sw-add-new-path-expr" type="submit" class="sumo-button -large is-disabled" data-sumo-test="sw-add-new-path-button">\n    <%= __.label_add %>\n  </button>\n</div>\n'},7772:function(e){e.exports='<div id="sumo-message-box" class="cl-info-box sw-collector-upgrading-box prada">\n  <div class="container">\n    <div class="message">\n      <% if (showError) { %>\n        <div class="-error"><%= message %></div>\n      <% } %>\n      <div class="collector-upgrading-spinner" data-spinner></div>\n    </div>\n    <% if (showError) { %>\n      <div class="form-toolbar">\n        <button id="dlgClose" class="sumo-button -secondary -legacy"><%= __.label_close %></button>\n      </div>\n    <% } %>\n  </div>\n</div>'},72846:function(e){e.exports='<div class="welcome-holder <%attr= pageClass %>">\n  <div class="fullpage-ctr contact-visible -welcome -<%attr= releaseClass %>" id="select-data-type-ctr">\n    <div class="source-wizard-contact">\n      <% if (needsActivation) { %>\n      <%= __.sw_activation_reminder %>\n      <% } else {  %>\n      <%dangerousUnescapedHTML= __.sw_contact_block %>\n      <% } %>\n    </div>\n    <div class="source-wizard-ctr">\n      <div class="source-wizard-side" id="source-wizard-side"></div>\n      <div class="source-wizard-main-ctr -<%attr= releaseClass %>">\n        <div class="source-wizard-main-cancel"><div id="source-wizard-cancel-btn" class="icon--x close-icon"></div></div>\n        <div class="source-wizard-main-inner-ctr">\n          <div class="source-wizard-main">\n            <div class="source-wizard-title"><%= title %></div>\n            <div class="welcome-aws-sources-interim">\n              <% _.each(rows, function(row, idx) { %>\n              <div class="welcome-category <%attr= idx === rows.length - 1 ? \'-last\' : \'\' %>">\n                <% _.each(row, function(source) { %>\n                <div class="vertical-button-container">\n                  <div class="vertical-button" id="vb-<%attr= source.category + \'-\' + source.id %>"\n                       data-sumo-test="setup-data-type-vertical-button"></div>\n                  <span><%= source.name %></span>\n                </div>\n                <% }) %>\n              </div>\n              <% }) %>\n            </div>\n            <div class="form-toolbar">\n              <div class="action-button secondary-button only" id="source-wizard-restart">\n                <i class="fa fa-arrow-left fa-fw"></i>\n                <%= __.sw_go_back %>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},27971:function(e){e.exports='<div id="sumo-message-box" class="cl-info-box sw-matching-files-box prada">\n  <div class="container">\n    <div class="message">\n      <% _.each(matchingFiles, function(file) { %>\n        <div class="setup-wizard-matching-file" data-sumo-test="sw-matching-file"><%= file %></div>\n      <% }) %>\n    </div>\n    <div class="form-toolbar">\n      <button id="dlgClose" class="sumo-button -secondary -legacy"><%= __.label_close %></button>\n    </div>\n  </div>\n</div>\n'},4062:function(e){e.exports='<div class="source-wizard-winevent-row -default-path -full">\n  <div class="source-wizard-win-check source-wizard-win-checkable">\n    <input type="checkbox"\n           class="sw-win-event-check"\n           value="<%attr= value %>"\n           data-sumo-test="sw-path-list-checkbox"\n           <%checked= checked %>\n    />\n  </div>\n  <% if (use_cover) { %>\n  <div class="source-wizard-win-check-cover source-wizard-win-checkable">&nbsp;</div>\n  <% } %>\n  <div class="source-wizard-win-name source-wizard-win-checkable"><%= text %></div>\n  <% if (matchingFiles.length > 0) { %>\n  <div class="source-wizard-view-files" data-matching-files="<%attr= matchingFiles %>"><%= __.sw_view_files %></div>\n  <% } %>\n</div>\n'},98414:function(e){e.exports='<div class="source-wizard-collector-row" data-sumo-test="sw-select-existing-collector-type"><%= name %></div>\n'},46264:function(e){e.exports='<div id="source-wizard-form-sourcecat" class="source-wizard-form">\n  <div class="source-wizard-form-label"><%= sw_label_sourcecat %></div>\n  <div class="source-wizard-form-field">\n    <label for="sw-source-category">\n      <%= __.sw_source_category %>\n      <img id="sw-questionmark-category" class="sw-questionmark" src="<%%attr= window.dynamicPublicPath %>images/app/icons/question.svg?v=af289d0b" title="<%attr= tooltip_sourcecat %>"/>\n    </label>\n    <input type="text" id="sw-source-category" maxlength="128" value="<%attr= sourceCat %>" spellcheck="false" data-sumo-test="sw-aws-source-category">\n  </div>\n  <div class="source-wizard-error">\n    <i class="fa fa-warning"></i>\n    <span class="source-wizard-error-text"></span>\n  </div>\n</div>\n\n<% if (govCloudRegionFF && isCloudWatch) { %>\n<div id="source-wizard-form-awsregions" class="source-wizard-form">\n  <div class="source-wizard-form-label -source-wizard-split-label">\n    <span><%= __.sw_label_aws_regions_num_for_CW %></span><span><%= __.sw_label_aws_regions_text %></span>\n  </div>\n  <div class="source-wizard-form-field">\n    <div class="form__links_ctr">\n      <span id="sw-toggle-all-regions" class="action-link" data-sumo-test="sw-aws-regions-select-all"><%= __.sw_winevent_select_all %></span>\n      <span class="form__link_separator">|</span>\n      <span id="sw-toggle-none-regions" class="action-link" data-sumo-test="sw-aws-regions-select-none"><%= __.sw_winevent_select_none %></span>\n    </div>\n    <div class="sumo-list"></div>\n  </div>\n  <div class="form-helper-text govcloud-warning" id="sw-govcloud-warning">\n    <%= __.govCloud_region_warning %>\n    <a name="5901" target="_blank" rel="noopener" class="online-help-link">Learn more</a>\n  </div>\n  <div class="source-wizard-error">\n    <i class="fa fa-warning"></i>\n    <span class="source-wizard-error-text"></span>\n  </div>\n  <div class="source-wizard-form-field">\n    <span id="sw-cw-metrics-count"><%= totalMetricsSelected %></span> <%= __.sw_total_metrics_selected %>\n  </div>\n</div>\n<div id="source-wizard-form-awsnamespaces" class="source-wizard-form">\n  <div class="source-wizard-form-label -source-wizard-split-label">\n    <span><%= __.sw_label_aws_namespaces_num %></span><span><%= __.sw_label_aws_namespaces_text %></span>\n  </div>\n  <div class="source-wizard-form-field">\n    <div class="form__links_ctr">\n      <span id="sw-toggle-all-namespaces" class="action-link" data-sumo-test="sw-aws-namespaces-select-all"><%= __.sw_winevent_select_all %></span>\n      <span class="form__link_separator">|</span>\n      <span id="sw-toggle-none-namespaces" class="action-link" data-sumo-test="sw-aws-namespaces-select-none"><%= __.sw_winevent_select_none %></span>\n    </div>\n    <div class="sumo-list -empty">\n      <div class="namespace-spinner" data-spinner></div>\n    </div>\n    <% if (showCustomNamespaces) { %>\n    <div class="sw-add-namespace-ctr">\n      <a id="sw-add-namespace" class="sumo-link -plain -is-disabled" data-sumo-test="sw-aws-add-namespace-link"><%= __.sw_label_sourcepath_add_namespace %></a>\n    </div>\n    <div class="source-wizard-error">\n      <i class="fa fa-warning"></i>\n      <span class="source-wizard-error-text"></span>\n    </div>\n    <% } %>\n  </div>\n  <div id="cloudwatch-filter__ctr">\n    <div class="cloudwatch-filter__warning"><%dangerousUnescapedHTML= __.ec2_warning %></div>\n    <div class="source-wizard-form-label -source-wizard-split-label">\n      <span>&nbsp;</span><span><%= __.sw_label_aws_namespace_filters_text %></span>\n    </div>\n    <div id="cloudwatch-filter"></div>\n  </div>\n</div>\n<% } %>\n\n<% if(!isCloudWatch) { %>\n<div id="source-wizard-form-awsbucket" class="source-wizard-form">\n  <div class="source-wizard-form-label"><%= __.sw_select_s3Bucket%></div>\n  <div class="source-wizard-form-field">\n    <label for="sw-aws-bucket"><%= __.sw_aws_s3_bucket_name %></label>\n    <input type="text" id="sw-aws-bucket" spellcheck="false" data-sumo-test="sw-aws-bucket-name">\n    <div class="source-wizard-error">\n      <i class="fa fa-warning"></i>\n      <span class="source-wizard-error-text"></span>\n    </div>\n  </div>\n  <div class="source-wizard-form-field source-wizard-form-field-right">\n    <label for="sw-path-expr">\n      <%= __.sw_path_expr %>\n      <img id="sw-questionmark-path" class="sw-questionmark" src="<%%attr= window.dynamicPublicPath %>images/app/icons/question.svg?v=af289d0b" title="<%dangerousUnescapedHTML= __.sw_path_qtip %>"/>\n    </label>\n    <input type="text" id="sw-path-expr" spellcheck="false" data-sumo-test="sw-aws-path-expr">\n    <div class="source-wizard-error">\n      <i class="fa fa-warning"></i>\n      <span class="source-wizard-error-text"></span>\n    </div>\n  </div>\n</div>\n\n\n<div id="source-wizard-form-awsregion" class="source-wizard-form">\n  <div class="source-wizard-form-field selectize-selectable">\n    <label for="sw-aws-region"><%= __.sw_s3_region %></label>\n      <select id="sw-aws-region" style="display: none"></select>\n    <div class="source-wizard-error">\n      <i class="fa fa-warning"></i>\n      <span class="source-wizard-error-text"></span>\n    </div>\n  </div>\n  <div class="form-helper-text govcloud-warning" id="sw-govcloud-warning">\n    <%= __.govCloud_region_warning %>\n    <a name="5901" target="_blank" rel="noopener" class="online-help-link">Learn more</a>\n  </div>\n</div>\n<% } %>\n  <div id="source-wizard-form-authmode" class="source-wizard-form">\n    <div class="source-wizard-form-label"><%= isCloudWatch ? ( govCloudRegionFF ? __.sw_CW_select_authmode : __.sw_awscloudwatch_select_authmode ) : __.sw_select_authmode %>\n    </div>\n    <div class="source-wizard-authmode">\n      <label for="sw-aws-authmode-rolebased">\n        <input class="sw-aws-authmode" id="sw-aws-authmode-rolebased"\n               type="radio" name="authMode" value="RoleBased"\n                checked >\n         <span id="sw-rolebased-label"><%= __.S3_SOURCE_METHOD_ROLE_LABEL %></span>\n      </label>\n      <label for="sw-aws-authmode-accesskey">\n        <input class="sw-aws-authmode" id="sw-aws-authmode-accesskey"\n               type="radio" name="authMode" value="AccessKey"\n                >\n        <span><%= __.S3_SOURCE_METHOD_BUCKET_LABEL %></span>\n      </label>\n    </div>\n    <div class="form-helper-text govcloud-warning" id="sw-iam-access-warning"><%= __.govCloud_iam_access_warning %></div>\n  </div>\n\n\n  <div class="source-wizard-form" id="roleBased_row">\n\n    <div class="source-wizard-help-ctr">\n      <div id="sw-help-aws-rolebased-link">\n        <%dangerousUnescapedHTML= __.sw_open_iamroles_help_link %>\n      </div>\n    </div>\n\n    <div class="source-wizard-form-field selectize-selectable">\n      <div class="source-wizard-SelectIamrole" type="hidden" val="0"></div>\n    </div>\n\n    <div class="source-wizard-form" id="manualRole_row">\n      <span ><%= __.S3_SOURCE_ROLE_ARN_DESC_LABEL%> </span><br>\n      <div id="sw-account-info">\n        <span id="sw_manual_accid"><%=  __.S3_SOURCE_ROLE_ARN_DESC_ACCT_LABEL%> <% accountId %></span><br>\n        <span id="sw_manual_extid"><%= __.S3_SOURCE_ROLE_ARN_DESC_EXTERNAL_LABEL%><% externalId %></span><br>\n      </div>\n    </div>\n\n    <div class="source-wizard-form" id="templateRole_row">\n      <span><%= __.S3_AWS_CFT_METHOD_HELPER %> </span><br><br>\n\n      <div id="templateRole_nobucket">\n        <img src="<%%attr= window.dynamicPublicPath %>images/icons/16/warning.png?v=d625276e" width="12px" height="12px">\n        <span>&nbsp;<%= __.S3_AWS_CFT_ENTER_BUCKETNAME %></span>\n      </div>\n\n      <div id="templateRole_codeblock">\n        <div class="iam-role-code-block">\n          <button id="template-copy" ngclipboard data-clipboard-target="#cloud-template-code-block" ><%= __.CF_TEMPLATE_COPY_BUTTON%></button>\n          <div id="cloud-template-code-block"> <pre id="cf-code-block-pre"></pre> </div>\n        </div>\n        <div id="button-container">\n          <button class="sumo-button -secondary" id="sw-cf-consoleBtn"><%= __.CF_TEMPLATE_CONSOLE_BUTTON%></button>\n          <button class="sumo-button -secondary" id="sw-cf-downloadBtn"><%= __.CF_TEMPLATE_DOWNLOAD_BUTTON%></button>\n        </div>\n      </div>\n    </div>\n\n\n    <div class="source-wizard-form-field">\n      <label for = "sw-aws-roleArn" ><%= __.S3_ARN_LABEL%></label>\n      <input type="text" id="sw-aws-roleArn" autocomplete="false" >\n    </div>\n\n  </div>\n  <div class="source-wizard-form" id ="source-wizard-form-awskeys">\n    <div class="source-wizard-help-ctr">\n      <div id="sw-help-aws-user-link" data-target="sw-help-aws-user" class="source-wizard-open-help"><i\n        class="fa fa-angle-right fa-fw"></i><%= __.sw_open_help_link %>\n      </div>\n      <div id="sw-help-aws-user" class="source-wizard-help-section"><%dangerousUnescapedHTML= sw_help_aws_user %></div>\n    </div>\n    <div class="source-wizard-form-field">\n        <label for="sw-aws-accesskey-id"><%= __.sw_aws_accesskey_id %></label>\n        <input type="text" id="sw-aws-accesskey-id" spellcheck="false" data-sumo-test="sw-aws-accesskey">\n      </div>\n      <div class="source-wizard-form-field source-wizard-form-field-right">\n        <label for="sw-aws-accesskey-secret"><%= __.sw_aws_accesskey_secret %></label>\n        <input type="password" id="sw-aws-accesskey-secret" autocapitalize="off" autocorrect="off" autocomplete="off" data-sumo-test="sw-aws-secret-key">\n      </div>\n      <div class="source-wizard-error">\n        <i class="fa fa-warning"></i>\n        <span class="source-wizard-error-text"></span>\n      </div>\n  </div>\n\n<% if (!govCloudRegionFF && isCloudWatch) { %>\n<div id="source-wizard-form-awsnamespaces" class="source-wizard-form">\n  <div class="source-wizard-form-label -source-wizard-split-label">\n    <span><%= __.sw_label_aws_namespaces_num %></span><span><%= __.sw_label_aws_namespaces_text %></span>\n  </div>\n  <div class="source-wizard-form-field">\n    <div class="form__links_ctr">\n      <span id="sw-toggle-all-namespaces" class="action-link" data-sumo-test="sw-aws-namespaces-select-all"><%= __.sw_winevent_select_all %></span>\n      <span class="form__link_separator">|</span>\n      <span id="sw-toggle-none-namespaces" class="action-link" data-sumo-test="sw-aws-namespaces-select-none"><%= __.sw_winevent_select_none %></span>\n    </div>\n    <div class="sumo-list -empty">\n      <div class="namespace-spinner" data-spinner></div>\n    </div>\n    <% if (showCustomNamespaces) { %>\n    <div class="sw-add-namespace-ctr">\n      <a id="sw-add-namespace" class="sumo-link -plain -is-disabled" data-sumo-test="sw-aws-add-namespace-link"><%= __.sw_label_sourcepath_add_namespace %></a>\n    </div>\n    <div class="source-wizard-error">\n      <i class="fa fa-warning"></i>\n      <span class="source-wizard-error-text"></span>\n    </div>\n    <% } %>\n  </div>\n  <div id="cloudwatch-filter__ctr">\n    <div class="cloudwatch-filter__warning"><%dangerousUnescapedHTML= __.ec2_warning %></div>\n    <div class="source-wizard-form-label -source-wizard-split-label">\n      <span>&nbsp;</span><span><%= __.sw_label_aws_namespace_filters_text %></span>\n    </div>\n    <div id="cloudwatch-filter"></div>\n  </div>\n</div>\n<div id="source-wizard-form-awsregions" class="source-wizard-form">\n  <div class="source-wizard-form-label -source-wizard-split-label">\n    <span><%= __.sw_label_aws_regions_num %></span><span><%= __.sw_label_aws_regions_text %></span>\n  </div>\n  <div class="source-wizard-form-field">\n    <div class="form__links_ctr">\n      <span id="sw-toggle-all-regions" class="action-link" data-sumo-test="sw-aws-regions-select-all"><%= __.sw_winevent_select_all %></span>\n      <span class="form__link_separator">|</span>\n      <span id="sw-toggle-none-regions" class="action-link" data-sumo-test="sw-aws-regions-select-none"><%= __.sw_winevent_select_none %></span>\n    </div>\n    <div class="sumo-list"></div>\n  </div>\n  <div class="source-wizard-error">\n    <i class="fa fa-warning"></i>\n    <span class="source-wizard-error-text"></span>\n  </div>\n  <div class="source-wizard-form-field">\n    <span id="sw-cw-metrics-count"><%= totalMetricsSelected %></span> <%= __.sw_total_metrics_selected %>\n  </div>\n</div>\n<% } %>\n\n<div id="sw_policy_code_block">\n<div class="source-wizard-code-block-ctr">\n  <div class="source-wizard-form-label -source-wizard-split-label"><span><%= sw_label_policy_num %>.</span><span><%= sw_label_policy_text %></span></div></div>\n  <div class="source-wizard-help-ctr">\n    <div id="sw-help-aws-policy-link" data-target="sw-help-aws-policy" class="source-wizard-open-help">\n      <i class="fa fa-angle-right fa-fw"></i><%= __.sw_open_help_link %>\n    </div>\n    <div id="sw-help-aws-policy" class="source-wizard-help-section"><%dangerousUnescapedHTML= sw_help_aws_policy %></div>\n  </div>\n  <div class="source-wizard-code-block">\n    <div class="source-wizard-select-all <%attr= isCloudWatch ? \'\' : \'btn-disabled\' %>" ngclipboard data-clipboard-target=".jsonL0"><%= __.sw_policy_button %></div>\n    <span>\n      <div class="jsonL jsonL0">\n        {\n        <div class="jsonL jsonL1">"Version": "2012-10-17",</div>\n        <div class="jsonL jsonL1">\n          "Statement": [\n          <div class="jsonL jsonL2">\n            {\n            <div class="jsonL jsonL3">\n              "Action": [\n              <div class="jsonL jsonL4">\n                <% if (isCloudWatch) { %>\n                "cloudwatch:ListMetrics",<br>\n                "cloudwatch:GetMetricStatistics",<br>\n                "ec2:DescribeInstances",<br>\n                "tag:GetResources"\n                <% } else { %>\n                "s3:GetObject",<br>\n                "s3:GetObjectVersion",<br>\n                "s3:ListBucket",<br>\n                "s3:ListBucketVersions"\n                <% } %>\n              </div>\n              ],<br>\n              "Effect": "Allow",<br>\n              <% if (isCloudWatch) { %>\n              "Resource": "*"\n              <% } else { %>\n              "Resource": ["arn:aws:s3:::<span class="bucketname-holder"><%= bucketName %></span>/*", "arn:aws:s3:::<span class="bucketname-holder"><%= bucketName %></span>"]\n              <% } %>\n            </div>\n            }\n          </div>\n          ]\n        </div>\n        }\n      </div>\n    </span>\n  </div>\n</div>\n</div>\n'},88259:function(e){e.exports='<div class="source-wizard-view-ctr -first">\n  <div class="source-wizard-form">\n    <div class="source-wizard-form-label">\n      <%= __.sw_collectd_prereq %> <a class="sumo-link -plain" href="<%attr= __.sw_collectd_prereq_url %>"><%= __.sw_collectd_prereq_link %></a>\n    </div>\n    <div class="source-wizard-form-field">&nbsp;</div>\n  </div>\n\n  <div id="source-wizard-form-collectd-install" class="source-wizard-form">\n    <div class="source-wizard-form-label"><%= __.sw_collectd_install_label %></div>\n    <div class="source-wizard-code-block">\n      <div class="source-wizard-select-all" ngclipboard data-clipboard-target="#sw-colltectd-install"\n           data-sumo-test="collectd-install-button">\n        <%= __.sw_collectd_copy_btn_label %>\n      </div>\n      <span>\n        <div id="sw-colltectd-install" class="jsonL jsonL0"><%= __.sw_collectd_install_text %></div>\n      </span>\n    </div>\n    <div class="source-wizard-form-field">\n      <%= __.sw_collectd_other_options %> <a class="sumo-link -plain" href="<%attr= __.sw_collectd_other_options_url %>"><%= __.sw_collectd_other_options_link %></a>\n    </div>\n  </div>\n\n  <div id="source-wizard-form-sourcecat" class="source-wizard-form">\n    <div class="source-wizard-form-label"><%= sw_label_sourcecat %></div>\n    <div class="source-wizard-form-field">\n      <label for="sw-source-category">\n        <%= __.sw_source_category %>\n        <img id="sw-questionmark-category" class="sw-questionmark" src="<%%attr= window.dynamicPublicPath %>images/app/icons/question.svg?v=af289d0b" title="<%attr= __.sw_sourcecat_qtip %>"/>\n      </label>\n      <input type="text" id="sw-source-category" maxlength="128" spellcheck="false" data-sumo-test="sw-http-source-category">\n    </div>\n    <div class="source-wizard-error">\n      <i class="fa fa-warning"></i>\n      <span class="source-wizard-error-text"></span>\n    </div>\n  </div>\n\n  <div id="source-wizard-form-timezone" class="source-wizard-form -is-form-upload">\n    <div class="source-wizard-form-label"><%= sw_label_timezone_main %></div>\n    <div class="source-wizard-form-field selectize-filterable">\n      <label for="sw-timezone-from-log">\n        <input type="radio" name="sw-timezone" checked id="sw-timezone-from-log" data-sumo-test="sw-http-timezone-log">\n        <%= __.sw_label_timezone_from_log %>\n      </label>\n      <select id="source-wizard-timezone-from-log"></select>\n    </div>\n    <div class="source-wizard-form-field selectize-filterable">\n      <label for="sw-timezone-ignore-log">\n        <input type="radio" name="sw-timezone" id="sw-timezone-ignore-log" data-sumo-test="sw-http-timezone-ignore-log">\n        <%= __.sw_label_timezone_ignore_log %>\n      </label>\n      <select id="source-wizard-timezone-ignore-log"></select>\n    </div>\n    <div class="source-wizard-error">\n      <i class="fa fa-warning"></i>\n      <span class="source-wizard-error-text"></span>\n    </div>\n  </div>\n</div>\n\n<div class="source-wizard-view-ctr -last">\n  <div id="sw-collectd-url-ctr" class="source-wizard-code-block-ctr">\n    <div class="source-wizard-form-label -source-wizard-split-label"><%= __.sw_collectd_url_info %></div>\n    <div class="source-wizard-code-block">\n      <div id="sw-collectdEndpoint" class="jsonL jsonL0"><%= swCollectDUrl %></div>\n    </div>\n  </div>\n\n  <div id="sw-collectd-conf-ctr" class="source-wizard-code-block-ctr">\n    <div class="source-wizard-form-label -source-wizard-split-label"><%= __.sw_collectd_copy_config_label %></div>\n    <div id="sw-collectd-conf-block" class="source-wizard-code-block">\n      <div class="source-wizard-select-all" ngclipboard data-clipboard-target="#sw-collectd-conf" data-sumo-test="http-source-button">\n        <%= __.sw_collectd_copy_btn_label %>\n      </div>\n      <span>\n        <div id="sw-collectd-conf" class="jsonL jsonL0"><pre><%= sw_collectd_conf %></pre></div>\n      </span>\n    </div>\n    <div class="source-wizard-form-label"><%= __.sw_collectd_optional_plugins %></div>\n  </div>\n</div>\n'},38345:function(e){e.exports='<% if (httpSource) { %>\n<div class="source-wizard-description"><%= __.finish_http_source_text %></div>\n<div id="source-finish-action-link"><a class="sumo-link -plain"><%= __.finish_http_source_url %></a></div>\n<div id="sw-finish-http-source-url" class="source-wizard-code-block-ctr">\n  <div class="source-wizard-code-block">\n    <div class="source-wizard-select-all" ngclipboard data-clipboard-target=".jsonL0" data-sumo-test="http-source-button">\n      <%= __.sw_curl_button %>\n    </div>\n    <span>\n      <div class="jsonL jsonL0"></div>\n    </span>\n  </div>\n</div>\n<% } %>\n\n<% if (longLastingSource) { %>\n  <div class="source-finish-longlasting">\n    <%= __.finish_long_lasting_txn_msg_1 %>\n    <br><br>\n    <%dangerousUnescapedHTML= sprintf(__.finish_long_lasting_txn_msg_2, SumoUtil.encode(userName)) %>\n  </div>\n<% } else { %>\n  <div id="source-finish-indicator" class="finish-indicator">\n    <div class="input-progressbar"></div>\n    <span id="source-progress-data-state"><%dangerousUnescapedHTML= spinnerText %></span>\n    <div id="source-progress-data-uploaded"></div>\n    <div id="source-progress-data-ingested"></div>\n  </div>\n  <div id="source-finish-error-ctr" class="source-wizard-error">\n    <i class="fa fa-warning"></i>\n    <span class="source-wizard-error-text"></span>\n  </div>\n<% } %>\n\n<div class="form-toolbar">\n  <div id="source-wizard-add-more" class="vertical-button"><span><%dangerousUnescapedHTML= __.finish_add_more %></span></div>\n  <div id="source-wizard-go-search" class="vertical-button btn-disabled"><span><%= searchBtnLabel %></span></div>\n</div>\n\n<% if (finishView) { %>\n<div class="hover-preloads">\n  <img src="<%%attr= window.dynamicPublicPath %>images/app/icons/quickstart_hover.png?v=0235a394">\n  <img src="<%%attr= window.dynamicPublicPath %>images/app/icons/logreduce_hover.png?v=ed19aa95">\n  <img src="<%%attr= window.dynamicPublicPath %>images/app/icons/anomalyDetection_hover.png?v=fbe0b506">\n  <img src="<%%attr= window.dynamicPublicPath %>images/app/icons/outlier_hover.png?v=4aef3cd4">\n</div>\n<% } %>\n'},86252:function(e){e.exports='<div class="source-wizard-view-ctr -first">\n  <div id="source-wizard-form-sourcecat" class="source-wizard-form">\n    <div class="source-wizard-form-label"><%= sw_label_sourcecat %></div>\n    <div class="source-wizard-form-field">\n      <label for="sw-source-category">\n        <%= __.sw_source_category %>\n        <img id="sw-questionmark-category" class="sw-questionmark" src="<%%attr= window.dynamicPublicPath %>images/app/icons/question.svg?v=af289d0b" title="<%attr= __.sw_sourcecat_qtip %>"/>\n      </label>\n      <input type="text" id="sw-source-category" maxlength="128" spellcheck="false" data-sumo-test="sw-http-source-category">\n    </div>\n    <div class="source-wizard-error">\n      <i class="fa fa-warning"></i>\n      <span class="source-wizard-error-text"></span>\n    </div>\n  </div>\n\n  <div id="source-wizard-form-timezone" class="source-wizard-form -is-form-upload">\n    <div class="source-wizard-form-label"><%= sw_label_timezone_main %></div>\n    <div class="source-wizard-form-field selectize-filterable">\n      <label for="sw-timezone-from-log">\n        <input type="radio" name="sw-timezone" checked id="sw-timezone-from-log" data-sumo-test="sw-http-timezone-log">\n        <%= __.sw_label_timezone_from_log %>\n      </label>\n      <select id="source-wizard-timezone-from-log"></select>\n    </div>\n    <div class="source-wizard-form-field selectize-filterable">\n      <label for="sw-timezone-ignore-log">\n        <input type="radio" name="sw-timezone" id="sw-timezone-ignore-log" data-sumo-test="sw-http-timezone-ignore-log">\n        <%= __.sw_label_timezone_ignore_log %>\n      </label>\n      <select id="source-wizard-timezone-ignore-log"></select>\n    </div>\n    <div class="source-wizard-error">\n      <i class="fa fa-warning"></i>\n      <span class="source-wizard-error-text"></span>\n    </div>\n  </div>\n</div>\n\n<div class="source-wizard-view-ctr -last">\n  <div id="sw-http-source-url" class="source-wizard-code-block-ctr">\n    <div class="source-wizard-form-label -source-wizard-split-label"><%dangerousUnescapedHTML= sw_link_label %></div>\n    <div id="sw-http-url-block" class="source-wizard-code-block">\n      <div class="source-wizard-select-all" ngclipboard data-clipboard-target="#sw-curl-base" data-sumo-test="http-source-button">\n        <%= __.sw_curl_button %>\n      </div>\n      <span>\n        <div id="sw-curl-base" class="jsonL jsonL0"></div>\n      </span>\n    </div>\n    <div class="source-wizard-form-label"><%dangerousUnescapedHTML= __.sw_httpsource_use_label %></div>\n    <div id="sw-help-http-user-link" data-target="sw-http-help" class="source-wizard-open-help">\n      <i class="fa fa-angle-right fa-fw"></i><span><%= __.sw_http_help_link_open %></span>\n    </div>\n    <div class="source-wizard-help-ctr">\n      <div id="sw-help-http" class="source-wizard-form">\n        <div class="source-wizard-form-label -needs-bottom"><%= __.sw_http_curl_path_instruction %></div>\n        <div class="source-wizard-form-field -needs-bottom">\n          <label for="sw-http-path">\n            <%= __.sw_http_path_label %>\n          </label>\n          <input type="text" id="sw-http-path" spellcheck="false"/>\n        </div>\n        <label for="sw-curl-example-post"><%= __.sw_http_curl_help_post %></label>\n        <div class="source-wizard-code-block">\n          <div id="sw-curl-example-select-post" class="source-wizard-select-all is-disabled" ngclipboard data-clipboard-target="#sw-curl-example-post"><%= __.sw_curl_button %></div>\n          <span><div id="sw-curl-example-post" class="jsonL jsonL0"></div></span>\n        </div>\n        <label for="sw-curl-example-gzipped"><%= __.sw_http_curl_help_gzipped %></label>\n        <div class="source-wizard-code-block">\n          <div id="sw-curl-example-select-gzipped" class="source-wizard-select-all is-disabled" ngclipboard data-clipboard-target="#sw-curl-example-gzipped"><%= __.sw_curl_button %></div>\n          <span><div id="sw-curl-example-gzipped" class="jsonL jsonL0"></div></span>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},99125:function(e){e.exports='<% if (showSelector) { %>\n  <div class="source-wizard-view-ctr -first">\n    <div class="source-wizard-form-label"><%= __.sw_label_select_source_type %></div>\n    <div class="source-wizard-select-type-ctr">\n    <% _.each(buttons, function(btn) { %>\n      <% if (btn.active) { %>\n        <div class="vertical-button-container" data-sumo-test="sw-select-source-type">\n          <div class="vertical-button" id="sw-type-btn-<%attr= btn.id %>"></div>\n          <span><%= btn.label %></span>\n        </div>\n      <% } %>\n    <% }) %>\n    </div>\n  </div>\n\n  <div class="source-wizard-view-ctr -last">\n<% } %>\n<% if (collectorsLength) { %>\n  <div class="source-wizard-collector-ctr">\n    <div id="source-wizard-form-select-collector-class" class="source-wizard-form <%attr= maxCollectorsForSelect ? \'\' : \'-is-showing-list\'  %>">\n      <div class="source-wizard-form-label -source-wizard-split-label"><%dangerousUnescapedHTML= __.sw_label_collector_class_instruction %></div>\n      <div id="source-wizard-form-select-collector-class-existing" class="source-wizard-form-field selectize-filterable">\n        <label for="sw-collector-class-existing">\n          <input type="radio" name="sw-collector-class" checked id="sw-collector-class-existing" data-sumo-test="sw-collector-class-existing">\n          <%= __.sw_label_existing_collector %>\n        </label>\n        <% if (maxCollectorsForSelect) { %>\n          <select id="source-wizard-collector-class-existing" placeholder="<%attr= __.sw_select_existing_placeholder %>"></select>\n        <% } else { %>\n          <div class="sumo-list-filterable -flat"></div>\n        <% } %>\n        <div class="source-wizard-error">\n          <i class="fa fa-warning"></i>\n          <span class="source-wizard-error-text"></span>\n        </div>\n      </div>\n      <div class="source-wizard-form-field selectize-selectable" id="source-wizard-select-os">\n        <label for="sw-collector-class-new">\n          <input type="radio" name="sw-collector-class" id="sw-collector-class-new" data-sumo-test="sw-collector-class-new">\n          <%= __.sw_label_new_collector %>\n          <img id="sw-questionmark-select-os" class="sw-questionmark" src="<%%attr= window.dynamicPublicPath %>images/app/icons/question.svg?v=af289d0b" title="<%dangerousUnescapedHTML= __.sw_select_os_tooltip %>"/>\n        </label>\n        <% if (showOSSelector) { %>\n          <select id="sw-source-select-os" placeholder="<%attr= __.sw_select_os_placeholder %>"></select>\n          <div class="select-os-spinner" data-spinner></div>\n        <% } else { %>\n          <div class="single-os-spinner" data-spinner></div>\n        <% } %>\n      </div>\n      <div class="source-wizard-error">\n        <i class="fa fa-warning"></i>\n        <span class="source-wizard-error-text"></span>\n      </div>\n    </div>\n  </div>\n<% } else { %>\n  <div id="source-wizard-form-select-os" class="source-wizard-form">\n    <% if (showOSSelector) { %>\n      <div class="source-wizard-form-label">\n        <%= __.sw_select_os_label %>\n      </div>\n      <div class="source-wizard-form-field selectize-selectable -needs-specific-width" id="source-wizard-select-os">\n        <select id="sw-source-select-os" data-sumo-test="source-wizard-select-os" placeholder="<%attr= __.sw_select_os_placeholder %>"></select>\n        <div class="select-os-spinner" data-spinner></div>\n      </div>\n      <div class="source-wizard-error">\n        <i class="fa fa-warning"></i>\n        <span class="source-wizard-error-text"></span>\n      </div>\n    <% } else { %>\n      <div class="single-os-spinner" data-spinner></div>\n    <% } %>\n  </div>\n<% } %>\n\n<div id="sw-installer-command" class="source-wizard-code-block-ctr">\n  <% if (showOSSelector) { %>\n    <hr class="source-wizard-seperator">\n  <% } %>\n  <div class="source-wizard-form-label -needs-bottom -source-wizard-split-label">\n    <%dangerousUnescapedHTML= sw_install_download_text %>\n  </div>\n  <div class="sw-windows-installer-command -first">\n    <div><a class="action-link"><%= __.sw_windows_download_label %></a></div>\n  </div>\n  <div class="sw-windows-installer-command">\n    <div class="source-wizard-form-label -source-wizard-split-label"><%dangerousUnescapedHTML= sw_install_download_text_windows_b %></div>\n    <div class="source-wizard-help-ctr">\n      <div id="sw-help-windows-link" data-target="sw-help-windows" class="source-wizard-open-help">\n        <i class="fa fa-angle-right fa-fw"></i><%= __.sw_open_help_link %>\n      </div>\n      <div id="sw-help-windows" class="source-wizard-help-section"><%dangerousUnescapedHTML= sw_help_windows %></div>\n    </div>\n\n    <div class="source-wizard-subsection-label"><%= __.sw_token_label %></div>\n  </div>\n  <div class="source-wizard-code-block">\n    <div class="source-wizard-select-all" ngclipboard data-clipboard-target=".jsonL0" data-sumo-test="sw-install-command-copy-button">\n      <%= __.sw_curl_button %>\n    </div>\n    <span>\n      <div class="jsonL jsonL0"></div>\n    </span>\n  </div>\n  <div class="source-wizard-form-label -source-wizard-split-label source-wizard-form-label-is-finish"><%dangerousUnescapedHTML= sw_install_download_finish %></div>\n</div>\n<% if (showSelector) { %>\n  </div>\n<% } %>\n'},71621:function(e){e.exports='<div id="upgrading-cover">\n  <div class="upgrading-spinner" data-spinner></div>\n  <div class="upgrading-form-cover">&nbsp;</div>\n</div>\n\n<div id="source-wizard-form-sourcecat" class="source-wizard-form">\n  <div class="source-wizard-form-label"><%= sw_label_sourcecat %></div>\n  <div class="source-wizard-form-field">\n    <label for="sw-source-category">\n      <%= __.sw_source_category %>\n      <img id="sw-questionmark-category" class="sw-questionmark" src="<%%attr= window.dynamicPublicPath %>images/app/icons/question.svg?v=af289d0b" title="<%attr= tooltip_sourcecat %>"/>\n    </label>\n    <input type="text" id="sw-source-category" maxlength="128" spellcheck="false" data-sumo-test="sw-system-source-category">\n  </div>\n  <div class="source-wizard-error">\n    <i class="fa fa-warning"></i>\n    <span class="source-wizard-error-text"></span>\n  </div>\n</div>\n\n<% if (isWindowsPerformance) { %>\n  <div id="source-wizard-form-performance" class="source-wizard-form">\n    <div class="source-wizard-form-label"><%= __.sw_label_perfmon_queries %></div>\n    <div class="source-wizard-form-field">\n      <div class="sumo-list">\n        <% if (queries.length === 0) { %>\n        <div class="source-wizard-perfmon-row -empty">\n          <%dangerousUnescapedHTML= __.sw_label_queries_loading %>\n        </div>\n        <% } %>\n      </div>\n    </div>\n    <div class="source-wizard-error">\n      <i class="fa fa-warning"></i>\n      <span class="source-wizard-error-text"></span>\n    </div>\n  </div>\n<% } else if (isWindowsEvent) { %>\n  <div id="source-wizard-form-winevents" class="source-wizard-form">\n    <div class="source-wizard-form-label"><%= __.sw_label_winevent_type %></div>\n    <div class="source-wizard-form-field">\n      <label><%= __.sw_winevent_list_label_std %></label>\n      <div class="source-wizard-form-list" id="sw-win-event-list-std">\n        <div class="sw-win-event-list sumo-list"></div>\n      </div>\n    </div>\n    <div class="source-wizard-form-field">\n      <label><%= __.sw_winevent_list_label_custom %></label>\n      <div class="form__links_ctr">\n        <span id="sw-toggle-all" class="action-link" data-sumo-test="sw-windows-event-select-all"><%= __.sw_winevent_select_all %></span>\n        <span class="form__link_separator">|</span>\n        <span id="sw-toggle-none" class="action-link" data-sumo-test="sw-windows-event-select-none"><%= __.sw_winevent_select_none %></span>\n      </div>\n      <div class="source-wizard-form-list" id="sw-win-event-list-custom">\n        <div class="sw-win-event-list sumo-list-filterable">\n          <div class="retrieve-events-spinner" data-spinner></div>\n        </div>\n      </div>\n    </div>\n    <div class="source-wizard-error">\n      <i class="fa fa-warning"></i>\n      <span class="source-wizard-error-text"></span>\n    </div>\n  </div>\n<% } else { %>\n  <% if (isSyslog) { %>\n    <div id="source-wizard-form-protocol" class="source-wizard-form">\n      <div class="source-wizard-form-label">\n        <%= isGraphite ? __.sw_text_protocol_metrics : __.sw_text_protocol_logs %>\n        <img id="sw-questionmark-protocol" class="sw-questionmark" src="<%%attr= window.dynamicPublicPath %>images/app/icons/question.svg?v=af289d0b" title="<%attr= tooltip_protocol %>"/>\n      </div>\n      <div class="source-wizard-form-field">\n        <label for="sw-protocol-udp">\n          <input type="radio" name="sw-protocol" data-sumo-test="sw-protocol-udp" id="sw-protocol-udp" <%checked= isSyslog %> />\n          <%= __.sw_label_protocol_udp %>\n        </label>\n        <label for="sw-protocol-tcp">\n          <input type="radio" name="sw-protocol" data-sumo-test="sw-protocol-tcp" id="sw-protocol-tcp" <%checked= isGraphite %> />\n          <%= __.sw_label_protocol_tcp %>\n        </label>\n      </div>\n      <div class="source-wizard-error">\n        <i class="fa fa-warning"></i>\n        <span class="source-wizard-error-text"></span>\n      </div>\n    </div>\n\n    <div id="source-wizard-form-port" class="source-wizard-form">\n      <div class="source-wizard-form-label">\n        <%= isGraphite ? __.sw_text_port_metrics : __.sw_text_port_logs %>\n        <img id="sw-questionmark-port" class="sw-questionmark" src="<%%attr= window.dynamicPublicPath %>images/app/icons/question.svg?v=af289d0b" title="<%attr= tooltip_port %>"/>\n      </div>\n      <div class="source-wizard-form-field">\n        <input type="text" id="sw-port" value="<%attr= port %>" data-sumo-test="sw-port-number">\n      </div>\n      <div class="source-wizard-error">\n        <i class="fa fa-warning"></i>\n        <span class="source-wizard-error-text"></span>\n      </div>\n    </div>\n  <% } else if (isHostMetrics) { %>\n    <div id="source-wizard-form-interval" class="source-wizard-form">\n      <div class="source-wizard-form-label">\n        <%= __.sw_text_interval %>\n      </div>\n      <div class="source-wizard-form-field selectize-selectable">\n        <label for="source-wizard-interval"><%= __.sw_text_interval_label %></label>\n        <select id="source-wizard-interval" data-sumo-test="sw-host-metrics-interval"></select>\n      </div>\n      <div class="source-wizard-error">\n        <i class="fa fa-warning"></i>\n        <span class="source-wizard-error-text"></span>\n      </div>\n    </div>\n    <div id="source-wizard-form-metrics" class="source-wizard-form">\n      <div class="source-wizard-form-label">\n        <%= __.sw_text_hostMetrics %>\n      </div>\n      <div class="source-wizard-form-field sumo-list">\n        <% _.each(hostMetricsOptions, function(supportedMetrics__category) { %>\n        <div class="supportedMetrics__category-ctr">\n          <div class="supportedMetric__category">\n            <span class="supportedMetric__categoryToggle"></span>\n            <span class="supportedMetric__categoryCheck <%attr= supportedMetrics__category.imageClass %>" id="supportedMetric__category-<%attr= supportedMetrics__category.name %>"></span>\n            <span><%= supportedMetrics__category.name %></span>\n            <% _.each(supportedMetrics__category.metrics, function(supportedMetric) { %>\n            <div class="supportedMetric-ctr">\n              <div class="supportedMetric" data-unit="<%attr= supportedMetric.units %>" data-description="<%attr= supportedMetric.description %>">\n                <label for="supportedMetric-<%attr= supportedMetric.name %>">\n                  <input type="checkbox" id="supportedMetric-<%attr= supportedMetric.name %>" class="supportedMetric__check"\n                         data-sumo-test="sw-supported-metric"\n                         value="<%attr= supportedMetric.name %>" <%checked= supportedMetric.enabled %>>\n                  <span><%= supportedMetric.name %></span>\n                </label>\n                <span class="supportedMetric__help"></span>\n              </div>\n            </div>\n            <% }) %>\n          </div>\n        </div>\n        <% }) %>\n      </div>\n      <div class="source-wizard-error">\n        <i class="fa fa-warning"></i>\n        <span class="source-wizard-error-text"></span>\n      </div>\n    </div>\n  <% } else { %>\n    <div id="source-wizard-form-sourcepath" class="source-wizard-form -has-defaults">\n      <div class="source-wizard-form-label -source-wizard-split-label"><%dangerousUnescapedHTML= sw_label_sourcepath %></div>\n      <div id="sw-paths-list" class="source-wizard-form-field">\n        <div class="sumo-list -empty">\n          <div class="retrieve-events-spinner" data-spinner></div>\n        </div>\n      </div>\n      <div class="sw-add-path-expr-ctr">\n        <a id="sw-add-path-expr" class="sumo-link -plain -is-disabled" data-sumo-test="sw-add-path-expr-button"><%= __.sw_label_sourcepath_add_path %></a>\n      </div>\n      <div class="source-wizard-error">\n        <i class="fa fa-warning"></i>\n        <span class="source-wizard-error-text"></span>\n      </div>\n    </div>\n  <% } %>\n  <% if (hasTimezone) { %>\n    <div id="source-wizard-form-timezone" class="source-wizard-form">\n      <div class="source-wizard-form-label"><%= sw_label_timezone_main %></div>\n      <div class="source-wizard-form-field selectize-filterable">\n        <label for="sw-timezone-from-log">\n          <input type="radio" name="sw-timezone" checked id="sw-timezone-from-log" data-sumo-test="sw-timezone-from-log">\n          <%= __.sw_label_timezone_from_log %>\n        </label>\n        <select id="source-wizard-timezone-from-log"></select>\n      </div>\n      <div class="source-wizard-form-field selectize-filterable">\n        <label for="sw-timezone-ignore-log">\n          <input type="radio" name="sw-timezone" id="sw-timezone-ignore-log" data-sumo-test="sw-timezone-ignore-log">\n          <%= __.sw_label_timezone_ignore_log %>\n        </label>\n        <select id="source-wizard-timezone-ignore-log"></select>\n      </div>\n      <div class="source-wizard-error">\n        <i class="fa fa-warning"></i>\n        <span class="source-wizard-error-text"></span>\n      </div>\n    </div>\n  <% } %>\n  <% if (isGraphite && helper.num !== \'-1\') { %>\n    <div class="source-wizard-code-block-ctr source-wizard-form" id="graphite-helper-block">\n      <div class="source-wizard-form-label -source-wizard-split-label"><span><%= helper.num %></span><span><%dangerousUnescapedHTML= helper.text %></span></div></div>\n      <div class="source-wizard-code-block">\n        <div class="source-wizard-select-all" ngclipboard data-clipboard-target="#graphite_config_helper"><%= __.sw_graphite_copy_button %></div>\n        <span><%dangerousUnescapedHTML= helper.block() %></span>\n      </div>\n    </div>\n    <% if (helper.text2 !== \'\') { %>\n      <div id="source-wizard-form-helper2" class="source-wizard-form">\n        <div class="source-wizard-form-label"><%dangerousUnescapedHTML= helper.text2 %></div>\n      </div>\n    <% } %>\n  <% } %>\n<% } %>\n'},16197:function(e){e.exports='<% if (showSourceType) { %>\n  <div id="source-wizard-form-files-description"><%= __.sw_upload_description %></div>\n<% } %>\n<form id="source-wizard-upload-form">\n  <% if (showSourceType) { %>\n  <div id="source-wizard-form-upload-type" class="source-wizard-form -is-form-upload">\n    <div class="source-wizard-form-label"><%= __.sw_label_upload_type %></div>\n    <div class="source-wizard-form-field selectize-selectable" id="source-wizard-upload-field">\n      <select id="source-wizard-upload-type" data-sumo-test="sw-upload-select-type"></select>\n    </div>\n    <div class="source-wizard-error">\n      <i class="fa fa-warning"></i>\n      <span class="source-wizard-error-text"></span>\n    </div>\n  </div>\n  <% } %>\n\n  <div id="source-wizard-form-sourcecat" class="source-wizard-form -is-form-upload">\n    <div class="source-wizard-form-label"><%= sw_label_sourcecat %></div>\n    <div class="source-wizard-form-field">\n      <label for="sw-source-category">\n        <%= __.sw_source_category %>\n        <img id="sw-questionmark-category" class="sw-questionmark" src="<%%attr= window.dynamicPublicPath %>images/app/icons/question.svg?v=af289d0b" title="<%attr= __.sw_sourcecat_qtip %>"/>\n      </label>\n      <input type="text" id="sw-source-category" maxlength="128" value="<%attr= sourceCat %>" spellcheck="false" data-sumo-test="sw-source-category">\n    </div>\n    <div class="source-wizard-error">\n      <i class="fa fa-warning"></i>\n      <span class="source-wizard-error-text"></span>\n    </div>\n  </div>\n\n  <div id="source-wizard-form-files" class="source-wizard-form source-wizard-form-upload">\n    <div class="source-wizard-form-label -source-wizard-split-label"><span><%= sw_label_upload_files_num %></span><span><%= sw_label_upload_files_text %></span></div>\n    <div class="source-wizard-form-field source-wizard-form-field-button fileinput-button">\n      <div id="sw-select-uploads" class="action-button secondary-button only"><%= __.sw_upload_files %></div>\n      <input id="sw-upload-files" type="file" name="sw-upload-files[]"\n             data-sumo-test="sw-upload-files"\n             multiple data-url="<%attr= httpAddress %>" value="">\n    </div>\n    <div id="source-wizard-upload-target"></div>\n    <div class="source-wizard-error">\n      <i class="fa fa-warning"></i>\n      <span class="source-wizard-error-text"></span>\n    </div>\n  </div>\n\n  <div id="source-wizard-form-timezone" class="source-wizard-form source-wizard-form-upload">\n    <div class="source-wizard-form-label"><%= sw_label_timezone_main %></div>\n    <div class="source-wizard-form-field selectize-filterable">\n      <label for="sw-timezone-from-log">\n        <input type="radio" name="sw-timezone" checked id="sw-timezone-from-log" data-sumo-test="sw-timezone-from-log">\n        <%= __.sw_label_timezone_from_log %>\n      </label>\n      <select id="source-wizard-timezone-from-log"></select>\n    </div>\n    <div class="source-wizard-form-field selectize-filterable">\n      <label for="sw-timezone-ignore-log">\n        <input type="radio" name="sw-timezone" id="sw-timezone-ignore-log" data-sumo-test="sw-timezone-ignore-log">\n        <%= __.sw_label_timezone_ignore_log %>\n      </label>\n      <select id="source-wizard-timezone-ignore-log"></select>\n    </div>\n    <div class="source-wizard-error">\n      <i class="fa fa-warning"></i>\n      <span class="source-wizard-error-text"></span>\n    </div>\n  </div>\n</form>\n'},48729:function(e){e.exports='<div class="source-wizard-contact">\n  <% if (needsActivation) { %>\n  <%= __.sw_activation_reminder %>\n  <% } else {  %>\n  <%dangerousUnescapedHTML= __.sw_contact_block %>\n  <% } %>\n</div>\n<div class="source-wizard-ctr">\n  <div class="source-wizard-side" id="source-wizard-side"></div>\n  <div class="source-wizard-main-ctr">\n    <div class="source-wizard-main-cancel"><div id="source-wizard-cancel-btn" class="icon--x close-icon"></div></div>\n    <div class="source-wizard-main-inner-ctr">\n      <div class="source-wizard-main">\n        <div class="source-wizard-title"><%= sw_title %></div>\n\n        <% if ((finishView || finishViewR2) && !longLastingSource) { %>\n          <div class="source-wizard-description"><%= __.finish_description %></div>\n        <% } %>\n\n        \x3c!-- Source-specific subview goes here --\x3e\n        <div id="source-wizard-aws-ctr"></div>\n\n        <% if (formView) { %>\n          <div class="form-toolbar">\n            <% if (!(SumoApp.getAngularService(\'currentUserHelper\').hasFeatureFlag(\'UIUploadWizard\') || (SumoApp.getAngularService(\'currentUserHelper\').getOrg().typeHelpers.isTrial && SumoApp.getAngularService(\'currentUserHelper\').hasFeatureFlag(\'UIUploadWizardTrial\')))) { %>\n            <div class="action-button secondary-button only" id="source-wizard-restart" data-sumo-test="sw-restart-button">\n              <i class="fa fa-arrow-left fa-fw"></i>\n              <%= __.sw_go_back %>\n            </div>\n            <% } %>\n            <div class="action-button" id="source-wizard-continue" data-sumo-test="sw-continue-button">\n              <%= __.sw_continue %>\n              <i class="fa fa-arrow-right fa-fw"></i>\n            </div>\n            <div class="spinner-toolbar" data-spinner></div>\n          </div>\n        <% } %>\n      </div>\n    </div>\n  </div>\n</div>\n'},69493:function(e){e.exports='<div class="welcome-holder">\n  <div class="fullpage-ctr contact-visible -welcome -<%attr= releaseClass %>" id="welcome-ctr">\n    <div class="source-wizard-contact">\n      <% if (needsActivation) { %>\n        <%= activationMessage %>\n          <% if (!activationSent) { %>\n            <span id="resend-activation-link"><%= __.sw_resend_activation_email %></span>\n          <% } else {%>\n            <span><%= __.sw_activation_email_sent %></span>\n          <% } %>\n      <% } else {  %>\n        <%dangerousUnescapedHTML= __.sw_contact_block %>\n       <% } %>\n    </div>\n\n    <% if (!isUploadOnly) { %>\n    <div class="source-wizard-ctr">\n      <div class="welcome-banner">\n        <% if (showPartnerHerLogo) { %>\n          <img class="logo-img" src="<%%attr= window.dynamicPublicPath %>images/app/partners/herjavec_logo.png?v=7bd15d9a">\n        <% } else if (showEsentireLogo) { %>\n          <img class="logo-img" src="<%%attr= window.dynamicPublicPath %>images/app/partners/esentire.png?v=940ee087">\n        <% } else { %>\n          <img class="logo-img" src="<%%attr= window.dynamicPublicPath %>images/app/logo_2color.svg?v=3be15ed8">\n        <% } %>\n        <div class="source-wizard-main-cancel" data-sumo-test="sw-exit-button">\n          <div id="source-wizard-cancel-btn" class="icon--x close-icon"></div>\n        </div>\n      </div>\n      <div class="welcome-main-ctr -<%attr= releaseClass %>">\n        <div class="welcome-title"><%= sw_title %></div>\n        <div class="welcome-subtitle"><%= welcome_intro %></div>\n\n        <div class="welcome-entry-sources">\n          <% _.each(entries, function(entry) { %>\n            <div class="entry-container">\n              <div class="entry-button" id="sw-entry-<%attr= entry.id %>" data-sumo-test="sw-welcome-button">\n                <div class="sw-entry-name"><%= entry.name %></div>\n                <div class="sw-entry-text"><%dangerousUnescapedHTML= entry.text %></div>\n                <div class="sw-entry-btn-ctr"><div class="sw-entry-btn"><%= __.welcome_get_started %></div></div>\n              </div>\n              <% if (entry.footnote) { %><div class="entry-footnote"><%dangerousUnescapedHTML= entry.footnote %></div><% } %>\n            </div>\n          <% }) %>\n        </div>\n      </div>\n      <% if (showFooter) { %>\n        <div class="welcome-footer">\n          <% if (SumoApp.getAngularService(\'currentUserHelper\').hasFeatureFlag(\'UISetupWizardLearnLayout\')) { %>\n            <p class="sw-hint-msg"><%= __.sw_upload_file_0 %></p>\n            <p><span id="upload-files-button"><%= __.sw_upload_file_1 %></span></p>\n            <br/><br/>\n          <% } %>\n          <p class="sw-hint-msg"><%= __.sw_app_catalog_0 %></p>\n          <p><%= __.sw_app_catalog_1 %><span id="app-catalog-button"><%= __.sw_app_catalog_2 %></span><%= __.sw_app_catalog_3 %></p>\n          <br/><br/>\n          <% if (!SumoApp.getAngularService(\'currentUserHelper\').hasFeatureFlag(\'UISetupWizardLearnLayout\')) { %>\n            <p class="sw-hint-msg"><%= __.sw_quick_tour_0 %></p>\n          <p><%= __.sw_quick_tour_1 %><span id="pendo-sumo-tour-button"><%= __.sw_quick_tour_2 %></span><%= SumoApp.getAngularService(\'currentUserHelper\').hasFeatureFlag(\'UISumoTour\') ? __.sw_quick_tour_3 : __.sw_quick_tour_3_temp %></p>\n          <% } %>\n        </div>\n      <% } %>\n    </div>\n    <% } %>\n  </div>\n</div>\n'},59551:function(e){e.exports='<div class="source-wizard-side-logo">\n  <img class="logo-img" src="<%%attr= window.dynamicPublicPath %>images/app/logo_2color.svg?v=3be15ed8">\n</div>\n<div class="source-wizard-side-steps">\n  <ul>\n    <li class="sw-sb-select-data-type"><%= __.welcome_select_data_type_title %></li>\n    <li class="sw-li-spacer sw-sb-select-data-type"></li>\n    <li class="sw-sb-upload-sidebar"><%= __.sw_steps_upload %></li>\n    <li class="sw-li-spacer sw-sb-upload-sidebar"></li>\n    <li class="sw-sb-select-os-sidebar"><%= __.sw_steps_setup_collection %></li>\n    <li class="sw-li-spacer sw-sb-select-os-sidebar"></li>\n    <li class="sw-sb-collect-logs-sidebar"><%= sidebar_step %></li>\n    <li class="sw-li-spacer sw-sb-collect-logs-sidebar"></li>\n    <li class="sw-sb-finish"><%= __.sw_steps_finish %></li>\n  </ul>\n</div>\n'},73219:function(e){e.exports='<% if (isBasicModeEditor) { %>\n  <div id="search-expression" class="log-query-editor-basic"></div>\n<% } %>\n<% if (!isBasicModeEditor) { %>\n    <div id="search-input-wrapper" class="search-input-wrapper-new">\n      <div id="recent-searches-selector-new"></div>\n    <div class="search-input-params-preview-container">\n      <div id="search-input-container" data-sumo-test="search-input-container">\n        <div data-sumo-test="search-query-header" class="search-query-header search-header">\n          <span><%=__.label_query%></span>\n          <span data-sumo-test="hide-query-action"\n            class="hide-query-action hide-actions" title="<%attr= __.hide %>"></span>\n        </div>\n        \x3c!-- This data-sumo-container identifies the search text box on log search page --\x3e\n        \x3c!-- Used to enable some global shortcuts in the search text box written in shortcutsService.ts  --\x3e\n        \x3c!-- JIRA_ID - SUMO-129930 --\x3e\n          <div id="search-input" data-sumo-container="search-input-code-editor">\n          <textarea id="search-expression" height="1" ></textarea>\n        </div>\n      </div>\n      \x3c!--<div id="search-query-parser-error"></div>--\x3e\n      \x3c!--<div id="search-query-parser-ast"></div>--\x3e\n      <div id="recent-searches-container"></div>\n      <div class="search-params-container" data-sumo-test="search-params-container">\n        <div data-sumo-test="search-params-header" class="search-params-header search-header">\n          <span><%=__.parameters%></span>\n          <span class="search-param-actions">\n            <span data-sumo-test="show-query-action"\n              class="show-query-action" title="<%attr= __.show_query %>"></span>\n            <span data-sumo-test="show-preview-action"\n              class="show-preview-action" title="<%attr= __.show_preview %>"></span>\n          </span>\n        </div>\n        <div id="srch-param-desc"></div>\n        <% if(issearchParamsReact) { %>\n        <div id="search-params-view-react" class="search-params-view"></div>\n        <% } else { %>\n        <search-params class="search-params-view" state="state" actions="actions"></search-params>\n        <% } %>\n      </div>\n      <div class="search-params-preview-container" data-sumo-test="search-params-preview-container">\n        <div data-sumo-test="search-params-preview-header" class="search-params-preview-header search-header">\n          <span>Preview</span>\n          <span class="search-param-preview-actions">\n              <span data-sumo-test="hide-preview-action"\n                class="hide-preview-action hide-actions" title="<%attr= __.hide %>"></span>\n          </span>\n        </div>\n          <div id="search-params-preview-view" class="search-params-preview-view-new">\n          <textarea id="search-params-preview-expression" height="1" ></textarea>\n        </div>\n      </div>\n    </div>\n  </div>\n<% } %>\n'},27481:function(e){e.exports='<div id="aggregate-actions-view">\n  <div id="aggregate-export-controls" data-sumo-test="aggregate-export-controls">\n    <div id="aggregate-export-container"></div>\n    <div title="<%attr= __.aggregate_export_records %>" id="aggregate-export-button" class="action-button icon-btn">\n      <div class="icon icon--download"></div>\n    </div>\n  </div>\n  <div id="aggregate-viewer-selectors" class="section-seperator">\n    <div title="<%attr= __.aggregate_table_viewer_button %>" id="aggregate-table-viewer-button" data-sumo-test="aggregate-table-viewer-button" class="action-button icon-btn is-active">\n      <div class="icon icon--table"></div>\n    </div>\n    <div title="<%attr= __.aggregate_bar_chart_viewer_button %>" id="aggregate-bar-chart-viewer-button" data-sumo-test="aggregate-bar-chart-viewer-button" class="action-button icon-btn">\n      <div class="icon icon--bar-chart"></div>\n    </div>\n    <div title="<%attr= __.aggregate_column_chart_viewer_button %>" id="aggregate-column-chart-viewer-button" data-sumo-test="aggregate-column-chart-viewer-button" class="action-button icon-btn">\n      <div class="icon icon--column-chart"></div>\n    </div>\n    <div title="<%attr= __.aggregate_line_chart_viewer_button %>" id="aggregate-line-chart-viewer-button" data-sumo-test="aggregate-line-chart-viewer-button" class="action-button icon-btn">\n      <div class="icon icon--line-chart"></div>\n    </div>\n    <div title="<%attr= __.aggregate_area_chart_viewer_button %>" id="aggregate-area-chart-viewer-button" data-sumo-test="aggregate-area-chart-viewer-button" class="action-button icon-btn">\n      <div class="icon icon--area-chart"></div>\n    </div>\n    <div title="<%attr= __.aggregate_pie_chart_viewer_button %>" id="aggregate-pie-chart-viewer-button" data-sumo-test="aggregate-pie-chart-viewer-button" class="action-button icon-btn">\n      <div class="icon icon--pie-chart"></div>\n    </div>\n    <div title="<%attr= __.aggregate_boxplot_chart_viewer_button %>" id="aggregate-boxplot-chart-viewer-button" data-sumo-test="aggregate-boxplot-chart-viewer-button" class="action-button icon-btn">\n      <div class="icon icon--box-plot"></div>\n    </div>\n    <div id="aggregate-map-viewer-button" data-sumo-test="aggregate-map-viewer-button" class="action-button icon-btn">\n      <div class="icon icon--map" title="<%attr= __.aggregate_map_viewer_button %>"></div>\n    </div>\n    <div title="<%attr= __.aggregate_single_value_viewer_button %>" id="aggregate-single-value-viewer-button" data-sumo-test="aggregate-single-value-viewer-button" class="action-button icon-btn">\n      <div class="icon icon--single-value-monitor"></div>\n    </div>\n    <div title="<%attr= __.aggregate_sankey_button %>" id="aggregate-sankey-button" data-sumo-test="aggregate-sankey-button" class="action-button icon-btn">\n      <div class="icon icon--flow-chart"></div>\n    </div>\n  </div>\n  <div id="aggregate-settings-menu" class="section-seperator">\n    <div title="Settings" id="aggregate-settings-controller" class="action-button icon-btn">\n      <div class="icon icon--gear" id="aggregate-settings-controller-icon" data-sumo-test="messages-settings-controller-icon"></div>\n    </div>\n    <div id="aggregate-settings-view"></div>\n  </div>\n  <div id="aggregate-add-to-dashboard-controls" class="seperator">\n    <button id="aggregate-save-back-to-monitor-button" class="action-button sumo-button -small" title="<%attr= __.iris_save_back_to_monitor_tip %>">\n      <%= __.iris_save_back_to_monitor %>\n    </button>\n    <button id="aggregate-add-to-dashboard-button" data-sumo-test="aggregate-add-to-dashboard-button"\n            class="action-button sumo-button -small -secondary" title="<%attr= __.add_to_dashboard_tip %>">\n      <%= __.add_to_dashboard %>\n    </button>\n  </div>\n</div>\n'},12466:function(e){e.exports='<div id="aggregate-records-chart-view">\n  <div id="aggregate-chart-container"></div>\n</div>'},23836:function(e){e.exports='<div id="aggregate-records-map-view">\n  <map-chart map-theme\n             cluster-click\n             class="map-chart"\n             model-id="modelId"\n             geo-data="geoData"\n             theme="theme"\n             resize="resize"\n             zoom-to-fit\n             geo-data-bounds="geoDataBounds"\n             has-loaded-all-results="hasLoadedAllResults"\n             initial-center-point="initialCenterPoint"\n             initial-zoom="initialZoom"\n             cluster-map-layer\n             heat-map-layer\n             benchmark-map-layer\n             map-type="mapType">\n  </map-chart>\n</div>\n'},45922:function(e){e.exports='<div class="aggregate-records-table-view <%attr= sortable ? \'sortable\' : \'\'%> <%attr= fontSizeClass %>">\n    <div class="loading-veil"><div class="spinner loading-veil-spinner"></div></div>\n  <table cellpadding="0" cellspacing="0">\n    <thead>\n    <% if (fields && fields.length > 0) { %>\n      <tr>\n        <td class="offset" data-sumo-test="col-#">#</td>\n        <%  _.each(fields, function(field, index) {\n              var rawFieldName = field.name;\n              var fieldName = rawFieldName;\n              var fieldType = field.type;\n              var c = "column";\n\n              if (fieldName == "_timeslice") {\n                fieldName = __.msg_column_label_time;\n              }\n              else if (fieldName == "_start_time") {\n                fieldName = __.msg_column_label_start_time;\n              }\n              else if (fieldName == "_end_time") {\n                fieldName = __.msg_column_label_end_time;\n              }\n              else if (fieldType == RecordValueType.INT\n                  || fieldType == RecordValueType.LONG\n                  || fieldType == RecordValueType.DOUBLE)\n              {\n                c += " num";\n              }\n              if (!_.isUndefined(rawFieldName) && !_.isUndefined(sortField) &&\n                rawFieldName.toLowerCase() ===  sortField.toLowerCase()){\n                c += (" " + sortHighlightClass + " " + sortedClass)\n              }\n              if( sortType ){\n                c += (\' \' + sortType)\n              }\n              var clsName = fieldName.replace(/\\-/g,\'_\').replace(/\\)/g,\'_\').replace(/\\(/g,\'_\').replace(/\\//g, \'_\');\n        %>\n              <td class="<%attr= c %>" data-field-name="<%attr= rawFieldName%>" data-field-index="<%attr= index %>" data-sumo-test="col-<%attr= rawFieldName%>">\n                <%= fieldName %>\n                <span class="sort-icon" data-sumo-test="sort-icon"></span>\n              </td>\n        <%\n            });\n        %>\n      </tr>\n    <% } %>\n    </thead>\n    <tbody>\n\n    <% for (var i = 0; i < records.length; i++) {\n        var record = records[i];\n        var offset = SumoUtil.formatNumber((page * recordsPerPage) + 1 + i);\n    %>\n      <tr row-index="<%attr= i %>">\n        <td class="offset" col-id="rowOffset"><%= offset %></td>\n        <%  _.each(fields, function(field) {\n              var rawFieldName = field.name;\n              var fieldName = rawFieldName;\n              var recordVal = record[fieldName];\n\n              var isURL = false;\n              var urlTitle = "";\n              var url = "";\n\n              if (urlLinkColumnField.indexOf(fieldName) >= 0) {\n                isURL = true;\n                var link = extractURLFromLink(recordVal);\n                urlTitle = link.title;\n                url = link.url;\n              }\n\n              var isTimeslice = false;\n              var isTimeField = false;\n\n              if (fieldName == "_timeslice") {\n                isTimeslice = true;\n                recordVal = dateFormatter(recordVal * 1);\n              }\n              else if (fieldName == "_start_time" || fieldName == "_end_time") {\n                isTimeField = true;\n                recordVal = dateFormatter(recordVal * 1);\n              }\n\n              var fieldType = field.type;\n              var c = "column";\n              if (fieldType == RecordValueType.INT\n                  || fieldType == RecordValueType.LONG\n                  || fieldType == RecordValueType.DOUBLE)\n              {\n                if (isTimeslice || isTimeField) {\n                  c += " nowrapColumn";\n                } else {\n                  c += " num";\n                  if (\n                    typeof recordVal === \'number\' ||\n                    (typeof recordVal === \'string\' && recordVal && Number.isFinite(Number(recordVal)))\n                  ) {\n                    if (fieldType == RecordValueType.DOUBLE) {\n                      recordVal = SumoUtil.formatDouble(recordVal, 5);\n                    } else {\n                      recordVal = SumoUtil.formatNumber(recordVal);\n                    }\n                  } else if (["NaN", "Infinity"].indexOf(recordVal) < 0){\n                      recordVal = "&nbsp;";\n                   }\n                }\n              }\n              else {\n                recordVal = SumoUtil.convertLeadingSpaces(SumoUtil.encode(recordVal), \'<span class="leading-space">&nbsp;</span>\');\n              }\n              if (fieldName == "_source" || fieldName == "_sourceCategory" || fieldName == "_sourceHost") {\n                c += " nowrapColumn";\n              }\n              var clsName = fieldName.replace(/\\-/g,\'_\').replace(/\\)/g,\'_\').replace(/\\(/g,\'_\').replace(/\\//g, \'_\');\n              if (!_.isUndefined(rawFieldName) && !_.isUndefined(sortField) &&\n                rawFieldName.toLowerCase() ===  sortField.toLowerCase()){\n                c += (" " + sortHighlightClass + " " + sortedClass)\n              }\n\n              if (isURL) {\n              %>\n        <td class="<%attr= c %>" col-id="<%attr= fieldName%>"><a class="aggregate-table-link" href="<%attr= url %>" target="_blank"><u ><%attr= urlTitle %></u></a></td>\n              <% } else {\n              %>\n        <td class="<%attr= c %>" col-id="<%attr= fieldName%>"><%dangerousUnescapedHTML= recordVal %></td>\n              <%}\n            });\n        %>\n      </tr>\n    <% } %>\n\n    </tbody>\n  </table>\n</div>\n'},47584:function(e){e.exports='<div id="aggregate-records-toolbar-view" class="prada">\n  <div id="aggregate-records-pager"></div>\n  <div id="time-compare-button-container" class="search-qck-act">\n    <time-compare-btn id="test"></time-compare-btn>\n  </div>\n  <div id="aggregate-info-message-container">\n    <div id="chart-data-status-message"></div>\n    <div id="map-data-status-message"></div>\n  </div>\n  <div id="aggregate-actions-container"></div>\n</div>\n'},14934:function(e){e.exports='<div id="aggregate-records-toolbar">\n</div>\n<div id="aggregate-records-viewer" class="fixed-header">\n</div>\n<div id="aggregate-records-results-status"  class="search-query-results-status">\n  <div class="search-results-status-search-not-running"><%= __.search_results_status_search_not_running %></div>\n  <div class="search-results-status-search-running" data-spinner="<%attr= __.search_results_status_search_running %>">\n  </div>\n  <div class="search-results-status-retrieving-results" data-spinner="<%attr= __.search_results_status_retrieving_results %>">\n  </div>\n  <div class="search-results-status-search-no-results"><%= __.search_results_status_search_no_results %></div>\n</div>\n'},59882:function(e){e.exports="<div class=\"container <%attr= !showCardinality ? 'hide-cardinality' : ''%>\">\n  <div id=\"searchQueryFieldsBodyReact\"></div>\n</div>\n"},6895:function(e){e.exports='<td class="offset" col-id="rowOffset"><%= offsetString %></td>\n<% if (searchByReceiptTime && !hideReceiptTime) {\n  var date = timestampFields["_receipttime"].dateString;\n  var time = timestampFields["_receipttime"].timeString;\n%>\n  <td class="timestamp" col-id="_messagetime"><%= date %><br/><%= time %></td>\n<% } %>\n\n<% if (parsedFields.map(function(x){return x.name;}).indexOf("_messagetime") >= 0 ) {\n  var date = timestampFields["_messagetime"].dateString;\n  var time = timestampFields["_messagetime"].timeString;\n%>\n  <td class="timestamp" col-id="_messagetime"><%= date %><br/><%= time %></td>\n<% } %>\n\n<%\n  _.each(parsedFields, function(_pField) {\n    if (_pField.name.indexOf("timeslice") >= 0) {\n      var date = timestampFields[_pField.name].dateString;\n      var time = timestampFields[_pField.name].timeString;\n%>\n  <td class="timestamp" col-id="_messagetime"><%= date %><br><%= time %></td>\n<%  } else if (!_pField.isJson && _pField.name !== \'_messagetime\' && !_pField.isRaw) {\n      var valToShow = SumoUtil.convertLeadingSpaces(SumoUtil.encode(_pField.value), \'<span class="leading-space">&nbsp;</span>\');\n%>\n  <td class="<%attr= _pField.cssClass %>" col-id="<%attr= _pField.name %>">\n    <div class="message-wrapper <%attr= _pField.useMultiline ? \'multiline\' : \'\' %>">\n      <div><%dangerousUnescapedHTML= valToShow %></div>\n    </div>\n    <% if (_pField.useMultiline) { %>\n      <%dangerousUnescapedHTML= showMoreTemplate %>\n    <% } %>\n  </td>\n<%  } else if (_pField.isJson) { %>\n  <td class="<%attr= \'jsn-parsed \' + (_pField.isRaw ? \'message\' : _pField.cssClass) %>" col-id="<%attr= _pField.name %>" field-name="<%attr= _pField.name %>">\n    <div class="row-json-selection">\n      <span class="show-raw <%attr= _pField.exceedMaxSize ? \'active\' : \'\'  %>"><%= __.view_raw %></span>\n      <span class="show-json <%attr= !_pField.exceedMaxSize ? \'active\' : \'\'  %>"><%= __.view_json %></span>\n    </div>\n    <div class="d">\n      <pre class="m m-p"></pre>\n      <%dangerousUnescapedHTML= showMoreTemplate %>\n    </div>\n    <% if (_pField.isRaw) { %>\n      <div class="f">\n        <% if (sourceHost) { %>\n        <div>\n          <div class="k" title="_sourceHost"><%= __.label_host %>:</div>\n          <div class="v"><%= sourceHost %></div>\n          <% if (!isSumoIndex) { %>\n          <div class="ac icon-btn" id="ac1-<%attr= offset %>">\n            <span class="icon icon--angle-down aci" id="aci1-<%attr= offset %>"></span>\n          </div>\n          <% } %>\n        </div>\n        <% } %>\n        <% if (sourceName) { %>\n        <div>\n          <div class="k" title="_sourceName"><%= __.label_name %>:</div>\n          <div class="v"><%= sourceName %></div>\n          <% if (!isSumoIndex) { %>\n          <div class="ac icon-btn" id="ac2-<%attr= offset %>">\n            <span class="icon icon--angle-down aci" id="aci2-<%attr= offset %>"></span>\n          </div>\n          <% } %>\n        </div>\n        <% } %>\n        <% if (sourceCategory) { %>\n        <div>\n          <div class="k" title="_sourceCategory"><%= __.label_category %>:</div>\n          <div class="v"><%= sourceCategory %></div>\n          <% if (!isSumoIndex) { %>\n          <div class="ac icon-btn" id="ac3-<%attr= offset %>">\n            <span class="icon icon--angle-down aci" id="aci3-<%attr= offset %>"></span>\n          </div>\n          <% } %>\n        </div>\n        <% } %>\n      </div>\n    <% } %>\n  </td>\n<% } else if (_pField.isRaw && !_pField.isJson) { %>\n<td class="message" col-id="<%attr= _pField.name %>">\n  <div class="d -is-raw"></div>\n  <div class="f">\n    <% if (sourceHost) { %>\n    <div>\n      <div class="k" title="_sourceHost"><%= __.label_host %>:</div>\n      <div class="v"><%= sourceHost %></div>\n      <% if (!isSumoIndex) { %>\n      <div class="ac icon-btn" id="ac1-<%attr= offset %>">\n        <span class="icon icon--angle-down aci" id="aci1-<%attr= offset %>"></span>\n      </div>\n      <% } %>\n    </div>\n    <% } %>\n    <% if (sourceName) { %>\n    <div>\n      <div class="k" title="_sourceName"><%= __.label_name %>:</div>\n      <div class="v"><%= sourceName %></div>\n      <% if (!isSumoIndex) { %>\n      <div class="ac icon-btn icon-btn" id="ac2-<%attr= offset %>">\n        <span class="icon icon--angle-down aci" id="aci2-<%attr= offset %>"></span>\n      </div>\n      <% } %>\n    </div>\n    <% } %>\n    <% if (sourceCategory) { %>\n    <div>\n      <div class="k" title="_sourceCategory"><%= __.label_category %>:</div>\n      <div class="v"><%= sourceCategory %></div>\n      <% if (!isSumoIndex) { %>\n      <div class="ac icon-btn" id="ac3-<%attr= offset %>">\n        <span class="icon icon--angle-down aci" id="aci3-<%attr= offset %>"></span>\n      </div>\n      <% } %>\n    </div>\n    <% } %>\n  </div>\n</td>\n<% }\n  });\n%>\n'},15460:function(e){e.exports='<div class="search-query-messages-table-view">\n  <% if ( bExceedsRawBoundary ) { %>\n\n    <div class="exceeds-raw-boundary-message"></div>\n\n  <% } else { %>\n\n    <table data-sumo-test="search-query-messages-static-header" id="search_query_results_view_table" class="default-cursor" cellpadding="0" cellspacing="0">\n      <thead>\n      <tr>\n\n      <% if ( messageCount > 0 ) { %>\n        <td class="offset" data-sumo-test="col-#">#</td>\n      <% } %>\n\n    <% if (searchByReceiptTime && messageCount > 0 && !hideReceiptTime) { %>\n        <td class="timestamp" data-sumo-test="col-<%= __.msg_column_label_receipt_time %>"><%= __.msg_column_label_receipt_time %></td>\n    <% } %>\n\n    <%\n      for (var p = 0; p < visibleFields.length; p++) {\n        var visibleField    = visibleFields[p];\n        var _cssClass       = "parsed";\n        var _thisFieldType  = visibleField.type;\n        var tooltip         = visibleField.name;\n        var dataSumoTest    = "col-" + visibleField.nickname;\n\n        if (_thisFieldType == FieldTypeEnum.INT || _thisFieldType == FieldTypeEnum.LONG || _thisFieldType == FieldTypeEnum.DOUBLE) {\n            _cssClass += " num";\n        }\n        if ( visibleField.name === "_messagetime" ) {\n          _cssClass = "timestamp";\n        }\n        if ( visibleField.name === "_raw" ) {\n          _cssClass = "message";\n          tooltip   = "";\n        } else {\n          _cssClass = _cssClass + \' column-\' + tooltip;\n        }\n    %>\n        <td class="<%attr= _cssClass %>" title="<%attr= tooltip %>">\n          <div class = "parsed_field_wrapper">\n            <span class="messageTableHeaderLabel" data-sumo-test="<%attr= dataSumoTest %>"><%= visibleField.nickname %></span>\n            <span class="headerCopyFieldnameButton" data="<%attr= visibleField.name %>"></span>\n          </div>\n        </td>\n    <%\n      }\n    %>\n\n      </tr>\n      </thead>\n      <tbody></tbody>\n    </table>\n\n  <% } %>\n</div>\n'},98176:function(e){e.exports='<div id="search-query-messages-toolbar-view" class="prada">\n\n  <div id="search-query-field-browser-toggler" class="off"></div>\n\n  <div id="search-query-messages-pager" style="float: left;"></div>\n  <div id="logreduce-button-container" class="search-qck-act">\n    <button id="logreduce-button" class="sumo-button -small -secondary">\n      <%= __.logreduce_button_label %>\n    </button>\n  </div>\n  <div id="summarize-delta-button-container" class="search-qck-act">\n    <summarize-delta-button id="summarize-delta-button">\n    </summarize-delta-button>\n  </div>\n  <div id="show-target-message-button-container"  class="search-qck-act">\n    <button id="show-target-message-button" class="sumo-button -small -secondary"><%= __.show_target_message_button_label %></button>\n  </div>\n  <div id="messages-settings-menu" style="float: right;">\n    <div id="messages-settings-controller" class="icon-btn">\n      <div id="messages-settings-controller-icon" data-sumo-test="messages-settings-controller-icon" class="icon icon--gear" title="<%attr= __.search_settings %>"></div>\n    </div>\n    <div id="messages-settings-view"></div>\n  </div>\n  <div id="histogram-selection-timerange" style="float: right;">\n  </div>\n  <% if (!useExpandCollapseMenu) {%>\n  <div id="jsonAction__ctr">\n    <span class="sumo-link toggleCollapseExpand active" data-action="expand"><%= expandAllLabel %></span>\n    <span class="sumo-link toggleCollapseExpand" data-action="collapse"><%= collapseAllLabel %></span>\n  </div>\n  <% } else { %>\n    <div id="expandCollapseMenu"></div>\n  <% } %>\n  <div id="search-query-messages-export" style="float: right;"></div>\n</div>\n'},4258:function(e){e.exports='<table cellpadding="0" cellspacing="0" id="search-query-messages-wrapper-table">\n  <tr>\n    <td id="search-query-messages-wrapper-column-fields">\n      <div id="search-query-fields-wrapper" class="off widerFieldBrowser" >\n        <div id="search-query-fields">\n        </div>\n      </div>\n      <div id="search-query-fields-loader"></div>\n    </td>\n\n    <td id="search-query-messages-wrapper-column-messages">\n      <table cellpadding="0" cellspacing="0"\n             id="search-query-messages-wrapper-column-messages-table-wrapper">\n        <tr id="search-query-messages-wrapper-column-messages-table-wrapper-row-toolbar">\n          <td>\n            <div id="search-query-messages-toolbar" style="padding-left: 30px;">\n            </div>\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <div id="search-query-messages-table" class="fixed-header">\n            </div>\n            <div id="search-query-messages-results-status" class="search-query-results-status">\n              <div class="search-results-status-search-not-running query-status"><%= __.search_results_status_search_not_running %></div>\n              <div class="search-results-status-search-paused query-status"><%= __.search_results_status_search_paused %></div>\n              <div class="search-results-status-search-running query-status" data-spinner="<%attr= __.search_results_status_search_running %>"></div>\n              <div class="search-results-status-retrieving-results query-status" data-spinner="<%attr= __.search_results_status_retrieving_results %>"></div>\n              <div class="search-results-status-search-no-results query-status"><%= __.search_results_status_search_no_results %></div>\n            </div>\n          </td>\n        </tr>\n      </table>\n    </td>\n  </tr>\n</table>\n'},29264:function(e){e.exports='<div id="search-query-results-tabs">\n  <ul class="search-query-results-tabs">\n    <li>\n      <a href="<%attr= hrefs.messagesHref %>"><%= __.tab_messages %></a>\n    </li>\n    <li>\n      <a href="<%attr= hrefs.aggregateHref %>"><%= __.tab_aggregates %></a>\n    </li>\n    <li>\n      <a href="<%attr= hrefs.summarizeHref %>"><%= __.tab_summarize %></a>\n    </li>\n  </ul>\n  <div id="search-switch-actions-container">\n    <a id="change-to-classic-btn" class="action-button" title="<%attr= __.search_results_change_to_classic %>">\n      <%= __.search_results_change_to_classic %>\n    </a>\n    <a id="change-to-new-table-btn" class="action-button" title="<%attr= __.search_results_change_to_new_table %>">\n      <%= __.search_results_change_to_new_table %>\n    </a>\n  </div>\n  <div id="search-results-actions-container">\n    <div id="expand-results-btn" class="action-button icon-btn" title="<%attr= __.search_results_show_max_mode_button %>">\n      <div class="icon icon--arrows-expand" data-sumo-test="expand-results-btn"></div>\n    </div>\n    <div id="shrink-results-btn" class="action-button icon-btn" title="<%attr= __.search_results_show_normal_mode_button %>">\n      <div class="icon icon--arrows-collapse" data-sumo-test="shrink-results-btn"></div>\n    </div>\n  </div>\n  <% if(UISearchMessagesTabReact) { %>\n    <div id="search-results-tab-messages"></div>\n  <% } else { %>\n    <div id="search-results-tab-messages">\n      <div id="search-query-messages-wrapper">\n        <div id="search-query-messages">\n        </div>\n      </div>\n    </div>\n  <% } %>\n  <div id="search-results-tab-aggregates">\n    <div id="aggregate-records"></div>\n  </div>\n  <div id="search-results-tab-summarize">\n    <div id="summarize-records"></div>\n  </div>\n</div>\n\n\n'},77315:function(e){e.exports='<div id="summarize-actions-view">\n  <div id="feedback-actions">\n    <div id="undo-feedback-button" class="action-button is-disabled icon-btn">\n      <div class="icon icon--undo" title="<%attr= __.summarize_action_undo %>"></div>\n    </div>\n    <div id="redo-feedback-button" class="action-button is-disabled icon-btn">\n      <div class="icon icon--redo" title="<%attr= __.summarize_action_redo %>"></div>\n    </div>\n  </div>\n  <div class="spacer">&nbsp;</div>\n  <div id="view-details-action-button" class="action-button is-disabled sumo-button -small -secondary">\n    <%= __.summarize_action_label_view_details %>\n  </div>\n\n  <div id="summarize-export-controls">\n    <div id="summarize-export-container"></div>\n    <div id="summarize-export-button" data-sumo-test="summarize-export-button" title="<%attr= __.summarize_action_label_export %>" class="action-button icon-btn">\n      <span class="icon icon--download"></span>\n    </div>\n  </div>\n</div>\n'},26500:function(e){e.exports='<%\nvar bShowAnomalyColumn = records && records.length > 0 && records[0]["_isdelta"] == "true";\nvar bShowRelevanceDiffusion = bSortEnabled  && !searchQueryModel.isSummarizeDeltaQuery();\nvar bIsSummarizeV2Query = searchQueryModel.isSummarizeV2Query();\n%>\n\n<div class="summarize-records-table-view">\n  <table cellpadding="0" cellspacing="0">\n    <thead>\n    <tr>\n      <td class="offset">#</td>\n      <td class="check"><%= __.summarize_column_label_select %></td>\n      <td class="count <%attr= countSortClass %>">\n        <span><%= __.summarize_column_label_count %></span>\n        <span class="icon icon--caret-up"></span>\n        <span class="icon icon--caret-down"></span>\n      </td>\n      <% if (bShowRelevanceDiffusion) { %>\n      <td class="relevance <%attr= relevanceSortClass %>"><%= __.summarize_column_label_relevance %>\n        <span class="icon icon--caret-up"></span>\n        <span class="icon icon--caret-down"></span>\n      </td>\n      <% } %>\n      <% if(bShowAnomalyColumn && bSortEnabled) { %>\n      <td class="anomaly <%attr= relevanceSortClass %>"><%= __.summarize_column_label_anomaly %>\n        <span class="icon icon--caret-up"></span>\n        <span class="icon icon--caret-down"></span>\n      </td>\n      <% } else if (bShowAnomalyColumn) { %>\n      <td class="anomaly <%attr= relevanceSortClass %>"><%= __.summarize_column_label_anomaly %></td>\n      <% } %>\n      <td class="actions"><%= __.summarize_column_label_actions %></td>\n      <td class="cluster"><%= __.summarize_column_label_cluster %></td>\n    </tr>\n    </thead>\n    <tbody>\n\n    <%\n    var pStar = new RegExp("(\\\\\\*+)", "g");\n    var rStar = \'<span class="star">$1</span>\';\n    var rowClass = \'\';\n\n    for (var i = 0; i < records.length; i++) {\n    var record = records[i];\n    var _offset = SumoUtil.formatNumber((page * recordsPerPage) + 1 + i);\n    var isLastRow = (i == records.length - 1) || (_offset - 1 === SumoUtil.formatNumber(((page+1) * recordsPerPage))) ? \' lastSignature\' : \'\';\n    var _id = record["_id"];\n    var _count = Number(record["_count"]);\n    var _countStr = SumoUtil.formatNumber(record["_count"]);\n    var _countStrClass = (_countStr && _countStr !== \'0\') ? \'view-details-link\' : \'\';\n    var _countStrTitle = (_countStr && _countStr !== \'0\') ? __.summarize_action_label_view_details : \'\';\n    var relevanceTemp = record["_relevance"];\n    var _relevanceStr = (relevanceTemp) ? SumoUtil.formatDouble(relevanceTemp, 2) : "";\n    var _isL2 = _count > 1;\n    var _isOthers = record["_isothers"] == "true";\n    var _isFeedbackUpdated = record["_iscorrectnessupdated"] == "true";\n    var _isFeedbackNew = record["_issplitnew"] == "true";\n    var _isUndoUpdated = false;\n    var _isRelevanceUpdated = record["_isrelevanceupdated"] == "true";\n    var _isThumbsUpActive = record["_isfavorite"] == "true";\n    var _isThumbsDownActive = record["_isdisliked"] == "true";\n\n    var _cluster = SumoUtil.encode(record["_signature"]);\n    _cluster = _cluster.replace(pStar, rStar);\n\n    var _isDelta = record["_isdelta"] == "true";\n    var _isNew = record["_isnew"] == "true";\n    var _deltaPct = Number(record["_deltapercentage"]);\n    var tempAnomalyScore = record["_anomalyscore"];\n    var _anomalyScore = \'0.00\';\n    if (tempAnomalyScore) {\n      tempAnomalyScore = Number(tempAnomalyScore);\n      if (tempAnomalyScore >= 0.01) {\n        _anomalyScore = SumoUtil.formatDouble(tempAnomalyScore, 2);\n      }\n    }\n\n    var _delta = "";\n    var _isGone = false;\n    if (_isDelta) {\n    if (_isNew) {\n    _delta = __.summarize_delta_new_cluster;\n    } else {\n    if (_count == 0) {\n    _isGone = true;\n    _delta = __.summarize_delta_cluster_gone;\n    } else {\n    if (_deltaPct == 0) {\n    _delta = "0%";\n    } else {\n    if (_deltaPct > -1 && _deltaPct < 1) {\n    _deltaPct = _deltaPct.toFixed(2);\n    } else if (_deltaPct > -10 && _deltaPct < 10) {\n    _deltaPct = _deltaPct.toFixed(1);\n    } else {\n    _deltaPct = _deltaPct.toFixed(0);\n    }\n\n    var pct = SumoUtil.formatNumber(_deltaPct + "");\n    var sign = "";\n    if (_deltaPct > 0) {\n    sign = "+";\n    }\n\n    _delta = sign + pct + "%";\n    }\n    }\n    }\n    }\n\n\n    if(_isOthers) {\n    rowClass = \'others-cluster\';\n    }\n    else if(_isFeedbackUpdated) {\n    rowClass = bIsUndoOperation ? \'feedback-undo-cluster\' : \'feedback-updated-cluster\';\n    }\n    else if(_isFeedbackNew) {\n    rowClass = \'feedback-new-cluster\';\n    }\n    else if(_isUndoUpdated) {\n    rowClass = \'feedback-undo-cluster\';\n    }\n    else if(_isRelevanceUpdated && _isThumbsUpActive) {\n    rowClass = \'feedback-thumbsup-updated\';\n    }\n    else if(_isRelevanceUpdated && _isThumbsDownActive) {\n    rowClass = \'feedback-thumbsdown-updated\';\n    }\n    else {\n    rowClass = \'\';\n    }\n\n    %>\n    <tr class="<%attr= rowClass %>">\n      <td class="offset"><%= _offset %></td>\n      <td class="check">\n        <% if (!_isGone) { %>\n        <input type="checkbox" name="_check" value="<%attr= SumoApp.priv.hasFlagClusterIdInDetails() ? (_id || OTHERS_SIGNATURE_ID) : _offset %>"/>\n        <% } %>\n      </td>\n      <td class="count">\n        <span class="<%attr= _countStrClass %>" title="<%attr= _countStrTitle %>"><%= _countStr %></span>\n        <div class="delta"><%= _delta %></div>\n      </td>\n      <% if (bShowRelevanceDiffusion) { %>\n      <td class="relevance">\n        <%= _relevanceStr %>\n      </td>\n      <% } %>\n      <% if(bShowAnomalyColumn) { %>\n      <td class="anomaly">\n        <%= _anomalyScore %>\n      </td>\n      <% } %>\n      <td class="actions">\n        <% if (!_isOthers) { %>\n          <input type="hidden" name="_id" value="<%attr= _id %>"/>\n          <span class="icon-btn action-icon thumbsup-icon <%attr= _isThumbsUpActive === true ? \'is-active\' : \'\' %>" title="<%attr= _isThumbsUpActive ? __.summarize_action_thumbsup_done : __.summarize_action_thumbsup %>">\n            <span class="icon--thumbs-up"></span>\n          </span>\n          <span class="icon-btn action-icon thumbsdown-icon <%attr= _isThumbsDownActive === true ? \'is-active\' : \'\' %>" title="<%attr= _isThumbsDownActive ? __.summarize_action_thumbsdown_done : __.summarize_action_thumbsdown%>">\n            <span class="icon--thumbs-down"></span>\n          </span>\n          <span class="icon-btn action-icon <%attr= _isL2 ? \'explode-icon\' : \'explode-icon-disabled is-disabled\' %>" title="<%attr= _isL2 ? __.summarize_action_explode : \'\' %>">\n            <span class="icon--arrows-expand"></span>\n          </span>\n          <span class="icon-btn action-icon <%attr= !_isGone ? \'edit-icon\' : \'edit-icon-disabled is-disabled\' %>" title="<%attr= !_isGone ? __.summarize_action_edit : \'\' %>">\n            <span class="icon--pencil"></span>\n          </span>\n        <% } else if (bIsSummarizeV2Query && SumoApp.priv.hasFlagUISummarizeExplodeOthers()) { %>\n          <span class="icon-btn action-icon -others <%attr= _isL2 ? \'explode-icon\' : \'explode-icon-disabled is-disabled\' %>" title="<%attr= _isL2 ? __.summarize_action_explode : \'\' %>">\n            <span class="icon--arrows-expand"></span>\n          </span>\n        <% } %>\n      </td>\n      <td class="cluster<%attr= isLastRow %><%attr= _isGone ? \' is-disabled\' : \'\' %>">\n        <pre class="m" id="msg-sig-<%attr= _offset %>"><%dangerousUnescapedHTML= _cluster %></pre>\n      </td>\n    </tr>\n    <% } %>\n\n    </tbody>\n  </table>\n  <div id="summarize-records-table-notes">\n    <%= __.summarize_note_only_one_cluster %>\n  </div>\n</div>\n<div id="editModeContainer" class="editMode"></div>\n'},18632:function(e){e.exports='<div id="summarize-records-toolbar-view">\n  <div id="summarize-records-pager">\n  </div>\n  <div id="summarize-delta-button-container-2">\n    <summarize-delta-button id="summarize-delta-button">\n    </summarize-delta-button>\n  </div>\n  <div id="summarize-actions-container">\n  </div>\n  <div id="summarize-feedback-status"><img alt=\'loading\' height="16" width="16" src="<%%attr= window.dynamicPublicPath %>images/spin.gif"></div>\n</div>\n'},78061:function(e){e.exports='<div id="summarize-records-toolbar">\n</div>\n<div id="summarize-records-table" class="fixed-header <%attr=tableClass%>">\n</div>\n<div id="summarize-records-results-status" class="search-query-results-status">\n  <div class="search-results-status-search-not-running"><%= __.search_results_status_search_not_running %></div>\n  <div class="search-results-status-search-running" data-spinner="<%attr= __.search_results_status_search_running %>">\n  </div>\n  <div class="search-results-status-retrieving-results" data-spinner="<%attr= __.search_results_status_retrieving_results %>">\n  </div>\n  <div class="search-results-status-search-no-results"><%= __.search_results_status_search_no_results %></div>\n</div>\n'},23257:function(e){e.exports='<div class="perf-head">\n  <%dangerousUnescapedHTML=subHeader%>\n</div>\n<ul class="perf-ex-list">\n<% for(var i in examples){%>\n  <li><%dangerousUnescapedHTML=examples[i]%></li>\n<%}%>\n</ul>\n<div class="prada button-container">\n  <button class="button action-button"><%=__.load_confirm%></button>\n</div>\n'},25037:function(e){e.exports='<% if (!UIScannedBytesFF || (UIScannedBytesFF && searchQueryId !== null)) {%>\n  <% if(status) { %>\n    <td class="k"><%= __.label_status_caps %>:</td>\n    <td class="v" data-sumo-test="query-stat-data"><%= status %></td>\n  <% } %>\n\n  <td class="optimize-status-icon">\n    <% if(optimizationStatus != null) { %>\n    <% if(optimizationStatus == "OPTIMIZED_SUCCESSFULLY") { %>\n    <div class="optimizeit-icon optimized" id="optimize-successful-icon" title="<%attr= __.query_optimization_successful %>"></div>\n    <% } else { %>\n    <div class="optimizeit-icon" id="optimize-pending-icon" title="<%attr= __.query_optimization_in_process %>"></div>\n    <% } %>\n    <% } %>\n  </td>\n\n  <% if(status) { %>\n    <td class="k"><%= __.label_runtime_caps %>:</td>\n    <td class="v" id="elapsedTime" data-sumo-test="query-stat-data"><%= runtimeMillis %></td>\n    <% if(!hideStats) { %>\n      <td class="k"><%= __.label_messages_caps %>:</td>\n      <td class="v" data-sumo-test="query-stat-data"><%= messageCount  %></td>\n    <% } %>\n    <% if(searchQueryId) { %>\n      <td class="k k-ssid"><%= __.label_session_caps %>:</td>\n      <td class="v v-ssid" data-sumo-test="query-stat-data"><%= searchQueryId  %></td>\n    <% } %>\n  <% } %>\n<% }%>\n'},50339:function(e){e.exports='<div id="search-query-stats-info-view">\n  <table cellspacing="0" cellpadding="0" id="search-query-stats-info-table" data-sumo-test="<%= metaDataTestAttribute.queryStatsInfoTable %>">\n    <% if (labelScannedBytes && scannedBytes) {%>\n      <tr>\n        <td data-sumo-test="<%= metaDataTestAttribute.totalScanLabel %>" class="stat-info-label" data-sumo-test="query-stat-label"><%= labelScannedBytes %></td>\n        <td class="stat-info-content"><%= scannedBytes %></td>\n      </tr>\n      <% if (scannedBytesByTier) {%>\n        <% for (var i = 0,tiers = Object.keys(scannedBytesByTier); i < tiers.length; i++) { %>\n          <tr>\n            <td class="stat-info-label" data-sumo-test="query-stat-label"><%= __[\'label_scan_tier_\'+tiers[i]] %></td>\n            <td class="stat-info-content"><%= scannedBytesByTier[tiers[i]] %></td>\n          </tr>\n        <% } %>\n      <% } %>\n    <% } %>\n    <tr>\n      <td class="stat-info-label" data-sumo-test="query-stat-label"><%= __.label_status %></td>\n      <td class="stat-info-content"><%= status %></td>\n    </tr>\n    <tr>\n      <td class="stat-info-label" data-sumo-test="query-stat-label"><%= __.label_error_msg %></td>\n      <td class="stat-info-content"><pre><%= errorMessage %></pre></td>\n    </tr>\n    <tr>\n      <td class="stat-info-label" data-sumo-test="query-stat-label"><%= __.label_started_at %></td>\n      <td class="stat-info-content"><%= searchQueryStartedAt %></td>\n    </tr>\n    <tr>\n      <td class="stat-info-label" data-sumo-test="query-stat-label"><%= __.label_runtime %></td>\n      <td class="stat-info-content"><%= runtimeMillis %></td>\n    </tr>\n    <% if (!hideStats) {%>\n      <tr>\n        <td class="stat-info-label" data-sumo-test="query-stat-label"><%= __.label_messages %></td>\n        <td class="stat-info-content"><%= messageCount %></td>\n      </tr>\n    <% } %>\n    <% if(searchQueryId) { %>\n      <tr>\n        <td class="stat-info-label" data-sumo-test="query-stat-label"><%= __.label_session %></td>\n        <td class="stat-info-content"><%= searchQueryId %></td>\n      </tr>\n    <% } %>\n    <tr>\n      <td class="stat-info-label" data-sumo-test="query-stat-label"><%= __.label_timerange_text %></td>\n      <td class="stat-info-content"><%= timerangeText %></td>\n    </tr>\n    <% if (!hideStats) {%>\n    <tr>\n      <td class="stat-info-label" data-sumo-test="query-stat-label"><%= __.label_start %></td>\n      <td class="stat-info-content"><%= startTimestampString %></td>\n    </tr>\n    <tr>\n      <td class="stat-info-label" data-sumo-test="query-stat-label"><%= __.label_end %></td>\n      <td class="stat-info-content"><%= endTimestampString %></td>\n    </tr>\n    <% } %>\n    <tr>\n      <td class="stat-info-label" data-sumo-test="query-stat-label"><%= __.label_browser_timezone %></td>\n      <td class="stat-info-content"><%= browserTimeZone %></td>\n    </tr>\n    <tr>\n      <td class="stat-info-label" data-sumo-test="query-stat-label"><%= __.label_search_expression %></td>\n      <td class="stat-info-content"><pre><%= searchExpression %></pre></td>\n    </tr>\n  <% if (searchShortCode) { %>\n    <tr>\n      <td class="stat-info-label" data-sumo-test="query-stat-label"><%= __.label_search_short_code %></td>\n        <td class="stat-short-code">\n          <% if (searchShortCode === "loading") { %>\n            <div class="loading-code">\n              <div class="spinner is-visible"></div>\n              <span class="loading-text"><%= __.label_generating_code %></span>\n            </div>\n          <% } else { %>\n            _code=<%= searchShortCode %>\n          <% } %>\n        </td>\n    </tr>\n  <% } %>\n  <% if (optimizationStatus != null) { %>\n    <tr>\n      <td class="stat-info-label" data-sumo-test="query-stat-label"><%= __.label_optimization_status %></td>\n      <% if(optimizationStatus == "OPTIMIZED_SUCCESSFULLY") { %>\n        <td class="stat-info-content"><%= __.query_optimized_brief %></td>\n      <% } else { %>\n        <td class="stat-info-content"><%= __.query_optimization_in_process_brief %></td>\n      <% } %>\n    </tr>\n  <% } %>\n  </table>\n  <div>&nbsp;</div>\n</div>\n'},27297:function(e){e.exports='  <div id="search-progress-indicator-container"></div>\n  <div id="search-status-text-container">\n  <% if (searchQueryId == null && !searchQueryStatusData.UIScannedBytesFF) { %>\n        <span class="v"><%= __.text_no_search %></span>\n  <% } else { %>\n      <table cellspacing="0" cellpadding="0" class="search-query-stats-details">\n        <tr class="search-query-stats-details-row">\n            <td class="query-status">\n              <div class="status-i <%attr=statusClasses ? statusClasses : \'\'%>"></div>\n            </td>\n        </tr>\n      </table>\n      <table cellspacing="0" cellpadding="0" class="search-query-stats-details">\n        <tr class="search-query-status-data">\n        <%dangerousUnescapedHTML=searchQueryStatusDataTemplate(searchQueryStatusData)%>\n        </tr>\n      </table>\n      <table cellspacing="0" cellpadding="0" class="search-query-stats-details">\n        <tr>\n          <td id="load-indicator" class="v load-indicator <%= difficulty ? difficulty.toLowerCase() : \'\'%> " colspan="2">\n            <span class="k"><%= __.label_load_caps %>:</span>\n            <span class="v v-perf">\n              <span class="perf-rect"></span>\n              <span class="perf-rect"></span>\n              <span class="perf-rect"></span>\n            </span>\n          </td>\n        </tr>\n      </table>\n      <table cellspacing="0" cellpadding="0" class="search-query-stats-details">\n        <tr>\n          <td style="width: 30px;">&nbsp;</td>\n          <td id="search-actions-in-status">&nbsp;</td>\n        </tr>\n      </table>\n  <% }; %>\n  </div>\n\n'},27841:function(e){e.exports='<div class="prada">\n  <div id="search-view">\n      <div id="search-input-area" class="parameterized">\n        <div id="log-query-editor"></div>\n        <div id="search-other">\n          <div id="search-other-contents">\n            <div id="tre-search-tabbable" tabindex="0"></div>\n            <div id="tre-search" class="tre-search-container"></div>\n            <div id="tre-search-tabbable-2" tabindex="0"></div>\n            <div id="search-scanned-size-btn"></div>\n            <div id="search-query-actions-compact-react" class="search-query-actions-compact-react"></div>\n            <div id="search-query-start-container"></div>\n            <div id="search-settings-button" class="search-settings"></div>\n            <div id="search-actions-menu" class="search-actions"></div>\n          </div>\n        </div>\n      </div>\n      <div id="search-create-parameter-wrapper">\n        <div id="search-actions__create-parameter" class="search-actions_content"></div>\n      </div>\n      <div id="search-view-upper">\n      <div id="search-errors-warnings-react"></div>\n      <div id="search-errors"></div>\n      <div id="search-warnings"></div>\n      <div id="search-info"></div>\n      <div id="search-query-histogram-wrapper">\n        <div id="search-query-histogram-container">\n          <div id="search-query-histogram-reduced" resize-broadcaster></div>\n        </div>\n        <div id="search-query-stats"></div>\n        <div id="sq-histo-actions">\n          <span class="sq-action-show" title="<%attr= __.tooltip_show_histo %>"> <%= __.show_histo %></span>\n          <span class="sq-action-hide" title="<%attr= __.tooltip_hide_histo %>"> <%= __.hide %></span>\n        </div>\n      </div>\n    </div>\n    <div id=\'search-view-overlay\'></div>\n    <div id="search-view-lower">\n      <div id="search-query-facets">\n      </div>\n      <div id="search-query-results" data-sumo-test="search-query-results">\n      </div>\n    </div>\n  </div>\n</div>\n'},64223:function(e){e.exports='<div class="search-warnings collapsed">\n  <% if ( warnings.length > 1 ) { %>\n    <div class="search-warnings__highlight">\n      <div class="search-warnings__highlight__content legacy-prada prada">\n        <div class="icon inline-warning-icon search-warnings__icon"></div>\n        <div class="search-warnings__text"> <%= warnings.length %> <%= __.warning_message %> </div>\n        <div class="search-warnings__show"><%= __.show_all %></div>\n        <div class="search-warnings__hide"><%= __.hide_all %></div>\n      </div>\n      <div class="search-warnings__close legacy-prada prada">\n        <div class="icon inline-close-btn search-warnings__close-btn"></div>\n      </div>\n    </div>\n  <% } else if ( warnings.length === 1 ) { %>\n    <div class="search-warnings__highlight">\n      <div class="search-warnings__highlight__content legacy-prada prada">\n        <div class="icon inline-warning-icon search-warnings__icon"></div>\n        <div class="search-warnings__text"> <%dangerousUnescapedHTML= warnings[0] %> </div>\n      </div>\n      <div class="search-warnings__close legacy-prada prada">\n        <div class="icon inline-close-btn search-warnings__close-btn"></div>\n      </div>\n    </div>\n  <% } %>\n  <% if ( warnings.length > 1 ) { %>\n    <div class="search-warnings__container">\n      <% for (var i = 0; i < warnings.length; i++) { %>\n        <div class="search-warnings__item">\n          <div class="icon inline-warning-icon search-warnings__icon"></div>\n          <div><%dangerousUnescapedHTML= warnings[i] %></div>\n        </div>\n      <% } %>\n    </div>\n  <% } %>\n</div>\n'},55799:function(e){e.exports='<div>\n  <p><%dangerousUnescapedHTML= __.SIGNATURE_EDIT_INTRO %></p>\n  <div id="generate-error-div">&nbsp;</div>\n  <form id="signatureEditForm">\n    <div class="gp-preference-item">\n      <label><%= __.SIGNATURE %></label>\n      <pre id="signatureEdit-signature"><%= signatureText %></pre>\n    </div>\n    <div class="signatureEditToolbar">\n      <input id="submit-signature" class="action-button" type="button" value="<%attr= _.isNull(id) ? __.CREATE : __.UPDATE %>">\n      <input id="cancel-signature" class="action-button secondary-button" type="button" value="<%attr= __.CANCEL %>">\n      <input id="undo-signature" class="action-button secondary-button" type="button" value="<%attr= __.UNDO %>">\n      <div class="spinner-message signature-updating">\n        <div class="spinner is-visible"></div>\n        <div class="spinner-message__message"><%= _.isNull(id) ? __.CREATING : __.UPDATING %></div>\n      </div>\n    </div>\n  </form>\n</div>\n'},43287:function(e,t,i){"use strict";i.r(t),i.d(t,{renderDialog:function(){return u},unmountDialog:function(){return h}});var s=i(21902),n=i.n(s),a=i(63541),r=i(90818),o=i.n(r),l=i(13851);const d=({confirmFn:e,cancelFn:t,expireAt:i})=>n().createElement(a.Dialog,{open:!0,dialogSize:"regular"},n().createElement(a.Dialog.Title,null,l.j.get("account.DISABLE_SUPPORT_ACCOUNT_DIALOG_TITLE")),n().createElement(a.Dialog.Content,null,n().createElement("div",{className:o().dialogContent},l.j.get("account.DISABLE_SUPPORT_ACCOUNT_DIALOG_CONTENT_1")),n().createElement("div",{className:o().dialogContent},l.j.get("account.DISABLE_SUPPORT_ACCOUNT_DIALOG_CONTENT_2"),n().createElement("b",null,i)),n().createElement("div",null,l.j.get("account.DISABLE_SUPPORT_ACCOUNT_DIALOG_CONTENT_3"))),n().createElement(a.Dialog.Actions,null,n().createElement(a.Button,{color:"secondary",onClick:t},l.j.get("account.CANCEL")),n().createElement(a.Button,{color:"destructive",onClick:e},l.j.get("account.DISABLE"))));var c=i(5350);const u=({confirmCallback:e,cancelCallback:t,expireAt:i,el:n})=>{c.render(s.createElement(d,{expireAt:i,confirmFn:e,cancelFn:t}),n)},h=e=>{c.unmountComponentAtNode(e)}},35075:function(e,t,i){"use strict";i.r(t);i(72218);var s=i(89131);s.bootstrap(document,["sumoApp"],{strictDi:!0})},88409:function(e,t,i){"use strict";i.r(t);i(26480);var s=i(89131);s.bootstrap(document,["sumoApp"],{strictDi:!0})},97358:function(e,t,i){var s=i(87758)((function(e){return e[1]}));s.push([e.id,"._1xzAo6hcUMbvBMI5h4pg3j{width:445px}._2Vg9Ah1nv_mq2Q_YOqdRqk{margin-bottom:8px}",""]),s.locals={dialog:"_1xzAo6hcUMbvBMI5h4pg3j",dialogContent:"_2Vg9Ah1nv_mq2Q_YOqdRqk"},e.exports=s},9682:function(e){"use strict";e.exports=JSON.parse('{"smartling":{"translate_mode":"all","placeholder_format_custom":["_EXP_DAYS_","_PLAN_NAME_","%s"]},"text_email":"Email","text_code":"Code","text_code1":"Code 1","text_code2":"Code 2","text_password":"Password","text_remember":"Remember this computer for 30 days","button_login":"Sign in","button_submit":"Submit","text_logging_in":"Signing in...","text_forgot_pwd":"Forgot your password?","dialog_forgot_password":"Forgot Password","text_details":"Details","text_error":"Error","text_verify_credentials":"Please verify your credentials.","text_account_expired":"Your account has expired,","text_customer_deactivated":"Your organization has been deactivated.","text_max_sessions_exceeded":"Maximum number of sessions exceeded.","text_user_disabled":"Your account has been deactivated. Please contact your system administrator.","text_ip_not_allowlisted_error":"This IP address is not authorized for access to Sumo Logic.","text_redirection_prefix":"No user account in the deployment.","text_error_expired_demo_user":"Your demo account has expired. Please contact Sumo Logic to continue using the service.","text_free_trial_link":"Please click here to register for a free account using your own infrastructure.","title_warning_browser_not_supported":"Browser Not Supported","text_warning_browser_not_supported":"We\'ve noticed that you are using an unsupported browser, %s. We can\'t guarantee that all features will work as expected. Please upgrade to the latest version of %s, %s, %s, or %s.","text_firefox_link_text":"Firefox","url_firefox_link":"http://www.mozilla.org/en-US/firefox/","text_chrome_link_text":"Chrome","url_chrome_link":"http://www.google.com/chrome","text_safari_link_text":"Safari","url_safari_link":"http://www.apple.com/safari/","text_edge_link_text":"Microsoft Edge","url_edge_link":"https://microsoft.com/edge","text_session_timeout":"Your session with the Sumo Logic service has expired. Please sign in again. <a href=\'https://help.sumologic.com?cid=4040\' target=\'_blank\' rel=\'noopener\'>Learn how to adjust your session timeout value here</a>.","text_invalid_reset_id":"The password recovery link you clicked is no longer valid. It has either expired or already been clicked. If you already clicked it previously, look for another email with your new temporary password. To restart the process, click the forgot password link on this form.","text_invalid_simple_reset_id":"The password recovery link you clicked is no longer valid. It has either expired or has already been used. To restart the process, click the forgot password link on this form.","text_throttled_reset":"Request failed - Only one request per minute from an IP address is allowed. Please wait a moment and try again.","text_refresh_page":"Your browser has an older version of SumoLogic. Please try again.","text_session_invalid_activation_code":"Looks like you\'ve already activated your account. Please sign in.","text_saml_rate_limited_error":"Saml authentication rate limit exceeded. Please try again later.","text_saml_no_provider_error":"Saml provider not found. Please check your url.","text_saml_user_limit_error":"User limit reached. Cannot create a new user. Please contact your system administrator.","text_saml_on_demand_disabled_error":"New user on demand provisioning disabled. Please contact your system administrator.","text_saml_error":"There was an error during the SAML login. Please contact your system administrator.","text_otp_error":"There was an error during the Support Account login. Please contact your system administrator.","more_cowbell":"Come on! More cowbell please!","password_required":"Please enter a password.","email_required":"Please enter an email address.","url_redirect_path":"/json/v1/authentication/redirectedloginwithcredentials","login_switch":"Please login to change your organization.","login_switch_idle_error":"Your current session longest idle time exceeds the session timeout configured for the organization you have switched to. Please login again. <a href=\'https://help.sumologic.com?cid=5011\' target=\'_blank\' rel=\'noopener\'>Learn More</a>.","login_switch_error":"There was an internal error. Please login to change your organization.","change_email_login":"Please login with your new email address.","two_step_verification_label":"2-Step Verification","two_step_verification_instruction":"Enter the verification code generated by your auth app.","two_step_verification_codes_instruction":"You have exceeded the permitted number of attempts to enter a verification code. You must now enter two verification codes from your authenticator client: Enter the current code, wait 30 seconds until a new code is shown in the authenticator, and then enter the new code.","mfa_exceeded":"You entered too many invalid 2-Step Verfication codes. Please login again.","two_step_verification_use_backup":"Use Backup Code Instead","two_step_verification_use_verification":"Use Verification Code Instead","two_step_verification_backup_instruction":"Enter one of the backup codes previously generated for Sumo Logic.","error_heroku_email_already_exists_text":"It looks like this email address is already registered with Sumo Logic.<br>To use the Sumo Logic Heroku add-on, first uninstall the add-on, then please use a different email address in Heroku to install again.<br><br>Need help? <a class=\'sumo-link\' href=\\"https://support.sumologic.com/\\">Contact Sumo Logic Support</a>.","error_heroku_too_many_users_text":"Your organization has already reached the limit of allowed user accounts in Sumo Logic. Please contact your Sumo Logic administrator to resolve this. <br><br>Need help? <a class=\'sumo-link\' href=\\"https://support.sumologic.com/\\">Contact Sumo Logic Support</a>.","error_heroku_org_not_found_text":"Your organization cannot be found.","error_heroku_internal_error_text":"There was an internal error and you could not be logged in at this time.","error_heroku_login_disabled_due_to_overage_text":"You have exceeded the data limit for your Sumo Logic add-on subscription. Due to this overage, login is disabled. In order to restore access, please upgrade your Sumo Logic add-on subscription or reduce the amount of data sent. <br><br>Need help? <a class=\'sumo-link\' href=\\"https://help.heroku.com/\\" target=\\"_blank\\" rel=\\"noopener\\">Contact Heroku Support</a>.","error_lockedout_matcher":"locked out of your account","activation_title":"Activate Your Account","activation_email":"Email","activation_lastname":" Last Name","activation_firstname":"First Name","activation_organization":"Organization","activation_phone":"Phone","activation_orgsize":"Organization Size","activation_orgsize_placeholder":"Select your organization size...","activation_country":"Country","activation_state":"State","activation_state_placeholder":"Select your State...","activation_province":"Province","activation_province_placeholder":"Select your Province...","activation_create_password":"Create a Password","activation_confirm_password":"Confirm Password","activation_password_helper":"Passwords must be 8-128 characters long, include at least one lowercase and uppercase letter, number and special characters.","activation_accept_sla":"I accept the <a href=\'https://www.sumologic.com/terms-conditions/\' target=\'_blank\' rel=\'noopener\' class=\'sumo-link\'>Terms and Conditions</a>","activation_can_contact":"Yes, I\'d like to opt-in to Sumo Logic communications","activation_submit_label":"Activate","activation_missing_val":"Please fill in %s","whoops":"Whoops!","activation_expired_msg1":"Looks like your link has expired. Activation links are only active for three days.","activation_expired_msg2":"But don\'t worry, you can request a new trial using the button below.","activation_expired_btn":"Get Free Trial","invalid_token_message":"The Activation Token you used is invalid","pwd_min_chars":"Minimum 8 characters","pwd_max_chars":"Maximum 128 characters","pwd_uppercase":"Uppercase letter (A-Z)","pwd_lowercase":"Lowercase letter (a-z)","pwd_number":"Number (0-9)","pwd_special_char":"Special characters","pwd_special_char_tooltip":"Special characters include ^+.=!-_*|,&quot;<>[]{}`\';()@&amp;$#%","pwd_start_end_space":"Cannot start or end with a space","pwd_both_match":"Both passwords match","leading_or_trailing_space_error":"Password cannot start or end with a space","new_same_as_current_error":"Password is the same as the current password","new_different_from_confirm_error":"Passwords do not match","password_policy_status_title":"Password must contain","password_strength_label":"Password Strength","illuminate_banner_text":"Join us Sep. 12-13 at Illuminate, Sumo Logic\'s first user conference!","illuminate_banner_link":"Register today","hds_message":"Hitachi Data Systems Corporation is a reseller of Sumo Logic SaaS solution.","hds_logo_alt":"Hitachi Data Systems","zz":true}')},64058:function(e){"use strict";e.exports=JSON.parse('{"smartling":{"translate_mode":"all","placeholder_format_custom":["_EXP_DAYS_","_PLAN_NAME_","%s"]},"nations":[{"id":4,"name":"Afghanistan","alpha2":"af","alpha3":"AFG"},{"id":248,"name":"land Islands","alpha2":"ax","alpha3":"ALA"},{"id":8,"name":"Albania","alpha2":"al","alpha3":"ALB"},{"id":12,"name":"Algeria","alpha2":"dz","alpha3":"DZA"},{"id":16,"name":"American Samoa","alpha2":"as","alpha3":"ASM"},{"id":20,"name":"Andorra","alpha2":"ad","alpha3":"AND"},{"id":24,"name":"Angola","alpha2":"ao","alpha3":"AGO"},{"id":660,"name":"Anguilla","alpha2":"ai","alpha3":"AIA"},{"id":10,"name":"Antarctica","alpha2":"aq","alpha3":"ATA"},{"id":28,"name":"Antigua and Barbuda","alpha2":"ag","alpha3":"ATG"},{"id":32,"name":"Argentina","alpha2":"ar","alpha3":"ARG"},{"id":51,"name":"Armenia","alpha2":"am","alpha3":"ARM"},{"id":533,"name":"Aruba","alpha2":"aw","alpha3":"ABW"},{"id":36,"name":"Australia","alpha2":"au","alpha3":"AUS"},{"id":40,"name":"Austria","alpha2":"at","alpha3":"AUT"},{"id":31,"name":"Azerbaijan","alpha2":"az","alpha3":"AZE"},{"id":44,"name":"Bahamas","alpha2":"bs","alpha3":"BHS"},{"id":48,"name":"Bahrain","alpha2":"bh","alpha3":"BHR"},{"id":50,"name":"Bangladesh","alpha2":"bd","alpha3":"BGD"},{"id":52,"name":"Barbados","alpha2":"bb","alpha3":"BRB"},{"id":112,"name":"Belarus","alpha2":"by","alpha3":"BLR"},{"id":56,"name":"Belgium","alpha2":"be","alpha3":"BEL"},{"id":84,"name":"Belize","alpha2":"bz","alpha3":"BLZ"},{"id":204,"name":"Benin","alpha2":"bj","alpha3":"BEN"},{"id":60,"name":"Bermuda","alpha2":"bm","alpha3":"BMU"},{"id":64,"name":"Bhutan","alpha2":"bt","alpha3":"BTN"},{"id":68,"name":"Bolivia (Plurinational State of)","alpha2":"bo","alpha3":"BOL"},{"id":535,"name":"Bonaire, Sint Eustatius and Saba","alpha2":"bq","alpha3":"BES"},{"id":70,"name":"Bosnia and Herzegovina","alpha2":"ba","alpha3":"BIH"},{"id":72,"name":"Botswana","alpha2":"bw","alpha3":"BWA"},{"id":74,"name":"Bouvet Island","alpha2":"bv","alpha3":"BVT"},{"id":76,"name":"Brazil","alpha2":"br","alpha3":"BRA"},{"id":86,"name":"British Indian Ocean Territory","alpha2":"io","alpha3":"IOT"},{"id":96,"name":"Brunei Darussalam","alpha2":"bn","alpha3":"BRN"},{"id":100,"name":"Bulgaria","alpha2":"bg","alpha3":"BGR"},{"id":854,"name":"Burkina Faso","alpha2":"bf","alpha3":"BFA"},{"id":108,"name":"Burundi","alpha2":"bi","alpha3":"BDI"},{"id":132,"name":"Cabo Verde","alpha2":"cv","alpha3":"CPV"},{"id":116,"name":"Cambodia","alpha2":"kh","alpha3":"KHM"},{"id":120,"name":"Cameroon","alpha2":"cm","alpha3":"CMR"},{"id":124,"name":"Canada","alpha2":"ca","alpha3":"CAN"},{"id":136,"name":"Cayman Islands","alpha2":"ky","alpha3":"CYM"},{"id":140,"name":"Central African Republic","alpha2":"cf","alpha3":"CAF"},{"id":148,"name":"Chad","alpha2":"td","alpha3":"TCD"},{"id":152,"name":"Chile","alpha2":"cl","alpha3":"CHL"},{"id":156,"name":"China","alpha2":"cn","alpha3":"CHN"},{"id":162,"name":"Christmas Island","alpha2":"cx","alpha3":"CXR"},{"id":166,"name":"Cocos (Keeling) Islands","alpha2":"cc","alpha3":"CCK"},{"id":170,"name":"Colombia","alpha2":"co","alpha3":"COL"},{"id":174,"name":"Comoros","alpha2":"km","alpha3":"COM"},{"id":178,"name":"Congo","alpha2":"cg","alpha3":"COG"},{"id":180,"name":"Congo (Democratic Republic of the)","alpha2":"cd","alpha3":"COD"},{"id":184,"name":"Cook Islands","alpha2":"ck","alpha3":"COK"},{"id":188,"name":"Costa Rica","alpha2":"cr","alpha3":"CRI"},{"id":384,"name":"Cte d\'Ivoire","alpha2":"ci","alpha3":"CIV"},{"id":191,"name":"Croatia","alpha2":"hr","alpha3":"HRV"},{"id":192,"name":"Cuba","alpha2":"cu","alpha3":"CUB"},{"id":531,"name":"Curaao","alpha2":"cw","alpha3":"CUW"},{"id":196,"name":"Cyprus","alpha2":"cy","alpha3":"CYP"},{"id":203,"name":"Czechia","alpha2":"cz","alpha3":"CZE"},{"id":208,"name":"Denmark","alpha2":"dk","alpha3":"DNK"},{"id":262,"name":"Djibouti","alpha2":"dj","alpha3":"DJI"},{"id":212,"name":"Dominica","alpha2":"dm","alpha3":"DMA"},{"id":214,"name":"Dominican Republic","alpha2":"do","alpha3":"DOM"},{"id":218,"name":"Ecuador","alpha2":"ec","alpha3":"ECU"},{"id":818,"name":"Egypt","alpha2":"eg","alpha3":"EGY"},{"id":222,"name":"El Salvador","alpha2":"sv","alpha3":"SLV"},{"id":226,"name":"Equatorial Guinea","alpha2":"gq","alpha3":"GNQ"},{"id":232,"name":"Eritrea","alpha2":"er","alpha3":"ERI"},{"id":233,"name":"Estonia","alpha2":"ee","alpha3":"EST"},{"id":231,"name":"Ethiopia","alpha2":"et","alpha3":"ETH"},{"id":238,"name":"Falkland Islands (Malvinas)","alpha2":"fk","alpha3":"FLK"},{"id":234,"name":"Faroe Islands","alpha2":"fo","alpha3":"FRO"},{"id":242,"name":"Fiji","alpha2":"fj","alpha3":"FJI"},{"id":246,"name":"Finland","alpha2":"fi","alpha3":"FIN"},{"id":250,"name":"France","alpha2":"fr","alpha3":"FRA"},{"id":254,"name":"French Guiana","alpha2":"gf","alpha3":"GUF"},{"id":258,"name":"French Polynesia","alpha2":"pf","alpha3":"PYF"},{"id":260,"name":"French Southern Territories","alpha2":"tf","alpha3":"ATF"},{"id":266,"name":"Gabon","alpha2":"ga","alpha3":"GAB"},{"id":270,"name":"Gambia","alpha2":"gm","alpha3":"GMB"},{"id":268,"name":"Georgia","alpha2":"ge","alpha3":"GEO"},{"id":276,"name":"Germany","alpha2":"de","alpha3":"DEU"},{"id":288,"name":"Ghana","alpha2":"gh","alpha3":"GHA"},{"id":292,"name":"Gibraltar","alpha2":"gi","alpha3":"GIB"},{"id":300,"name":"Greece","alpha2":"gr","alpha3":"GRC"},{"id":304,"name":"Greenland","alpha2":"gl","alpha3":"GRL"},{"id":308,"name":"Grenada","alpha2":"gd","alpha3":"GRD"},{"id":312,"name":"Guadeloupe","alpha2":"gp","alpha3":"GLP"},{"id":316,"name":"Guam","alpha2":"gu","alpha3":"GUM"},{"id":320,"name":"Guatemala","alpha2":"gt","alpha3":"GTM"},{"id":831,"name":"Guernsey","alpha2":"gg","alpha3":"GGY"},{"id":324,"name":"Guinea","alpha2":"gn","alpha3":"GIN"},{"id":624,"name":"Guinea-Bissau","alpha2":"gw","alpha3":"GNB"},{"id":328,"name":"Guyana","alpha2":"gy","alpha3":"GUY"},{"id":332,"name":"Haiti","alpha2":"ht","alpha3":"HTI"},{"id":334,"name":"Heard Island and McDonald Islands","alpha2":"hm","alpha3":"HMD"},{"id":336,"name":"Holy See","alpha2":"va","alpha3":"VAT"},{"id":340,"name":"Honduras","alpha2":"hn","alpha3":"HND"},{"id":344,"name":"Hong Kong","alpha2":"hk","alpha3":"HKG"},{"id":348,"name":"Hungary","alpha2":"hu","alpha3":"HUN"},{"id":352,"name":"Iceland","alpha2":"is","alpha3":"ISL"},{"id":356,"name":"India","alpha2":"in","alpha3":"IND"},{"id":360,"name":"Indonesia","alpha2":"id","alpha3":"IDN"},{"id":364,"name":"Iran (Islamic Republic of)","alpha2":"ir","alpha3":"IRN"},{"id":368,"name":"Iraq","alpha2":"iq","alpha3":"IRQ"},{"id":372,"name":"Ireland","alpha2":"ie","alpha3":"IRL"},{"id":833,"name":"Isle of Man","alpha2":"im","alpha3":"IMN"},{"id":376,"name":"Israel","alpha2":"il","alpha3":"ISR"},{"id":380,"name":"Italy","alpha2":"it","alpha3":"ITA"},{"id":388,"name":"Jamaica","alpha2":"jm","alpha3":"JAM"},{"id":392,"name":"Japan","alpha2":"jp","alpha3":"JPN"},{"id":832,"name":"Jersey","alpha2":"je","alpha3":"JEY"},{"id":400,"name":"Jordan","alpha2":"jo","alpha3":"JOR"},{"id":398,"name":"Kazakhstan","alpha2":"kz","alpha3":"KAZ"},{"id":404,"name":"Kenya","alpha2":"ke","alpha3":"KEN"},{"id":296,"name":"Kiribati","alpha2":"ki","alpha3":"KIR"},{"id":408,"name":"Korea (Democratic People\'s Republic of)","alpha2":"kp","alpha3":"PRK"},{"id":410,"name":"Korea (Republic of)","alpha2":"kr","alpha3":"KOR"},{"id":414,"name":"Kuwait","alpha2":"kw","alpha3":"KWT"},{"id":417,"name":"Kyrgyzstan","alpha2":"kg","alpha3":"KGZ"},{"id":418,"name":"Lao People\'s Democratic Republic","alpha2":"la","alpha3":"LAO"},{"id":428,"name":"Latvia","alpha2":"lv","alpha3":"LVA"},{"id":422,"name":"Lebanon","alpha2":"lb","alpha3":"LBN"},{"id":426,"name":"Lesotho","alpha2":"ls","alpha3":"LSO"},{"id":430,"name":"Liberia","alpha2":"lr","alpha3":"LBR"},{"id":434,"name":"Libya","alpha2":"ly","alpha3":"LBY"},{"id":438,"name":"Liechtenstein","alpha2":"li","alpha3":"LIE"},{"id":440,"name":"Lithuania","alpha2":"lt","alpha3":"LTU"},{"id":442,"name":"Luxembourg","alpha2":"lu","alpha3":"LUX"},{"id":446,"name":"Macao","alpha2":"mo","alpha3":"MAC"},{"id":807,"name":"Macedonia (the former Yugoslav Republic of)","alpha2":"mk","alpha3":"MKD"},{"id":450,"name":"Madagascar","alpha2":"mg","alpha3":"MDG"},{"id":454,"name":"Malawi","alpha2":"mw","alpha3":"MWI"},{"id":458,"name":"Malaysia","alpha2":"my","alpha3":"MYS"},{"id":462,"name":"Maldives","alpha2":"mv","alpha3":"MDV"},{"id":466,"name":"Mali","alpha2":"ml","alpha3":"MLI"},{"id":470,"name":"Malta","alpha2":"mt","alpha3":"MLT"},{"id":584,"name":"Marshall Islands","alpha2":"mh","alpha3":"MHL"},{"id":474,"name":"Martinique","alpha2":"mq","alpha3":"MTQ"},{"id":478,"name":"Mauritania","alpha2":"mr","alpha3":"MRT"},{"id":480,"name":"Mauritius","alpha2":"mu","alpha3":"MUS"},{"id":175,"name":"Mayotte","alpha2":"yt","alpha3":"MYT"},{"id":484,"name":"Mexico","alpha2":"mx","alpha3":"MEX"},{"id":583,"name":"Micronesia (Federated States of)","alpha2":"fm","alpha3":"FSM"},{"id":498,"name":"Moldova (Republic of)","alpha2":"md","alpha3":"MDA"},{"id":492,"name":"Monaco","alpha2":"mc","alpha3":"MCO"},{"id":496,"name":"Mongolia","alpha2":"mn","alpha3":"MNG"},{"id":499,"name":"Montenegro","alpha2":"me","alpha3":"MNE"},{"id":500,"name":"Montserrat","alpha2":"ms","alpha3":"MSR"},{"id":504,"name":"Morocco","alpha2":"ma","alpha3":"MAR"},{"id":508,"name":"Mozambique","alpha2":"mz","alpha3":"MOZ"},{"id":104,"name":"Myanmar","alpha2":"mm","alpha3":"MMR"},{"id":516,"name":"Namibia","alpha2":"na","alpha3":"NAM"},{"id":520,"name":"Nauru","alpha2":"nr","alpha3":"NRU"},{"id":524,"name":"Nepal","alpha2":"np","alpha3":"NPL"},{"id":528,"name":"Netherlands","alpha2":"nl","alpha3":"NLD"},{"id":540,"name":"New Caledonia","alpha2":"nc","alpha3":"NCL"},{"id":554,"name":"New Zealand","alpha2":"nz","alpha3":"NZL"},{"id":558,"name":"Nicaragua","alpha2":"ni","alpha3":"NIC"},{"id":562,"name":"Niger","alpha2":"ne","alpha3":"NER"},{"id":566,"name":"Nigeria","alpha2":"ng","alpha3":"NGA"},{"id":570,"name":"Niue","alpha2":"nu","alpha3":"NIU"},{"id":574,"name":"Norfolk Island","alpha2":"nf","alpha3":"NFK"},{"id":580,"name":"Northern Mariana Islands","alpha2":"mp","alpha3":"MNP"},{"id":578,"name":"Norway","alpha2":"no","alpha3":"NOR"},{"id":512,"name":"Oman","alpha2":"om","alpha3":"OMN"},{"id":586,"name":"Pakistan","alpha2":"pk","alpha3":"PAK"},{"id":585,"name":"Palau","alpha2":"pw","alpha3":"PLW"},{"id":275,"name":"Palestine, State of","alpha2":"ps","alpha3":"PSE"},{"id":591,"name":"Panama","alpha2":"pa","alpha3":"PAN"},{"id":598,"name":"Papua New Guinea","alpha2":"pg","alpha3":"PNG"},{"id":600,"name":"Paraguay","alpha2":"py","alpha3":"PRY"},{"id":604,"name":"Peru","alpha2":"pe","alpha3":"PER"},{"id":608,"name":"Philippines","alpha2":"ph","alpha3":"PHL"},{"id":612,"name":"Pitcairn","alpha2":"pn","alpha3":"PCN"},{"id":616,"name":"Poland","alpha2":"pl","alpha3":"POL"},{"id":620,"name":"Portugal","alpha2":"pt","alpha3":"PRT"},{"id":630,"name":"Puerto Rico","alpha2":"pr","alpha3":"PRI"},{"id":634,"name":"Qatar","alpha2":"qa","alpha3":"QAT"},{"id":638,"name":"Runion","alpha2":"re","alpha3":"REU"},{"id":642,"name":"Romania","alpha2":"ro","alpha3":"ROU"},{"id":643,"name":"Russian Federation","alpha2":"ru","alpha3":"RUS"},{"id":646,"name":"Rwanda","alpha2":"rw","alpha3":"RWA"},{"id":652,"name":"Saint Barthlemy","alpha2":"bl","alpha3":"BLM"},{"id":654,"name":"Saint Helena, Ascension and Tristan da Cunha","alpha2":"sh","alpha3":"SHN"},{"id":659,"name":"Saint Kitts and Nevis","alpha2":"kn","alpha3":"KNA"},{"id":662,"name":"Saint Lucia","alpha2":"lc","alpha3":"LCA"},{"id":663,"name":"Saint Martin (French part)","alpha2":"mf","alpha3":"MAF"},{"id":666,"name":"Saint Pierre and Miquelon","alpha2":"pm","alpha3":"SPM"},{"id":670,"name":"Saint Vincent and the Grenadines","alpha2":"vc","alpha3":"VCT"},{"id":882,"name":"Samoa","alpha2":"ws","alpha3":"WSM"},{"id":674,"name":"San Marino","alpha2":"sm","alpha3":"SMR"},{"id":678,"name":"Sao Tome and Principe","alpha2":"st","alpha3":"STP"},{"id":682,"name":"Saudi Arabia","alpha2":"sa","alpha3":"SAU"},{"id":686,"name":"Senegal","alpha2":"sn","alpha3":"SEN"},{"id":688,"name":"Serbia","alpha2":"rs","alpha3":"SRB"},{"id":690,"name":"Seychelles","alpha2":"sc","alpha3":"SYC"},{"id":694,"name":"Sierra Leone","alpha2":"sl","alpha3":"SLE"},{"id":702,"name":"Singapore","alpha2":"sg","alpha3":"SGP"},{"id":534,"name":"Sint Maarten (Dutch part)","alpha2":"sx","alpha3":"SXM"},{"id":703,"name":"Slovakia","alpha2":"sk","alpha3":"SVK"},{"id":705,"name":"Slovenia","alpha2":"si","alpha3":"SVN"},{"id":90,"name":"Solomon Islands","alpha2":"sb","alpha3":"SLB"},{"id":706,"name":"Somalia","alpha2":"so","alpha3":"SOM"},{"id":710,"name":"South Africa","alpha2":"za","alpha3":"ZAF"},{"id":239,"name":"South Georgia and the South Sandwich Islands","alpha2":"gs","alpha3":"SGS"},{"id":728,"name":"South Sudan","alpha2":"ss","alpha3":"SSD"},{"id":724,"name":"Spain","alpha2":"es","alpha3":"ESP"},{"id":144,"name":"Sri Lanka","alpha2":"lk","alpha3":"LKA"},{"id":729,"name":"Sudan","alpha2":"sd","alpha3":"SDN"},{"id":740,"name":"Suriname","alpha2":"sr","alpha3":"SUR"},{"id":744,"name":"Svalbard and Jan Mayen","alpha2":"sj","alpha3":"SJM"},{"id":748,"name":"Swaziland","alpha2":"sz","alpha3":"SWZ"},{"id":752,"name":"Sweden","alpha2":"se","alpha3":"SWE"},{"id":756,"name":"Switzerland","alpha2":"ch","alpha3":"CHE"},{"id":760,"name":"Syrian Arab Republic","alpha2":"sy","alpha3":"SYR"},{"id":158,"name":"Taiwan","alpha2":"tw","alpha3":"TWN"},{"id":762,"name":"Tajikistan","alpha2":"tj","alpha3":"TJK"},{"id":834,"name":"Tanzania, United Republic of","alpha2":"tz","alpha3":"TZA"},{"id":764,"name":"Thailand","alpha2":"th","alpha3":"THA"},{"id":626,"name":"Timor-Leste","alpha2":"tl","alpha3":"TLS"},{"id":768,"name":"Togo","alpha2":"tg","alpha3":"TGO"},{"id":772,"name":"Tokelau","alpha2":"tk","alpha3":"TKL"},{"id":776,"name":"Tonga","alpha2":"to","alpha3":"TON"},{"id":780,"name":"Trinidad and Tobago","alpha2":"tt","alpha3":"TTO"},{"id":788,"name":"Tunisia","alpha2":"tn","alpha3":"TUN"},{"id":792,"name":"Turkey","alpha2":"tr","alpha3":"TUR"},{"id":795,"name":"Turkmenistan","alpha2":"tm","alpha3":"TKM"},{"id":796,"name":"Turks and Caicos Islands","alpha2":"tc","alpha3":"TCA"},{"id":798,"name":"Tuvalu","alpha2":"tv","alpha3":"TUV"},{"id":800,"name":"Uganda","alpha2":"ug","alpha3":"UGA"},{"id":804,"name":"Ukraine","alpha2":"ua","alpha3":"UKR"},{"id":784,"name":"United Arab Emirates","alpha2":"ae","alpha3":"ARE"},{"id":826,"name":"United Kingdom","alpha2":"gb","alpha3":"GBR"},{"id":840,"name":"United States of America","alpha2":"us","alpha3":"USA"},{"id":581,"name":"United States Minor Outlying Islands","alpha2":"um","alpha3":"UMI"},{"id":858,"name":"Uruguay","alpha2":"uy","alpha3":"URY"},{"id":860,"name":"Uzbekistan","alpha2":"uz","alpha3":"UZB"},{"id":548,"name":"Vanuatu","alpha2":"vu","alpha3":"VUT"},{"id":862,"name":"Venezuela (Bolivarian Republic of)","alpha2":"ve","alpha3":"VEN"},{"id":704,"name":"Viet Nam","alpha2":"vn","alpha3":"VNM"},{"id":92,"name":"Virgin Islands (British)","alpha2":"vg","alpha3":"VGB"},{"id":850,"name":"Virgin Islands (U.S.)","alpha2":"vi","alpha3":"VIR"},{"id":876,"name":"Wallis and Futuna","alpha2":"wf","alpha3":"WLF"},{"id":732,"name":"Western Sahara","alpha2":"eh","alpha3":"ESH"},{"id":887,"name":"Yemen","alpha2":"ye","alpha3":"YEM"},{"id":894,"name":"Zambia","alpha2":"zm","alpha3":"ZMB"},{"id":716,"name":"Zimbabwe","alpha2":"zw","alpha3":"ZWE"}],"states":{"AL":"Alabama","AK":"Alaska","AE":"Armed Forces","AA":"Armed Forces America","AP":"Armed Forces Pacific","AZ":"Arizona","AR":"Arkansas","CA":"California","CO":"Colorado","CT":"Connecticut","DE":"Delaware","DC":"Washington DC","FL":"Florida","GA":"Georgia","GU":"Guam","HI":"Hawaii","ID":"Idaho","IL":"Illinois","IN":"Indiana","IA":"Iowa","KS":"Kansas","KY":"Kentucky","LA":"Louisiana","ME":"Maine","MD":"Maryland","MA":"Massachusetts","MI":"Michigan","MN":"Minnesota","MS":"Mississippi","MO":"Missouri","MT":"Montana","NE":"Nebraska","NV":"Nevada","NH":"New Hampshire","NJ":"New Jersey","NM":"New Mexico","NY":"New York","NC":"North Carolina","ND":"North Dakota","OH":"Ohio","OK":"Oklahoma","OR":"Oregon","PA":"Pennsylvania","PR":"Puerto Rico","RI":"Rhode Island","SC":"South Carolina","SD":"South Dakota","TN":"Tennessee","TX":"Texas","UT":"Utah","VT":"Vermont","VI":"Virgin Islands","VA":"Virginia","WA":"Washington","WV":"West Virginia","WI":"Wisconsin","WY":"Wyoming"},"provinces":{"AB":"Alberta","BC":"British Columbia","MB":"Manitoba","NB":"New Brunswick","NL":"Newfoundland and Labrador","NS":"Nova Scotia","NT":"Northwest Territories","NU":"Nunavut","ON":"Ontario","PE":"Prince Edward Island","QC":"Quebec","SK":"Saskatchewan","YT":"Yukon"},"similarNames":{"USA":["United States"]},"zz":true}')},62670:function(e){"use strict";e.exports={zz:!0}},23969:function(e){"use strict";e.exports=JSON.parse('{"smartling":{"translate_mode":"all","placeholder_format_custom":["_EXP_DAYS_","_PLAN_NAME_","%s"]},"PWD_SPECIAL_CHARS_SYMBOLS":"^+.=!-_*|,\\"<>[]{}`\';()@&$#%","TITLE_CHANGE_PASSWORD":"Change Password","MSG_CHANGE_PASSWORD_REQUIRED":"To maintain security, create a new password for your Sumo Logic account.","TEXT_CURRENT_PASSWORD":"Current Password","TEXT_NEW_PASSWORD":"New Password","TEXT_NEW_PASSWORD_AGAIN":"Confirm Password","BUTTON_SUBMIT":"Submit","BUTTON_CANCEL":"Cancel","BUTTON_OK":"OK","TEXT_CHANGING_PASSWORD":"Changing password...","MSG_CHANGE_SUCCESS_TITLE":"Password Changed","MSG_CHANGE_SUCCESS":"Your password has been changed.<br><br>Press OK to continue to the application.","MSG_CHANGE_SUCCESS_PREFSPAGE":"Your password has been changed.","password_change_reload_warning_title":"Password Changed Required","password_change_reload_warning":"Your password must be changed.<br><br>Press OK to reload the change password form and change your password.","ERROR_TITLE":"Error","ERROR_CURRENT_PASSWORD_EMPTY":"Please enter your current password.","ERROR_NEW_PASSWORD_EMPTY":"Please enter a new password.","ERROR_SAME_AS_CURRENT_PASSWORD":"The new password cannot be the same as the current password.","ERROR_NEW_PASSWORDS_NOT_MATCH":"New passwords do not match.","ERROR_INVALID_SPACE_CHAR":"Spaces are not allowed.","ERROR_NOT_PASSING_RULES":"This password does not meet all the requirements. Please enter another password.","ERROR_NO_SPECIAL_CHARACTERS":"The password does not contain any special characters.  Special characters include %s","ERROR_CURRENT_PASSWORD_NOT_MATCH":"The password you entered does not match your current password. Please try again.","PRIVACY_POLICY":"Privacy Policy","zz":true}')},54400:function(e){"use strict";e.exports=JSON.parse('{"select_connection_type":"Select Connection Type","create_connection":"Create %%connectionType%% Connection","edit_connection":"Edit %%connectionType%% Connection","connection_type":"Connection Type","cancel":"Cancel","save":"Save","back":"Back","confirm_cancel":"Your progress won\'t be saved if you exit now. Are you sure you want to exit?","connections_deleted":"The connection <strong>%s</strong> was deleted.","yes":"Yes","no":"No","custom_headers":{"invalid_characters":"Invalid characters in custom headers","max_limit":"Maximum limit of five custom headers","invalid_format":"The custom headers format is invalid"},"defaults":{"help":{"payloadVariables":["<div class=\\"helptip__p -small\\">","Payload is a JSON string that includes the message text. The following variables can be included:<br/>","<div class=\\"helptip__section__title -small\\">Logs and Metrics</div>","<ul class=\\"helptip__list -small\\">","<li><span class=\\"bold\\">{{SearchName}}:</span> Name of the saved search or monitor.</li>","<li><span class=\\"bold\\">{{SearchDescription}}:</span> Description of the saved search or monitor.</li>","<li><span class=\\"bold\\">{{SearchQuery}}:</span> The query for the saved search or metrics query.</li>","<li><span class=\\"bold\\">{{SearchQueryUrl}}:</span> The URL link to the search or metrics query.</li>","<li><span class=\\"bold\\">{{TimeRange}}:</span> Time range used to run the search or time range that triggered the metrics alert.</li>","<li><span class=\\"bold\\">{{FireTime}}:</span> The start time of the search or time that metrics alert triggered.</li>","</ul>","<div class=\\"helptip__section__title -small\\">Metrics Only</div>","<ul class=\\"helptip__list -small\\">","<li><span class=\\"bold\\">{{AlertID}}:</span> The ID of the triggered alert.</li>","<li><span class=\\"bold\\">{{AlertStatus}}:</span> Current status of the time series that triggered (i.e., Critical or Warning).</li>","<li><span class=\\"bold\\">{{AlertThreshold}}:</span> The condition that triggered the alert (e.g., above 90 at least once in the last 5 minutes).</li>","<li><span class=\\"bold\\">{{AlertSource}}:</span> The metric and sourceHost that triggered the alert.</li>","<li><span class=\\"bold\\">{{AlertSource.fieldname}}:</span> The value returned from the AlertSource object for the specified field name.</li>","</ul>","<div class=\\"helptip__section__title -small\\">Logs Only</div>","<ul class=\\"helptip__list -small\\">","<li><span class=\\"bold\\">{{NumRawResults}}:</span> The total number of results returned by the search.</li>","<li><span class=\\"bold\\">{{RawResultsJson}}:</span> JSON object containing the first 10 raw message search results.</li>","<li><span class=\\"bold\\">{{AggregateResultsJson}}:</span> JSON object containing the first 200 aggregate search results.</li>","<li><span class=\\"bold\\">{{Results.fieldName}}:</span> The first 200 search result values for the specified field name.</li>","</ul>","</div>"],"newPayloadVariables":["<div class=\\"helptip__p -small\\">","Payload is a JSON string that includes the message text. The following variables can be included:<br/>","<ul class=\\"helptip__list -small\\">","<li><span class=\\"bold\\">{{AlertGroup}}:</span> The value of the Alert Group. </li>","<li><span class=\\"bold\\">{{AlertName}}:</span> Name of the Alert that will be displayed on the Alert page. The value can be customized using the Alert Name field above. If you do not require customization, use the {{Name}} variable.</li>","<li><span class=\\"bold\\">{{AlertResponseURL}}:</span> The URL link to the Alert Response page within Sumo Logic for the given notification.</li>","<li><span class=\\"bold\\">{{Description}}:</span> The description of the alert. </li>","<li><span class=\\"bold\\">{{DetectionMethod}}:</span> This is the type of Trigger Method used to detect alerts. At this time we only support Static threshold-based alerts. In the future, as we add other detection methods like anomaly and dynamic baselines, this will be updated.</li>","<li><span class=\\"bold\\">{{Id}}:</span> The unique identifier of the monitor or search that triggered the alert.</li>","<li><span class=\\"bold\\">{{MonitorType}}:</span> The type of alert, either Logs or Metrics. </li>","<li><span class=\\"bold\\">{{Name}}:</span> The name of the monitor. In the delivered payload, this variable is replaced by the name that you assign to the monitor.</li>","<li><span class=\\"bold\\">{{NumQueryResults}}:</span> The number of raw results the query returned. </li>","<li><span class=\\"bold\\">{{Playbook}}:</span> The content of the incident response playbook, configured under \\"Playbook\\" section of the monitor.</li>","<li><span class=\\"bold\\">{{Query}}:</span> The query used to run the alert. </li>","<li><span class=\\"bold\\">{{QueryURL}}:</span> The URL link to the search or metrics query within Sumo Logic.</li>","<li><span class=\\"bold\\">{{ResultsJSON}}:</span> JSON object containing the query results that triggered the alert.</li>","<li><span class=\\"bold\\">{{ResultsJSON.fieldName}}:</span> The value of the specified field name.</li>","<li><span class=\\"bold\\">{{SloDashboardUrl}}:</span> The URL to the SLO dashboard. </li>","<li><span class=\\"bold\\">{{SourceURL}}:</span> The URL to the configuration or status page of the monitor in Sumo Logic. </li>","<li><span class=\\"bold\\">{{TriggerCondition}}:</span> The condition that triggered the alert. </li>","<li><span class=\\"bold\\">{{TriggerTime}}:</span> The start time of the log or metric query that triggered the notification. </li>","<li><span class=\\"bold\\">{{TriggerTimeEnd}}:</span> The end time of the trigger time range. </li>","<li><span class=\\"bold\\">{{TriggerTimeRange}}:</span> The time range where the trigger condition on the query was met that generated the alert. </li>","<li><span class=\\"bold\\">{{TriggerTimeStart}}:</span> The start time of the trigger time range.</li>","<li><span class=\\"bold\\">{{TriggerType}}:</span> The status of the alert, either Normal, Critical, Warning, or Missing Data. </li>","<li><span class=\\"bold\\">{{TriggerValue}}:</span> The value of the trigger condition.</li>","</ul>","</div>"]}},"aws_labda_title":"AWS Lambda","connectionTypes":{"AWSLambda":{"label":"AWS Lambda","icon":"awslambda","iconWidth":true,"defaults":{"defaultPayload":"{\\n\\t\\"text\\": \\"{{SearchName}} ran over {{TimeRange}} at {{FireTime}}\\", \\n\\t\\"raw\\": \\"{{RawResultsJson}}\\", \\n\\t\\"num\\": \\"{{NumRawResults}}\\", \\n\\t\\"agg\\": \\"{{AggregateResultsJson}}\\" \\n}","newDefaultPayload":"{\\n\\t\\"text\\": \\"{{TriggerType}} Alert: {{AlertName}}\\", \\n\\t\\"description\\": \\"{{Description}}\\",\\n\\t\\"triggerTime\\": \\"{{TriggerTime}}\\",\\n\\t\\"timeRange\\": \\"{{TriggerTimeRange}}\\", \\n\\t\\"triggerCondition\\": \\"{{TriggerCondition}}\\", \\n\\t\\"triggerValue\\": \\"{{TriggerValue}}\\",\\n\\t\\"alertUrl\\": \\"{{AlertResponseURL}}\\",\\n\\t\\"query\\": \\"{{Query}}\\",\\n\\t\\"queryUrl\\": \\"{{QueryURL}}\\",\\n\\t\\"results\\": \\"{{ResultsJSON}}\\"\\n}"},"settings":{"hideHeaders":true,"showAWS":true,"instructions":"This webhook connection allows you to trigger an AWS Lambda function from a monitor or scheduled search.<br><a class=\\"sumo-link online-help-link\\" name=\\"1063\\">Learn More</a>"},"placeholders":{"url":"e.g., https://my-api-id.execute-api.region-id.amazonaws.com/test/mydemoresource","customHeaders":"X-API-Key:abcdef12345, Content-Encoding:gzip"},"help":{"defaultPayload":["<div class=\\"helptip__title\\">AWS Lambda Payload</div>","%%defaults.help.payloadVariables%%","<div class=\\"helptip__p -learn-more -last\\">","<a class=\\"helptip__learn-more online-help-link\\" name=\\"1063\\">Learn More</a>","</div>"]}},"Azure":{"label":"Azure Functions","icon":"azure","iconWidth":true,"defaults":{"defaultPayload":"{\\n\\t\\"text\\": \\"{{SearchName}} ran over {{TimeRange}} at {{FireTime}}\\", \\n\\t\\"raw\\": \\"{{RawResultsJson}}\\", \\n\\t\\"num\\": \\"{{NumRawResults}}\\", \\n\\t\\"agg\\": \\"{{AggregateResultsJson}}\\" \\n}","newDefaultPayload":"{\\n\\t\\"text\\": \\"{{TriggerType}} Alert: {{AlertName}}\\",\\n\\t\\"description\\": \\"{{Description}}\\",\\n\\t\\"timeRange\\": \\"{{TriggerTimeRange}}\\", \\n\\t\\"triggerCondition\\": \\"{{TriggerCondition}}\\", \\n\\t\\"triggerValue\\": \\"{{TriggerValue}}\\",\\n\\t\\"alertUrl\\": \\"{{AlertResponseURL}}\\",\\n\\t\\"query\\": \\"{{Query}}\\",\\n\\t\\"queryUrl\\": \\"{{QueryURL}}\\", \\n\\t\\"results\\": \\"{{ResultsJSON}}\\"\\n}"},"settings":{"instructions":"This webhook connection allows you to trigger an Azure function from a monitor or scheduled search.<br><a class=\\"sumo-link online-help-link\\" name=\\"1072\\">Learn More</a>"},"placeholders":{"url":"e.g., https://{function app name}.azurewebsites.net/api/{function name} ","customHeaders":"X-API-Key:abcdef12345, Content-Encoding:gzip"},"help":{"defaultPayload":["<div class=\\"helptip__title\\">Azure Payload</div>","%%defaults.help.payloadVariables%%","<div class=\\"helptip__p -learn-more -last\\">","<a class=\\"helptip__learn-more online-help-link\\" name=\\"1072\\">Learn More</a>","</div>"]}},"SumoCloudSOAR":{"label":"Cloud SOAR","icon":"sumocloudsoar","iconWidth":true,"defaults":{"defaultPayload":"{\\n\\t \\"template_id\\": null, \\n\\t \\"additionalInfo\\": \\"{{Description}}. View Query: {{QueryURL}}\\", \\n\\t \\"fields\\": { \\n\\t\\t \\"incidentid\\": \\"{{Name}}\\"\\n\\t} \\n}"},"settings":{"instructions":"This webhook connection allows you to send an alert from a scheduled search to Sumo Logic Cloud SOAR. <br><a class=\\"sumo-link online-help-link\\" name=\\"7339\\">Learn More</a>","authHeaderRequired":false},"placeholders":{"authHeaderPreFilled":"A system-generated authorization header has been pre-filled for you","authHeader":"Bearer <Auth Key>"},"help":{"defaultPayload":["<div class=\\"helptip__title\\">Available Variables</div>","%%defaults.help.payloadVariables%%","<div class=\\"helptip__p -learn-more -last\\">","<a class=\\"helptip__learn-more online-help-link\\" name=\\"1044\\">Learn More</a>","</div>"]}},"Datadog":{"label":"Datadog","icon":"datadog","iconWidth":true,"defaults":{"defaultPayload":"{ \\n\\t\\"title\\": \\"SumoLogic Alert: {{SearchName}}\\", \\n\\t\\"text\\": \\"%%% \\\\n Click [here]({{SearchQueryUrl}}) for more details \\\\n %%%\\", \\n\\t\\"priority\\":\\"high\\", \\n\\t\\"alert_type\\":\\"warning\\", \\n\\t\\"source_type_name\\":\\"sumo logic\\" \\n}","newDefaultPayload":"{\\n\\t\\"title\\": \\"{{TriggerType}} Alert: {{AlertName}}\\",\\n\\t\\"text\\": \\"%%% \\\\n Description: {{Description}}  \\\\n timeRange: {{TriggerTimeRange}}  \\\\n triggerCondition: {{TriggerCondition}}  \\\\n triggerValue: {{TriggerValue}}  \\\\n alertUrl: {{AlertResponseURL}}  \\\\n query: {{Query}}  \\\\n results: {{ResultsJSON}}  \\\\n num: {{NumQueryResults}}  \\\\n %%%\\", \\n\\t\\"priority\\": \\"high\\", \\"alert_type\\":\\"warning\\", \\n\\t\\"source_type_name\\":\\"sumo logic\\" \\n}"},"settings":{"hideHeaders":true,"instructions":"This webhook connection allows you to send an alert from a monitor or scheduled search to Datadog.<br><a class=\\"sumo-link online-help-link\\" name=\\"1047\\">Learn More</a>"},"placeholders":{"url":"e.g., https://app.datadoghq.com/api/v1/events?api_key=API_KEY","customHeaders":"Hint: X-API-Key:abcdef12345, Content-Type:application/json"},"help":{"defaultPayload":["<div class=\\"helptip__title\\">Datadog Payload</div>","%%defaults.help.payloadVariables%%","<div class=\\"helptip__p -learn-more -last\\">","<a class=\\"helptip__learn-more online-help-link\\" name=\\"1047\\">Learn More</a>","</div>"]}},"HipChat":{"label":"HipChat","icon":"hipchat","iconWidth":true,"defaults":{"defaultPayload":"{\\n\\t\\"color\\": \\"red\\",\\n\\t\\"message_format\\": \\"html\\",\\n\\t\\"message\\": \\"Sumo Logic Alert: {{SearchName}} - {{NumRawResults}} Results (<a href=\\\\\\"{{SearchQueryUrl}}\\\\\\">LINK</a>)\\",\\n\\t\\"notify\\": true,\\n\\t\\"card\\": {\\n\\t\\t\\"style\\": \\"link\\",\\n\\t\\t\\"url\\": \\"{{SearchQueryUrl}}\\",\\n\\t\\t\\"id\\": \\"<UNIQUE-ID>\\",\\n\\t\\t\\"title\\": \\"Sumo Logic Alert: {{SearchName}}\\",\\n\\t\\t\\"description\\": {\\n\\t\\t\\t\\"format\\": \\"html\\",\\n\\t\\t\\t\\"value\\": \\"<b>Description:</b> {{SearchDescription}} \\"\\n\\t\\t},\\n\\t\\t\\"icon\\": {\\n\\t\\t\\t\\"url\\": \\"https://service.sumologic.com/ui/images/app/icons/default.png\\"\\n\\t\\t}\\n\\t}\\n}","newDefaultPayload":"{\\n\\t\\"color\\": \\"red\\",\\n\\t\\"message_format\\": \\"html\\",\\n\\t\\"message\\": \\"{{TriggerType}} Alert: {{AlertName}}\\",\\n\\t\\"notify\\": true,\\n\\t\\"card\\": {\\n\\t\\t\\"style\\": \\"link\\",\\n\\t\\t\\"url\\": \\"{{AlertResponseURL}}\\",\\n\\t\\t\\"id\\": \\"<UNIQUE-ID>\\",\\n\\t\\t\\"title\\": \\"Sumo Logic Alert: {{AlertName}}\\",\\n\\t\\t\\"description\\": {\\n\\t\\t\\t\\"format\\": \\"html\\",\\n\\t\\t\\t\\"value\\": \\"<b>Description:</b> {{Description}} \\"\\n\\t\\t},\\n\\t\\t\\"query\\": \\"{{Query}}\\",\\n\\t\\t\\"timeRange\\": \\"{{TriggerTimeRange}}\\", \\n\\t\\t\\"triggerCondition\\": \\"{{TriggerCondition}}\\", \\n\\t\\t\\"triggerValue\\": \\"{{TriggerValue}}\\",\\n\\t\\t\\"results\\": \\"{{ResultsJSON}}\\",\\n\\t\\t\\"icon\\": {\\n\\t\\t\\t\\"url\\": \\"https://service.sumologic.com/ui/images/app/icons/default.png\\"\\n\\t\\t}\\n\\t}\\n}"},"settings":{"instructions":"This webhook connection allows you to send an alert from a monitor or scheduled search to HipChat.<br><a class=\\"sumo-link online-help-link\\" name=\\"1062\\">Learn More</a>"},"placeholders":{"url":"e.g., https://CUSTOMER.hipchat.com/v2/room/ROOM-ID/notification?auth_token=AUTHORIZATION-KEY","customHeaders":"Hint: X-API-Key:abcdef12345, Content-Type:application/json"},"help":{"defaultPayload":["<div class=\\"helptip__title\\">HipChat Payload</div>","%%defaults.help.payloadVariables%%","<div class=\\"helptip__p -learn-more -last\\">","<a class=\\"helptip__learn-more online-help-link\\" name=\\"1062\\">Learn More</a>","</div>"]}},"Jira":{"label":"Jira","icon":"jira","iconWidth":true,"defaults":{"defaultPayload":"{\\n  \\"fields\\": {\\n    \\"issuetype\\": {\\n      \\"name\\": \\"Bug\\"\\n    },\\n    \\"project\\": {\\n      \\"key\\": \\"\\"\\n    },\\n    \\"summary\\": \\"{{SearchName}}\\",\\n    \\"priority\\": {\\n      \\"id\\": \\"3\\"\\n    },\\n    \\"description\\": \\"{{SearchQueryUrl}}\\"\\n  }\\n}","newDefaultPayload":"{\\n\\t\\"fields\\": {\\n\\t\\t\\"issuetype\\": {\\n\\t\\t\\t\\"name\\": \\"Bug\\"\\n\\t\\t},\\n\\t\\t\\"project\\": {\\n\\t\\t\\t\\"key\\": \\"\\"\\n\\t\\t},\\n\\t\\t\\"summary\\": \\"{{TriggerType}} Alert: {{AlertName}}\\",\\n\\t\\t\\"priority\\": {\\n\\t\\t\\t\\"id\\": \\"3\\"\\n\\t\\t},\\n\\t\\t\\"description\\": \\"||AlertUrl||{{AlertResponseURL}}||\\\\n||timeRange||{{TriggerTimeRange}}||\\\\n||triggerCondition||{{TriggerCondition}}||\\\\n||triggerValue||{{TriggerValue}}||\\\\n||query||{{Query}}||\\\\n||queryURL||{{QueryURL}}||\\\\n||results||{{ResultsJSON}}||\\"\\n\\t}\\n}"},"settings":{"instructions":"This webhook connection allows you to send an alert from a monitor or scheduled search to Jira.<br><a class=\\"sumo-link online-help-link\\" name=\\"10441\\">Learn More</a>","authHeaderRequired":true},"placeholders":{"url":"e.g., https://sometest.atlassian.net/rest/api/2/issue/","projectKey":"<project-key>","authHeader":"Basic <Base64 API Token>"},"help":{"defaultPayload":["<div class=\\"helptip__title\\">Available Variables</div>","%%defaults.help.payloadVariables%%","<div class=\\"helptip__p -learn-more -last\\">","<a class=\\"helptip__learn-more online-help-link\\" name=\\"1044\\">Learn More</a>","</div>"]}},"MicrosoftTeams":{"label":"Microsoft Teams","icon":"microsoftteams","iconWidth":true,"defaults":{"defaultPayload":"{\\n  \\"@type\\": \\"MessageCard\\",\\n  \\"@context\\": \\"http://schema.org/extensions\\",\\n  \\"themeColor\\": \\"#000099\\",\\n  \\"summary\\": \\"Alert: {{TriggerType}} on {{Name}}\\",\\n  \\"sections\\": [\\n    {\\n      \\"activityTitle\\": \\"Alert: {{TriggerType}} on {{Name}}\\",\\n      \\"activitySubtitle\\": \\"Created On Date: {{TriggerTime}}\\",\\n      \\"activityImage\\": \\"https://www.sumologic.com/wp-content/uploads/sumo-logic-logo.png\\",\\n      \\"text\\": \\"{{Description}}\\",\\n      \\"facts\\": [\\n        {\\n          \\"name\\": \\"Query\\",\\n          \\"value\\": \\"{{Query}}\\"\\n        },\\n        {\\n          \\"name\\": \\"Trigger Condition\\",\\n          \\"value\\": \\"{{TriggerCondition}}\\"\\n        },\\n        {\\n          \\"name\\": \\"Trigger Value\\",\\n          \\"value\\": \\"{{TriggerValue}}\\"\\n        },\\n        {\\n          \\"name\\": \\"Trigger Time Range\\",\\n          \\"value\\": \\"{{TriggerTimeRange}}\\"\\n        },\\n        {\\n           \\"name\\": \\"Results\\",\\n            \\"value\\": \\"{{ResultsJson}}\\"\\n        }\\n      ],\\n      \\"markdown\\":\\"true\\"\\n    }\\n  ],\\n  \\"potentialAction\\": [\\n    {\\n      \\"@type\\": \\"OpenUri\\",\\n      \\"name\\": \\"View Query\\",\\n      \\"targets\\": [\\n        {\\n          \\"os\\": \\"default\\",\\n          \\"uri\\": \\"{{QueryURL}}\\"\\n        }\\n      ]\\n    }\\n  ]\\n}","newDefaultPayload":"{\\n\\t\\"@type\\": \\"MessageCard\\",\\n\\t\\"@context\\": \\"http://schema.org/extensions\\",\\n\\t\\"themeColor\\": \\"#000099\\",\\n\\t\\"summary\\": \\"{{TriggerType}} Alert: {{AlertName}}\\",\\n\\t\\"sections\\": [\\n\\t\\t{\\n\\t\\t\\t\\"activityTitle\\": \\"{{TriggerType}} Alert: {{AlertName}}\\",\\n\\t\\t\\t\\"activitySubtitle\\": \\"Created On Date: {{TriggerTime}}\\",\\n\\t\\t\\t\\"activityImage\\": \\"https://www.sumologic.com/wp-content/uploads/sumo-logic-logo.png\\",\\n\\t\\t\\t\\"text\\": \\"{{Description}}\\",\\n\\t\\t\\t\\"facts\\": [\\n \\t\\t\\t\\t{\\n \\t\\t\\t\\t\\t\\"name\\": \\"Description\\",\\n \\t\\t\\t\\t\\t\\"value\\": \\"{{Description}}\\"\\n \\t\\t\\t\\t},\\n \\t\\t\\t\\t{\\n \\t\\t\\t\\t\\t\\"name\\": \\"Trigger Time\\",\\n \\t\\t\\t\\t\\t\\"value\\": \\"{{TriggerTimeRange}}\\"\\n \\t\\t\\t\\t},\\n \\t\\t\\t\\t{\\n \\t\\t\\t\\t\\t\\"name\\": \\"Time Range\\",\\n \\t\\t\\t\\t\\t\\"value\\": \\"{{TimeRange}}\\"\\n \\t\\t\\t\\t},\\n \\t\\t\\t\\t{\\n \\t\\t\\t\\t\\t\\"name\\": \\"Trigger Condition\\",\\n \\t\\t\\t\\t\\t\\"value\\": \\"{{TriggerCondition}}\\"\\n \\t\\t\\t\\t},\\n \\t\\t\\t\\t{\\n \\t\\t\\t\\t\\t\\"name\\": \\"Trigger Value\\",\\n \\t\\t\\t\\t\\t\\"value\\": \\"{{TriggerValue}}\\"\\n \\t\\t\\t\\t},\\n \\t\\t\\t\\t{\\n \\t\\t\\t\\t\\t\\"name\\": \\"Alert URL\\",\\n \\t\\t\\t\\t\\t\\"value\\": \\"{{AlertResponseURL}}\\"\\n \\t\\t\\t\\t},\\n \\t\\t\\t\\t{\\n \\t\\t\\t\\t\\t\\"name\\": \\"Query\\",\\n \\t\\t\\t\\t\\t\\"value\\": \\"<{{QueryURL}} | {{Query}}>\\"\\n \\t\\t\\t\\t},\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\"name\\": \\"Results\\",\\n\\t\\t\\t\\t\\t\\"value\\": \\"{{ResultsJSON}}\\"\\n\\t\\t\\t\\t} \\t\\t\\t\\n\\t\\t\\t],\\n\\t\\t\\t\\"markdown\\":\\"true\\"\\n\\t\\t}\\n\\t],\\n\\t\\"potentialAction\\": [\\n\\t\\t{\\n\\t\\t\\t\\"@type\\": \\"OpenUri\\",\\n\\t\\t\\t\\"name\\": \\"View Alert\\",\\n\\t\\t\\t\\"targets\\": [\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\"os\\": \\"default\\",\\n\\t\\t\\t\\t\\t\\"uri\\": \\"{{AlertResponseURL}}\\"\\n\\t\\t\\t\\t}\\n\\t\\t\\t]\\n\\t\\t}\\n\\t]\\n}"},"settings":{"authHeaderRequired":false,"hideHeaders":true,"instructions":"This webhook connection allows you to send an alert from a monitor or scheduled search to Microsoft Teams.<br><a class=\\"online-help-link sumo-link\\" name=\\"10450\\">Learn More</a>"},"placeholders":{"url":"e.g., https://outlook.office.com/webhook/TEAM_ID/IncomingWebhook/ID","customHeaders":"Hint: X-API-Key:abcdef12345, Content-Type:application/json"},"help":{"defaultPayload":["<div class=\\"helptip__title\\">Microsoft Teams Payload</div>","%%defaults.help.payloadVariables%%","<div class=\\"helptip__p -learn-more -last\\">","<a class=\\"helptip__learn-more online-help-link\\" name=\\"1046\\">Learn More</a>","</div>"]}},"NewRelic":{"label":"New Relic","icon":"newrelic","iconWidth":true,"defaults":{"defaultPayload":"{\\n\\t\\"eventType\\": \\"{{SearchName}}\\", \\n\\t\\"description\\": \\"{{SearchDescription}}\\", \\n\\t\\"client\\": \\"Sumo Logic\\", \\n\\t\\"search_url\\": \\"{{SearchQueryUrl}}\\", \\n\\t\\"num_records\\": \\"{{NumRawResults}}\\", \\n\\t\\"search_results\\": \\"{{AggregateResultsJson}}\\" \\n}","newDefaultPayload":"{\\n\\t\\"eventType\\": \\"{{AlertName}}\\",\\n\\t\\"description\\": \\"{{Description}}\\",\\n\\t\\"client\\": \\"Sumo Logic\\",\\n\\t\\"text\\": \\"{{TriggerType}} Alert: {{AlertName}}\\",\\n\\t\\"timeRange\\": \\"{{TriggerTimeRange}}\\",\\n\\t\\"triggerCondition\\": \\"{{TriggerCondition}}\\",\\n\\t\\"triggerValue\\": \\"{{TriggerValue}}\\",\\n\\t\\"alertUrl\\": \\"{{AlertResponseURL}}\\",\\n\\t\\"query\\": \\"{{Query}}\\",\\n\\t\\"searchUrl\\": \\"{{QueryURL}}\\",\\n\\t\\"results\\": \\"{{ResultsJSON}}\\"\\n}"},"settings":{"hideHeaders":true,"instructions":"This webhook connection allows you to send an alert from a monitor or scheduled search to New Relic. <a class=\\"sumo-link online-help-link\\" name=\\"9008\\">Learn More</a>"},"placeholders":{"url":"e.g., https://insights-collector.newrelic.com/v1/accounts/YOUR_ACCOUNT_ID/events","insertKey":"This value will be sent with the header \\"X-Insert-Key\\"","customHeaders":"Hint: X-API-Key:abcdef12345, Content-Type:application/json"},"help":{"defaultPayload":["<div class=\\"helptip__title\\">New Relic Payload</div>","%%defaults.help.payloadVariables%%","<div class=\\"helptip__p -learn-more -last\\">","<a class=\\"helptip__learn-more online-help-link\\" name=\\"1046\\">Learn More</a>","</div>"]}},"Opsgenie":{"label":"Opsgenie","icon":"opsgenie","iconWidth":true,"defaults":{"defaultPayload":"{\\n \\"searchName\\": \\"{{SearchName}}\\", \\n \\"searchDescription\\": \\"{{SearchDescription}}\\", \\n \\"searchQuery\\": \\"{{SearchQuery}}\\", \\n \\"searchQueryUrl\\": \\"{{SearchQueryUrl}}\\", \\n \\"timeRange\\": \\"{{TimeRange}}\\", \\n \\"fireTime\\": \\"{{FireTime}}\\", \\n \\"rawResultsJson\\": \\"{{RawResultsJson}}\\", \\n \\"numRawResults\\": \\"{{NumRawResults}}\\", \\n \\"priority\\": \\"P3\\", \\n \\"aggregateResultsJson\\": \\"{{AggregateResultsJson}}\\" \\n}","newDefaultPayload":"{\\n\\t\\"AlertName\\": \\"{{AlertName}}\\",\\n\\t\\"Description\\": \\"{{Description}}\\",\\n\\t\\"action\\": \\"create\\",\\n\\t\\"AlertURL\\": \\"{{AlertResponseURL}}\\",\\n\\t\\"Query\\": \\"{{Query}}\\",\\n\\t\\"QueryURL\\": \\"{{QueryURL}}\\",\\n\\t\\"TriggerTime\\": \\"{{TriggerTime}}\\",\\n\\t\\"TriggerTimeRange\\": \\"{{TriggerTimeRange}}\\",\\n\\t\\"TriggerCondition\\": \\"{{TriggerCondition}}\\",\\n\\t\\"TriggerValue\\": \\"{{TriggerValue}}\\",\\n\\t\\"TriggerType\\": \\"{{TriggerType}}\\",\\n\\t\\"ResultsJson\\": \\"{{ResultsJSON}}\\",\\n\\t\\"DetectionMethod\\": \\"{{DetectionMethod}}\\",\\n\\t\\"MonitorType\\": \\"{{MonitorType}}\\",\\n\\t\\"NumQueryResults\\": \\"{{NumQueryResults}}\\",\\n\\t\\"SourceURL\\": \\"{{SourceURL}}\\"\\n}"},"settings":{"instructions":"This webhook connection allows you to send an alert from a monitor or scheduled search to Opsgenie.<br><a class=\\"sumo-link online-help-link\\" name=\\"10449\\">Learn More</a>"},"help":{"defaultPayload":["<div class=\\"helptip__title\\">Available Variables</div>","%%defaults.help.payloadVariables%%","<div class=\\"helptip__p -learn-more -last\\">","<a class=\\"helptip__learn-more online-help-link\\" name=\\"1044\\">Learn More</a>","</div>"]}},"PagerDuty":{"label":"PagerDuty","icon":"pagerduty","iconWidth":true,"defaults":{"defaultPayload":"{\\n\\t\\"service_key\\": \\"SERVICE KEY\\",\\n\\t\\"event_type\\": \\"trigger\\", \\n\\t\\"description\\": \\"SAMPLE DESCRIPTION\\", \\n\\t\\"client\\": \\"Sumo Logic\\", \\n\\t\\"client_url\\": \\"{{SearchQueryUrl}}\\" \\n}","newDefaultPayload":"{\\n\\t\\"service_key\\": \\"SERVICE KEY\\",\\n\\t\\"event_type\\": \\"trigger\\",\\n\\t\\"description\\": \\"{{TriggerType}} Alert:{{AlertName}}\\",\\n\\t\\"client\\": \\"Sumo Logic\\",\\n\\t\\"client_url\\": \\"{{AlertResponseURL}}\\",\\n\\t\\"details\\": {\\n\\t\\t\\"alertURL\\": \\"{{AlertResponseURL}}\\",\\n\\t\\t\\"triggerCondition\\": \\"{{TriggerCondition}}\\",\\n\\t\\t\\"triggerValue\\": \\"{{TriggerValue}}\\",\\n\\t\\t\\"triggerTime\\": \\"{{TriggerTime}}\\",\\n\\t\\t\\"triggerTimeRange\\": \\"{{TriggerTimeRange}}\\",\\n\\t\\t\\"query\\" : \\"{{Query}}\\",\\n\\t\\t\\"queryUrl\\" : \\"{{QueryURL}}\\",\\n\\t\\t\\"results\\": \\"{{ResultsJSON}}\\"\\n\\t}\\n}"},"settings":{"instructions":"This webhook connection allows you to send an alert from a monitor or scheduled search to PagerDuty.<br><a class=\\"sumo-link online-help-link\\" name=\\"1046\\">Learn More</a>"},"placeholders":{"url":"e.g., https://events.pagerduty.com/generic/2010-04-15/create_event.json","customHeaders":"Hint: X-API-Key:abcdef12345, Content-Type:application/json"},"help":{"defaultPayload":["<div class=\\"helptip__title\\">PagerDuty Payload</div>","%%defaults.help.payloadVariables%%","<div class=\\"helptip__p -learn-more -last\\">","<a class=\\"helptip__learn-more online-help-link\\" name=\\"1046\\">Learn More</a>","</div>"]}},"ServiceNowV2":{"label":"ServiceNow","icon":"servicenowv2","iconWidth":true,"defaults":{"defaultPayload":"{\\n\\t\\"short_description\\":\\"Alert: {{TriggerType}} on {{Name}}\\",\\n\\t\\"description\\":\\"Monitor Query: {{Query}} \\\\n Trigger Condition: {{TriggerCondition}} \\\\n Trigger Value: {{TriggerValue}} \\\\n Trigger Time Range:{{TriggerTimeRange}} \\\\n View Trigger Query: {{TriggerQueryURL}} \\\\n View Monitor: {{QueryURL}} \\\\n Results: {{ResultsJSON}}\\",\\n\\t\\"impact\\":\\"1\\",\\n\\t\\"work_notes\\":\\"[code]<strong>Monitor Query:</strong><pre><code>{{Query}}</pre></code><br><strong>Trigger Condition:</strong> <em>{{TriggerCondition}}</em><br><strong>Trigger Value:<strong> <em>{{TriggerValue}}<em><br><strong>Trigger Time Range:</strong> {{TriggerTimeRange}}<br><strong>View Trigger Query:</strong> <a href=\\\\\\"{{TriggerQueryURL}}\\\\\\">Trigger Query Link</a><br><strong>View Monitor:</strong> <a href=\\\\\\"{{QueryURL}}\\\\\\">Monitor Link</a><br><h3>Results:</h3> <pre><code>{{ResultsJSON}}</pre></code>[/code]\\"\\n}","newDefaultPayload":"{\\n\\t\\"short_description\\":\\"{{TriggerType}} Alert: {{AlertName}}\\",\\n\\t\\"description\\":\\"Alert URL: {{AlertResponseURL}} \\\\n Source Query: {{Query}} \\\\n Trigger Condition: {{TriggerCondition}} \\\\n Trigger Value: {{TriggerValue}} \\\\n Trigger Time Range:{{TriggerTimeRange}} \\\\n View Trigger Query: {{QueryURL}} \\\\n View Source: {{SourceURL}} \\\\n Results: {{ResultsJSON}}\\",\\n\\t\\"impact\\":\\"1\\",\\n\\t\\"work_notes\\":\\"[code]<strong>Alert URL:</strong><pre><code>{{AlertResponseURL}}</pre></code><br><strong>Source Query:</strong><pre><code>{{Query}}</pre></code><br><strong>Trigger Condition:</strong> <em>{{TriggerCondition}}</em><br><strong>Trigger Value:<strong> <em>{{TriggerValue}}<em><br><strong>Trigger Time Range:</strong> {{TriggerTimeRange}}<br><strong>View Trigger Query:</strong> <a href=\\\\\\"{{QueryURL}}\\\\\\">Trigger Query Link</a><br><strong>View Source:</strong> <a href=\\\\\\"{{SourceURL}}\\\\\\">Source Link</a><br><h3>Results:</h3> <pre><code>{{ResultsJSON}}</pre></code>[/code]\\"\\n}","defaultEventPayload":"{\\n\\t\\"source\\":\\"Sumo Logic\\",\\n\\t\\"type\\":\\"{{MonitorType}}\\",\\n\\t\\"node\\":\\"{{ResultsJSON._sourceHost}}\\",\\n\\t\\"metric_name\\":\\"{{Name}}\\",\\n\\t\\"description\\":\\"monitor Query: {{Query}}\\\\n Trigger Condition:{{TriggerCondition}}\\\\n Trigger Value:{{TriggerValue}}\\\\n Trigger Time Range:{{TriggerTimeRange}}\\\\n View Trigger Query:{{TriggerQueryURL}}\\\\n View Monitor:{{QueryURL}} \\\\n Results:{{ResultsJSON}}\\"\\n}","newDefaultEventPayload":"{\\n\\t\\"source\\":\\"Sumo Logic\\",\\n\\t\\"type\\":\\"{{MonitorType}}\\",\\n\\t\\"node\\":\\"{{ResultsJSON._sourceHost}}\\",\\n\\t\\"metric_name\\":\\"{{TriggerType}} Alert: {{AlertName}}\\",\\n\\t\\"description\\":\\"View Alert: {{AlertResponseURL}} \\\\nQuery: {{Query}}\\\\nTrigger Condition:{{TriggerCondition}}\\\\nTrigger Value:{{TriggerValue}}\\\\nTrigger Time: {{TriggerTime}} \\\\nTrigger Time Range:{{TriggerTimeRange}}\\\\nView Trigger Query:{{QueryURL}}\\\\nView Source:{{QueryURL}}\\\\nResults:{{ResultsJSON}}\\"\\n}"},"settings":{"hideHeaders":true,"instructions":"This webhook connection allows you to send an alert from a monitor or scheduled search to ServiceNow.<br><a class=\\"online-help-link sumo-link\\" name=\\"53501\\">Learn More</a>"},"placeholders":{"url":"e.g., https://xxx.service-now.com/","customHeaders":"Hint: X-API-Key:abcdef12345, Content-Type:application/json","authHeader":"Basic: \'password:username\' encoded in Base64"},"help":{"defaultPayload":["<div class=\\"helptip__title\\">ServiceNow Payload</div>","%%defaults.help.payloadVariables%%","<div class=\\"helptip__p -learn-more -last\\">","<a class=\\"helptip__learn-more online-help-link\\" name=\\"1046\\">Learn More</a>","</div>"]}},"ServiceNow":{"label":"ServiceNow (Legacy)","icon":"servicenow","iconWidth":true},"Slack":{"label":"Slack","icon":"slack","iconWidth":true,"defaults":{"defaultPayload":"{\\n \\t\\"attachments\\": [\\n \\t\\t{\\n \\t\\t\\t\\"pretext\\": \\"Sumo Logic Alert: *{{SearchName}}*\\",\\n \\t\\t\\t\\"fields\\": [\\n \\t\\t\\t\\t{\\n \\t\\t\\t\\t\\t\\"title\\": \\"Description\\",\\n \\t\\t\\t\\t\\t\\"value\\": \\"{{SearchDescription}}\\"\\n \\t\\t\\t\\t},\\n \\t\\t\\t\\t{\\n \\t\\t\\t\\t\\t\\"title\\": \\"Query\\",\\n \\t\\t\\t\\t\\t\\"value\\": \\"<{{SearchQueryUrl}} | {{SearchQuery}}>\\"\\n \\t\\t\\t\\t},\\n \\t\\t\\t\\t{\\n \\t\\t\\t\\t\\t\\"title\\": \\"Time Range\\",\\n \\t\\t\\t\\t\\t\\"value\\": \\"{{TimeRange}}\\"\\n \\t\\t\\t\\t}\\n \\t\\t\\t],\\n \\t\\t\\t\\"mrkdwn_in\\": [\\"text\\", \\"pretext\\"],\\n \\t\\t\\t\\"color\\": \\"#29A1E6\\"\\n \\t\\t}\\n \\t]\\n }","newDefaultPayload":"{\\n\\t\\"attachments\\": [\\n\\t\\t{\\n\\t\\t\\t\\"pretext\\": \\"{{TriggerType}} Alert: {{AlertName}}\\",\\n\\t\\t\\t\\"fields\\": [\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\"title\\": \\"Alert URL\\",\\n\\t\\t\\t\\t\\t\\"value\\": \\"{{AlertResponseURL}}\\"\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\"title\\": \\"Description\\",\\n\\t\\t\\t\\t\\t\\"value\\": \\"{{Description}}\\"\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\"title\\": \\"Trigger Time\\",\\n\\t\\t\\t\\t\\t\\"value\\": \\"{{TriggerTime}}\\"\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\"title\\": \\"Time Range\\",\\n\\t\\t\\t\\t\\t\\"value\\": \\"{{TriggerTimeRange}}\\"\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\"title\\": \\"Trigger Condition\\",\\n\\t\\t\\t\\t\\t\\"value\\": \\"{{TriggerCondition}}\\"\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\"title\\": \\"Trigger Value\\",\\n\\t\\t\\t\\t\\t\\"value\\": \\"{{TriggerValue}}\\"\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\"title\\": \\"Query\\",\\n\\t\\t\\t\\t\\t\\"value\\": \\"<{{QueryURL}} | {{Query}}>\\"\\n\\t\\t\\t\\t}\\n\\t\\t\\t],\\n\\t\\t\\t\\"mrkdwn_in\\": [\\"text\\", \\"pretext\\"],\\n\\t\\t\\t\\"color\\": \\"#29A1E6\\"\\n\\t\\t}\\n\\t]\\n}"},"settings":{"hideHeaders":true,"instructions":"This webhook connection allows you to send an alert from a monitor or scheduled search to Slack.<br><a class=\\"online-help-link sumo-link\\" name=\\"1045\\">Learn More</a>"},"placeholders":{"url":"e.g., https://hooks.slack.com/services/T1234567X/S1234567890","customHeaders":"Hint: X-API-Key:abcdef12345, Content-Type:application/json"},"help":{"defaultPayload":["<div class=\\"helptip__title\\">Slack Payload</div>","%%defaults.help.payloadVariables%%","<div class=\\"helptip__p -learn-more -last\\">","<a class=\\"helptip__learn-more online-help-link\\" name=\\"1045\\">Learn More</a>","</div>"]}},"Webhook":{"label":"Webhook","icon":"webhook","iconWidth":true,"url":"e.g., https://hooks.slack.com/services/T1234567X/S1234567890","defaults":{"defaultPayload":"{}"},"settings":{"instructions":"This webhook connection allows you to send an alert from a monitor or scheduled search to an external system.<br><a class=\\"sumo-link online-help-link\\" name=\\"1044\\">Learn More</a>"},"placeholders":{"customHeaders":"Hint: X-API-Key:abcdef12345, Content-Type:application/json"},"help":{"defaultPayload":["<div class=\\"helptip__title\\">Available Variables</div>","%%defaults.help.payloadVariables%%","<div class=\\"helptip__p -learn-more -last\\">","<a class=\\"helptip__learn-more online-help-link\\" name=\\"1044\\">Learn More</a>","</div>"]}}},"zz":true}')},84519:function(e){"use strict";e.exports=JSON.parse('{"range":"Range","lt":"<","lte":"<=","eq":"=","gt":">","gte":">=","neq":"!="}')},13113:function(e){"use strict";e.exports=JSON.parse('{"DATA_RETURNS_TITLE":"Data Management","DATA_RETURNS_SECTION_TITLE":"Amazon S3 Data Forwarding","LABEL_EDIT":"Edit","LABEL_SAVE":"Save","LABEL_CANCEL":"Cancel","LABEL_REMOVE":"Remove","LABEL_BUCKET_NAME":"Bucket Name","PLACEHOLDER_BUCKET_NAME":"Actual AWS bucket name","LABEL_DESCRIPTION":"Description","PLACEHOLDER_DESCRIPTION":"Descriptive free-form notes","LABEL_KEY_ID":"Access Key ID","HELPER_KEY_ID":"Your AWS Access Key","LABEL_SECRET_KEY":"Secret Access Key","HELPER_SECRET_KEY":"Your AWS Secret Key","LABEL_ENABLED":"Active","HELPER_ENABLED":"Enable or disable this Sumo Logic capability","LABEL_STATUS":"Status","LABEL_CREATED_ON":"Created On","DATA_RETURNS_READONLY_NONE":"Data Forwarding enables Sumo Logic to upload previously ingested log messages to an Amazon S3 Bucket. <a id=\'dataReturnHelp\' target=\'_blank\' rel=\'noopener\'>Learn more...</a>","DATA_RETURNS_READONLY_NONE_previous":"You have not activated Data Forwarding. This feature enables Sumo Logic to forward on all messages collected from your sources to your own AWS S3 bucket. Messages are aggregated into blocks that can contain between one and 10,000 messages, saved in CSV files and gzipped before uploading to your bucket.","DATA_RETURNS_READONLY_ACTIVE":"Data Forwarding is active and uploading to your AWS S3 bucket.","DATA_RETURNS_READONLY_INACTIVE":"Data Forwarding is not active.","DATA_RETURNS_SAVED_MESSAGE":"Your Data Forwarding configuration has been saved.","DATA_RETURNS_DELETED_MESSAGE":"Your Data Forwarding configuration has been deleted.","DATA_RETURNS_DESCRIPTION_TOO_LONG":"Your Data Forwarding configuration could not be saved because the Description is too long; maximum allowed length is 512 characters.","DATA_RETURNS_INVALID_BUCKET_NAME":"Your Data Forwarding configuration could not be saved because the bucket name does not meet <a href=\'http://docs.aws.amazon.com/AmazonS3/latest/dev/BucketRestrictions.html\' target=\'_blank\' rel=\'noopener\'>Amazon AWS S3 naming rules</a>","DATA_USAGE_STATISTICS_TITLE":"Data Volume","DATA_USAGE_STATISTICS_BLURB":"Select this checkbox to enable data volume tracking for your account. You can access details about reported account volume in the Data Volume Index. For details, see <a class=\'online-help-link sumo-link -plain\' name=\'5115\' target=\'_blank\' rel=\'noopener\'>Help</a> .","FORWARDING_TITLE":"Data Forwarding Destinations","FORWARDER_COLUMN_DESTINATION":"Destination","FORWARDER_COLUMN_TYPE":"Type","FORWARDER_COLUMN_URL":"URL","NO_SINKS":"No destinations defined","ADD_DESTINATION":"Add New Forwarding Destination","EDIT_DESTINATION":"Edit Destination","DESTINATION_DELETED_SUCCESSFULLY":"Destination deleted successfully.","DELETE_DESTINATION":"Delete Destination","CONFIRM_DELETE_DESTINATION":"Are you sure you wish to delete %s?","zz":true}')},53091:function(e){"use strict";e.exports=JSON.parse('{"addOnName":"Sumo Logic"}')},57931:function(e){"use strict";e.exports=JSON.parse('{"smartling":{"translate_mode":"all","placeholder_format_custom":["_EXP_DAYS_","_PLAN_NAME_","%s"]},"showInSearch":"Show in Search","changeMonitorType":"Change Panel Type...","changeTimeRange":"Change Time Range...","editAxisProperties":"Change Axis...","editSeriesProperties":"Change Series...","editLineProperties":"Change Line...","editLegendProperties":"Change Legend...","editJSONProperties":"Edit Properties...","editDashboardLink":"Edit Dashboard Link...","editWidgetText":"Edit Text Panel","editChartProperties":"Change Chart Properties","editPieChartProperties":"Change Chart Properties","editBoxPlotChartProperties":"Change Chart Properties","editChartBands":"Colors by Value Range...","editTableProperties":"Change Table Properties","editSingleValueViewerProperties":"Change Properties...","editSingleValueViewerColorsByValueRange":"Colors by Value Range...","editSingleValueViewerLabels":"Manage Labels...","showGridLines":"Show Grid Lines...","showChartOptions":"Show Chart Options","magnifyView":"Maximize the Panel View","optimizeit_confirm":"Optimization will add a small amount of data to your account <a>OptimizeIt help</a>.","menu_optimizeit":"OptimizeIt","menu_showinsearch":"Show in Search","menu_changetype":"Change Panel Type...","menu_enable":"Start Panel","menu_disable":"Stop Panel","menu_editaxis":"Change Axis...","menu_editseries":"Change Series...","menu_editlegend":"Change Legend...","menu_editjson":"Edit Properties...","menu_editdashboardlink":"Edit Dashboard Link...","menu_editWidgetText":"Edit Text Panel","menu_editchartproperties":"Change Chart Properties","menu_editchartbands":"Colors by Value Range...","menu_showgridlines":"Show Grid Lines...","menu_edittableproperties":"Change Table Properties","menu_editsvvproperties":"Change Properties...","menu_editsvvcolorsbyvalue":"Colors by Value Range...","menu_editsvvlabels":"Manage Labels...","menu_exportchart":"Export Chart...","menu_showchartoptions":"Show Chart Options","menu_delete":"Delete Panel","error_numeric":"Must be numeric.","error_1_to_25_out_of_range":"Must be between 1-25","error_1_to_50_out_of_range":"Must be between 1-50","error_chart_stacking_not_avail_with_smooth_line":"Stacking is not available when Smooth Line is enabled.","error_smooth_line_not_avail_with_stacking":"Smooth Line is not available when Stacking is enabled.","settings":"Settings","label_save":"Save","label_cancel":"Cancel","stacking":"Stacking","legend":"Legend","labels":"Labels","stacking_none":"None","stacking_normal":"Normal","stacking_percent":"Percent","legend_none":"No Legend","legend_right":"Right","legend_bottom":"Bottom","enable":"Enable","linked_dashboard":"Linked Dashboard","enable_smooth_line_chart_option":"Enable smooth line","line_style":"Line Style","line_thickness":"Line Thickness","marker_style":"Marker Style","marker_size":"Size","marker_type":"Type","marker_symbol_none":"None","marker_symbol_circle":"Circle","marker_symbol_cross":"Cross","marker_symbol_square":"Square","marker_symbol_triangle":"Triangle","axis_title_label_header":"Font Size","axis_title":"Title","axis_label":"Label","range_1_to_25_placeholder":"Range from 1-25","range_1_to_50_placeholder":"Range from 1-50","dashboard_linking":"Dashboard Linking","enable_dashboard_linking":"Enable linked Dashboard (select from list)","dashboard_helper_text":"Please select a Dashboard.","broken_link":"The previously linked Dashboard cannot be found; it might have been renamed or deleted.","dashboard_share_warning":"Note: If you intend to share or have already shared the current dashboard with another user, make sure the user has permissions to view the linked dashboards as well","label_truncation":"Label Truncation","text_truncation":"Text Truncation","labels_none":"None","labels_middle":"Middle","labels_end":"End","label":"Label","no_label":"No label","default_label":"Use Default","scale":"Scale","linear":"Linear","logarithmic":"Logarithmic","range":"Range","range_min":"Minimum Value","range_max":"Maximum Value","gridlines":"Gridlines","minor_gridlines":"Minor gridlines","minor_gridlines_color":"Minor gridlines color","default_interval":"Use default interval","custom_interval":"Enter an interval","default_color":"Use default color","custom_color":"Enter a color","minor_grid_lines_positive":"Please enter a positive numeric value.","minor_grid_lines_too_low":"Please enter a grid interval higher than %s.","secondary_y_axis":"Secondary Y Axis","show_secondary_y_axis":"Show On Secondary Y Axis","line_chart_label":"Line Chart","column_chart_label":"Column Chart","font_size":"Font Size","font_size_small":"Small","font_size_normal":"Normal","font_size_large":"Large","pie_display":"Display","donut":"Donut","pie":"Pie","pie_slices":"Slices","pie_slices_border":"Border","pie_slices_number":"Number of slices","show_slice_borders":"Show borders","hide_slice_borders":"Don\'t show borders","show_all_slices":"Show all slices","n_slices":"Enter max. number of slices","pie_n_slices_error":"\'Max Number of Slices\' must be a numeric value, and must be greater than 1.","svv_numeric_value":"Numeric Value","show_number":"Show number","do_not_show_number":"Don\'t show number","unit":"Unit","svv_unit_help":"Max length is 6 characters","svv_labels":"Labels","svv_title":"Title","svv_description":"Description","svv_title_help":"Max length is 25 characters","svv_description_help":"Max length is 125 characters","svv_title_length_error":"Please shorten your title, max length is 25 characters","svv_description_length_error":"Please shorten your description, max length is 125 characters","svv_color_settings_view":"Color","svv_color_background_color_enabled":"Display color on the background","svv_no_data":"When Data is not Available","svv_no_data_enable":"Use the following settings","svv_no_data_color":"Background color","svv_no_data_value":"Default Value","svv_no_data_value_help":"Max length is 8 characters","color_picker_choose_text":"Pick","color_picker_cancel_text":"Cancel","color_index":"Color","color_by_range_settings_view":"Color By Range","color_by_range_add_label":"Add","color_by_range_min_label":"From Value","color_by_range_max_label":"To Value","color_by_range_color_label":"Color","text_no_input":"Text is required.","text_edit_settings_view":"Text","advanced_edit_settings":"Edit JSON Configuration","range_error_minimum_greater_than_maximum":"The maximum value should be greater than minimum.","invalid_json_configuration":"Invalid JSON configuration.","table":"Table","bar":"Bar","column":"Column","line":"Line","area":"Area","boxplot":"Box Plot","map":"Map","sankey":"Sankey","svv":"Single Value Viewer","title":"Title","text":"Text","optimize_panel":"Optimize Panel","query_timerange":"Time Range","query_editor":"Query","map_type":"Map Type","map_type_cluster":"Cluster","map_type_heatmap":"Heatmap","map_type_guardduty":"GuardDuty","zz":true}')},56077:function(e){"use strict";e.exports=JSON.parse('{"smartling":{"translate_mode":"all","placeholder_format_custom":["_EXP_DAYS_","_PLAN_NAME_","%s"]},"text_loading":"Loading...","label_select_config":"Select a configuration or create a new one","label_sp_initiated":"SP Initiated","label_auth_request":"Authentication Request","label_assertion_consumer":"Assertion Consumer","label_configuration":"Configuration Name","label_issuer":"Issuer","label_certificate":"X.509 Certificate","label_email_attr":"Email Attribute","label_attribute_name":"Attribute name","label_debug_mode":"Debug Mode","tip_debug_mode":"Select to view debug information about failed SAML assertions.","label_roles":"Roles","label_roles_no_modify":"Do not modify roles","label_roles_from_saml_attr":"Roles from SAML attribute","label_roles_on_demand_provisioning":"On Demand Provisioning Roles","label_comma_separated":"Comma separated roles","label_use_saml_subject":"Use SAML subject","label_use_saml_attr":"Use SAML attribute","label_btn_delete":"Delete","label_btn_cancel":"Cancel","label_btn_save":"Save","label_btn_configure":"Configure","label_btn_close":"Close","label_sp_initiated_config":"SP Initiated Login Configuration","label_login_path":"Login Path","label_on_demand_provisioning":"On Demand provisioning (Optional)","label_first_name":"First Name Attribute","label_last_name":"Last Name Attribute","label_logout_page":"Logout Page (Optional)","label_url":"URL","label_authn_url":"Authn Request URL","label_roles_attribute":"Roles Attribute (Optional)","text_confirm_delete_config":"Delete configuration \'%s\' ?","text_delete_config_success":"Deleted configuration \'%s\' successfully.","text_not_enabled":"Not enabled","text_saving":"Saving...","text_save_success":"Configuration saved successfully.","error_no_name":"Please enter a name for your configuration.","error_no_issuer":"Please enter an issuer for your configuration.","error_invalid_name":"Invalid name. Please use alphanumeric characters.","error_invalid_authn_url":"Invalid Authn Request URL. Please use alphanumeric characters.","error_name_inuse":"The name you entered is in use. Please enter another name.","error_no_email":"Please enter an email attribute.","error_no_roles":"Please enter one or more Sumo Logic roles.","error_no_login_path":"Please enter a login path","error_invalid_login_path":"Invalid login path. Please use alphanumeric characters.","error_no_first_name":"Please enter a first name attribute.","error_no_logout_url":"Please enter a logout URL.","error_no_roles_attribute":"Please enter a roles attribute.","help_header_1":"Can I have more than one SAML configuration?","help_text_1":"You can create a configuration for each SSO implementation your organization uses. If you have a single SSO implementation, you don\'t need more than one SAML configuration. <a class=\'online-help-link\' name=\'4016\'>Learn more...</a>","detailed_help_header_1":"What information do I need to configure SAML?","detailed_help_text_1a":"<b>Configuration name.</b> Name your organization uses to describe your SSO policy.","detailed_help_text_1b":"<b>Issuer.</b> The name of your organization\'s SAML identity provider (IdP).","detailed_help_text_1c":"<b>X.509 Certificate.</b> Used to verify signatures in SAML assertions.","detailed_help_text_1d":"<b>Email Attribute.</b> Name of the SAML attribute in the assertion Sumo Logic should use to read email addresses in your organization.","detailed_help_text_1e":"<b>Roles.</b> Choose to not modify roles your organization is using within the SSO policy, or map to RBAC roles your organization is using in Sumo Logic.","detailed_help_text_1f":"Looking for additional help?<br><a class=\'online-help-link\' name=\'4016\'>Learn more...</a>","detailed_help_header_2":"Where can I learn more about optional SAML features?","detailed_help_text_2":"Providing on-demand provisioning and a log out page can be beneficial to users in your organization.<br><a class=\'online-help-link\' name=\'4017\'>Learn more...</a>","detailed_help_header_3":"What is On Demand provisioning?","detailed_help_text_3":"When On-Demand provisioning is enabled, an account is automatically created the first time a user logs in to Sumo Logic.","redirect":"Redirect","post":"POST","zz":true}')},96166:function(e){"use strict";e.exports=JSON.parse('{"smartling":{"translate_mode":"all","placeholder_format_custom":["_EXP_DAYS_","_PLAN_NAME_","%s"]},"query_template":"_sourceCategory=%s Namespace=%s metric=%s","query_template_custom":"_sourceCategory=%s Namespace=%s","namespaces":{"EC2":{"metric":"CPUUtilization","func":"avg","seq":1},"AutoScaling":{"metric":"GroupTotalInstances","func":"","seq":8},"Billing":{"metric":"EstimatedCharges","func":"sum by ServiceName","seq":9},"CloudFront":{"metric":"Requests","func":"sum by DistributionId","seq":10},"CloudSearch":{"metric":"SuccessfulRequests","func":"sum by DomainName","seq":11},"Events":{"metric":"MatchedEvents","func":"sum by RuleName","seq":12},"Logs":{"metric":"ForwardedLogEvents","func":"sum by ForwardedLogEvents","seq":13},"DynamoDB":{"metric":"SuccessfulRequestLatency","func":"avg by TableName","seq":4},"ECS":{"metric":"CPUUtilization","func":"avg ClusterName","seq":7},"ElastiCache":{"metric":"CPUUtilization","func":"avg by CacheClusterId","seq":14},"EBS":{"metric":"VolumeTotalReadTime","func":"sum","seq":15},"EC2Spot":{"metric":"MaxPercentCapacityAllocation","func":"","seq":16},"ELB":{"metric":"RequestCount","func":"sum","seq":2},"ElasticMapReduce":{"metric":"JobsRunning","func":"sum by ClusterId","seq":17},"ES":{"metric":"CPUUtilization","func":"avg","seq":18},"Kinesis":{"metric":"PutRecords.Success","func":"sum by StreamName","seq":6},"Lambda":{"metric":"Invocations","func":"sum by FunctionName","seq":5},"ML":{"metric":"PredictCount","func":"sum","seq":19},"OpsWorks":{"metric":"cpu_user","func":"avg by InstanceId","seq":20},"Redshift":{"metric":"CPUUtilization","func":"avg by NodeID","seq":21},"RDS":{"metric":"CPUUtilization","func":"avg by DBInstanceIdentifier","seq":3},"Route53":{"metric":"TimeToFirstByte","func":"avg by HealthCheckId","seq":22},"SNS":{"metric":"NumberOfNotificationsDelivered","func":"sum by TopicName","seq":23},"SQS":{"metric":"NumberOfMessagesSent","func":"sum by QueueName","seq":24},"S3":{"metric":"NumberOfObjects","func":"sum by BucketName","seq":25},"SWF":{"metric":"DecisionTaskStartToCloseTime","func":"avg by domain","seq":26},"StorageGateway":{"metric":"CacheHitPercent","func":"avg by GatewayName","seq":27},"WAF":{"metric":"BlockedRequests","func":"sum by Rule","seq":28},"WorkSpaces":{"dimension":"AWS/WorkSpaces metric= |","metric":"Available","func":"avg by DirectoryId","seq":29}},"zz":true}')},9637:function(e){"use strict";e.exports=JSON.parse('{"smartling":{"translate_mode":"all","placeholder_format_custom":["_EXP_DAYS_","_PLAN_NAME_","%s"]},"STEP_SELECT_A_PLAN":"Select a Plan","STEP_SELECT_A_PAYMENT_METHOD":"Select a Payment Method","STEP_UPGRADE_CONFIRMATION":"Confirm Upgrade","STEP_FINISH":"Finish","STEP_ORDER_SUMMARY":"Order Summary","STEP_FINISH_TITLE":"Congratulations!","SETUP_STEP":"Step","SETUP_CANCEL":"Cancel","SETUP_NAV_BACK":"Back","SETUP_NAV_NEXT":"Next","SETUP_NAV_FINISH":"Finish","SETUP_NAV_CONFIRM":"Confirm","CONFIRM_UPGRADE":"Confirm Upgrade","CONTACT_SALES_TO_COMPLETE_UPGRADE":"We encountered an error finishing the operation. Please contact Sales at 855-564-7866 (ext 1) to complete the upgrade.","UPGRADING_SUMMARY":"You are currently upgrading your Sumo Logic account to \\"%s\\" with the following changes. By applying these changes your contract will be automatically renewed with today\'s date.","UPGRADING_SUMMARY_V2":"Please see below your new plan entitlements. Upon Submitting the order, your card will be charged for the amount below and your plan will be immediately updated.","DAILY_VOLUME":"daily volume","OF_RETENTION":"of retention","UP_TO":"Up to","USERS":"<b>users</b>","PREMIUM_FEATURES_SUCH_AS":"Premium features such as","PRICE":"Total","TOTAL_PRICE":"Total: $%s","PER_MONTH_BILLED_ANNUALLY":"/mo (billed annually)","PAYMENT_METHOD":"Payment Method","CREDIT_CARD_ENDING_WITH":"%s ending with","WITH_CREDIT_CARD_ENDING_WITH":"with %s ending with %s","EXPIRES":"Expires","UPDATE":"Update","CONFIRMATORY_TEXT":"Click \\"Confirm\\" to confirm that you would like to upgrade your account.","A_PAYMENT_OF":"A payment of","WILL_BE_PROCESSED":"will be processed and your account will automatically renew annually.","AUTO_RENEW":"Your account will automatically renew annually.","MONTHLY":"Monthly","ANNUALLY":"Annually","PAYMENT_OPTIONS":"Your payment options","ORDER_SUMMARY":"Order Summary","WITH_ANNUAL_PREPAY":"With annual prepay<br>","OR_MONTHLY_PAYMENTS":"or $%s with monthly payments<br>","ANNUAL_COMMITMENT_REQUIRED":"Annual Commitment Required","UPGRADE":"Upgrade","SELECT_PLAN":"Select Plan","ALL_FREE_FEATURES_PLUS":"All free features plus","INCLUDES":"Includes","ALL_STANDARD_FEATURES_PLUS":"All standard features plus","YOUR_PLAN":"Your plan","YOUR_CURRENT_PLAN":"Your Current Plan","NEW_PLAN":"New plan","YOUR_NEW_PLAN":"Your New Plan","KNOB_HELPER":"You can select the following options for the retention days and data volume. Depending on the options you select, the pricing will be adjusted.","Data_Volume":"Data Volume","Hot_Retention_Days":"Retention","Metrics":"Metrics","STANDARD_-":"Standard","ENTERPRISE_-":"Enterprise","SUMO_FREE":"Free","FREE_ACCOUNT":"FreeAccount","Gigs":"GB","Gigabytes":"GB","GigsRate":"GB/Day","DPM":"Data Points Per Minute (DPM)","DPM_short":"DPM","Days":"Days","Megs":"MB","per_month":"/month","per_year":"/year","monthly":"Monthly","yearly":"Annually","annual":"annual","billed":"Billed","choose_plan_title":"Choose a New Plan","annual_contract":"Please note that both plans constitute an annual contract","log_ingest":"Log Ingest: ","free_metrics":"Free Metrics: ","metrics":"Metrics: ","total_metrics":"Total Metrics: ","billing_frequency":"Billing Frequency: ","upgrade_cost":"Upgrade Cost","select_new_volume_title":"Select New Log and Metrics Data Volume","loading_plans":"Loading Plans...","updating":"Updating...","annual_discount":"(20% off)","upto_annual_discount":" (Up to 20% off)","monthly_total_annual_cost":"for a total of <span  class=\\"dollar-span\\">$%s</span>","annual_contract_note":"Please note that both plans constitute an annual contract.","agree_sla":"I have read and agree to the <a href=\'https://www.sumologic.com/terms-conditions/\' class=\'sumo-link\' target=\'_blank\' rel=\'noopener\'>Service Level Agreements</a>.","aws_upgrade_not_avail_tip":"This plan is not available as an upgrade.","CONGRATULATORY_TEXT":"Thanks for upgrading your account!","RELOAD_INFO":"We have successfully processed your request. Click \\"Finish\\" to reload your page, your account will reflect the upgraded plan.","PER_MONTH":"/mo","UPGRADE_IN_PROGRESS":"Please wait while we upgrade your account.","EDIT":"Edit","PAYMENT":"Payment","PAY_NOW":"Payment due now","PAYING_NOW":"Paying Now","PAY_NOW_DESC":"(prorated for current billing period)","ENDING_WITH":"ending with","upto_users":"Up to <span class=\'plan-default-value\'>%s</span> Users","days_data_retention":"<span class=\'plan-default-value\'>%s</span> Days Data Retention","daily_data_volume":"Daily Data Volume :","upgraded_to_payment_option":"You will be upgraded with the <span class=\'payment-option-forced\'>%s</span> payment option.","you_are_on_annual_plan":"You are already on an annual plan.","cannot_upgrade_anymore":"Your organization has reached the maximum data volume allowed on your plan. Please email <br/>sales-support@sumologic.com<br/> or call <br/>855-564-7866 (ext 1)<br/> to request an increase.","overage_text":"Data Overage fees will be applied when you exceed your current plan. When you send more data than your current subscription, Sumo Logic will continue to receive and process data at four times your current per GB price.","error_no_subscription_plan_received":"Your Subscription details could not be retrieved at this time. Please refresh the application to try again.","error_no_subscription_plan_received_errorDetails":"error_no_subscription_plan_received","zz":true}')},56933:function(e){"use strict";e.exports=JSON.parse('{"smartling":{"translate_mode":"all","placeholder_format_custom":["_EXP_DAYS_","_PLAN_NAME_","%s"]},"menu_rename":"Rename","menu_copy":"Copy","menu_delete":"Delete","menu_share":"Share","menu_unshare":"Stop Sharing","menu_publish":"Publish","menu_unpublish":"Unpublish","menu_subscribe":"Subscribe","menu_unsubscribe":"Unsubscribe","menu_info":"Info","menu_export":"Export","menu_import":"Import","menu_favorite":"Favorite","menu_unfavorite":"Unfavorite","menu_move":"Move","menu_add":"Add","menu_install":"Install","menu_edit":"Edit","menu_details":"Details","menu_enable":"Enable","menu_disable":"Disable","menu_activate":"Activate","menu_deactivate":"Deactivate","menu_unlock":"Unlock","menu_reset":"Reset Pwd","menu_changeAddress":"Change Email Address","menu_start":"Start","menu_stop":"Pause","menu_toggletheme":"Toggle Theme","menu_optimizeit":"OptimizeIt","menu_addpanel":"Add Panel","menu_signout":"Sign Out","menu_refresh":"Refresh","menu_fullscreen":"Fullscreen","menu_help":"Help","menu_exitfullscreen":"Exit Fullscreen","menu_runas":"Data Access Level","menu_migrate":"Migrate","zz":true}')},13796:function(e){"use strict";e.exports=JSON.parse('{"smartling":{"translate_mode":"all","placeholder_format_custom":["_EXP_DAYS_","_PLAN_NAME_","%s"]},"totalRows_r2":2,"totalRows_r3":5,"layouts":[{"version":"r2","rows":[["cloudtrail"]]}],"sources":[{"name":"AWS CloudTrail","id":"cloudtrail","category":"aws","sourceCat":"aws/cloudtrail","image":"AWS+CloudTrail.png"},{"name":"AWS Elastic Load Balancing","id":"elb","title":"Amazon ELB","category":"aws","sourceCat":"aws/elb","image":"elb.png"},{"name":"Amazon CloudFront","id":"cloudfront","category":"aws","sourceCat":"aws/cloudfront","image":"AWS_CloudFront.png"},{"name":"Amazon S3 Audit","id":"s3","title":"Amazon S3 Audit","category":"aws","sourceCat":"aws/s3audit","image":"AWS_S3.png"},{"name":"AWS CloudWatch Metrics","id":"cloudwatch","category":"aws","sourceCat":"aws/cloudwatch","image":"aws_cloudwatch.png"},{"name":"Windows Events","id":"windows-event","sources":"windows,local","category":"apps2","sourceCat":"windows/events"},{"name":"Windows Performance","id":"windows-performance","sources":"windows,local","sourceCat":"windows/performance","category":"apps2"},{"name":"Linux System","id":"linux","sources":"linux,s3,local","category":"apps2","sourceCat":"linux/system"},{"name":"macOS System","image":"mac.svg","id":"macos","sources":"macos,local","category":"apps2","sourceCat":"macos/system"},{"name":"Your Custom App","id":"custom","category":"apps","sourceCat":"none","row":1,"pos":1},{"name":"MySQL","id":"mysql","category":"apps","sourceCat":"mysql"},{"name":"Apache","id":"apache","category":"apps","sourceCat":"apache"},{"name":"Apache Tomcat","id":"tomcat","category":"apps3","sourceCat":"apache/tomcat"},{"name":"Nginx","id":"nginx","category":"apps","sourceCat":"nginx"},{"name":"IIS","id":"iis","sources":"windows,local","category":"apps","sourceCat":"iis"},{"name":"Varnish","id":"varnish","category":"apps","sourceCat":"varnish"},{"name":"All Other Sources","id":"other","category":"others","sourceCat":"other"},{"name":"Akamai Cloud Monitor","id":"akamai","category":"http","sourceCat":"akamai/cloudmonitor"},{"name":"Palo Alto Networks","id":"paloaltonetworks","category":"syslog","sourceCat":"firewall/pan"},{"name":"Cisco ASA","id":"ciscoasa","category":"syslog","sourceCat":"firewall/asa"},{"name":"Host Metrics","id":"hostmetrics","category":"apps3","sourceCat":"hostmetrics"},{"name":"CollectD","id":"collectd","category":"http","sourceCat":"collectd"},{"name":"StatsD","id":"statsd","category":"graphite","sourceCat":"statsd"},{"name":"DropWizard","id":"dropwizard","category":"graphite","sourceCat":"dropwizard"},{"name":"Kubernetes","id":"kubernetes","sources":"","category":"kubernetes","sourceCat":""}],"categories":[{"id":"aws","title":"Amazon Web Services","last":false,"minFlag":2,"sources":[]},{"id":"apps","title":"Applications","last":false,"minFlag":2,"sources":[]},{"id":"os","title":"OS Sources","last":false,"minFlag":3,"sources":[]},{"id":"apps2","title":"Apps 2 Sources","last":false,"minFlag":3,"sources":[]},{"id":"apps3","title":"Apps 3 Sources","last":false,"minFlag":5,"sources":[]},{"id":"http","title":"HTTP Sources","last":false,"minFlag":3,"sources":[]},{"id":"syslog","title":"Syslog Sources","last":false,"minFlag":3,"sources":[]},{"id":"graphite","title":"Graphite Sources","last":false,"minFlag":3,"sources":[]},{"id":"kubernetes","title":"Kubernetes","last":false,"minFlag":2,"sources":[]},{"id":"others","title":"Other Sources","last":false,"minFlag":3,"sources":[]}],"welcomeEntries":[{"id":"uploadfiles","name":"Upload Files","text":"Uploading a file to see Sumo Logic in<br>action, without setting up a Collector."},{"id":"livedata","name":"Start streaming data to Sumo Logic","text":"Send live logs or metrics and see the<br>full power of Sumo Logic."}],"learnTabWelcomeEntries":[{"id":"live-data","name":"Integrate with Sumo Logic","text":"Send live logs or metrics and see the<br>full power of Sumo Logic."},{"id":"learn","name":"Learning about Sumo Logic","text":"Learn how Sumo Logic delivers the first<br>and only cloud-native, Continuous<br>intelligence Platform<sup>TM</sup>."}],"kubernetesWelcomeEntries":[{"id":"kubernetes","name":"Onboard with Kubernetes","text":"Monitor and troubleshoot your Kubernetes environment by collecting its application Logs, and Infrastructure metrics.","footnote":"Or onboard with other <span id=\'sw-entry-kubernetes-all-sources\'>data sources</span>."},{"id":"learn","name":"Learning about Sumo Logic","text":"Learn how Sumo Logic delivers the first<br>and only cloud-native, Continuous<br>intelligence Platform<sup>TM</sup>."}],"collectionTypes":[{"id":"installed","label":"Local File","icon":"collection-icon.png","active":true},{"id":"syslog","label":"Syslog","icon":"syslog.png","active":true},{"id":"http-source","label":"HTTPS Source","icon":"https.png","active":true},{"id":"upload","label":"Upload Files","icon":"upload.svg","active":false},{"id":"graphite","label":"Graphite-Formatted Metrics","category":"graphite","active":true},{"id":"s3","label":"Amazon S3 Bucket","icon":"AWS_S3.png","active":false}],"generic":[{"name":"upload","id":"upload","title":"Upload Files"},{"name":"remote","id":"remote","title":"Any Source"}],"saveForLater":[{"name":"Custom Windows Events","id":"custom-windows-event","sources":"windows,local","category":"apps3","row":4,"pos":1},{"id":"cloud","title":"Other Cloud Sources","last":false,"sources":[{"name":"Akamai Cloud Monitor","id":"akamaicloudmonitor","row":1,"pos":2}]}],"zz":true}')},91161:function(e){"use strict";e.exports=JSON.parse('{"SIGNATURE":"Signature","IS_REVIEWED":"Signature is reviewed","MARK_AS_REVIEWED":"Mark as reviewed","SHOW_MORE":"Show More...","DRILL_DOWN":"Drill Down","SCORE":"Score","SPECIALIZE":"Logs","GENERALIZE":"Similar Signatures","SIMILAR_SIGNATURES":"Similar Signatures","SPLIT_SIGNATURES":"Split Signatures","NEW_SIGNATURES":"New Signatures","SPLIT_RESULT":"Split Results","SPLIT_OTHERS_RESULT":"Created Signatures","SIGNATURES_DELETED":"The checked signatures were deleted.","SIGNATURES_MERGED":"The checked signatures were merged.","SIGNATURE_DELETE_CONFIRMATION":"Are you sure you want to delete the selected signature?","SIGNATURES_DELETE_CONFIRMATION":"Are you sure you want to delete the selected signatures?","SIGNATURES_MERGE_CONFIRMATION":"Are you sure you want to merge the selected signatures?","SIGNATURE_SPLIT_CONFIRMATION":"Are you sure you want to split the selected signature?","OTHERS_SPLIT_CONFIRMATION":"Are you sure you want to generate signatures from the unmatched logs?","SIGNATURES_MARKED":"The signature was marked as reviewed.","SIGNATURES_UNMARKED":"The signature is no longer marked as reviewed.","SIGNATURE_UPDATED":"The signature was updated.","SIGNATURE_CREATED":"The signature was created.","WOULD_IF_REAL":"--Would have been executed if this was real data.","SIGNATURE_SEARCH_PLACEHOLDER":"Filter by signature text.","LOG_SEARCH_PLACEHOLDER":"Filter by log text.","SIGNATURE_FILTER_ALL":"All","SIGNATURE_FILTER_ALL_DESC":"Show all signatures.","REVIEWED_FILTER":"Reviewed","REVIEWED_FILTER_DESC":"Show only reviewed signatures.","NOT_REVIEWED_FILTER":"Not Reviewed","NOT_REVIEWED_FILTER_DESC":"Show only not reviewed signatures.","SCOPED":"Scoped","SCOPED_DESC":"Show only signatures related to your search or event.","SIGNATURES":"Signatures","LOG":"Log","LOGS":"Logs","COUNT":"Count","SIGNATURE_EDIT_TITLE":"Edit Signature","SIGNATURE_CREATE_TITLE":"Create Signature","SIGNATURE_EDIT_INTRO":"To make a signature more general, select blocks of text. Each selection will be replaced with an asterisk (<span style=\'background-color:#FFB44A\'>*</span>), the wildcard marker.","DELETE":"Delete","MERGE":"Merge","SPLIT":"Split","SPLIT_OTHERS":"Create Signatures","SELECT":"Select","UPDATE":"Update","CREATE":"Create","CANCEL":"Cancel","UNDO":"Undo","UPDATING":"Updating","CREATING":"Creating","SIGNATURE_NOT_EDITABLE":"This signature is not editable.","SELECT_SIGNATURE_TO_CONTINUE":"The following signatures were generated after splitting the signature. Please select one to continue:","OTHERS_SELECT_SIGNATURE_TO_CONTINUE":"The following signatures were created from the unmatched logs. Please select one to continue:","LOADING":"Loading...","LOADING_LOGS":"Gathering Logs...","LOGS_READY":"Reload","RELOAD_SIGNATURES_DESC":"Logs ready. Reload to see signatures with matching logs.","RELOAD_LOGS_DESC":"Reload logs.","UNMATCHED_LOGS":"Unmatched Logs","UNMATCHED_LOGS_DESC":"Show the logs that don\'t match any signature.","EMPTY_LOGS":"No logs to display.","LOGS_NOT_READY":"We are still gathering logs, please try again in a moment.","LOADING_EXPORT":"Packaging Signatures...","DOWNLOAD_EXPORT":"Download","EXPORT_SIGNATURES":"Export Signatures","TAGS":"Tags","LOADING_TAGS":"Loading Tags...","FILTER":"Filter","CREATE_TAG":"Create Tag","NAME":"Name","SAVING":"Saving Tag...","TAG_NAME_REQUIRED":"Please enter a valid tag name. Alphanumeric characters a-z, A-Z, 0-9, underscore, hyphen are allowed.","zz":true}')}}]);