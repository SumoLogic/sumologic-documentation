{
    "api.version":"v1",
    "source":{
      "config":{
        "name": "Snowflake C2C",
        "username": "sumosnowflake",
        "password": "*************",
        "accountIdentifier": "wp71650.us-east-2.aws",
        "database": "SNOWFLAKE",
        "schema": "ACCOUNT_USAGE",
        "metricConfig": "[{\"sql\":\"select SCHEMA_NAME, EXECUTION_STATUS, ERROR_MESSAGE, QUERY_TYPE, WAREHOUSE_NAME, DATABASE_NAME, WAREHOUSE_SIZE, USER_NAME, COUNT(QUERY_ID), AVG(QUEUED_OVERLOAD_TIME), SUM(QUEUED_OVERLOAD_TIME), AVG(QUEUED_REPAIR_TIME), SUM(QUEUED_REPAIR_TIME), AVG(QUEUED_PROVISIONING_TIME), SUM(QUEUED_PROVISIONING_TIME), SUM(TOTAL_ELAPSED_TIME), AVG(TOTAL_ELAPSED_TIME), SUM(EXECUTION_TIME), SUM(COMPILATION_TIME), AVG(BYTES_SCANNED), SUM(BYTES_SCANNED), SUM(BYTES_WRITTEN), SUM(BYTES_DELETED), SUM(BYTES_SPILLED_TO_LOCAL_STORAGE), SUM(BYTES_SPILLED_TO_REMOTE_STORAGE), AVG(PERCENTAGE_SCANNED_FROM_CACHE), SUM(PARTITIONS_SCANNED), SUM(ROWS_UNLOADED), SUM(ROWS_DELETED), SUM(ROWS_UPDATED), SUM(ROWS_INSERTED), SUM(COALESCE(ROWS_PRODUCED,0)) from QUERY_HISTORY where start_time >= DATEADD(HOUR, -24, GETDATE()) group by 1, 2, 3, 4, 5, 6, 7, 8;\",\"pollingInterval\":\"1m\",\"metrics\":[{\"name\":\"snowflake_query_bytes_scanned_sum\",\"value\":\"SUM(BYTES_SCANNED)\",\"labels\":[\"SCHEMA_NAME\",\"EXECUTION_STATUS\",\"QUERY_TYPE\",\"WAREHOUSE_NAME\",\"DATABASE_NAME\",\"WAREHOUSE_SIZE\",\"USER_NAME\"]},{\"name\":\"snowflake_query_bytes_deleted_sum\",\"value\":\"SUM(BYTES_DELETED)\",\"labels\":[\"SCHEMA_NAME\",\"EXECUTION_STATUS\",\"QUERY_TYPE\",\"WAREHOUSE_NAME\",\"DATABASE_NAME\",\"WAREHOUSE_SIZE\",\"USER_NAME\"]},{\"name\":\"snowflake_query_bytes_spilled_remote_sum\",\"value\":\"SUM(BYTES_SPILLED_TO_REMOTE_STORAGE)\",\"labels\":[\"SCHEMA_NAME\",\"EXECUTION_STATUS\",\"QUERY_TYPE\",\"WAREHOUSE_NAME\",\"DATABASE_NAME\",\"WAREHOUSE_SIZE\",\"USER_NAME\"]},{\"name\":\"snowflake_query_bytes_written_sum\",\"value\":\"SUM(BYTES_WRITTEN)\",\"labels\":[\"SCHEMA_NAME\",\"EXECUTION_STATUS\",\"QUERY_TYPE\",\"WAREHOUSE_NAME\",\"DATABASE_NAME\",\"WAREHOUSE_SIZE\",\"USER_NAME\"]},{\"name\":\"snowflake_query_compilation_time_sum\",\"value\":\"SUM(COMPILATION_TIME)\",\"labels\":[\"SCHEMA_NAME\",\"EXECUTION_STATUS\",\"QUERY_TYPE\",\"WAREHOUSE_NAME\",\"DATABASE_NAME\",\"WAREHOUSE_SIZE\",\"USER_NAME\"]},{\"name\":\"snowflake_query_execution_time_sum\",\"value\":\"SUM(EXECUTION_TIME)\",\"labels\":[\"SCHEMA_NAME\",\"EXECUTION_STATUS\",\"QUERY_TYPE\",\"WAREHOUSE_NAME\",\"DATABASE_NAME\",\"WAREHOUSE_SIZE\",\"USER_NAME\"]},{\"name\":\"snowflake_query_partitions_scanned_sum\",\"value\":\"SUM(PARTITIONS_SCANNED)\",\"labels\":[\"SCHEMA_NAME\",\"EXECUTION_STATUS\",\"QUERY_TYPE\",\"WAREHOUSE_NAME\",\"DATABASE_NAME\",\"WAREHOUSE_SIZE\",\"USER_NAME\"]},{\"name\":\"snowflake_queued_overload_time_sum\",\"value\":\"SUM(queued_overload_time)\",\"labels\":[\"SCHEMA_NAME\",\"EXECUTION_STATUS\",\"QUERY_TYPE\",\"WAREHOUSE_NAME\",\"DATABASE_NAME\",\"WAREHOUSE_SIZE\",\"USER_NAME\"]},{\"name\":\"snowflake_queued_provisioning_time_sum\",\"value\":\"SUM(queued_provisioning_time)\",\"labels\":[\"SCHEMA_NAME\",\"EXECUTION_STATUS\",\"QUERY_TYPE\",\"WAREHOUSE_NAME\",\"DATABASE_NAME\",\"WAREHOUSE_SIZE\",\"USER_NAME\"]},{\"name\":\"snowflake_queued_repair_time_sum\",\"value\":\"SUM(queued_repair_time)\",\"labels\":[\"SCHEMA_NAME\",\"EXECUTION_STATUS\",\"QUERY_TYPE\",\"WAREHOUSE_NAME\",\"DATABASE_NAME\",\"WAREHOUSE_SIZE\",\"USER_NAME\"]},{\"name\":\"snowflake_rows_inserted_sum\",\"value\":\"SUM(ROWS_INSERTED)\",\"labels\":[\"SCHEMA_NAME\",\"EXECUTION_STATUS\",\"QUERY_TYPE\",\"WAREHOUSE_NAME\",\"DATABASE_NAME\",\"WAREHOUSE_SIZE\",\"USER_NAME\"]},{\"name\":\"snowflake_rows_deleted_sum\",\"value\":\"SUM(ROWS_DELETED)\",\"labels\":[\"SCHEMA_NAME\",\"EXECUTION_STATUS\",\"QUERY_TYPE\",\"WAREHOUSE_NAME\",\"DATABASE_NAME\",\"WAREHOUSE_SIZE\",\"USER_NAME\"]},{\"name\":\"snowflake_rows_produced_sum\",\"value\":\"SUM(COALESCE(ROWS_PRODUCED,0))\",\"labels\":[\"SCHEMA_NAME\",\"EXECUTION_STATUS\",\"QUERY_TYPE\",\"WAREHOUSE_NAME\",\"DATABASE_NAME\",\"WAREHOUSE_SIZE\",\"USER_NAME\"]},{\"name\":\"snowflake_rows_unloaded_sum\",\"value\":\"SUM(ROWS_UNLOADED)\",\"labels\":[\"SCHEMA_NAME\",\"EXECUTION_STATUS\",\"QUERY_TYPE\",\"WAREHOUSE_NAME\",\"DATABASE_NAME\",\"WAREHOUSE_SIZE\",\"USER_NAME\"]},{\"name\":\"snowflake_rows_updated_sum\",\"value\":\"SUM(ROWS_UPDATED)\",\"labels\":[\"SCHEMA_NAME\",\"EXECUTION_STATUS\",\"QUERY_TYPE\",\"WAREHOUSE_NAME\",\"DATABASE_NAME\",\"WAREHOUSE_SIZE\",\"USER_NAME\"]},{\"name\":\"snowflake_total_elapsed_time_sum\",\"value\":\"SUM(TOTAL_ELAPSED_TIME)\",\"labels\":[\"SCHEMA_NAME\",\"EXECUTION_STATUS\",\"QUERY_TYPE\",\"WAREHOUSE_NAME\",\"DATABASE_NAME\",\"WAREHOUSE_SIZE\",\"USER_NAME\"]}]}]"
      },
      "schemaRef":{
        "type":"Snowflake SQL API"
      },
      "sourceType":"Universal"
    }
  }